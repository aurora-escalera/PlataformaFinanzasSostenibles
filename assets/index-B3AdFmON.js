(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Lo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const je={},Fs=[],It=()=>{},ji=()=>!1,yn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vo=e=>e.startsWith("onUpdate:"),Je=Object.assign,No=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},lu=Object.prototype.hasOwnProperty,Ve=(e,t)=>lu.call(e,t),$e=Array.isArray,Ds=e=>An(e)==="[object Map]",Hi=e=>An(e)==="[object Set]",xe=e=>typeof e=="function",Ue=e=>typeof e=="string",ds=e=>typeof e=="symbol",Ge=e=>e!==null&&typeof e=="object",Yi=e=>(Ge(e)||xe(e))&&xe(e.then)&&xe(e.catch),Gi=Object.prototype.toString,An=e=>Gi.call(e),iu=e=>An(e).slice(8,-1),qi=e=>An(e)==="[object Object]",Oo=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,aa=Lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ru=/-\w/g,xt=wn(e=>e.replace(ru,t=>t.slice(1).toUpperCase())),cu=/\B([A-Z])/g,_s=wn(e=>e.replace(cu,"-$1").toLowerCase()),Cn=wn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rn=wn(e=>e?`on${Cn(e)}`:""),rs=(e,t)=>!Object.is(e,t),Ga=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ui=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},no=e=>{const t=parseFloat(e);return isNaN(t)?e:t},uu=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let pl;const _n=()=>pl||(pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function de(e){if($e(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],o=Ue(a)?hu(a):de(a);if(o)for(const l in o)t[l]=o[l]}return t}else if(Ue(e)||Ge(e))return e}const du=/;(?![^(]*\))/g,fu=/:([^]+)/,vu=/\/\*[^]*?\*\//g;function hu(e){const t={};return e.replace(vu,"").split(du).forEach(s=>{if(s){const a=s.split(fu);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function pe(e){let t="";if(Ue(e))t=e;else if($e(e))for(let s=0;s<e.length;s++){const a=pe(e[s]);a&&(t+=a+" ")}else if(Ge(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const pu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gu=Lo(pu);function Wi(e){return!!e||e===""}const Xi=e=>!!(e&&e.__v_isRef===!0),G=e=>Ue(e)?e:e==null?"":$e(e)||Ge(e)&&(e.toString===Gi||!xe(e.toString))?Xi(e)?G(e.value):JSON.stringify(e,Ki,2):String(e),Ki=(e,t)=>Xi(t)?Ki(e,t.value):Ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,o],l)=>(s[Ln(a,l)+" =>"]=o,s),{})}:Hi(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ln(s))}:ds(t)?Ln(t):Ge(t)&&!$e(t)&&!qi(t)?String(t):t,Ln=(e,t="")=>{var s;return ds(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};function mu(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class bu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ft;try{return ft=this,t()}finally{ft=s}}}on(){++this._on===1&&(this.prevScope=ft,ft=this)}off(){this._on>0&&--this._on===0&&(ft=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function yu(){return ft}let He;const Vn=new WeakSet;class Qi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ft&&ft.active&&ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vn.has(this)&&(Vn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gl(this),er(this);const t=He,s=Pt;He=this,Pt=!0;try{return this.fn()}finally{tr(this),He=t,Pt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ho(t);this.deps=this.depsTail=void 0,gl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oo(this)&&this.run()}get dirty(){return oo(this)}}let Ji=0,na,oa;function Zi(e,t=!1){if(e.flags|=8,t){e.next=oa,oa=e;return}e.next=na,na=e}function zo(){Ji++}function jo(){if(--Ji>0)return;if(oa){let t=oa;for(oa=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;na;){let t=na;for(na=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function er(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function tr(e){let t,s=e.depsTail,a=s;for(;a;){const o=a.prevDep;a.version===-1?(a===s&&(s=o),Ho(a),Au(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=o}e.deps=t,e.depsTail=s}function oo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(sr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function sr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===pa)||(e.globalVersion=pa,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!oo(e))))return;e.flags|=2;const t=e.dep,s=He,a=Pt;He=e,Pt=!0;try{er(e);const o=e.fn(e._value);(t.version===0||rs(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{He=s,Pt=a,tr(e),e.flags&=-3}}function Ho(e,t=!1){const{dep:s,prevSub:a,nextSub:o}=e;if(a&&(a.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)Ho(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Au(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Pt=!0;const ar=[];function Jt(){ar.push(Pt),Pt=!1}function Zt(){const e=ar.pop();Pt=e===void 0?!0:e}function gl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=He;He=void 0;try{t()}finally{He=s}}}let pa=0;class wu{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!He||!Pt||He===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==He)s=this.activeLink=new wu(He,this),He.deps?(s.prevDep=He.depsTail,He.depsTail.nextDep=s,He.depsTail=s):He.deps=He.depsTail=s,nr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=He.depsTail,s.nextDep=void 0,He.depsTail.nextDep=s,He.depsTail=s,He.deps===s&&(He.deps=a)}return s}trigger(t){this.version++,pa++,this.notify(t)}notify(t){zo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{jo()}}}function nr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)nr(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const lo=new WeakMap,ys=Symbol(""),io=Symbol(""),ga=Symbol("");function st(e,t,s){if(Pt&&He){let a=lo.get(e);a||lo.set(e,a=new Map);let o=a.get(s);o||(a.set(s,o=new Yo),o.map=a,o.key=s),o.track()}}function Xt(e,t,s,a,o,l){const i=lo.get(e);if(!i){pa++;return}const r=d=>{d&&d.trigger()};if(zo(),t==="clear")i.forEach(r);else{const d=$e(e),f=d&&Oo(s);if(d&&s==="length"){const c=Number(a);i.forEach((u,v)=>{(v==="length"||v===ga||!ds(v)&&v>=c)&&r(u)})}else switch((s!==void 0||i.has(void 0))&&r(i.get(s)),f&&r(i.get(ga)),t){case"add":d?f&&r(i.get("length")):(r(i.get(ys)),Ds(e)&&r(i.get(io)));break;case"delete":d||(r(i.get(ys)),Ds(e)&&r(i.get(io)));break;case"set":Ds(e)&&r(i.get(ys));break}}jo()}function Ss(e){const t=De(e);return t===e?t:(st(t,"iterate",ga),St(e)?t:t.map(Ze))}function kn(e){return st(e=De(e),"iterate",ga),e}const Cu={__proto__:null,[Symbol.iterator](){return Nn(this,Symbol.iterator,Ze)},concat(...e){return Ss(this).concat(...e.map(t=>$e(t)?Ss(t):t))},entries(){return Nn(this,"entries",e=>(e[1]=Ze(e[1]),e))},every(e,t){return Yt(this,"every",e,t,void 0,arguments)},filter(e,t){return Yt(this,"filter",e,t,s=>s.map(Ze),arguments)},find(e,t){return Yt(this,"find",e,t,Ze,arguments)},findIndex(e,t){return Yt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Yt(this,"findLast",e,t,Ze,arguments)},findLastIndex(e,t){return Yt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Yt(this,"forEach",e,t,void 0,arguments)},includes(...e){return On(this,"includes",e)},indexOf(...e){return On(this,"indexOf",e)},join(e){return Ss(this).join(e)},lastIndexOf(...e){return On(this,"lastIndexOf",e)},map(e,t){return Yt(this,"map",e,t,void 0,arguments)},pop(){return Ys(this,"pop")},push(...e){return Ys(this,"push",e)},reduce(e,...t){return ml(this,"reduce",e,t)},reduceRight(e,...t){return ml(this,"reduceRight",e,t)},shift(){return Ys(this,"shift")},some(e,t){return Yt(this,"some",e,t,void 0,arguments)},splice(...e){return Ys(this,"splice",e)},toReversed(){return Ss(this).toReversed()},toSorted(e){return Ss(this).toSorted(e)},toSpliced(...e){return Ss(this).toSpliced(...e)},unshift(...e){return Ys(this,"unshift",e)},values(){return Nn(this,"values",Ze)}};function Nn(e,t,s){const a=kn(e),o=a[t]();return a!==e&&!St(e)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.value&&(l.value=s(l.value)),l}),o}const _u=Array.prototype;function Yt(e,t,s,a,o,l){const i=kn(e),r=i!==e&&!St(e),d=i[t];if(d!==_u[t]){const u=d.apply(e,l);return r?Ze(u):u}let f=s;i!==e&&(r?f=function(u,v){return s.call(this,Ze(u),v,e)}:s.length>2&&(f=function(u,v){return s.call(this,u,v,e)}));const c=d.call(i,f,a);return r&&o?o(c):c}function ml(e,t,s,a){const o=kn(e);let l=s;return o!==e&&(St(e)?s.length>3&&(l=function(i,r,d){return s.call(this,i,r,d,e)}):l=function(i,r,d){return s.call(this,i,Ze(r),d,e)}),o[t](l,...a)}function On(e,t,s){const a=De(e);st(a,"iterate",ga);const o=a[t](...s);return(o===-1||o===!1)&&Uo(s[0])?(s[0]=De(s[0]),a[t](...s)):o}function Ys(e,t,s=[]){Jt(),zo();const a=De(e)[t].apply(e,s);return jo(),Zt(),a}const ku=Lo("__proto__,__v_isRef,__isVue"),or=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ds));function $u(e){ds(e)||(e=String(e));const t=De(this);return st(t,"has",e),t.hasOwnProperty(e)}class lr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return l;if(s==="__v_raw")return a===(o?l?Bu:ur:l?cr:rr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const i=$e(t);if(!o){let d;if(i&&(d=Cu[s]))return d;if(s==="hasOwnProperty")return $u}const r=Reflect.get(t,s,lt(t)?t:a);return(ds(s)?or.has(s):ku(s))||(o||st(t,"get",s),l)?r:lt(r)?i&&Oo(s)?r:r.value:Ge(r)?o?fr(r):$n(r):r}}class ir extends lr{constructor(t=!1){super(!1,t)}set(t,s,a,o){let l=t[s];if(!this._isShallow){const d=cs(l);if(!St(a)&&!cs(a)&&(l=De(l),a=De(a)),!$e(t)&&lt(l)&&!lt(a))return d||(l.value=a),!0}const i=$e(t)&&Oo(s)?Number(s)<t.length:Ve(t,s),r=Reflect.set(t,s,a,lt(t)?t:o);return t===De(o)&&(i?rs(a,l)&&Xt(t,"set",s,a):Xt(t,"add",s,a)),r}deleteProperty(t,s){const a=Ve(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&a&&Xt(t,"delete",s,void 0),o}has(t,s){const a=Reflect.has(t,s);return(!ds(s)||!or.has(s))&&st(t,"has",s),a}ownKeys(t){return st(t,"iterate",$e(t)?"length":ys),Reflect.ownKeys(t)}}class Su extends lr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const xu=new ir,Eu=new Su,Iu=new ir(!0);const ro=e=>e,Ta=e=>Reflect.getPrototypeOf(e);function Pu(e,t,s){return function(...a){const o=this.__v_raw,l=De(o),i=Ds(l),r=e==="entries"||e===Symbol.iterator&&i,d=e==="keys"&&i,f=o[e](...a),c=s?ro:t?Qa:Ze;return!t&&st(l,"iterate",d?io:ys),{next(){const{value:u,done:v}=f.next();return v?{value:u,done:v}:{value:r?[c(u[0]),c(u[1])]:c(u),done:v}},[Symbol.iterator](){return this}}}}function Ba(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Mu(e,t){const s={get(o){const l=this.__v_raw,i=De(l),r=De(o);e||(rs(o,r)&&st(i,"get",o),st(i,"get",r));const{has:d}=Ta(i),f=t?ro:e?Qa:Ze;if(d.call(i,o))return f(l.get(o));if(d.call(i,r))return f(l.get(r));l!==i&&l.get(o)},get size(){const o=this.__v_raw;return!e&&st(De(o),"iterate",ys),o.size},has(o){const l=this.__v_raw,i=De(l),r=De(o);return e||(rs(o,r)&&st(i,"has",o),st(i,"has",r)),o===r?l.has(o):l.has(o)||l.has(r)},forEach(o,l){const i=this,r=i.__v_raw,d=De(r),f=t?ro:e?Qa:Ze;return!e&&st(d,"iterate",ys),r.forEach((c,u)=>o.call(l,f(c),f(u),i))}};return Je(s,e?{add:Ba("add"),set:Ba("set"),delete:Ba("delete"),clear:Ba("clear")}:{add(o){!t&&!St(o)&&!cs(o)&&(o=De(o));const l=De(this);return Ta(l).has.call(l,o)||(l.add(o),Xt(l,"add",o,o)),this},set(o,l){!t&&!St(l)&&!cs(l)&&(l=De(l));const i=De(this),{has:r,get:d}=Ta(i);let f=r.call(i,o);f||(o=De(o),f=r.call(i,o));const c=d.call(i,o);return i.set(o,l),f?rs(l,c)&&Xt(i,"set",o,l):Xt(i,"add",o,l),this},delete(o){const l=De(this),{has:i,get:r}=Ta(l);let d=i.call(l,o);d||(o=De(o),d=i.call(l,o)),r&&r.call(l,o);const f=l.delete(o);return d&&Xt(l,"delete",o,void 0),f},clear(){const o=De(this),l=o.size!==0,i=o.clear();return l&&Xt(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Pu(o,e,t)}),s}function Go(e,t){const s=Mu(e,t);return(a,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?a:Reflect.get(Ve(s,o)&&o in a?s:a,o,l)}const Fu={get:Go(!1,!1)},Du={get:Go(!1,!0)},Tu={get:Go(!0,!1)};const rr=new WeakMap,cr=new WeakMap,ur=new WeakMap,Bu=new WeakMap;function Ru(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lu(e){return e.__v_skip||!Object.isExtensible(e)?0:Ru(iu(e))}function $n(e){return cs(e)?e:qo(e,!1,xu,Fu,rr)}function dr(e){return qo(e,!1,Iu,Du,cr)}function fr(e){return qo(e,!0,Eu,Tu,ur)}function qo(e,t,s,a,o){if(!Ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Lu(e);if(l===0)return e;const i=o.get(e);if(i)return i;const r=new Proxy(e,l===2?a:s);return o.set(e,r),r}function Ts(e){return cs(e)?Ts(e.__v_raw):!!(e&&e.__v_isReactive)}function cs(e){return!!(e&&e.__v_isReadonly)}function St(e){return!!(e&&e.__v_isShallow)}function Uo(e){return e?!!e.__v_raw:!1}function De(e){const t=e&&e.__v_raw;return t?De(t):e}function Vu(e){return!Ve(e,"__v_skip")&&Object.isExtensible(e)&&Ui(e,"__v_skip",!0),e}const Ze=e=>Ge(e)?$n(e):e,Qa=e=>Ge(e)?fr(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function V(e){return vr(e,!1)}function Nu(e){return vr(e,!0)}function vr(e,t){return lt(e)?e:new Ou(e,t)}class Ou{constructor(t,s){this.dep=new Yo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:De(t),this._value=s?t:Ze(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||St(t)||cs(t);t=a?t:De(t),rs(t,s)&&(this._rawValue=t,this._value=a?t:Ze(t),this.dep.trigger())}}function q(e){return lt(e)?e.value:e}const zu={get:(e,t,s)=>t==="__v_raw"?e:q(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const o=e[t];return lt(o)&&!lt(s)?(o.value=s,!0):Reflect.set(e,t,s,a)}};function hr(e){return Ts(e)?e:new Proxy(e,zu)}class ju{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Yo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return Zi(this,!0),!0}get value(){const t=this.dep.track();return sr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hu(e,t,s=!1){let a,o;return xe(e)?a=e:(a=e.get,o=e.set),new ju(a,o,s)}const Ra={},Ja=new WeakMap;let ms;function Yu(e,t=!1,s=ms){if(s){let a=Ja.get(s);a||Ja.set(s,a=[]),a.push(e)}}function Gu(e,t,s=je){const{immediate:a,deep:o,once:l,scheduler:i,augmentJob:r,call:d}=s,f=$=>o?$:St($)||o===!1||o===0?Kt($,1):Kt($);let c,u,v,h,A=!1,m=!1;if(lt(e)?(u=()=>e.value,A=St(e)):Ts(e)?(u=()=>f(e),A=!0):$e(e)?(m=!0,A=e.some($=>Ts($)||St($)),u=()=>e.map($=>{if(lt($))return $.value;if(Ts($))return f($);if(xe($))return d?d($,2):$()})):xe(e)?t?u=d?()=>d(e,2):e:u=()=>{if(v){Jt();try{v()}finally{Zt()}}const $=ms;ms=c;try{return d?d(e,3,[h]):e(h)}finally{ms=$}}:u=It,t&&o){const $=u,j=o===!0?1/0:o;u=()=>Kt($(),j)}const p=yu(),y=()=>{c.stop(),p&&p.active&&No(p.effects,c)};if(l&&t){const $=t;t=(...j)=>{$(...j),y()}}let w=m?new Array(e.length).fill(Ra):Ra;const E=$=>{if(!(!(c.flags&1)||!c.dirty&&!$))if(t){const j=c.run();if(o||A||(m?j.some((S,x)=>rs(S,w[x])):rs(j,w))){v&&v();const S=ms;ms=c;try{const x=[j,w===Ra?void 0:m&&w[0]===Ra?[]:w,h];w=j,d?d(t,3,x):t(...x)}finally{ms=S}}}else c.run()};return r&&r(E),c=new Qi(u),c.scheduler=i?()=>i(E,!1):E,h=$=>Yu($,!1,c),v=c.onStop=()=>{const $=Ja.get(c);if($){if(d)d($,4);else for(const j of $)j();Ja.delete(c)}},t?a?E(!0):w=c.run():i?i(E.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Kt(e,t=1/0,s){if(t<=0||!Ge(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,lt(e))Kt(e.value,t,s);else if($e(e))for(let a=0;a<e.length;a++)Kt(e[a],t,s);else if(Hi(e)||Ds(e))e.forEach(a=>{Kt(a,t,s)});else if(qi(e)){for(const a in e)Kt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Kt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xa(e,t,s,a){try{return a?e(...a):e()}catch(o){Sn(o,t,s)}}function Ft(e,t,s,a){if(xe(e)){const o=xa(e,t,s,a);return o&&Yi(o)&&o.catch(l=>{Sn(l,t,s)}),o}if($e(e)){const o=[];for(let l=0;l<e.length;l++)o.push(Ft(e[l],t,s,a));return o}}function Sn(e,t,s,a=!0){const o=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||je;if(t){let r=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,d,f)===!1)return}r=r.parent}if(l){Jt(),xa(l,null,10,[e,d,f]),Zt();return}}qu(e,s,o,a,i)}function qu(e,t,s,a=!0,o=!1){if(o)throw e;console.error(e)}const ut=[];let Rt=-1;const Bs=[];let os=null,xs=0;const pr=Promise.resolve();let Za=null;function ze(e){const t=Za||pr;return e?t.then(this?e.bind(this):e):t}function Uu(e){let t=Rt+1,s=ut.length;for(;t<s;){const a=t+s>>>1,o=ut[a],l=ma(o);l<e||l===e&&o.flags&2?t=a+1:s=a}return t}function Wo(e){if(!(e.flags&1)){const t=ma(e),s=ut[ut.length-1];!s||!(e.flags&2)&&t>=ma(s)?ut.push(e):ut.splice(Uu(t),0,e),e.flags|=1,gr()}}function gr(){Za||(Za=pr.then(yr))}function mr(e){$e(e)?Bs.push(...e):os&&e.id===-1?os.splice(xs+1,0,e):e.flags&1||(Bs.push(e),e.flags|=1),gr()}function bl(e,t,s=Rt+1){for(;s<ut.length;s++){const a=ut[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;ut.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function br(e){if(Bs.length){const t=[...new Set(Bs)].sort((s,a)=>ma(s)-ma(a));if(Bs.length=0,os){os.push(...t);return}for(os=t,xs=0;xs<os.length;xs++){const s=os[xs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}os=null,xs=0}}const ma=e=>e.id==null?e.flags&2?-1:1/0:e.id;function yr(e){try{for(Rt=0;Rt<ut.length;Rt++){const t=ut[Rt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),xa(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Rt<ut.length;Rt++){const t=ut[Rt];t&&(t.flags&=-2)}Rt=-1,ut.length=0,br(),Za=null,(ut.length||Bs.length)&&yr()}}let mt=null,Ar=null;function en(e){const t=mt;return mt=e,Ar=e&&e.type.__scopeId||null,t}function at(e,t=mt,s){if(!t||e._n)return e;const a=(...o)=>{a._d&&an(-1);const l=en(t);let i;try{i=e(...o)}finally{en(l),a._d&&an(1)}return i};return a._n=!0,a._c=!0,a._d=!0,a}function Rs(e,t){if(mt===null)return e;const s=Fn(mt),a=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[l,i,r,d=je]=t[o];l&&(xe(l)&&(l={mounted:l,updated:l}),l.deep&&Kt(i),a.push({dir:l,instance:s,value:i,oldValue:void 0,arg:r,modifiers:d}))}return e}function vs(e,t,s,a){const o=e.dirs,l=t&&t.dirs;for(let i=0;i<o.length;i++){const r=o[i];l&&(r.oldValue=l[i].value);let d=r.dir[a];d&&(Jt(),Ft(d,s,8,[e.el,r,e,t]),Zt())}}const wr=Symbol("_vte"),Cr=e=>e.__isTeleport,la=e=>e&&(e.disabled||e.disabled===""),yl=e=>e&&(e.defer||e.defer===""),Al=e=>typeof SVGElement<"u"&&e instanceof SVGElement,wl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,co=(e,t)=>{const s=e&&e.to;return Ue(s)?t?t(s):null:s},_r={name:"Teleport",__isTeleport:!0,process(e,t,s,a,o,l,i,r,d,f){const{mc:c,pc:u,pbc:v,o:{insert:h,querySelector:A,createText:m,createComment:p}}=f,y=la(t.props);let{shapeFlag:w,children:E,dynamicChildren:$}=t;if(e==null){const j=t.el=m(""),S=t.anchor=m("");h(j,s,a),h(S,s,a);const x=(k,M)=>{w&16&&(o&&o.isCE&&(o.ce._teleportTarget=k),c(E,k,M,o,l,i,r,d))},b=()=>{const k=t.target=co(t.props,A),M=kr(k,t,m,h);k&&(i!=="svg"&&Al(k)?i="svg":i!=="mathml"&&wl(k)&&(i="mathml"),y||(x(k,M),qa(t,!1)))};y&&(x(s,S),qa(t,!0)),yl(t.props)?(t.el.__isMounted=!1,ct(()=>{b(),delete t.el.__isMounted},l)):b()}else{if(yl(t.props)&&e.el.__isMounted===!1){ct(()=>{_r.process(e,t,s,a,o,l,i,r,d,f)},l);return}t.el=e.el,t.targetStart=e.targetStart;const j=t.anchor=e.anchor,S=t.target=e.target,x=t.targetAnchor=e.targetAnchor,b=la(e.props),k=b?s:S,M=b?j:x;if(i==="svg"||Al(S)?i="svg":(i==="mathml"||wl(S))&&(i="mathml"),$?(v(e.dynamicChildren,$,k,o,l,i,r),Zo(e,t,!0)):d||u(e,t,k,M,o,l,i,r,!1),y)b?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):La(t,s,j,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const L=t.target=co(t.props,A);L&&La(t,L,null,f,0)}else b&&La(t,S,x,f,1);qa(t,y)}},remove(e,t,s,{um:a,o:{remove:o}},l){const{shapeFlag:i,children:r,anchor:d,targetStart:f,targetAnchor:c,target:u,props:v}=e;if(u&&(o(f),o(c)),l&&o(d),i&16){const h=l||!la(v);for(let A=0;A<r.length;A++){const m=r[A];a(m,t,s,h,!!m.dynamicChildren)}}},move:La,hydrate:Wu};function La(e,t,s,{o:{insert:a},m:o},l=2){l===0&&a(e.targetAnchor,t,s);const{el:i,anchor:r,shapeFlag:d,children:f,props:c}=e,u=l===2;if(u&&a(i,t,s),(!u||la(c))&&d&16)for(let v=0;v<f.length;v++)o(f[v],t,s,2);u&&a(r,t,s)}function Wu(e,t,s,a,o,l,{o:{nextSibling:i,parentNode:r,querySelector:d,insert:f,createText:c}},u){function v(m,p,y,w){p.anchor=u(i(m),p,r(m),s,a,o,l),p.targetStart=y,p.targetAnchor=w}const h=t.target=co(t.props,d),A=la(t.props);if(h){const m=h._lpa||h.firstChild;if(t.shapeFlag&16)if(A)v(e,t,m,m&&i(m));else{t.anchor=i(e);let p=m;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}}p=i(p)}t.targetAnchor||kr(h,t,c,f),u(m&&i(m),t,h,s,a,o,l)}qa(t,A)}else A&&t.shapeFlag&16&&v(e,t,e,i(e));return t.anchor&&i(t.anchor)}const jt=_r;function qa(e,t){const s=e.ctx;if(s&&s.ut){let a,o;for(t?(a=e.el,o=e.anchor):(a=e.targetStart,o=e.targetAnchor);a&&a!==o;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function kr(e,t,s,a){const o=t.targetStart=s(""),l=t.targetAnchor=s("");return o[wr]=l,e&&(a(o,e),a(l,e)),l}const Wt=Symbol("_leaveCb"),Va=Symbol("_enterCb");function $r(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oe(()=>{e.isMounted=!0}),Ko(()=>{e.isUnmounting=!0}),e}const _t=[Function,Array],Sr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_t,onEnter:_t,onAfterEnter:_t,onEnterCancelled:_t,onBeforeLeave:_t,onLeave:_t,onAfterLeave:_t,onLeaveCancelled:_t,onBeforeAppear:_t,onAppear:_t,onAfterAppear:_t,onAppearCancelled:_t},xr=e=>{const t=e.subTree;return t.component?xr(t.component):t},Xu={name:"BaseTransition",props:Sr,setup(e,{slots:t}){const s=Mn(),a=$r();return()=>{const o=t.default&&Xo(t.default(),!0);if(!o||!o.length)return;const l=Er(o),i=De(e),{mode:r}=i;if(a.isLeaving)return zn(l);const d=Cl(l);if(!d)return zn(l);let f=ba(d,i,a,s,u=>f=u);d.type!==dt&&As(d,f);let c=s.subTree&&Cl(s.subTree);if(c&&c.type!==dt&&!bs(c,d)&&xr(s).type!==dt){let u=ba(c,i,a,s);if(As(c,u),r==="out-in"&&d.type!==dt)return a.isLeaving=!0,u.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete u.afterLeave,c=void 0},zn(l);r==="in-out"&&d.type!==dt?u.delayLeave=(v,h,A)=>{const m=Ir(a,c);m[String(c.key)]=c,v[Wt]=()=>{h(),v[Wt]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{A(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return l}}};function Er(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==dt){t=s;break}}return t}const Ku=Xu;function Ir(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function ba(e,t,s,a,o){const{appear:l,mode:i,persisted:r=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:v,onLeave:h,onAfterLeave:A,onLeaveCancelled:m,onBeforeAppear:p,onAppear:y,onAfterAppear:w,onAppearCancelled:E}=t,$=String(e.key),j=Ir(s,e),S=(k,M)=>{k&&Ft(k,a,9,M)},x=(k,M)=>{const L=M[1];S(k,M),$e(k)?k.every(F=>F.length<=1)&&L():k.length<=1&&L()},b={mode:i,persisted:r,beforeEnter(k){let M=d;if(!s.isMounted)if(l)M=p||d;else return;k[Wt]&&k[Wt](!0);const L=j[$];L&&bs(e,L)&&L.el[Wt]&&L.el[Wt](),S(M,[k])},enter(k){let M=f,L=c,F=u;if(!s.isMounted)if(l)M=y||f,L=w||c,F=E||u;else return;let B=!1;const H=k[Va]=D=>{B||(B=!0,D?S(F,[k]):S(L,[k]),b.delayedLeave&&b.delayedLeave(),k[Va]=void 0)};M?x(M,[k,H]):H()},leave(k,M){const L=String(e.key);if(k[Va]&&k[Va](!0),s.isUnmounting)return M();S(v,[k]);let F=!1;const B=k[Wt]=H=>{F||(F=!0,M(),H?S(m,[k]):S(A,[k]),k[Wt]=void 0,j[L]===e&&delete j[L])};j[L]=e,h?x(h,[k,B]):B()},clone(k){const M=ba(k,t,s,a,o);return o&&o(M),M}};return b}function zn(e){if(xn(e))return e=us(e),e.children=null,e}function Cl(e){if(!xn(e))return Cr(e.type)&&e.children?Er(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&xe(s.default))return s.default()}}function As(e,t){e.shapeFlag&6&&e.component?(e.transition=t,As(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Xo(e,t=!1,s){let a=[],o=0;for(let l=0;l<e.length;l++){let i=e[l];const r=s==null?i.key:String(s)+String(i.key!=null?i.key:l);i.type===ge?(i.patchFlag&128&&o++,a=a.concat(Xo(i.children,t,r))):(t||i.type!==dt)&&a.push(r!=null?us(i,{key:r}):i)}if(o>1)for(let l=0;l<a.length;l++)a[l].patchFlag=-2;return a}function Pr(e,t){return xe(e)?Je({name:e.name},t,{setup:e}):e}function Mr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const tn=new WeakMap;function ia(e,t,s,a,o=!1){if($e(e)){e.forEach((A,m)=>ia(A,t&&($e(t)?t[m]:t),s,a,o));return}if(ra(a)&&!o){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&ia(e,t,s,a.component.subTree);return}const l=a.shapeFlag&4?Fn(a.component):a.el,i=o?null:l,{i:r,r:d}=e,f=t&&t.r,c=r.refs===je?r.refs={}:r.refs,u=r.setupState,v=De(u),h=u===je?ji:A=>Ve(v,A);if(f!=null&&f!==d){if(_l(t),Ue(f))c[f]=null,h(f)&&(u[f]=null);else if(lt(f)){f.value=null;const A=t;A.k&&(c[A.k]=null)}}if(xe(d))xa(d,r,12,[i,c]);else{const A=Ue(d),m=lt(d);if(A||m){const p=()=>{if(e.f){const y=A?h(d)?u[d]:c[d]:d.value;if(o)$e(y)&&No(y,l);else if($e(y))y.includes(l)||y.push(l);else if(A)c[d]=[l],h(d)&&(u[d]=c[d]);else{const w=[l];d.value=w,e.k&&(c[e.k]=w)}}else A?(c[d]=i,h(d)&&(u[d]=i)):m&&(d.value=i,e.k&&(c[e.k]=i))};if(i){const y=()=>{p(),tn.delete(e)};y.id=-1,tn.set(e,y),ct(y,s)}else _l(e),p()}}}function _l(e){const t=tn.get(e);t&&(t.flags|=8,tn.delete(e))}_n().requestIdleCallback;_n().cancelIdleCallback;const ra=e=>!!e.type.__asyncLoader,xn=e=>e.type.__isKeepAlive;function Qu(e,t){Fr(e,"a",t)}function Ju(e,t){Fr(e,"da",t)}function Fr(e,t,s=ot){const a=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(En(t,a,s),s){let o=s.parent;for(;o&&o.parent;)xn(o.parent.vnode)&&Zu(a,t,s,o),o=o.parent}}function Zu(e,t,s,a){const o=En(t,e,a,!0);Ea(()=>{No(a[t],o)},s)}function En(e,t,s=ot,a=!1){if(s){const o=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...i)=>{Jt();const r=Ia(s),d=Ft(t,s,e,i);return r(),Zt(),d});return a?o.unshift(l):o.push(l),l}}const es=e=>(t,s=ot)=>{(!Aa||e==="sp")&&En(e,(...a)=>t(...a),s)},ed=es("bm"),Oe=es("m"),Dr=es("bu"),Tr=es("u"),Ko=es("bum"),Ea=es("um"),td=es("sp"),sd=es("rtg"),ad=es("rtc");function nd(e,t=ot){En("ec",e,t)}const Br="components";function Rr(e,t){return Nr(Br,e,!0,t)||e}const Lr=Symbol.for("v-ndc");function Vr(e){return Ue(e)?Nr(Br,e,!1)||e:e||Lr}function Nr(e,t,s=!0,a=!1){const o=mt||ot;if(o){const l=o.type;{const r=Gd(l,!1);if(r&&(r===t||r===xt(t)||r===Cn(xt(t))))return l}const i=kl(o[e]||l[e],t)||kl(o.appContext[e],t);return!i&&a?l:i}}function kl(e,t){return e&&(e[t]||e[xt(t)]||e[Cn(xt(t))])}function _e(e,t,s,a){let o;const l=s,i=$e(e);if(i||Ue(e)){const r=i&&Ts(e);let d=!1,f=!1;r&&(d=!St(e),f=cs(e),e=kn(e)),o=new Array(e.length);for(let c=0,u=e.length;c<u;c++)o[c]=t(d?f?Qa(Ze(e[c])):Ze(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,l)}else if(Ge(e))if(e[Symbol.iterator])o=Array.from(e,(r,d)=>t(r,d,void 0,l));else{const r=Object.keys(e);o=new Array(r.length);for(let d=0,f=r.length;d<f;d++){const c=r[d];o[d]=t(e[c],c,d,l)}}else o=[];return o}const uo=e=>e?nc(e)?Fn(e):uo(e.parent):null,ca=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>uo(e.parent),$root:e=>uo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>zr(e),$forceUpdate:e=>e.f||(e.f=()=>{Wo(e.update)}),$nextTick:e=>e.n||(e.n=ze.bind(e.proxy)),$watch:e=>$d.bind(e)}),jn=(e,t)=>e!==je&&!e.__isScriptSetup&&Ve(e,t),od={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:o,props:l,accessCache:i,type:r,appContext:d}=e;let f;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return a[t];case 2:return o[t];case 4:return s[t];case 3:return l[t]}else{if(jn(a,t))return i[t]=1,a[t];if(o!==je&&Ve(o,t))return i[t]=2,o[t];if((f=e.propsOptions[0])&&Ve(f,t))return i[t]=3,l[t];if(s!==je&&Ve(s,t))return i[t]=4,s[t];fo&&(i[t]=0)}}const c=ca[t];let u,v;if(c)return t==="$attrs"&&st(e.attrs,"get",""),c(e);if((u=r.__cssModules)&&(u=u[t]))return u;if(s!==je&&Ve(s,t))return i[t]=4,s[t];if(v=d.config.globalProperties,Ve(v,t))return v[t]},set({_:e},t,s){const{data:a,setupState:o,ctx:l}=e;return jn(o,t)?(o[t]=s,!0):a!==je&&Ve(a,t)?(a[t]=s,!0):Ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:o,propsOptions:l,type:i}},r){let d,f;return!!(s[r]||e!==je&&r[0]!=="$"&&Ve(e,r)||jn(t,r)||(d=l[0])&&Ve(d,r)||Ve(a,r)||Ve(ca,r)||Ve(o.config.globalProperties,r)||(f=i.__cssModules)&&f[r])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function $l(e){return $e(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let fo=!0;function ld(e){const t=zr(e),s=e.proxy,a=e.ctx;fo=!1,t.beforeCreate&&Sl(t.beforeCreate,e,"bc");const{data:o,computed:l,methods:i,watch:r,provide:d,inject:f,created:c,beforeMount:u,mounted:v,beforeUpdate:h,updated:A,activated:m,deactivated:p,beforeDestroy:y,beforeUnmount:w,destroyed:E,unmounted:$,render:j,renderTracked:S,renderTriggered:x,errorCaptured:b,serverPrefetch:k,expose:M,inheritAttrs:L,components:F,directives:B,filters:H}=t;if(f&&id(f,a,null),i)for(const Q in i){const ee=i[Q];xe(ee)&&(a[Q]=ee.bind(s))}if(o){const Q=o.call(s,s);Ge(Q)&&(e.data=$n(Q))}if(fo=!0,l)for(const Q in l){const ee=l[Q],ae=xe(ee)?ee.bind(s,s):xe(ee.get)?ee.get.bind(s,s):It,ve=!xe(ee)&&xe(ee.set)?ee.set.bind(s):It,we=K({get:ae,set:ve});Object.defineProperty(a,Q,{enumerable:!0,configurable:!0,get:()=>we.value,set:fe=>we.value=fe})}if(r)for(const Q in r)Or(r[Q],a,s,Q);if(d){const Q=xe(d)?d.call(s):d;Reflect.ownKeys(Q).forEach(ee=>{Ua(ee,Q[ee])})}c&&Sl(c,e,"c");function W(Q,ee){$e(ee)?ee.forEach(ae=>Q(ae.bind(s))):ee&&Q(ee.bind(s))}if(W(ed,u),W(Oe,v),W(Dr,h),W(Tr,A),W(Qu,m),W(Ju,p),W(nd,b),W(ad,S),W(sd,x),W(Ko,w),W(Ea,$),W(td,k),$e(M))if(M.length){const Q=e.exposed||(e.exposed={});M.forEach(ee=>{Object.defineProperty(Q,ee,{get:()=>s[ee],set:ae=>s[ee]=ae,enumerable:!0})})}else e.exposed||(e.exposed={});j&&e.render===It&&(e.render=j),L!=null&&(e.inheritAttrs=L),F&&(e.components=F),B&&(e.directives=B),k&&Mr(e)}function id(e,t,s=It){$e(e)&&(e=vo(e));for(const a in e){const o=e[a];let l;Ge(o)?"default"in o?l=Mt(o.from||a,o.default,!0):l=Mt(o.from||a):l=Mt(o),lt(l)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:i=>l.value=i}):t[a]=l}}function Sl(e,t,s){Ft($e(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function Or(e,t,s,a){let o=a.includes(".")?Zr(s,a):()=>s[a];if(Ue(e)){const l=t[e];xe(l)&&be(o,l)}else if(xe(e))be(o,e.bind(s));else if(Ge(e))if($e(e))e.forEach(l=>Or(l,t,s,a));else{const l=xe(e.handler)?e.handler.bind(s):t[e.handler];xe(l)&&be(o,l,e)}}function zr(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:o,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,r=l.get(t);let d;return r?d=r:!o.length&&!s&&!a?d=t:(d={},o.length&&o.forEach(f=>sn(d,f,i,!0)),sn(d,t,i)),Ge(t)&&l.set(t,d),d}function sn(e,t,s,a=!1){const{mixins:o,extends:l}=t;l&&sn(e,l,s,!0),o&&o.forEach(i=>sn(e,i,s,!0));for(const i in t)if(!(a&&i==="expose")){const r=rd[i]||s&&s[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const rd={data:xl,props:El,emits:El,methods:Qs,computed:Qs,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:Qs,directives:Qs,watch:ud,provide:xl,inject:cd};function xl(e,t){return t?e?function(){return Je(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function cd(e,t){return Qs(vo(e),vo(t))}function vo(e){if($e(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function rt(e,t){return e?[...new Set([].concat(e,t))]:t}function Qs(e,t){return e?Je(Object.create(null),e,t):t}function El(e,t){return e?$e(e)&&$e(t)?[...new Set([...e,...t])]:Je(Object.create(null),$l(e),$l(t??{})):t}function ud(e,t){if(!e)return t;if(!t)return e;const s=Je(Object.create(null),e);for(const a in t)s[a]=rt(e[a],t[a]);return s}function jr(){return{app:null,config:{isNativeTag:ji,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dd=0;function fd(e,t){return function(a,o=null){xe(a)||(a=Je({},a)),o!=null&&!Ge(o)&&(o=null);const l=jr(),i=new WeakSet,r=[];let d=!1;const f=l.app={_uid:dd++,_component:a,_props:o,_container:null,_context:l,_instance:null,version:Ud,get config(){return l.config},set config(c){},use(c,...u){return i.has(c)||(c&&xe(c.install)?(i.add(c),c.install(f,...u)):xe(c)&&(i.add(c),c(f,...u))),f},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),f},component(c,u){return u?(l.components[c]=u,f):l.components[c]},directive(c,u){return u?(l.directives[c]=u,f):l.directives[c]},mount(c,u,v){if(!d){const h=f._ceVNode||ye(a,o);return h.appContext=l,v===!0?v="svg":v===!1&&(v=void 0),e(h,c,v),d=!0,f._container=c,c.__vue_app__=f,Fn(h.component)}},onUnmount(c){r.push(c)},unmount(){d&&(Ft(r,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,u){return l.provides[c]=u,f},runWithContext(c){const u=Ls;Ls=f;try{return c()}finally{Ls=u}}};return f}}let Ls=null;function Ua(e,t){if(ot){let s=ot.provides;const a=ot.parent&&ot.parent.provides;a===s&&(s=ot.provides=Object.create(a)),s[e]=t}}function Mt(e,t,s=!1){const a=Mn();if(a||Ls){let o=Ls?Ls._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&xe(t)?t.call(a&&a.proxy):t}}const Hr={},Yr=()=>Object.create(Hr),Gr=e=>Object.getPrototypeOf(e)===Hr;function vd(e,t,s,a=!1){const o={},l=Yr();e.propsDefaults=Object.create(null),qr(e,t,o,l);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=a?o:dr(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function hd(e,t,s,a){const{props:o,attrs:l,vnode:{patchFlag:i}}=e,r=De(o),[d]=e.propsOptions;let f=!1;if((a||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let v=c[u];if(In(e.emitsOptions,v))continue;const h=t[v];if(d)if(Ve(l,v))h!==l[v]&&(l[v]=h,f=!0);else{const A=xt(v);o[A]=ho(d,r,A,h,e,!1)}else h!==l[v]&&(l[v]=h,f=!0)}}}else{qr(e,t,o,l)&&(f=!0);let c;for(const u in r)(!t||!Ve(t,u)&&((c=_s(u))===u||!Ve(t,c)))&&(d?s&&(s[u]!==void 0||s[c]!==void 0)&&(o[u]=ho(d,r,u,void 0,e,!0)):delete o[u]);if(l!==r)for(const u in l)(!t||!Ve(t,u))&&(delete l[u],f=!0)}f&&Xt(e.attrs,"set","")}function qr(e,t,s,a){const[o,l]=e.propsOptions;let i=!1,r;if(t)for(let d in t){if(aa(d))continue;const f=t[d];let c;o&&Ve(o,c=xt(d))?!l||!l.includes(c)?s[c]=f:(r||(r={}))[c]=f:In(e.emitsOptions,d)||(!(d in a)||f!==a[d])&&(a[d]=f,i=!0)}if(l){const d=De(s),f=r||je;for(let c=0;c<l.length;c++){const u=l[c];s[u]=ho(o,d,u,f[u],e,!Ve(f,u))}}return i}function ho(e,t,s,a,o,l){const i=e[s];if(i!=null){const r=Ve(i,"default");if(r&&a===void 0){const d=i.default;if(i.type!==Function&&!i.skipFactory&&xe(d)){const{propsDefaults:f}=o;if(s in f)a=f[s];else{const c=Ia(o);a=f[s]=d.call(null,t),c()}}else a=d;o.ce&&o.ce._setProp(s,a)}i[0]&&(l&&!r?a=!1:i[1]&&(a===""||a===_s(s))&&(a=!0))}return a}const pd=new WeakMap;function Ur(e,t,s=!1){const a=s?pd:t.propsCache,o=a.get(e);if(o)return o;const l=e.props,i={},r=[];let d=!1;if(!xe(e)){const c=u=>{d=!0;const[v,h]=Ur(u,t,!0);Je(i,v),h&&r.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!d)return Ge(e)&&a.set(e,Fs),Fs;if($e(l))for(let c=0;c<l.length;c++){const u=xt(l[c]);Il(u)&&(i[u]=je)}else if(l)for(const c in l){const u=xt(c);if(Il(u)){const v=l[c],h=i[u]=$e(v)||xe(v)?{type:v}:Je({},v),A=h.type;let m=!1,p=!0;if($e(A))for(let y=0;y<A.length;++y){const w=A[y],E=xe(w)&&w.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(p=!1)}else m=xe(A)&&A.name==="Boolean";h[0]=m,h[1]=p,(m||Ve(h,"default"))&&r.push(u)}}const f=[i,r];return Ge(e)&&a.set(e,f),f}function Il(e){return e[0]!=="$"&&!aa(e)}const Qo=e=>e==="_"||e==="_ctx"||e==="$stable",Jo=e=>$e(e)?e.map(Lt):[Lt(e)],gd=(e,t,s)=>{if(t._n)return t;const a=at((...o)=>Jo(t(...o)),s);return a._c=!1,a},Wr=(e,t,s)=>{const a=e._ctx;for(const o in e){if(Qo(o))continue;const l=e[o];if(xe(l))t[o]=gd(o,l,a);else if(l!=null){const i=Jo(l);t[o]=()=>i}}},Xr=(e,t)=>{const s=Jo(t);e.slots.default=()=>s},Kr=(e,t,s)=>{for(const a in t)(s||!Qo(a))&&(e[a]=t[a])},md=(e,t,s)=>{const a=e.slots=Yr();if(e.vnode.shapeFlag&32){const o=t._;o?(Kr(a,t,s),s&&Ui(a,"_",o,!0)):Wr(t,a)}else t&&Xr(e,t)},bd=(e,t,s)=>{const{vnode:a,slots:o}=e;let l=!0,i=je;if(a.shapeFlag&32){const r=t._;r?s&&r===1?l=!1:Kr(o,t,s):(l=!t.$stable,Wr(t,o)),i=t}else t&&(Xr(e,t),i={default:1});if(l)for(const r in o)!Qo(r)&&i[r]==null&&delete o[r]},ct=Dd;function yd(e){return Ad(e)}function Ad(e,t){const s=_n();s.__VUE__=!0;const{insert:a,remove:o,patchProp:l,createElement:i,createText:r,createComment:d,setText:f,setElementText:c,parentNode:u,nextSibling:v,setScopeId:h=It,insertStaticContent:A}=e,m=(I,_,R,Y=null,Z=null,J=null,ie=void 0,le=null,ue=!!_.dynamicChildren)=>{if(I===_)return;I&&!bs(I,_)&&(Y=U(I),fe(I,Z,J,!0),I=null),_.patchFlag===-2&&(ue=!1,_.dynamicChildren=null);const{type:ne,ref:me,shapeFlag:he}=_;switch(ne){case Pn:p(I,_,R,Y);break;case dt:y(I,_,R,Y);break;case ua:I==null&&w(_,R,Y,ie);break;case ge:F(I,_,R,Y,Z,J,ie,le,ue);break;default:he&1?j(I,_,R,Y,Z,J,ie,le,ue):he&6?B(I,_,R,Y,Z,J,ie,le,ue):(he&64||he&128)&&ne.process(I,_,R,Y,Z,J,ie,le,ue,se)}me!=null&&Z?ia(me,I&&I.ref,J,_||I,!_):me==null&&I&&I.ref!=null&&ia(I.ref,null,J,I,!0)},p=(I,_,R,Y)=>{if(I==null)a(_.el=r(_.children),R,Y);else{const Z=_.el=I.el;_.children!==I.children&&f(Z,_.children)}},y=(I,_,R,Y)=>{I==null?a(_.el=d(_.children||""),R,Y):_.el=I.el},w=(I,_,R,Y)=>{[I.el,I.anchor]=A(I.children,_,R,Y,I.el,I.anchor)},E=({el:I,anchor:_},R,Y)=>{let Z;for(;I&&I!==_;)Z=v(I),a(I,R,Y),I=Z;a(_,R,Y)},$=({el:I,anchor:_})=>{let R;for(;I&&I!==_;)R=v(I),o(I),I=R;o(_)},j=(I,_,R,Y,Z,J,ie,le,ue)=>{_.type==="svg"?ie="svg":_.type==="math"&&(ie="mathml"),I==null?S(_,R,Y,Z,J,ie,le,ue):k(I,_,Z,J,ie,le,ue)},S=(I,_,R,Y,Z,J,ie,le)=>{let ue,ne;const{props:me,shapeFlag:he,transition:Ae,dirs:Ce}=I;if(ue=I.el=i(I.type,J,me&&me.is,me),he&8?c(ue,I.children):he&16&&b(I.children,ue,null,Y,Z,Hn(I,J),ie,le),Ce&&vs(I,null,Y,"created"),x(ue,I,I.scopeId,ie,Y),me){for(const Pe in me)Pe!=="value"&&!aa(Pe)&&l(ue,Pe,null,me[Pe],J,Y);"value"in me&&l(ue,"value",null,me.value,J),(ne=me.onVnodeBeforeMount)&&Tt(ne,Y,I)}Ce&&vs(I,null,Y,"beforeMount");const Ee=wd(Z,Ae);Ee&&Ae.beforeEnter(ue),a(ue,_,R),((ne=me&&me.onVnodeMounted)||Ee||Ce)&&ct(()=>{ne&&Tt(ne,Y,I),Ee&&Ae.enter(ue),Ce&&vs(I,null,Y,"mounted")},Z)},x=(I,_,R,Y,Z)=>{if(R&&h(I,R),Y)for(let J=0;J<Y.length;J++)h(I,Y[J]);if(Z){let J=Z.subTree;if(_===J||tc(J.type)&&(J.ssContent===_||J.ssFallback===_)){const ie=Z.vnode;x(I,ie,ie.scopeId,ie.slotScopeIds,Z.parent)}}},b=(I,_,R,Y,Z,J,ie,le,ue=0)=>{for(let ne=ue;ne<I.length;ne++){const me=I[ne]=le?ls(I[ne]):Lt(I[ne]);m(null,me,_,R,Y,Z,J,ie,le)}},k=(I,_,R,Y,Z,J,ie)=>{const le=_.el=I.el;let{patchFlag:ue,dynamicChildren:ne,dirs:me}=_;ue|=I.patchFlag&16;const he=I.props||je,Ae=_.props||je;let Ce;if(R&&hs(R,!1),(Ce=Ae.onVnodeBeforeUpdate)&&Tt(Ce,R,_,I),me&&vs(_,I,R,"beforeUpdate"),R&&hs(R,!0),(he.innerHTML&&Ae.innerHTML==null||he.textContent&&Ae.textContent==null)&&c(le,""),ne?M(I.dynamicChildren,ne,le,R,Y,Hn(_,Z),J):ie||ee(I,_,le,null,R,Y,Hn(_,Z),J,!1),ue>0){if(ue&16)L(le,he,Ae,R,Z);else if(ue&2&&he.class!==Ae.class&&l(le,"class",null,Ae.class,Z),ue&4&&l(le,"style",he.style,Ae.style,Z),ue&8){const Ee=_.dynamicProps;for(let Pe=0;Pe<Ee.length;Pe++){const Me=Ee[Pe],et=he[Me],tt=Ae[Me];(tt!==et||Me==="value")&&l(le,Me,et,tt,Z,R)}}ue&1&&I.children!==_.children&&c(le,_.children)}else!ie&&ne==null&&L(le,he,Ae,R,Z);((Ce=Ae.onVnodeUpdated)||me)&&ct(()=>{Ce&&Tt(Ce,R,_,I),me&&vs(_,I,R,"updated")},Y)},M=(I,_,R,Y,Z,J,ie)=>{for(let le=0;le<_.length;le++){const ue=I[le],ne=_[le],me=ue.el&&(ue.type===ge||!bs(ue,ne)||ue.shapeFlag&198)?u(ue.el):R;m(ue,ne,me,null,Y,Z,J,ie,!0)}},L=(I,_,R,Y,Z)=>{if(_!==R){if(_!==je)for(const J in _)!aa(J)&&!(J in R)&&l(I,J,_[J],null,Z,Y);for(const J in R){if(aa(J))continue;const ie=R[J],le=_[J];ie!==le&&J!=="value"&&l(I,J,le,ie,Z,Y)}"value"in R&&l(I,"value",_.value,R.value,Z)}},F=(I,_,R,Y,Z,J,ie,le,ue)=>{const ne=_.el=I?I.el:r(""),me=_.anchor=I?I.anchor:r("");let{patchFlag:he,dynamicChildren:Ae,slotScopeIds:Ce}=_;Ce&&(le=le?le.concat(Ce):Ce),I==null?(a(ne,R,Y),a(me,R,Y),b(_.children||[],R,me,Z,J,ie,le,ue)):he>0&&he&64&&Ae&&I.dynamicChildren?(M(I.dynamicChildren,Ae,R,Z,J,ie,le),(_.key!=null||Z&&_===Z.subTree)&&Zo(I,_,!0)):ee(I,_,R,me,Z,J,ie,le,ue)},B=(I,_,R,Y,Z,J,ie,le,ue)=>{_.slotScopeIds=le,I==null?_.shapeFlag&512?Z.ctx.activate(_,R,Y,ie,ue):H(_,R,Y,Z,J,ie,ue):D(I,_,ue)},H=(I,_,R,Y,Z,J,ie)=>{const le=I.component=Od(I,Y,Z);if(xn(I)&&(le.ctx.renderer=se),zd(le,!1,ie),le.asyncDep){if(Z&&Z.registerDep(le,W,ie),!I.el){const ue=le.subTree=ye(dt);y(null,ue,_,R),I.placeholder=ue.el}}else W(le,I,_,R,Z,J,ie)},D=(I,_,R)=>{const Y=_.component=I.component;if(Md(I,_,R))if(Y.asyncDep&&!Y.asyncResolved){Q(Y,_,R);return}else Y.next=_,Y.update();else _.el=I.el,Y.vnode=_},W=(I,_,R,Y,Z,J,ie)=>{const le=()=>{if(I.isMounted){let{next:he,bu:Ae,u:Ce,parent:Ee,vnode:Pe}=I;{const wt=Qr(I);if(wt){he&&(he.el=Pe.el,Q(I,he,ie)),wt.asyncDep.then(()=>{I.isUnmounted||le()});return}}let Me=he,et;hs(I,!1),he?(he.el=Pe.el,Q(I,he,ie)):he=Pe,Ae&&Ga(Ae),(et=he.props&&he.props.onVnodeBeforeUpdate)&&Tt(et,Ee,he,Pe),hs(I,!0);const tt=Ml(I),At=I.subTree;I.subTree=tt,m(At,tt,u(At.el),U(At),I,Z,J),he.el=tt.el,Me===null&&Fd(I,tt.el),Ce&&ct(Ce,Z),(et=he.props&&he.props.onVnodeUpdated)&&ct(()=>Tt(et,Ee,he,Pe),Z)}else{let he;const{el:Ae,props:Ce}=_,{bm:Ee,m:Pe,parent:Me,root:et,type:tt}=I,At=ra(_);hs(I,!1),Ee&&Ga(Ee),!At&&(he=Ce&&Ce.onVnodeBeforeMount)&&Tt(he,Me,_),hs(I,!0);{et.ce&&et.ce._def.shadowRoot!==!1&&et.ce._injectChildStyle(tt);const wt=I.subTree=Ml(I);m(null,wt,R,Y,I,Z,J),_.el=wt.el}if(Pe&&ct(Pe,Z),!At&&(he=Ce&&Ce.onVnodeMounted)){const wt=_;ct(()=>Tt(he,Me,wt),Z)}(_.shapeFlag&256||Me&&ra(Me.vnode)&&Me.vnode.shapeFlag&256)&&I.a&&ct(I.a,Z),I.isMounted=!0,_=R=Y=null}};I.scope.on();const ue=I.effect=new Qi(le);I.scope.off();const ne=I.update=ue.run.bind(ue),me=I.job=ue.runIfDirty.bind(ue);me.i=I,me.id=I.uid,ue.scheduler=()=>Wo(me),hs(I,!0),ne()},Q=(I,_,R)=>{_.component=I;const Y=I.vnode.props;I.vnode=_,I.next=null,hd(I,_.props,Y,R),bd(I,_.children,R),Jt(),bl(I),Zt()},ee=(I,_,R,Y,Z,J,ie,le,ue=!1)=>{const ne=I&&I.children,me=I?I.shapeFlag:0,he=_.children,{patchFlag:Ae,shapeFlag:Ce}=_;if(Ae>0){if(Ae&128){ve(ne,he,R,Y,Z,J,ie,le,ue);return}else if(Ae&256){ae(ne,he,R,Y,Z,J,ie,le,ue);return}}Ce&8?(me&16&&O(ne,Z,J),he!==ne&&c(R,he)):me&16?Ce&16?ve(ne,he,R,Y,Z,J,ie,le,ue):O(ne,Z,J,!0):(me&8&&c(R,""),Ce&16&&b(he,R,Y,Z,J,ie,le,ue))},ae=(I,_,R,Y,Z,J,ie,le,ue)=>{I=I||Fs,_=_||Fs;const ne=I.length,me=_.length,he=Math.min(ne,me);let Ae;for(Ae=0;Ae<he;Ae++){const Ce=_[Ae]=ue?ls(_[Ae]):Lt(_[Ae]);m(I[Ae],Ce,R,null,Z,J,ie,le,ue)}ne>me?O(I,Z,J,!0,!1,he):b(_,R,Y,Z,J,ie,le,ue,he)},ve=(I,_,R,Y,Z,J,ie,le,ue)=>{let ne=0;const me=_.length;let he=I.length-1,Ae=me-1;for(;ne<=he&&ne<=Ae;){const Ce=I[ne],Ee=_[ne]=ue?ls(_[ne]):Lt(_[ne]);if(bs(Ce,Ee))m(Ce,Ee,R,null,Z,J,ie,le,ue);else break;ne++}for(;ne<=he&&ne<=Ae;){const Ce=I[he],Ee=_[Ae]=ue?ls(_[Ae]):Lt(_[Ae]);if(bs(Ce,Ee))m(Ce,Ee,R,null,Z,J,ie,le,ue);else break;he--,Ae--}if(ne>he){if(ne<=Ae){const Ce=Ae+1,Ee=Ce<me?_[Ce].el:Y;for(;ne<=Ae;)m(null,_[ne]=ue?ls(_[ne]):Lt(_[ne]),R,Ee,Z,J,ie,le,ue),ne++}}else if(ne>Ae)for(;ne<=he;)fe(I[ne],Z,J,!0),ne++;else{const Ce=ne,Ee=ne,Pe=new Map;for(ne=Ee;ne<=Ae;ne++){const it=_[ne]=ue?ls(_[ne]):Lt(_[ne]);it.key!=null&&Pe.set(it.key,ne)}let Me,et=0;const tt=Ae-Ee+1;let At=!1,wt=0;const fs=new Array(tt);for(ne=0;ne<tt;ne++)fs[ne]=0;for(ne=Ce;ne<=he;ne++){const it=I[ne];if(et>=tt){fe(it,Z,J,!0);continue}let Ct;if(it.key!=null)Ct=Pe.get(it.key);else for(Me=Ee;Me<=Ae;Me++)if(fs[Me-Ee]===0&&bs(it,_[Me])){Ct=Me;break}Ct===void 0?fe(it,Z,J,!0):(fs[Ct-Ee]=ne+1,Ct>=wt?wt=Ct:At=!0,m(it,_[Ct],R,null,Z,J,ie,le,ue),et++)}const Ma=At?Cd(fs):Fs;for(Me=Ma.length-1,ne=tt-1;ne>=0;ne--){const it=Ee+ne,Ct=_[it],Fa=_[it+1],Da=it+1<me?Fa.el||Fa.placeholder:Y;fs[ne]===0?m(null,Ct,R,Da,Z,J,ie,le,ue):At&&(Me<0||ne!==Ma[Me]?we(Ct,R,Da,2):Me--)}}},we=(I,_,R,Y,Z=null)=>{const{el:J,type:ie,transition:le,children:ue,shapeFlag:ne}=I;if(ne&6){we(I.component.subTree,_,R,Y);return}if(ne&128){I.suspense.move(_,R,Y);return}if(ne&64){ie.move(I,_,R,se);return}if(ie===ge){a(J,_,R);for(let he=0;he<ue.length;he++)we(ue[he],_,R,Y);a(I.anchor,_,R);return}if(ie===ua){E(I,_,R);return}if(Y!==2&&ne&1&&le)if(Y===0)le.beforeEnter(J),a(J,_,R),ct(()=>le.enter(J),Z);else{const{leave:he,delayLeave:Ae,afterLeave:Ce}=le,Ee=()=>{I.ctx.isUnmounted?o(J):a(J,_,R)},Pe=()=>{J._isLeaving&&J[Wt](!0),he(J,()=>{Ee(),Ce&&Ce()})};Ae?Ae(J,Ee,Pe):Pe()}else a(J,_,R)},fe=(I,_,R,Y=!1,Z=!1)=>{const{type:J,props:ie,ref:le,children:ue,dynamicChildren:ne,shapeFlag:me,patchFlag:he,dirs:Ae,cacheIndex:Ce}=I;if(he===-2&&(Z=!1),le!=null&&(Jt(),ia(le,null,R,I,!0),Zt()),Ce!=null&&(_.renderCache[Ce]=void 0),me&256){_.ctx.deactivate(I);return}const Ee=me&1&&Ae,Pe=!ra(I);let Me;if(Pe&&(Me=ie&&ie.onVnodeBeforeUnmount)&&Tt(Me,_,I),me&6)N(I.component,R,Y);else{if(me&128){I.suspense.unmount(R,Y);return}Ee&&vs(I,null,_,"beforeUnmount"),me&64?I.type.remove(I,_,R,se,Y):ne&&!ne.hasOnce&&(J!==ge||he>0&&he&64)?O(ne,_,R,!1,!0):(J===ge&&he&384||!Z&&me&16)&&O(ue,_,R),Y&&te(I)}(Pe&&(Me=ie&&ie.onVnodeUnmounted)||Ee)&&ct(()=>{Me&&Tt(Me,_,I),Ee&&vs(I,null,_,"unmounted")},R)},te=I=>{const{type:_,el:R,anchor:Y,transition:Z}=I;if(_===ge){P(R,Y);return}if(_===ua){$(I);return}const J=()=>{o(R),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(I.shapeFlag&1&&Z&&!Z.persisted){const{leave:ie,delayLeave:le}=Z,ue=()=>ie(R,J);le?le(I.el,J,ue):ue()}else J()},P=(I,_)=>{let R;for(;I!==_;)R=v(I),o(I),I=R;o(_)},N=(I,_,R)=>{const{bum:Y,scope:Z,job:J,subTree:ie,um:le,m:ue,a:ne}=I;Pl(ue),Pl(ne),Y&&Ga(Y),Z.stop(),J&&(J.flags|=8,fe(ie,I,_,R)),le&&ct(le,_),ct(()=>{I.isUnmounted=!0},_)},O=(I,_,R,Y=!1,Z=!1,J=0)=>{for(let ie=J;ie<I.length;ie++)fe(I[ie],_,R,Y,Z)},U=I=>{if(I.shapeFlag&6)return U(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const _=v(I.anchor||I.el),R=_&&_[wr];return R?v(R):_};let X=!1;const T=(I,_,R)=>{I==null?_._vnode&&fe(_._vnode,null,null,!0):m(_._vnode||null,I,_,null,null,null,R),_._vnode=I,X||(X=!0,bl(),br(),X=!1)},se={p:m,um:fe,m:we,r:te,mt:H,mc:b,pc:ee,pbc:M,n:U,o:e};return{render:T,hydrate:void 0,createApp:fd(T)}}function Hn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function hs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function wd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zo(e,t,s=!1){const a=e.children,o=t.children;if($e(a)&&$e(o))for(let l=0;l<a.length;l++){const i=a[l];let r=o[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=o[l]=ls(o[l]),r.el=i.el),!s&&r.patchFlag!==-2&&Zo(i,r)),r.type===Pn&&r.patchFlag!==-1&&(r.el=i.el),r.type===dt&&!r.el&&(r.el=i.el)}}function Cd(e){const t=e.slice(),s=[0];let a,o,l,i,r;const d=e.length;for(a=0;a<d;a++){const f=e[a];if(f!==0){if(o=s[s.length-1],e[o]<f){t[a]=o,s.push(a);continue}for(l=0,i=s.length-1;l<i;)r=l+i>>1,e[s[r]]<f?l=r+1:i=r;f<e[s[l]]&&(l>0&&(t[a]=s[l-1]),s[l]=a)}}for(l=s.length,i=s[l-1];l-- >0;)s[l]=i,i=t[i];return s}function Qr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qr(t)}function Pl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _d=Symbol.for("v-scx"),kd=()=>Mt(_d);function be(e,t,s){return Jr(e,t,s)}function Jr(e,t,s=je){const{immediate:a,deep:o,flush:l,once:i}=s,r=Je({},s),d=t&&a||!t&&l!=="post";let f;if(Aa){if(l==="sync"){const h=kd();f=h.__watcherHandles||(h.__watcherHandles=[])}else if(!d){const h=()=>{};return h.stop=It,h.resume=It,h.pause=It,h}}const c=ot;r.call=(h,A,m)=>Ft(h,c,A,m);let u=!1;l==="post"?r.scheduler=h=>{ct(h,c&&c.suspense)}:l!=="sync"&&(u=!0,r.scheduler=(h,A)=>{A?h():Wo(h)}),r.augmentJob=h=>{t&&(h.flags|=4),u&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const v=Gu(e,t,r);return Aa&&(f?f.push(v):d&&v()),v}function $d(e,t,s){const a=this.proxy,o=Ue(e)?e.includes(".")?Zr(a,e):()=>a[e]:e.bind(a,a);let l;xe(t)?l=t:(l=t.handler,s=t);const i=Ia(this),r=Jr(o,l.bind(a),s);return i(),r}function Zr(e,t){const s=t.split(".");return()=>{let a=e;for(let o=0;o<s.length&&a;o++)a=a[s[o]];return a}}const Sd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xt(t)}Modifiers`]||e[`${_s(t)}Modifiers`];function xd(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||je;let o=s;const l=t.startsWith("update:"),i=l&&Sd(a,t.slice(7));i&&(i.trim&&(o=s.map(c=>Ue(c)?c.trim():c)),i.number&&(o=s.map(no)));let r,d=a[r=Rn(t)]||a[r=Rn(xt(t))];!d&&l&&(d=a[r=Rn(_s(t))]),d&&Ft(d,e,6,o);const f=a[r+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Ft(f,e,6,o)}}const Ed=new WeakMap;function ec(e,t,s=!1){const a=s?Ed:t.emitsCache,o=a.get(e);if(o!==void 0)return o;const l=e.emits;let i={},r=!1;if(!xe(e)){const d=f=>{const c=ec(f,t,!0);c&&(r=!0,Je(i,c))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!r?(Ge(e)&&a.set(e,null),null):($e(l)?l.forEach(d=>i[d]=null):Je(i,l),Ge(e)&&a.set(e,i),i)}function In(e,t){return!e||!yn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ve(e,t[0].toLowerCase()+t.slice(1))||Ve(e,_s(t))||Ve(e,t))}function Ml(e){const{type:t,vnode:s,proxy:a,withProxy:o,propsOptions:[l],slots:i,attrs:r,emit:d,render:f,renderCache:c,props:u,data:v,setupState:h,ctx:A,inheritAttrs:m}=e,p=en(e);let y,w;try{if(s.shapeFlag&4){const $=o||a,j=$;y=Lt(f.call(j,$,c,u,h,v,A)),w=r}else{const $=t;y=Lt($.length>1?$(u,{attrs:r,slots:i,emit:d}):$(u,null)),w=t.props?r:Id(r)}}catch($){da.length=0,Sn($,e,1),y=ye(dt)}let E=y;if(w&&m!==!1){const $=Object.keys(w),{shapeFlag:j}=E;$.length&&j&7&&(l&&$.some(Vo)&&(w=Pd(w,l)),E=us(E,w,!1,!0))}return s.dirs&&(E=us(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&As(E,s.transition),y=E,en(p),y}const Id=e=>{let t;for(const s in e)(s==="class"||s==="style"||yn(s))&&((t||(t={}))[s]=e[s]);return t},Pd=(e,t)=>{const s={};for(const a in e)(!Vo(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Md(e,t,s){const{props:a,children:o,component:l}=e,{props:i,children:r,patchFlag:d}=t,f=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return a?Fl(a,i,f):!!i;if(d&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const v=c[u];if(i[v]!==a[v]&&!In(f,v))return!0}}}else return(o||r)&&(!r||!r.$stable)?!0:a===i?!1:a?i?Fl(a,i,f):!0:!!i;return!1}function Fl(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let o=0;o<a.length;o++){const l=a[o];if(t[l]!==e[l]&&!In(s,l))return!0}return!1}function Fd({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const tc=e=>e.__isSuspense;function Dd(e,t){t&&t.pendingBranch?$e(e)?t.effects.push(...e):t.effects.push(e):mr(e)}const ge=Symbol.for("v-fgt"),Pn=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),da=[];let bt=null;function g(e=!1){da.push(bt=e?null:[])}function Td(){da.pop(),bt=da[da.length-1]||null}let ya=1;function an(e,t=!1){ya+=e,e<0&&bt&&t&&(bt.hasOnce=!0)}function sc(e){return e.dynamicChildren=ya>0?bt||Fs:null,Td(),ya>0&&bt&&bt.push(e),e}function C(e,t,s,a,o,l){return sc(n(e,t,s,a,o,l,!0))}function Re(e,t,s,a,o){return sc(ye(e,t,s,a,o,!0))}function nn(e){return e?e.__v_isVNode===!0:!1}function bs(e,t){return e.type===t.type&&e.key===t.key}const ac=({key:e})=>e??null,Wa=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||lt(e)||xe(e)?{i:mt,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,a=0,o=null,l=e===ge?0:1,i=!1,r=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ac(t),ref:t&&Wa(t),scopeId:Ar,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:mt};return r?(el(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=Ue(s)?8:16),ya>0&&!i&&bt&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&bt.push(d),d}const ye=Bd;function Bd(e,t=null,s=null,a=0,o=null,l=!1){if((!e||e===Lr)&&(e=dt),nn(e)){const r=us(e,t,!0);return s&&el(r,s),ya>0&&!l&&bt&&(r.shapeFlag&6?bt[bt.indexOf(e)]=r:bt.push(r)),r.patchFlag=-2,r}if(qd(e)&&(e=e.__vccOpts),t){t=Rd(t);let{class:r,style:d}=t;r&&!Ue(r)&&(t.class=pe(r)),Ge(d)&&(Uo(d)&&!$e(d)&&(d=Je({},d)),t.style=de(d))}const i=Ue(e)?1:tc(e)?128:Cr(e)?64:Ge(e)?4:xe(e)?2:0;return n(e,t,s,a,o,i,l,!0)}function Rd(e){return e?Uo(e)||Gr(e)?Je({},e):e:null}function us(e,t,s=!1,a=!1){const{props:o,ref:l,patchFlag:i,children:r,transition:d}=e,f=t?Ld(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&ac(f),ref:t&&t.ref?s&&l?$e(l)?l.concat(Wa(t)):[l,Wa(t)]:Wa(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&us(e.ssContent),ssFallback:e.ssFallback&&us(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&a&&As(c,d.clone(c)),c}function Vt(e=" ",t=0){return ye(Pn,null,e,t)}function Se(e,t){const s=ye(ua,null,e);return s.staticCount=t,s}function oe(e="",t=!1){return t?(g(),Re(dt,null,e)):ye(dt,null,e)}function Lt(e){return e==null||typeof e=="boolean"?ye(dt):$e(e)?ye(ge,null,e.slice()):nn(e)?ls(e):ye(Pn,null,String(e))}function ls(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:us(e)}function el(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if($e(t))s=16;else if(typeof t=="object")if(a&65){const o=t.default;o&&(o._c&&(o._d=!1),el(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!Gr(t)?t._ctx=mt:o===3&&mt&&(mt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:mt},s=32):(t=String(t),a&64?(s=16,t=[Vt(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ld(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const o in a)if(o==="class")t.class!==a.class&&(t.class=pe([t.class,a.class]));else if(o==="style")t.style=de([t.style,a.style]);else if(yn(o)){const l=t[o],i=a[o];i&&l!==i&&!($e(l)&&l.includes(i))&&(t[o]=l?[].concat(l,i):i)}else o!==""&&(t[o]=a[o])}return t}function Tt(e,t,s,a=null){Ft(e,t,7,[s,a])}const Vd=jr();let Nd=0;function Od(e,t,s){const a=e.type,o=(t?t.appContext:e.appContext)||Vd,l={uid:Nd++,vnode:e,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ur(a,o),emitsOptions:ec(a,o),emit:null,emitted:null,propsDefaults:je,inheritAttrs:a.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=xd.bind(null,l),e.ce&&e.ce(l),l}let ot=null;const Mn=()=>ot||mt;let on,po;{const e=_n(),t=(s,a)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(a),l=>{o.length>1?o.forEach(i=>i(l)):o[0](l)}};on=t("__VUE_INSTANCE_SETTERS__",s=>ot=s),po=t("__VUE_SSR_SETTERS__",s=>Aa=s)}const Ia=e=>{const t=ot;return on(e),e.scope.on(),()=>{e.scope.off(),on(t)}},Dl=()=>{ot&&ot.scope.off(),on(null)};function nc(e){return e.vnode.shapeFlag&4}let Aa=!1;function zd(e,t=!1,s=!1){t&&po(t);const{props:a,children:o}=e.vnode,l=nc(e);vd(e,a,l,t),md(e,o,s||t);const i=l?jd(e,t):void 0;return t&&po(!1),i}function jd(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,od);const{setup:a}=s;if(a){Jt();const o=e.setupContext=a.length>1?Yd(e):null,l=Ia(e),i=xa(a,e,0,[e.props,o]),r=Yi(i);if(Zt(),l(),(r||e.sp)&&!ra(e)&&Mr(e),r){if(i.then(Dl,Dl),t)return i.then(d=>{Tl(e,d)}).catch(d=>{Sn(d,e,0)});e.asyncDep=i}else Tl(e,i)}else oc(e)}function Tl(e,t,s){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ge(t)&&(e.setupState=hr(t)),oc(e)}function oc(e,t,s){const a=e.type;e.render||(e.render=a.render||It);{const o=Ia(e);Jt();try{ld(e)}finally{Zt(),o()}}}const Hd={get(e,t){return st(e,"get",""),e[t]}};function Yd(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Hd),slots:e.slots,emit:e.emit,expose:t}}function Fn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(hr(Vu(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ca)return ca[s](e)},has(t,s){return s in t||s in ca}})):e.proxy}function Gd(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function qd(e){return xe(e)&&"__vccOpts"in e}const K=(e,t)=>Hu(e,t,Aa);function ce(e,t,s){const a=(l,i,r)=>{an(-1);try{return ye(l,i,r)}finally{an(1)}},o=arguments.length;return o===2?Ge(t)&&!$e(t)?nn(t)?a(e,null,[t]):a(e,t):a(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&nn(s)&&(s=[s]),a(e,t,s))}const Ud="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let go;const Bl=typeof window<"u"&&window.trustedTypes;if(Bl)try{go=Bl.createPolicy("vue",{createHTML:e=>e})}catch{}const lc=go?e=>go.createHTML(e):e=>e,Wd="http://www.w3.org/2000/svg",Xd="http://www.w3.org/1998/Math/MathML",qt=typeof document<"u"?document:null,Rl=qt&&qt.createElement("template"),Kd={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const o=t==="svg"?qt.createElementNS(Wd,e):t==="mathml"?qt.createElementNS(Xd,e):s?qt.createElement(e,{is:s}):qt.createElement(e);return e==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:e=>qt.createTextNode(e),createComment:e=>qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,o,l){const i=s?s.previousSibling:t.lastChild;if(o&&(o===l||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===l||!(o=o.nextSibling)););else{Rl.innerHTML=lc(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const r=Rl.content;if(a==="svg"||a==="mathml"){const d=r.firstChild;for(;d.firstChild;)r.appendChild(d.firstChild);r.removeChild(d)}t.insertBefore(r,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ts="transition",Gs="animation",Vs=Symbol("_vtc"),ic={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rc=Je({},Sr,ic),Qd=e=>(e.displayName="Transition",e.props=rc,e),gt=Qd((e,{slots:t})=>ce(Ku,cc(e),t)),ps=(e,t=[])=>{$e(e)?e.forEach(s=>s(...t)):e&&e(...t)},Ll=e=>e?$e(e)?e.some(t=>t.length>1):e.length>1:!1;function cc(e){const t={};for(const F in e)F in ic||(t[F]=e[F]);if(e.css===!1)return t;const{name:s="v",type:a,duration:o,enterFromClass:l=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:r=`${s}-enter-to`,appearFromClass:d=l,appearActiveClass:f=i,appearToClass:c=r,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=e,A=Jd(o),m=A&&A[0],p=A&&A[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:E,onLeave:$,onLeaveCancelled:j,onBeforeAppear:S=y,onAppear:x=w,onAppearCancelled:b=E}=t,k=(F,B,H,D)=>{F._enterCancelled=D,ns(F,B?c:r),ns(F,B?f:i),H&&H()},M=(F,B)=>{F._isLeaving=!1,ns(F,u),ns(F,h),ns(F,v),B&&B()},L=F=>(B,H)=>{const D=F?x:w,W=()=>k(B,F,H);ps(D,[B,W]),Vl(()=>{ns(B,F?d:l),Bt(B,F?c:r),Ll(D)||Nl(B,a,m,W)})};return Je(t,{onBeforeEnter(F){ps(y,[F]),Bt(F,l),Bt(F,i)},onBeforeAppear(F){ps(S,[F]),Bt(F,d),Bt(F,f)},onEnter:L(!1),onAppear:L(!0),onLeave(F,B){F._isLeaving=!0;const H=()=>M(F,B);Bt(F,u),F._enterCancelled?(Bt(F,v),mo()):(mo(),Bt(F,v)),Vl(()=>{F._isLeaving&&(ns(F,u),Bt(F,h),Ll($)||Nl(F,a,p,H))}),ps($,[F,H])},onEnterCancelled(F){k(F,!1,void 0,!0),ps(E,[F])},onAppearCancelled(F){k(F,!0,void 0,!0),ps(b,[F])},onLeaveCancelled(F){M(F),ps(j,[F])}})}function Jd(e){if(e==null)return null;if(Ge(e))return[Yn(e.enter),Yn(e.leave)];{const t=Yn(e);return[t,t]}}function Yn(e){return uu(e)}function Bt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Vs]||(e[Vs]=new Set)).add(t)}function ns(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const s=e[Vs];s&&(s.delete(t),s.size||(e[Vs]=void 0))}function Vl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zd=0;function Nl(e,t,s,a){const o=e._endId=++Zd,l=()=>{o===e._endId&&a()};if(s!=null)return setTimeout(l,s);const{type:i,timeout:r,propCount:d}=uc(e,t);if(!i)return a();const f=i+"end";let c=0;const u=()=>{e.removeEventListener(f,v),l()},v=h=>{h.target===e&&++c>=d&&u()};setTimeout(()=>{c<d&&u()},r+1),e.addEventListener(f,v)}function uc(e,t){const s=window.getComputedStyle(e),a=A=>(s[A]||"").split(", "),o=a(`${ts}Delay`),l=a(`${ts}Duration`),i=Ol(o,l),r=a(`${Gs}Delay`),d=a(`${Gs}Duration`),f=Ol(r,d);let c=null,u=0,v=0;t===ts?i>0&&(c=ts,u=i,v=l.length):t===Gs?f>0&&(c=Gs,u=f,v=d.length):(u=Math.max(i,f),c=u>0?i>f?ts:Gs:null,v=c?c===ts?l.length:d.length:0);const h=c===ts&&/\b(?:transform|all)(?:,|$)/.test(a(`${ts}Property`).toString());return{type:c,timeout:u,propCount:v,hasTransform:h}}function Ol(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>zl(s)+zl(e[a])))}function zl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function mo(){return document.body.offsetHeight}function ef(e,t,s){const a=e[Vs];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ln=Symbol("_vod"),dc=Symbol("_vsh"),tf={name:"show",beforeMount(e,{value:t},{transition:s}){e[ln]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):qs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),qs(e,!0),a.enter(e)):a.leave(e,()=>{qs(e,!1)}):qs(e,t))},beforeUnmount(e,{value:t}){qs(e,t)}};function qs(e,t){e.style.display=t?e[ln]:"none",e[dc]=!t}const fc=Symbol("");function tl(e){const t=Mn();if(!t)return;const s=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(l=>rn(l,o))},a=()=>{const o=e(t.proxy);t.ce?rn(t.ce,o):bo(t.subTree,o),s(o)};Dr(()=>{mr(a)}),Oe(()=>{be(a,It,{flush:"post"});const o=new MutationObserver(a);o.observe(t.subTree.el.parentNode,{childList:!0}),Ea(()=>o.disconnect())})}function bo(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{bo(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)rn(e.el,t);else if(e.type===ge)e.children.forEach(s=>bo(s,t));else if(e.type===ua){let{el:s,anchor:a}=e;for(;s&&(rn(s,t),s!==a);)s=s.nextSibling}}function rn(e,t){if(e.nodeType===1){const s=e.style;let a="";for(const o in t){const l=mu(t[o]);s.setProperty(`--${o}`,l),a+=`--${o}: ${l};`}s[fc]=a}}const sf=/(?:^|;)\s*display\s*:/;function af(e,t,s){const a=e.style,o=Ue(s);let l=!1;if(s&&!o){if(t)if(Ue(t))for(const i of t.split(";")){const r=i.slice(0,i.indexOf(":")).trim();s[r]==null&&Xa(a,r,"")}else for(const i in t)s[i]==null&&Xa(a,i,"");for(const i in s)i==="display"&&(l=!0),Xa(a,i,s[i])}else if(o){if(t!==s){const i=a[fc];i&&(s+=";"+i),a.cssText=s,l=sf.test(s)}}else t&&e.removeAttribute("style");ln in e&&(e[ln]=l?a.display:"",e[dc]&&(a.display="none"))}const jl=/\s*!important$/;function Xa(e,t,s){if($e(s))s.forEach(a=>Xa(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=nf(e,t);jl.test(s)?e.setProperty(_s(a),s.replace(jl,""),"important"):e[a]=s}}const Hl=["Webkit","Moz","ms"],Gn={};function nf(e,t){const s=Gn[t];if(s)return s;let a=xt(t);if(a!=="filter"&&a in e)return Gn[t]=a;a=Cn(a);for(let o=0;o<Hl.length;o++){const l=Hl[o]+a;if(l in e)return Gn[t]=l}return t}const Yl="http://www.w3.org/1999/xlink";function Gl(e,t,s,a,o,l=gu(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Yl,t.slice(6,t.length)):e.setAttributeNS(Yl,t,s):s==null||l&&!Wi(s)?e.removeAttribute(t):e.setAttribute(t,l?"":ds(s)?String(s):s)}function ql(e,t,s,a,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?lc(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const r=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(r!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=Wi(s):s==null&&r==="string"?(s="",i=!0):r==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(o||t)}function Es(e,t,s,a){e.addEventListener(t,s,a)}function of(e,t,s,a){e.removeEventListener(t,s,a)}const Ul=Symbol("_vei");function lf(e,t,s,a,o=null){const l=e[Ul]||(e[Ul]={}),i=l[t];if(a&&i)i.value=a;else{const[r,d]=rf(t);if(a){const f=l[t]=df(a,o);Es(e,r,f,d)}else i&&(of(e,r,i,d),l[t]=void 0)}}const Wl=/(?:Once|Passive|Capture)$/;function rf(e){let t;if(Wl.test(e)){t={};let a;for(;a=e.match(Wl);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_s(e.slice(2)),t]}let qn=0;const cf=Promise.resolve(),uf=()=>qn||(cf.then(()=>qn=0),qn=Date.now());function df(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Ft(ff(a,s.value),t,5,[a])};return s.value=e,s.attached=uf(),s}function ff(e,t){if($e(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>o=>!o._stopped&&a&&a(o))}else return t}const Xl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vf=(e,t,s,a,o,l)=>{const i=o==="svg";t==="class"?ef(e,a,i):t==="style"?af(e,s,a):yn(t)?Vo(t)||lf(e,t,s,a,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hf(e,t,a,i))?(ql(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Gl(e,t,a,i,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(a))?ql(e,xt(t),a,l,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Gl(e,t,a,i))};function hf(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xl(t)&&xe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Xl(t)&&Ue(s)?!1:t in e}const vc=new WeakMap,hc=new WeakMap,cn=Symbol("_moveCb"),Kl=Symbol("_enterCb"),pf=e=>(delete e.props.mode,e),gf=pf({name:"TransitionGroup",props:Je({},rc,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Mn(),a=$r();let o,l;return Tr(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!wf(o[0].el,s.vnode.el,i)){o=[];return}o.forEach(bf),o.forEach(yf);const r=o.filter(Af);mo(),r.forEach(d=>{const f=d.el,c=f.style;Bt(f,i),c.transform=c.webkitTransform=c.transitionDuration="";const u=f[cn]=v=>{v&&v.target!==f||(!v||v.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",u),f[cn]=null,ns(f,i))};f.addEventListener("transitionend",u)}),o=[]}),()=>{const i=De(e),r=cc(i);let d=i.tag||ge;if(o=[],l)for(let f=0;f<l.length;f++){const c=l[f];c.el&&c.el instanceof Element&&(o.push(c),As(c,ba(c,r,a,s)),vc.set(c,c.el.getBoundingClientRect()))}l=t.default?Xo(t.default()):[];for(let f=0;f<l.length;f++){const c=l[f];c.key!=null&&As(c,ba(c,r,a,s))}return ye(d,null,l)}}}),mf=gf;function bf(e){const t=e.el;t[cn]&&t[cn](),t[Kl]&&t[Kl]()}function yf(e){hc.set(e,e.el.getBoundingClientRect())}function Af(e){const t=vc.get(e),s=hc.get(e),a=t.left-s.left,o=t.top-s.top;if(a||o){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${a}px,${o}px)`,l.transitionDuration="0s",e}}function wf(e,t,s){const a=e.cloneNode(),o=e[Vs];o&&o.forEach(r=>{r.split(/\s+/).forEach(d=>d&&a.classList.remove(d))}),s.split(/\s+/).forEach(r=>r&&a.classList.add(r)),a.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(a);const{hasTransform:i}=uc(a);return l.removeChild(a),i}const Ql=e=>{const t=e.props["onUpdate:modelValue"]||!1;return $e(t)?s=>Ga(t,s):t};function Cf(e){e.target.composing=!0}function Jl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Un=Symbol("_assign"),fa={created(e,{modifiers:{lazy:t,trim:s,number:a}},o){e[Un]=Ql(o);const l=a||o.props&&o.props.type==="number";Es(e,t?"change":"input",i=>{if(i.target.composing)return;let r=e.value;s&&(r=r.trim()),l&&(r=no(r)),e[Un](r)}),s&&Es(e,"change",()=>{e.value=e.value.trim()}),t||(Es(e,"compositionstart",Cf),Es(e,"compositionend",Jl),Es(e,"change",Jl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:o,number:l}},i){if(e[Un]=Ql(i),e.composing)return;const r=(l||e.type==="number")&&!/^0\d/.test(e.value)?no(e.value):e.value,d=t??"";r!==d&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||o&&e.value.trim()===d)||(e.value=d))}},_f=["ctrl","shift","alt","meta"],kf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_f.some(s=>e[`${s}Key`]&&!t.includes(s))},nt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(o,...l)=>{for(let i=0;i<t.length;i++){const r=kf[t[i]];if(r&&r(o,t))return}return e(o,...l)})},$f=Je({patchProp:vf},Kd);let Zl;function Sf(){return Zl||(Zl=yd($f))}const xf=(...e)=>{const t=Sf().createApp(...e),{mount:s}=t;return t.mount=a=>{const o=If(a);if(!o)return;const l=t._component;!xe(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=s(o,!1,Ef(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Ef(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function If(e){return Ue(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Is=typeof document<"u";function pc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Pf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&pc(e.default)}const Le=Object.assign;function Wn(e,t){const s={};for(const a in t){const o=t[a];s[a]=Dt(o)?o.map(e):e(o)}return s}const va=()=>{},Dt=Array.isArray,gc=/#/g,Mf=/&/g,Ff=/\//g,Df=/=/g,Tf=/\?/g,mc=/\+/g,Bf=/%5B/g,Rf=/%5D/g,bc=/%5E/g,Lf=/%60/g,yc=/%7B/g,Vf=/%7C/g,Ac=/%7D/g,Nf=/%20/g;function sl(e){return encodeURI(""+e).replace(Vf,"|").replace(Bf,"[").replace(Rf,"]")}function Of(e){return sl(e).replace(yc,"{").replace(Ac,"}").replace(bc,"^")}function yo(e){return sl(e).replace(mc,"%2B").replace(Nf,"+").replace(gc,"%23").replace(Mf,"%26").replace(Lf,"`").replace(yc,"{").replace(Ac,"}").replace(bc,"^")}function zf(e){return yo(e).replace(Df,"%3D")}function jf(e){return sl(e).replace(gc,"%23").replace(Tf,"%3F")}function Hf(e){return e==null?"":jf(e).replace(Ff,"%2F")}function wa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Yf=/\/$/,Gf=e=>e.replace(Yf,"");function Xn(e,t,s="/"){let a,o={},l="",i="";const r=t.indexOf("#");let d=t.indexOf("?");return r<d&&r>=0&&(d=-1),d>-1&&(a=t.slice(0,d),l=t.slice(d+1,r>-1?r:t.length),o=e(l)),r>-1&&(a=a||t.slice(0,r),i=t.slice(r,t.length)),a=Xf(a??t,s),{fullPath:a+(l&&"?")+l+i,path:a,query:o,hash:wa(i)}}function qf(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function ei(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Uf(e,t,s){const a=t.matched.length-1,o=s.matched.length-1;return a>-1&&a===o&&Ns(t.matched[a],s.matched[o])&&wc(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ns(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Wf(e[s],t[s]))return!1;return!0}function Wf(e,t){return Dt(e)?ti(e,t):Dt(t)?ti(t,e):e===t}function ti(e,t){return Dt(t)?e.length===t.length&&e.every((s,a)=>s===t[a]):e.length===1&&e[0]===t}function Xf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),a=e.split("/"),o=a[a.length-1];(o===".."||o===".")&&a.push("");let l=s.length-1,i,r;for(i=0;i<a.length;i++)if(r=a[i],r!==".")if(r==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+a.slice(i).join("/")}const ss={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ca;(function(e){e.pop="pop",e.push="push"})(Ca||(Ca={}));var ha;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ha||(ha={}));function Kf(e){if(!e)if(Is){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Gf(e)}const Qf=/^[^#]+#/;function Jf(e,t){return e.replace(Qf,"#")+t}function Zf(e,t){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-s.left-(t.left||0),top:a.top-s.top-(t.top||0)}}const Dn=()=>({left:window.scrollX,top:window.scrollY});function ev(e){let t;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=Zf(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function si(e,t){return(history.state?history.state.position-t:-1)+e}const Ao=new Map;function tv(e,t){Ao.set(e,t)}function sv(e){const t=Ao.get(e);return Ao.delete(e),t}let av=()=>location.protocol+"//"+location.host;function Cc(e,t){const{pathname:s,search:a,hash:o}=t,l=e.indexOf("#");if(l>-1){let r=o.includes(e.slice(l))?e.slice(l).length:1,d=o.slice(r);return d[0]!=="/"&&(d="/"+d),ei(d,"")}return ei(s,e)+a+o}function nv(e,t,s,a){let o=[],l=[],i=null;const r=({state:v})=>{const h=Cc(e,location),A=s.value,m=t.value;let p=0;if(v){if(s.value=h,t.value=v,i&&i===A){i=null;return}p=m?v.position-m.position:0}else a(h);o.forEach(y=>{y(s.value,A,{delta:p,type:Ca.pop,direction:p?p>0?ha.forward:ha.back:ha.unknown})})};function d(){i=s.value}function f(v){o.push(v);const h=()=>{const A=o.indexOf(v);A>-1&&o.splice(A,1)};return l.push(h),h}function c(){const{history:v}=window;v.state&&v.replaceState(Le({},v.state,{scroll:Dn()}),"")}function u(){for(const v of l)v();l=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:d,listen:f,destroy:u}}function ai(e,t,s,a=!1,o=!1){return{back:e,current:t,forward:s,replaced:a,position:window.history.length,scroll:o?Dn():null}}function ov(e){const{history:t,location:s}=window,a={value:Cc(e,s)},o={value:t.state};o.value||l(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,f,c){const u=e.indexOf("#"),v=u>-1?(s.host&&document.querySelector("base")?e:e.slice(u))+d:av()+e+d;try{t[c?"replaceState":"pushState"](f,"",v),o.value=f}catch(h){console.error(h),s[c?"replace":"assign"](v)}}function i(d,f){const c=Le({},t.state,ai(o.value.back,d,o.value.forward,!0),f,{position:o.value.position});l(d,c,!0),a.value=d}function r(d,f){const c=Le({},o.value,t.state,{forward:d,scroll:Dn()});l(c.current,c,!0);const u=Le({},ai(a.value,d,null),{position:c.position+1},f);l(d,u,!1),a.value=d}return{location:a,state:o,push:r,replace:i}}function lv(e){e=Kf(e);const t=ov(e),s=nv(e,t.state,t.location,t.replace);function a(l,i=!0){i||s.pauseListeners(),history.go(l)}const o=Le({location:"",base:e,go:a,createHref:Jf.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function iv(e){return typeof e=="string"||e&&typeof e=="object"}function _c(e){return typeof e=="string"||typeof e=="symbol"}const kc=Symbol("");var ni;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ni||(ni={}));function Os(e,t){return Le(new Error,{type:e,[kc]:!0},t)}function Gt(e,t){return e instanceof Error&&kc in e&&(t==null||!!(e.type&t))}const oi="[^/]+?",rv={sensitive:!1,strict:!1,start:!0,end:!0},cv=/[.+*?^${}()[\]/\\]/g;function uv(e,t){const s=Le({},rv,t),a=[];let o=s.start?"^":"";const l=[];for(const f of e){const c=f.length?[]:[90];s.strict&&!f.length&&(o+="/");for(let u=0;u<f.length;u++){const v=f[u];let h=40+(s.sensitive?.25:0);if(v.type===0)u||(o+="/"),o+=v.value.replace(cv,"\\$&"),h+=40;else if(v.type===1){const{value:A,repeatable:m,optional:p,regexp:y}=v;l.push({name:A,repeatable:m,optional:p});const w=y||oi;if(w!==oi){h+=10;try{new RegExp(`(${w})`)}catch($){throw new Error(`Invalid custom RegExp for param "${A}" (${w}): `+$.message)}}let E=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;u||(E=p&&f.length<2?`(?:/${E})`:"/"+E),p&&(E+="?"),o+=E,h+=20,p&&(h+=-8),m&&(h+=-20),w===".*"&&(h+=-50)}c.push(h)}a.push(c)}if(s.strict&&s.end){const f=a.length-1;a[f][a[f].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,s.sensitive?"":"i");function r(f){const c=f.match(i),u={};if(!c)return null;for(let v=1;v<c.length;v++){const h=c[v]||"",A=l[v-1];u[A.name]=h&&A.repeatable?h.split("/"):h}return u}function d(f){let c="",u=!1;for(const v of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const h of v)if(h.type===0)c+=h.value;else if(h.type===1){const{value:A,repeatable:m,optional:p}=h,y=A in f?f[A]:"";if(Dt(y)&&!m)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const w=Dt(y)?y.join("/"):y;if(!w)if(p)v.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${A}"`);c+=w}}return c||"/"}return{re:i,score:a,keys:l,parse:r,stringify:d}}function dv(e,t){let s=0;for(;s<e.length&&s<t.length;){const a=t[s]-e[s];if(a)return a;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function $c(e,t){let s=0;const a=e.score,o=t.score;for(;s<a.length&&s<o.length;){const l=dv(a[s],o[s]);if(l)return l;s++}if(Math.abs(o.length-a.length)===1){if(li(a))return 1;if(li(o))return-1}return o.length-a.length}function li(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const fv={type:0,value:""},vv=/[a-zA-Z0-9_]/;function hv(e){if(!e)return[[]];if(e==="/")return[[fv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${f}": ${h}`)}let s=0,a=s;const o=[];let l;function i(){l&&o.push(l),l=[]}let r=0,d,f="",c="";function u(){f&&(s===0?l.push({type:0,value:f}):s===1||s===2||s===3?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:f,regexp:c,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=d}for(;r<e.length;){if(d=e[r++],d==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:d==="/"?(f&&u(),i()):d===":"?(u(),s=1):v();break;case 4:v(),s=a;break;case 1:d==="("?s=2:vv.test(d)?v():(u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&r--);break;case 2:d===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+d:s=3:c+=d;break;case 3:u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&r--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${f}"`),u(),i(),o}function pv(e,t,s){const a=uv(hv(e.path),s),o=Le(a,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function gv(e,t){const s=[],a=new Map;t=ui({strict:!1,end:!0,sensitive:!1},t);function o(u){return a.get(u)}function l(u,v,h){const A=!h,m=ri(u);m.aliasOf=h&&h.record;const p=ui(t,u),y=[m];if("alias"in u){const $=typeof u.alias=="string"?[u.alias]:u.alias;for(const j of $)y.push(ri(Le({},m,{components:h?h.record.components:m.components,path:j,aliasOf:h?h.record:m})))}let w,E;for(const $ of y){const{path:j}=$;if(v&&j[0]!=="/"){const S=v.record.path,x=S[S.length-1]==="/"?"":"/";$.path=v.record.path+(j&&x+j)}if(w=pv($,v,p),h?h.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),A&&u.name&&!ci(w)&&i(u.name)),Sc(w)&&d(w),m.children){const S=m.children;for(let x=0;x<S.length;x++)l(S[x],w,h&&h.children[x])}h=h||w}return E?()=>{i(E)}:va}function i(u){if(_c(u)){const v=a.get(u);v&&(a.delete(u),s.splice(s.indexOf(v),1),v.children.forEach(i),v.alias.forEach(i))}else{const v=s.indexOf(u);v>-1&&(s.splice(v,1),u.record.name&&a.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function r(){return s}function d(u){const v=yv(u,s);s.splice(v,0,u),u.record.name&&!ci(u)&&a.set(u.record.name,u)}function f(u,v){let h,A={},m,p;if("name"in u&&u.name){if(h=a.get(u.name),!h)throw Os(1,{location:u});p=h.record.name,A=Le(ii(v.params,h.keys.filter(E=>!E.optional).concat(h.parent?h.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),u.params&&ii(u.params,h.keys.map(E=>E.name))),m=h.stringify(A)}else if(u.path!=null)m=u.path,h=s.find(E=>E.re.test(m)),h&&(A=h.parse(m),p=h.record.name);else{if(h=v.name?a.get(v.name):s.find(E=>E.re.test(v.path)),!h)throw Os(1,{location:u,currentLocation:v});p=h.record.name,A=Le({},v.params,u.params),m=h.stringify(A)}const y=[];let w=h;for(;w;)y.unshift(w.record),w=w.parent;return{name:p,path:m,params:A,matched:y,meta:bv(y)}}e.forEach(u=>l(u));function c(){s.length=0,a.clear()}return{addRoute:l,resolve:f,removeRoute:i,clearRoutes:c,getRoutes:r,getRecordMatcher:o}}function ii(e,t){const s={};for(const a of t)a in e&&(s[a]=e[a]);return s}function ri(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:mv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function mv(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const a in e.components)t[a]=typeof s=="object"?s[a]:s;return t}function ci(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function bv(e){return e.reduce((t,s)=>Le(t,s.meta),{})}function ui(e,t){const s={};for(const a in e)s[a]=a in t?t[a]:e[a];return s}function yv(e,t){let s=0,a=t.length;for(;s!==a;){const l=s+a>>1;$c(e,t[l])<0?a=l:s=l+1}const o=Av(e);return o&&(a=t.lastIndexOf(o,a-1)),a}function Av(e){let t=e;for(;t=t.parent;)if(Sc(t)&&$c(e,t)===0)return t}function Sc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function wv(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<a.length;++o){const l=a[o].replace(mc," "),i=l.indexOf("="),r=wa(i<0?l:l.slice(0,i)),d=i<0?null:wa(l.slice(i+1));if(r in t){let f=t[r];Dt(f)||(f=t[r]=[f]),f.push(d)}else t[r]=d}return t}function di(e){let t="";for(let s in e){const a=e[s];if(s=zf(s),a==null){a!==void 0&&(t+=(t.length?"&":"")+s);continue}(Dt(a)?a.map(l=>l&&yo(l)):[a&&yo(a)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function Cv(e){const t={};for(const s in e){const a=e[s];a!==void 0&&(t[s]=Dt(a)?a.map(o=>o==null?null:""+o):a==null?a:""+a)}return t}const _v=Symbol(""),fi=Symbol(""),Tn=Symbol(""),al=Symbol(""),wo=Symbol("");function Us(){let e=[];function t(a){return e.push(a),()=>{const o=e.indexOf(a);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function is(e,t,s,a,o,l=i=>i()){const i=a&&(a.enterCallbacks[o]=a.enterCallbacks[o]||[]);return()=>new Promise((r,d)=>{const f=v=>{v===!1?d(Os(4,{from:s,to:t})):v instanceof Error?d(v):iv(v)?d(Os(2,{from:t,to:v})):(i&&a.enterCallbacks[o]===i&&typeof v=="function"&&i.push(v),r())},c=l(()=>e.call(a&&a.instances[o],t,s,f));let u=Promise.resolve(c);e.length<3&&(u=u.then(f)),u.catch(v=>d(v))})}function Kn(e,t,s,a,o=l=>l()){const l=[];for(const i of e)for(const r in i.components){let d=i.components[r];if(!(t!=="beforeRouteEnter"&&!i.instances[r]))if(pc(d)){const c=(d.__vccOpts||d)[t];c&&l.push(is(c,s,a,i,r,o))}else{let f=d();l.push(()=>f.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${r}" at "${i.path}"`);const u=Pf(c)?c.default:c;i.mods[r]=c,i.components[r]=u;const h=(u.__vccOpts||u)[t];return h&&is(h,s,a,i,r,o)()}))}}return l}function vi(e){const t=Mt(Tn),s=Mt(al),a=K(()=>{const d=q(e.to);return t.resolve(d)}),o=K(()=>{const{matched:d}=a.value,{length:f}=d,c=d[f-1],u=s.matched;if(!c||!u.length)return-1;const v=u.findIndex(Ns.bind(null,c));if(v>-1)return v;const h=hi(d[f-2]);return f>1&&hi(c)===h&&u[u.length-1].path!==h?u.findIndex(Ns.bind(null,d[f-2])):v}),l=K(()=>o.value>-1&&Ev(s.params,a.value.params)),i=K(()=>o.value>-1&&o.value===s.matched.length-1&&wc(s.params,a.value.params));function r(d={}){if(xv(d)){const f=t[q(e.replace)?"replace":"push"](q(e.to)).catch(va);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:a,href:K(()=>a.value.href),isActive:l,isExactActive:i,navigate:r}}function kv(e){return e.length===1?e[0]:e}const $v=Pr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vi,setup(e,{slots:t}){const s=$n(vi(e)),{options:a}=Mt(Tn),o=K(()=>({[pi(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[pi(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&kv(t.default(s));return e.custom?l:ce("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},l)}}}),Sv=$v;function xv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ev(e,t){for(const s in t){const a=t[s],o=e[s];if(typeof a=="string"){if(a!==o)return!1}else if(!Dt(o)||o.length!==a.length||a.some((l,i)=>l!==o[i]))return!1}return!0}function hi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pi=(e,t,s)=>e??t??s,Iv=Pr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const a=Mt(wo),o=K(()=>e.route||a.value),l=Mt(fi,0),i=K(()=>{let f=q(l);const{matched:c}=o.value;let u;for(;(u=c[f])&&!u.components;)f++;return f}),r=K(()=>o.value.matched[i.value]);Ua(fi,K(()=>i.value+1)),Ua(_v,r),Ua(wo,o);const d=V();return be(()=>[d.value,r.value,e.name],([f,c,u],[v,h,A])=>{c&&(c.instances[u]=f,h&&h!==c&&f&&f===v&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),f&&c&&(!h||!Ns(c,h)||!v)&&(c.enterCallbacks[u]||[]).forEach(m=>m(f))},{flush:"post"}),()=>{const f=o.value,c=e.name,u=r.value,v=u&&u.components[c];if(!v)return gi(s.default,{Component:v,route:f});const h=u.props[c],A=h?h===!0?f.params:typeof h=="function"?h(f):h:null,p=ce(v,Le({},A,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[c]=null)},ref:d}));return gi(s.default,{Component:p,route:f})||p}}});function gi(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Pv=Iv;function Mv(e){const t=gv(e.routes,e),s=e.parseQuery||wv,a=e.stringifyQuery||di,o=e.history,l=Us(),i=Us(),r=Us(),d=Nu(ss);let f=ss;Is&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Wn.bind(null,U=>""+U),u=Wn.bind(null,Hf),v=Wn.bind(null,wa);function h(U,X){let T,se;return _c(U)?(T=t.getRecordMatcher(U),se=X):se=U,t.addRoute(se,T)}function A(U){const X=t.getRecordMatcher(U);X&&t.removeRoute(X)}function m(){return t.getRoutes().map(U=>U.record)}function p(U){return!!t.getRecordMatcher(U)}function y(U,X){if(X=Le({},X||d.value),typeof U=="string"){const R=Xn(s,U,X.path),Y=t.resolve({path:R.path},X),Z=o.createHref(R.fullPath);return Le(R,Y,{params:v(Y.params),hash:wa(R.hash),redirectedFrom:void 0,href:Z})}let T;if(U.path!=null)T=Le({},U,{path:Xn(s,U.path,X.path).path});else{const R=Le({},U.params);for(const Y in R)R[Y]==null&&delete R[Y];T=Le({},U,{params:u(R)}),X.params=u(X.params)}const se=t.resolve(T,X),z=U.hash||"";se.params=c(v(se.params));const I=qf(a,Le({},U,{hash:Of(z),path:se.path})),_=o.createHref(I);return Le({fullPath:I,hash:z,query:a===di?Cv(U.query):U.query||{}},se,{redirectedFrom:void 0,href:_})}function w(U){return typeof U=="string"?Xn(s,U,d.value.path):Le({},U)}function E(U,X){if(f!==U)return Os(8,{from:X,to:U})}function $(U){return x(U)}function j(U){return $(Le(w(U),{replace:!0}))}function S(U){const X=U.matched[U.matched.length-1];if(X&&X.redirect){const{redirect:T}=X;let se=typeof T=="function"?T(U):T;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=w(se):{path:se},se.params={}),Le({query:U.query,hash:U.hash,params:se.path!=null?{}:U.params},se)}}function x(U,X){const T=f=y(U),se=d.value,z=U.state,I=U.force,_=U.replace===!0,R=S(T);if(R)return x(Le(w(R),{state:typeof R=="object"?Le({},z,R.state):z,force:I,replace:_}),X||T);const Y=T;Y.redirectedFrom=X;let Z;return!I&&Uf(a,se,T)&&(Z=Os(16,{to:Y,from:se}),we(se,se,!0,!1)),(Z?Promise.resolve(Z):M(Y,se)).catch(J=>Gt(J)?Gt(J,2)?J:ve(J):ee(J,Y,se)).then(J=>{if(J){if(Gt(J,2))return x(Le({replace:_},w(J.to),{state:typeof J.to=="object"?Le({},z,J.to.state):z,force:I}),X||Y)}else J=F(Y,se,!0,_,z);return L(Y,se,J),J})}function b(U,X){const T=E(U,X);return T?Promise.reject(T):Promise.resolve()}function k(U){const X=P.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(U):U()}function M(U,X){let T;const[se,z,I]=Fv(U,X);T=Kn(se.reverse(),"beforeRouteLeave",U,X);for(const R of se)R.leaveGuards.forEach(Y=>{T.push(is(Y,U,X))});const _=b.bind(null,U,X);return T.push(_),O(T).then(()=>{T=[];for(const R of l.list())T.push(is(R,U,X));return T.push(_),O(T)}).then(()=>{T=Kn(z,"beforeRouteUpdate",U,X);for(const R of z)R.updateGuards.forEach(Y=>{T.push(is(Y,U,X))});return T.push(_),O(T)}).then(()=>{T=[];for(const R of I)if(R.beforeEnter)if(Dt(R.beforeEnter))for(const Y of R.beforeEnter)T.push(is(Y,U,X));else T.push(is(R.beforeEnter,U,X));return T.push(_),O(T)}).then(()=>(U.matched.forEach(R=>R.enterCallbacks={}),T=Kn(I,"beforeRouteEnter",U,X,k),T.push(_),O(T))).then(()=>{T=[];for(const R of i.list())T.push(is(R,U,X));return T.push(_),O(T)}).catch(R=>Gt(R,8)?R:Promise.reject(R))}function L(U,X,T){r.list().forEach(se=>k(()=>se(U,X,T)))}function F(U,X,T,se,z){const I=E(U,X);if(I)return I;const _=X===ss,R=Is?history.state:{};T&&(se||_?o.replace(U.fullPath,Le({scroll:_&&R&&R.scroll},z)):o.push(U.fullPath,z)),d.value=U,we(U,X,T,_),ve()}let B;function H(){B||(B=o.listen((U,X,T)=>{if(!N.listening)return;const se=y(U),z=S(se);if(z){x(Le(z,{replace:!0,force:!0}),se).catch(va);return}f=se;const I=d.value;Is&&tv(si(I.fullPath,T.delta),Dn()),M(se,I).catch(_=>Gt(_,12)?_:Gt(_,2)?(x(Le(w(_.to),{force:!0}),se).then(R=>{Gt(R,20)&&!T.delta&&T.type===Ca.pop&&o.go(-1,!1)}).catch(va),Promise.reject()):(T.delta&&o.go(-T.delta,!1),ee(_,se,I))).then(_=>{_=_||F(se,I,!1),_&&(T.delta&&!Gt(_,8)?o.go(-T.delta,!1):T.type===Ca.pop&&Gt(_,20)&&o.go(-1,!1)),L(se,I,_)}).catch(va)}))}let D=Us(),W=Us(),Q;function ee(U,X,T){ve(U);const se=W.list();return se.length?se.forEach(z=>z(U,X,T)):console.error(U),Promise.reject(U)}function ae(){return Q&&d.value!==ss?Promise.resolve():new Promise((U,X)=>{D.add([U,X])})}function ve(U){return Q||(Q=!U,H(),D.list().forEach(([X,T])=>U?T(U):X()),D.reset()),U}function we(U,X,T,se){const{scrollBehavior:z}=e;if(!Is||!z)return Promise.resolve();const I=!T&&sv(si(U.fullPath,0))||(se||!T)&&history.state&&history.state.scroll||null;return ze().then(()=>z(U,X,I)).then(_=>_&&ev(_)).catch(_=>ee(_,U,X))}const fe=U=>o.go(U);let te;const P=new Set,N={currentRoute:d,listening:!0,addRoute:h,removeRoute:A,clearRoutes:t.clearRoutes,hasRoute:p,getRoutes:m,resolve:y,options:e,push:$,replace:j,go:fe,back:()=>fe(-1),forward:()=>fe(1),beforeEach:l.add,beforeResolve:i.add,afterEach:r.add,onError:W.add,isReady:ae,install(U){const X=this;U.component("RouterLink",Sv),U.component("RouterView",Pv),U.config.globalProperties.$router=X,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>q(d)}),Is&&!te&&d.value===ss&&(te=!0,$(o.location).catch(z=>{}));const T={};for(const z in ss)Object.defineProperty(T,z,{get:()=>d.value[z],enumerable:!0});U.provide(Tn,X),U.provide(al,dr(T)),U.provide(wo,d);const se=U.unmount;P.add(U),U.unmount=function(){P.delete(U),P.size<1&&(f=ss,B&&B(),B=null,d.value=ss,te=!1,Q=!1),se()}}};function O(U){return U.reduce((X,T)=>X.then(()=>k(T)),Promise.resolve())}return N}function Fv(e,t){const s=[],a=[],o=[],l=Math.max(t.matched.length,e.matched.length);for(let i=0;i<l;i++){const r=t.matched[i];r&&(e.matched.find(f=>Ns(f,r))?a.push(r):s.push(r));const d=e.matched[i];d&&(t.matched.find(f=>Ns(f,d))||o.push(d))}return[s,a,o]}function Hs(){return Mt(Tn)}function xc(e){return Mt(al)}const Dv=()=>{const e=Hs(),t=V("plataforma"),s=V(!1),a=K(()=>s.value?"/PlataformaFinanzasSostenibles/logo-placeholder.png":"/PlataformaFinanzasSostenibles/logo-ofcm.png"),o=V("Observatorio de Financiamiento Climtico en Mxico"),l=V([{id:"inicio",label:"Inicio",url:"/",external:!1},{id:"acerca",label:"Acerca de",url:"/acerca",external:!1},{id:"plataforma",label:"Plataforma",url:"/finanzas/mapas",external:!1}]),i=v=>{t.value=v.id,v.external?window.open(v.url,"_blank"):e.push(v.url),console.log("Navegando a:",v.label)},r=()=>{console.warn("Error al cargar el logo"),s.value=!0},d=v=>{t.value=v},f=v=>{if(!v.id||!v.label||!v.url){console.error("Link invlido: debe tener id, label y url");return}l.value.push(v)},c=v=>{const h=l.value.findIndex(A=>A.id===v);h>-1&&l.value.splice(h,1)},u=K(()=>l.value.find(v=>v.id===t.value));return{logoUrl:a,logoAlt:o,navigationLinks:l,activeLink:t,currentLink:u,handleNavClick:i,handleLogoError:r,setActiveLink:d,addNavigationLink:f,removeNavigationLink:c}},Ie=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s},Tv={class:"platform-header"},Bv={class:"header-container"},Rv={class:"logo-section"},Lv=["src","alt"],Vv={class:"header-nav"},Nv=["href","onClick"],Ov={__name:"HeaderComponent",setup(e){const{logoUrl:t,logoAlt:s,navigationLinks:a,activeLink:o,handleNavClick:l,handleLogoError:i}=Dv();return(r,d)=>{const f=Rr("router-link");return g(),C("header",Tv,[n("div",Bv,[n("div",Rv,[ye(f,{to:"/",class:"logo-link"},{default:at(()=>[n("img",{src:q(t),alt:q(s),class:"logo-image",onError:d[0]||(d[0]=(...c)=>q(i)&&q(i)(...c))},null,40,Lv)]),_:1})]),n("nav",Vv,[(g(!0),C(ge,null,_e(q(a),(c,u)=>(g(),C("a",{key:c.id,href:c.url,class:pe(["nav-link",{active:q(o)===c.id}]),onClick:nt(v=>q(l)(c),["prevent"])},G(c.label),11,Nv))),128))])])])}}},zv=Ie(Ov,[["__scopeId","data-v-fcd9fef3"]]),jv={class:"title-bar"},Hv={class:"title-container"},Yv={class:"title-content"},Gv={class:"page-title"},qv={class:"last-update"},Uv={__name:"TitleBarComponent",props:{title:{type:String,default:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)"},lastUpdate:{type:String,default:"24 de septiembre de 2025"}},setup(e){const t=()=>{console.log("Descargando datos..."),alert("Funcin de descarga")},s=()=>{console.log("Mostrando ayuda..."),alert("Ayuda de la plataforma IFSS")};return(a,o)=>(g(),C("div",jv,[n("div",Hv,[n("div",Yv,[n("h1",Gv,G(e.title),1),n("p",qv,"ltima actualizacin: "+G(e.lastUpdate),1)]),n("div",{class:"action-buttons"},[n("button",{class:"action-btn download-btn",onClick:t,title:"Descargar datos"},[...o[0]||(o[0]=[n("span",{class:"btn-icon"},"",-1)])]),n("button",{class:"action-btn help-btn",onClick:s,title:"Ayuda"},[...o[1]||(o[1]=[n("span",{class:"btn-icon"},"?",-1)])])])])]))}},Wv=Ie(Uv,[["__scopeId","data-v-ac0d2683"]]),Xv={id:"app"},Kv={class:"app-main"},Qv={__name:"App",setup(e){return(t,s)=>{const a=Rr("router-view");return g(),C("div",Xv,[ye(zv),ye(Wv,{title:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)",lastUpdate:"24 de septiembre de 2025"}),n("main",Kv,[ye(a)])])}}},zt=()=>{const e=V(null),t=V(null),s=V(!0),a=V(null),o=V(null),l=V(null),i=V({width:470.2,height:300.4,scale:700,center:[-106,25],projection:"geoMercator"}),r=K(()=>{if(!t.value)return null;const k=Object.values(t.value).filter(F=>F.value&&F.value>0),L=k.reduce((F,B)=>F+B.value,0)/k.length;return{value:Math.round(L*100)/100,label:x(L)}}),d=async()=>{try{const b=await fetch("/PlataformaFinanzasSostenibles/mexicoStates.json");if(!b.ok)throw new Error("Error al cargar datos geogrficos");e.value=await b.json(),console.log("GeoData cargado:",e.value)}catch(b){console.error("Error cargando GeoJSON:",b),a.value=b.message}},f=async()=>{try{const b=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!b.ok)throw new Error("Error al cargar datos de sustentabilidad");const k=await b.json();t.value=k.reduce((M,L)=>(M[L.region]=L,M),{}),console.log("Datos procesados:",t.value)}catch(b){console.error("Error cargando datos de sustentabilidad:",b),a.value=b.message}},c=async()=>{s.value=!0,a.value=null;try{await Promise.all([d(),f()])}catch(b){a.value=b.message}finally{s.value=!1}},u=b=>{if(!t.value||!t.value[b])return"#e0e0e0";const M=t.value[b].value||0;return M>=2.5?"#6ac952":M>=2?"#94d351":M>=1.8?"#bddc50":M>=1.5?"#e6d64f":M>=1?"#e6a74c":M>=.7?"#e67849":"#e52845"},v=b=>{if(!t.value||!t.value[b])return{region:b,value:0,year:2023,descripcion:"Sin datos IFSS disponibles"};const k=t.value[b];return{region:k.region,year:k.year,value:k.value,descripcion:`IFSS: ${k.value} - ${x(k.value).label} nivel de finanzas sostenibles.`}},h=K(()=>{if(!t.value)return null;const k=Object.values(t.value).map(H=>H.value||0).filter(H=>H>0);if(k.length===0)return null;const M=k.length,L=k.reduce((H,D)=>H+D,0)/M,F=Math.max(...k),B=Math.min(...k);return{totalStates:M,avgIFSS:Math.round(L*100)/100,maxIFSS:F,minIFSS:B,year:2023}}),A=K(()=>t.value?Object.entries(t.value).sort((b,k)=>(k[1].value||0)-(b[1].value||0)).slice(0,5).map(([b,k])=>({name:b,region:k.region,year:k.year,value:k.value})):[]),m=K(()=>t.value?Object.entries(t.value).sort((b,k)=>(b[1].value||0)-(k[1].value||0)).slice(0,5).map(([b,k])=>({name:b,region:k.region,year:k.year,value:k.value})):[]),p=b=>{if(console.log("=== USEMAPS: handleStateClick llamado con ===",b),console.log("=== USEMAPS: sustainabilityData disponible? ===",!!t.value),!b){o.value=null;return}const k=b.trim();console.log("=== USEMAPS: Nombre normalizado ===",k),t.value&&(console.log("=== USEMAPS: Keys en sustainabilityData ===",Object.keys(t.value)),t.value[k]?(o.value=o.value===k?null:k,console.log("=== USEMAPS: selectedState actualizado a ===",o.value)):console.warn("=== USEMAPS: Estado NO encontrado ===",k))},y=b=>{l.value=b},w=()=>{l.value=null},E=()=>{o.value=null,l.value=null},$=(b,k)=>{i.value={...i.value,width:b,height:k}},j=b=>{if(!t.value||!b)return[];const k=b.toLowerCase();return Object.keys(t.value).filter(M=>M.toLowerCase().includes(k)).map(M=>({name:M,region:t.value[M].region,year:t.value[M].year,value:t.value[M].value}))},S=(b=0,k=3)=>t.value?Object.entries(t.value).filter(([M,L])=>{const F=L.value||0;return F>=b&&F<=k}).map(([M,L])=>({name:M,region:L.region,year:L.year,value:L.value})):[],x=b=>b>=2.5?{label:"Muy alto",color:"#6ac952"}:b>=2?{label:"Alto",color:"#94d351"}:b>=1.8?{label:"Medio alto",color:"#bddc50"}:b>=1.5?{label:"Medio",color:"#e6d64f"}:b>=1?{label:"Medio bajo",color:"#e6a74c"}:b>=.7?{label:"Bajo",color:"#e67849"}:{label:"Muy bajo",color:"#e52845"};return Oe(()=>{c()}),{geoData:e,sustainabilityData:t,loading:s,error:a,selectedState:o,hoveredState:l,mapConfig:i,generalStats:h,topPerformingStates:A,worstPerformingStates:m,nationalIFSS:r,getStateColor:u,getStateInfo:v,getIFSSLabel:x,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:E,setMapSize:$,searchState:j,filterByRange:S,initializeData:c}},Pa=()=>{const e=V("donut"),t=V(null),s=V(!1),a=V(null),o=V([{id:"donut",name:"Grficas de Dona",description:"Visualizacin circular de porcentajes"},{id:"bar",name:"Grficas de Barras",description:"Comparacin visual de valores"},{id:"line",name:"Grficas de Lnea",description:"Tendencias temporales"},{id:"area",name:"Grficas de rea",description:"Evolucin de datos en el tiempo"}]),l=(m,p="")=>{const y=Math.round(m/2.9*100);return[{label:`IFSS ${p}`,value:y,color:"#DC143C",rawValue:m},{label:"Restante",value:100-y,color:"#E8E8E8",rawValue:2.9-m}]},i=(m,p=8,y="Indicador")=>[{label:y,value:m,maxValue:p,percentage:m/p*100}],r=m=>{if(!m||!m.value)return d();const p=m.value;return m.region,{donuts:[{id:"q1",title:"Q1",subtitle:`${Math.round(p*.9*10)/10}`,data:l(p*.9,"Q1")},{id:"q2",title:"Q2",subtitle:`${Math.round(p*.8*10)/10}`,data:l(p*.8,"Q2")},{id:"q3",title:"Q3",subtitle:`${Math.round(p*1.1*10)/10}`,data:l(p*1.1,"Q3")},{id:"q4",title:"Q4",subtitle:`${Math.round(p*.7*10)/10}`,data:l(p*.7,"Q4")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:i(Math.min(8,Math.round(p*2.8)),8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:i(Math.min(8,Math.round(p*2.5)),8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:i(Math.min(8,Math.round(p*3)),8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:i(Math.min(8,Math.round(p*2.2)),8,"Innovacin")}]}},d=()=>({donuts:[{id:"q1",title:"Q1",subtitle:"35%",data:l(1,"Nacional")},{id:"q2",title:"Q2",subtitle:"30%",data:l(.9,"Nacional")},{id:"q3",title:"Q3",subtitle:"35%",data:l(1,"Nacional")},{id:"q4",title:"Q4",subtitle:"30%",data:l(.9,"Nacional")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:i(6,8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:i(5,8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:i(7,8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:i(4,8,"Innovacin")}]}),f=K(()=>t.value||d());return{selectedChartType:e,chartData:t,loading:s,error:a,availableChartTypes:o,currentChartsData:f,setChartData:m=>{t.value=r(m)},setChartType:m=>{e.value=m},resetCharts:()=>{t.value=null,e.value="donut",a.value=null},generateDonutData:l,generateBarData:i,getStateChartsData:r,getDefaultChartsData:d,exportChartsData:(m="Mexico")=>{const p=f.value,y=["Tipo","Indicador","Valor","Estado"],w=[];p.donuts.forEach(x=>{w.push(["Dona",x.title,x.subtitle,m])}),p.bars.forEach(x=>{var k;const b=((k=x.data[0])==null?void 0:k.value)||0;w.push(["Barra",x.title,b,m])});const E=[y.join(","),...w.map(x=>x.join(","))].join(`
`),$=new Blob([E],{type:"text/csv"}),j=window.URL.createObjectURL($),S=document.createElement("a");S.href=j,S.download=`IFSS_Charts_${m}_${new Date().toISOString().split("T")[0]}.csv`,S.click(),window.URL.revokeObjectURL(j)},getIFSSColor:m=>m>=2.4?"#6ac952":m>=2?"#94d351":m>=1.8?"#bddc50":m>=1.6?"#e6d64f":m>=1.2?"#e6a74c":m>=.8?"#e67849":"#e52845"}};class ws{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const s=this._partials;let a=0;for(let o=0;o<this._n&&o<32;o++){const l=s[o],i=t+l,r=Math.abs(t)<Math.abs(l)?t-(i-l):l-(i-t);r&&(s[a++]=r),t=i}return s[a]=t,this._n=a+1,this}valueOf(){const t=this._partials;let s=this._n,a,o,l,i=0;if(s>0){for(i=t[--s];s>0&&(a=i,o=t[--s],i=a+o,l=o-(i-a),!l););s>0&&(l<0&&t[s-1]<0||l>0&&t[s-1]>0)&&(o=l*2,a=i+o,o==a-i&&(i=a))}return i}}function*Jv(e){for(const t of e)yield*t}function Ec(e){return Array.from(Jv(e))}var Ye=1e-6,Fe=Math.PI,ht=Fe/2,mi=Fe/4,yt=Fe*2,pt=180/Fe,Ke=Fe/180,qe=Math.abs,Ic=Math.atan,_a=Math.atan2,We=Math.cos,Zv=Math.exp,eh=Math.log,Xe=Math.sin,th=Math.sign||function(e){return e>0?1:e<0?-1:0},ks=Math.sqrt,sh=Math.tan;function ah(e){return e>1?0:e<-1?Fe:Math.acos(e)}function ka(e){return e>1?ht:e<-1?-ht:Math.asin(e)}function $t(){}function un(e,t){e&&yi.hasOwnProperty(e.type)&&yi[e.type](e,t)}var bi={Feature:function(e,t){un(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,a=-1,o=s.length;++a<o;)un(s[a].geometry,t)}},yi={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)e=s[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){Co(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)Co(s[a],t,0)},Polygon:function(e,t){Ai(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)Ai(s[a],t)},GeometryCollection:function(e,t){for(var s=e.geometries,a=-1,o=s.length;++a<o;)un(s[a],t)}};function Co(e,t,s){var a=-1,o=e.length-s,l;for(t.lineStart();++a<o;)l=e[a],t.point(l[0],l[1],l[2]);t.lineEnd()}function Ai(e,t){var s=-1,a=e.length;for(t.polygonStart();++s<a;)Co(e[s],t,1);t.polygonEnd()}function Ps(e,t){e&&bi.hasOwnProperty(e.type)?bi[e.type](e,t):un(e,t)}function _o(e){return[_a(e[1],e[0]),ka(e[2])]}function zs(e){var t=e[0],s=e[1],a=We(s);return[a*We(t),a*Xe(t),Xe(s)]}function Na(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Qn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Oa(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ko(e){var t=ks(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function $o(e,t){function s(a,o){return a=e(a,o),t(a[0],a[1])}return e.invert&&t.invert&&(s.invert=function(a,o){return a=t.invert(a,o),a&&e.invert(a[0],a[1])}),s}function So(e,t){return qe(e)>Fe&&(e-=Math.round(e/yt)*yt),[e,t]}So.invert=So;function Pc(e,t,s){return(e%=yt)?t||s?$o(Ci(e),_i(t,s)):Ci(e):t||s?_i(t,s):So}function wi(e){return function(t,s){return t+=e,qe(t)>Fe&&(t-=Math.round(t/yt)*yt),[t,s]}}function Ci(e){var t=wi(e);return t.invert=wi(-e),t}function _i(e,t){var s=We(e),a=Xe(e),o=We(t),l=Xe(t);function i(r,d){var f=We(d),c=We(r)*f,u=Xe(r)*f,v=Xe(d),h=v*s+c*a;return[_a(u*o-h*l,c*s-v*a),ka(h*o+u*l)]}return i.invert=function(r,d){var f=We(d),c=We(r)*f,u=Xe(r)*f,v=Xe(d),h=v*o-u*l;return[_a(u*o+v*l,c*s+h*a),ka(h*s-c*a)]},i}function nh(e){e=Pc(e[0]*Ke,e[1]*Ke,e.length>2?e[2]*Ke:0);function t(s){return s=e(s[0]*Ke,s[1]*Ke),s[0]*=pt,s[1]*=pt,s}return t.invert=function(s){return s=e.invert(s[0]*Ke,s[1]*Ke),s[0]*=pt,s[1]*=pt,s},t}function oh(e,t,s,a,o,l){if(s){var i=We(t),r=Xe(t),d=a*s;o==null?(o=t+a*yt,l=t-d/2):(o=ki(i,o),l=ki(i,l),(a>0?o<l:o>l)&&(o+=a*yt));for(var f,c=o;a>0?c>l:c<l;c-=d)f=_o([i,-r*We(c),-r*Xe(c)]),e.point(f[0],f[1])}}function ki(e,t){t=zs(t),t[0]-=e,ko(t);var s=ah(-t[1]);return((-t[2]<0?-s:s)+yt-Ye)%yt}function Mc(){var e=[],t;return{point:function(s,a,o){t.push([s,a,o])},lineStart:function(){e.push(t=[])},lineEnd:$t,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function Ka(e,t){return qe(e[0]-t[0])<Ye&&qe(e[1]-t[1])<Ye}function za(e,t,s,a){this.x=e,this.z=t,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Fc(e,t,s,a,o){var l=[],i=[],r,d;if(e.forEach(function(A){if(!((m=A.length-1)<=0)){var m,p=A[0],y=A[m],w;if(Ka(p,y)){if(!p[2]&&!y[2]){for(o.lineStart(),r=0;r<m;++r)o.point((p=A[r])[0],p[1]);o.lineEnd();return}y[0]+=2*Ye}l.push(w=new za(p,A,null,!0)),i.push(w.o=new za(p,null,w,!1)),l.push(w=new za(y,A,null,!1)),i.push(w.o=new za(y,null,w,!0))}}),!!l.length){for(i.sort(t),$i(l),$i(i),r=0,d=i.length;r<d;++r)i[r].e=s=!s;for(var f=l[0],c,u;;){for(var v=f,h=!0;v.v;)if((v=v.n)===f)return;c=v.z,o.lineStart();do{if(v.v=v.o.v=!0,v.e){if(h)for(r=0,d=c.length;r<d;++r)o.point((u=c[r])[0],u[1]);else a(v.x,v.n.x,1,o);v=v.n}else{if(h)for(c=v.p.z,r=c.length-1;r>=0;--r)o.point((u=c[r])[0],u[1]);else a(v.x,v.p.x,-1,o);v=v.p}v=v.o,c=v.z,h=!h}while(!v.v);o.lineEnd()}}}function $i(e){if(t=e.length){for(var t,s=0,a=e[0],o;++s<t;)a.n=o=e[s],o.p=a,a=o;a.n=o=e[0],o.p=a}}function Jn(e){return qe(e[0])<=Fe?e[0]:th(e[0])*((qe(e[0])+Fe)%yt-Fe)}function lh(e,t){var s=Jn(t),a=t[1],o=Xe(a),l=[Xe(s),-We(s),0],i=0,r=0,d=new ws;o===1?a=ht+Ye:o===-1&&(a=-ht-Ye);for(var f=0,c=e.length;f<c;++f)if(v=(u=e[f]).length)for(var u,v,h=u[v-1],A=Jn(h),m=h[1]/2+mi,p=Xe(m),y=We(m),w=0;w<v;++w,A=$,p=S,y=x,h=E){var E=u[w],$=Jn(E),j=E[1]/2+mi,S=Xe(j),x=We(j),b=$-A,k=b>=0?1:-1,M=k*b,L=M>Fe,F=p*S;if(d.add(_a(F*k*Xe(M),y*x+F*We(M))),i+=L?b+k*yt:b,L^A>=s^$>=s){var B=dn(zs(h),zs(E));ko(B);var H=dn(l,B);ko(H);var D=(L^b>=0?-1:1)*ka(H[2]);(a>D||a===D&&(B[0]||B[1]))&&(r+=L^b>=0?1:-1)}}return(i<-Ye||i<Ye&&d<-1e-12)^r&1}function Dc(e,t,s,a){return function(o){var l=t(o),i=Mc(),r=t(i),d=!1,f,c,u,v={point:h,lineStart:m,lineEnd:p,polygonStart:function(){v.point=y,v.lineStart=w,v.lineEnd=E,c=[],f=[]},polygonEnd:function(){v.point=h,v.lineStart=m,v.lineEnd=p,c=Ec(c);var $=lh(f,a);c.length?(d||(o.polygonStart(),d=!0),Fc(c,rh,$,s,o)):$&&(d||(o.polygonStart(),d=!0),o.lineStart(),s(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),c=f=null},sphere:function(){o.polygonStart(),o.lineStart(),s(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h($,j){e($,j)&&o.point($,j)}function A($,j){l.point($,j)}function m(){v.point=A,l.lineStart()}function p(){v.point=h,l.lineEnd()}function y($,j){u.push([$,j]),r.point($,j)}function w(){r.lineStart(),u=[]}function E(){y(u[0][0],u[0][1]),r.lineEnd();var $=r.clean(),j=i.result(),S,x=j.length,b,k,M;if(u.pop(),f.push(u),u=null,!!x){if($&1){if(k=j[0],(b=k.length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),S=0;S<b;++S)o.point((M=k[S])[0],M[1]);o.lineEnd()}return}x>1&&$&2&&j.push(j.pop().concat(j.shift())),c.push(j.filter(ih))}}return v}}function ih(e){return e.length>1}function rh(e,t){return((e=e.x)[0]<0?e[1]-ht-Ye:ht-e[1])-((t=t.x)[0]<0?t[1]-ht-Ye:ht-t[1])}const Si=Dc(function(){return!0},ch,dh,[-Fe,-ht]);function ch(e){var t=NaN,s=NaN,a=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(l,i){var r=l>0?Fe:-Fe,d=qe(l-t);qe(d-Fe)<Ye?(e.point(t,s=(s+i)/2>0?ht:-ht),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(r,s),e.point(l,s),o=0):a!==r&&d>=Fe&&(qe(t-a)<Ye&&(t-=a*Ye),qe(l-r)<Ye&&(l-=r*Ye),s=uh(t,s,l,i),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(r,s),o=0),e.point(t=l,s=i),a=r},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-o}}}function uh(e,t,s,a){var o,l,i=Xe(e-s);return qe(i)>Ye?Ic((Xe(t)*(l=We(a))*Xe(s)-Xe(a)*(o=We(t))*Xe(e))/(o*l*i)):(t+a)/2}function dh(e,t,s,a){var o;if(e==null)o=s*ht,a.point(-Fe,o),a.point(0,o),a.point(Fe,o),a.point(Fe,0),a.point(Fe,-o),a.point(0,-o),a.point(-Fe,-o),a.point(-Fe,0),a.point(-Fe,o);else if(qe(e[0]-t[0])>Ye){var l=e[0]<t[0]?Fe:-Fe;o=s*l/2,a.point(-l,o),a.point(0,o),a.point(l,o)}else a.point(t[0],t[1])}function fh(e){var t=We(e),s=2*Ke,a=t>0,o=qe(t)>Ye;function l(c,u,v,h){oh(h,e,s,v,c,u)}function i(c,u){return We(c)*We(u)>t}function r(c){var u,v,h,A,m;return{lineStart:function(){A=h=!1,m=1},point:function(p,y){var w=[p,y],E,$=i(p,y),j=a?$?0:f(p,y):$?f(p+(p<0?Fe:-Fe),y):0;if(!u&&(A=h=$)&&c.lineStart(),$!==h&&(E=d(u,w),(!E||Ka(u,E)||Ka(w,E))&&(w[2]=1)),$!==h)m=0,$?(c.lineStart(),E=d(w,u),c.point(E[0],E[1])):(E=d(u,w),c.point(E[0],E[1],2),c.lineEnd()),u=E;else if(o&&u&&a^$){var S;!(j&v)&&(S=d(w,u,!0))&&(m=0,a?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}$&&(!u||!Ka(u,w))&&c.point(w[0],w[1]),u=w,h=$,v=j},lineEnd:function(){h&&c.lineEnd(),u=null},clean:function(){return m|(A&&h)<<1}}}function d(c,u,v){var h=zs(c),A=zs(u),m=[1,0,0],p=dn(h,A),y=Na(p,p),w=p[0],E=y-w*w;if(!E)return!v&&c;var $=t*y/E,j=-t*w/E,S=dn(m,p),x=Oa(m,$),b=Oa(p,j);Qn(x,b);var k=S,M=Na(x,k),L=Na(k,k),F=M*M-L*(Na(x,x)-1);if(!(F<0)){var B=ks(F),H=Oa(k,(-M-B)/L);if(Qn(H,x),H=_o(H),!v)return H;var D=c[0],W=u[0],Q=c[1],ee=u[1],ae;W<D&&(ae=D,D=W,W=ae);var ve=W-D,we=qe(ve-Fe)<Ye,fe=we||ve<Ye;if(!we&&ee<Q&&(ae=Q,Q=ee,ee=ae),fe?we?Q+ee>0^H[1]<(qe(H[0]-D)<Ye?Q:ee):Q<=H[1]&&H[1]<=ee:ve>Fe^(D<=H[0]&&H[0]<=W)){var te=Oa(k,(-M+B)/L);return Qn(te,x),[H,_o(te)]}}}function f(c,u){var v=a?e:Fe-e,h=0;return c<-v?h|=1:c>v&&(h|=2),u<-v?h|=4:u>v&&(h|=8),h}return Dc(i,r,l,a?[0,-e]:[-Fe,e-Fe])}function vh(e,t,s,a,o,l){var i=e[0],r=e[1],d=t[0],f=t[1],c=0,u=1,v=d-i,h=f-r,A;if(A=s-i,!(!v&&A>0)){if(A/=v,v<0){if(A<c)return;A<u&&(u=A)}else if(v>0){if(A>u)return;A>c&&(c=A)}if(A=o-i,!(!v&&A<0)){if(A/=v,v<0){if(A>u)return;A>c&&(c=A)}else if(v>0){if(A<c)return;A<u&&(u=A)}if(A=a-r,!(!h&&A>0)){if(A/=h,h<0){if(A<c)return;A<u&&(u=A)}else if(h>0){if(A>u)return;A>c&&(c=A)}if(A=l-r,!(!h&&A<0)){if(A/=h,h<0){if(A>u)return;A>c&&(c=A)}else if(h>0){if(A<c)return;A<u&&(u=A)}return c>0&&(e[0]=i+c*v,e[1]=r+c*h),u<1&&(t[0]=i+u*v,t[1]=r+u*h),!0}}}}}var Js=1e9,ja=-Js;function hh(e,t,s,a){function o(f,c){return e<=f&&f<=s&&t<=c&&c<=a}function l(f,c,u,v){var h=0,A=0;if(f==null||(h=i(f,u))!==(A=i(c,u))||d(f,c)<0^u>0)do v.point(h===0||h===3?e:s,h>1?a:t);while((h=(h+u+4)%4)!==A);else v.point(c[0],c[1])}function i(f,c){return qe(f[0]-e)<Ye?c>0?0:3:qe(f[0]-s)<Ye?c>0?2:1:qe(f[1]-t)<Ye?c>0?1:0:c>0?3:2}function r(f,c){return d(f.x,c.x)}function d(f,c){var u=i(f,1),v=i(c,1);return u!==v?u-v:u===0?c[1]-f[1]:u===1?f[0]-c[0]:u===2?f[1]-c[1]:c[0]-f[0]}return function(f){var c=f,u=Mc(),v,h,A,m,p,y,w,E,$,j,S,x={point:b,lineStart:F,lineEnd:B,polygonStart:M,polygonEnd:L};function b(D,W){o(D,W)&&c.point(D,W)}function k(){for(var D=0,W=0,Q=h.length;W<Q;++W)for(var ee=h[W],ae=1,ve=ee.length,we=ee[0],fe,te,P=we[0],N=we[1];ae<ve;++ae)fe=P,te=N,we=ee[ae],P=we[0],N=we[1],te<=a?N>a&&(P-fe)*(a-te)>(N-te)*(e-fe)&&++D:N<=a&&(P-fe)*(a-te)<(N-te)*(e-fe)&&--D;return D}function M(){c=u,v=[],h=[],S=!0}function L(){var D=k(),W=S&&D,Q=(v=Ec(v)).length;(W||Q)&&(f.polygonStart(),W&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),Q&&Fc(v,r,D,l,f),f.polygonEnd()),c=f,v=h=A=null}function F(){x.point=H,h&&h.push(A=[]),j=!0,$=!1,w=E=NaN}function B(){v&&(H(m,p),y&&$&&u.rejoin(),v.push(u.result())),x.point=b,$&&c.lineEnd()}function H(D,W){var Q=o(D,W);if(h&&A.push([D,W]),j)m=D,p=W,y=Q,j=!1,Q&&(c.lineStart(),c.point(D,W));else if(Q&&$)c.point(D,W);else{var ee=[w=Math.max(ja,Math.min(Js,w)),E=Math.max(ja,Math.min(Js,E))],ae=[D=Math.max(ja,Math.min(Js,D)),W=Math.max(ja,Math.min(Js,W))];vh(ee,ae,e,t,s,a)?($||(c.lineStart(),c.point(ee[0],ee[1])),c.point(ae[0],ae[1]),Q||c.lineEnd(),S=!1):Q&&(c.lineStart(),c.point(D,W),S=!1)}w=D,E=W,$=Q}return x}}const xo=e=>e;var Zn=new ws,Eo=new ws,Tc,Bc,Io,Po,Qt={point:$t,lineStart:$t,lineEnd:$t,polygonStart:function(){Qt.lineStart=ph,Qt.lineEnd=mh},polygonEnd:function(){Qt.lineStart=Qt.lineEnd=Qt.point=$t,Zn.add(qe(Eo)),Eo=new ws},result:function(){var e=Zn/2;return Zn=new ws,e}};function ph(){Qt.point=gh}function gh(e,t){Qt.point=Rc,Tc=Io=e,Bc=Po=t}function Rc(e,t){Eo.add(Po*e-Io*t),Io=e,Po=t}function mh(){Rc(Tc,Bc)}var js=1/0,fn=js,$a=-js,vn=$a,hn={point:bh,lineStart:$t,lineEnd:$t,polygonStart:$t,polygonEnd:$t,result:function(){var e=[[js,fn],[$a,vn]];return $a=vn=-(fn=js=1/0),e}};function bh(e,t){e<js&&(js=e),e>$a&&($a=e),t<fn&&(fn=t),t>vn&&(vn=t)}var Mo=0,Fo=0,Zs=0,pn=0,gn=0,Ms=0,Do=0,To=0,ea=0,Lc,Vc,Nt,Ot,kt={point:Cs,lineStart:xi,lineEnd:Ei,polygonStart:function(){kt.lineStart=wh,kt.lineEnd=Ch},polygonEnd:function(){kt.point=Cs,kt.lineStart=xi,kt.lineEnd=Ei},result:function(){var e=ea?[Do/ea,To/ea]:Ms?[pn/Ms,gn/Ms]:Zs?[Mo/Zs,Fo/Zs]:[NaN,NaN];return Mo=Fo=Zs=pn=gn=Ms=Do=To=ea=0,e}};function Cs(e,t){Mo+=e,Fo+=t,++Zs}function xi(){kt.point=yh}function yh(e,t){kt.point=Ah,Cs(Nt=e,Ot=t)}function Ah(e,t){var s=e-Nt,a=t-Ot,o=ks(s*s+a*a);pn+=o*(Nt+e)/2,gn+=o*(Ot+t)/2,Ms+=o,Cs(Nt=e,Ot=t)}function Ei(){kt.point=Cs}function wh(){kt.point=_h}function Ch(){Nc(Lc,Vc)}function _h(e,t){kt.point=Nc,Cs(Lc=Nt=e,Vc=Ot=t)}function Nc(e,t){var s=e-Nt,a=t-Ot,o=ks(s*s+a*a);pn+=o*(Nt+e)/2,gn+=o*(Ot+t)/2,Ms+=o,o=Ot*e-Nt*t,Do+=o*(Nt+e),To+=o*(Ot+t),ea+=o*3,Cs(Nt=e,Ot=t)}function Oc(e){this._context=e}Oc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,yt);break}}},result:$t};var Bo=new ws,eo,zc,jc,ta,sa,Sa={point:$t,lineStart:function(){Sa.point=kh},lineEnd:function(){eo&&Hc(zc,jc),Sa.point=$t},polygonStart:function(){eo=!0},polygonEnd:function(){eo=null},result:function(){var e=+Bo;return Bo=new ws,e}};function kh(e,t){Sa.point=Hc,zc=ta=e,jc=sa=t}function Hc(e,t){ta-=e,sa-=t,Bo.add(ks(ta*ta+sa*sa)),ta=e,sa=t}let Ii,mn,Pi,Mi;class Fi{constructor(t){this._append=t==null?Yc:$h(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,s){switch(this._point){case 0:{this._append`M${t},${s}`,this._point=1;break}case 1:{this._append`L${t},${s}`;break}default:{if(this._append`M${t},${s}`,this._radius!==Pi||this._append!==mn){const a=this._radius,o=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,Pi=a,mn=this._append,Mi=this._,this._=o}this._+=Mi;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Yc(e){let t=1;this._+=e[0];for(const s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function $h(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Yc;if(t!==Ii){const s=10**t;Ii=t,mn=function(o){let l=1;this._+=o[0];for(const i=o.length;l<i;++l)this._+=Math.round(arguments[l]*s)/s+o[l]}}return mn}function nl(e,t){let s=3,a=4.5,o,l;function i(r){return r&&(typeof a=="function"&&l.pointRadius(+a.apply(this,arguments)),Ps(r,o(l))),l.result()}return i.area=function(r){return Ps(r,o(Qt)),Qt.result()},i.measure=function(r){return Ps(r,o(Sa)),Sa.result()},i.bounds=function(r){return Ps(r,o(hn)),hn.result()},i.centroid=function(r){return Ps(r,o(kt)),kt.result()},i.projection=function(r){return arguments.length?(o=r==null?(e=null,xo):(e=r).stream,i):e},i.context=function(r){return arguments.length?(l=r==null?(t=null,new Fi(s)):new Oc(t=r),typeof a!="function"&&l.pointRadius(a),i):t},i.pointRadius=function(r){return arguments.length?(a=typeof r=="function"?r:(l.pointRadius(+r),+r),i):a},i.digits=function(r){if(!arguments.length)return s;if(r==null)s=null;else{const d=Math.floor(r);if(!(d>=0))throw new RangeError(`invalid digits: ${r}`);s=d}return t===null&&(l=new Fi(s)),i},i.projection(e).digits(s).context(t)}function ol(e){return function(t){var s=new Ro;for(var a in e)s[a]=e[a];return s.stream=t,s}}function Ro(){}Ro.prototype={constructor:Ro,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ll(e,t,s){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),Ps(s,e.stream(hn)),t(hn.result()),a!=null&&e.clipExtent(a),e}function Gc(e,t,s){return ll(e,function(a){var o=t[1][0]-t[0][0],l=t[1][1]-t[0][1],i=Math.min(o/(a[1][0]-a[0][0]),l/(a[1][1]-a[0][1])),r=+t[0][0]+(o-i*(a[1][0]+a[0][0]))/2,d=+t[0][1]+(l-i*(a[1][1]+a[0][1]))/2;e.scale(150*i).translate([r,d])},s)}function Sh(e,t,s){return Gc(e,[[0,0],t],s)}function xh(e,t,s){return ll(e,function(a){var o=+t,l=o/(a[1][0]-a[0][0]),i=(o-l*(a[1][0]+a[0][0]))/2,r=-l*a[0][1];e.scale(150*l).translate([i,r])},s)}function Eh(e,t,s){return ll(e,function(a){var o=+t,l=o/(a[1][1]-a[0][1]),i=-l*a[0][0],r=(o-l*(a[1][1]+a[0][1]))/2;e.scale(150*l).translate([i,r])},s)}var Di=16,Ih=We(30*Ke);function Ti(e,t){return+t?Mh(e,t):Ph(e)}function Ph(e){return ol({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function Mh(e,t){function s(a,o,l,i,r,d,f,c,u,v,h,A,m,p){var y=f-a,w=c-o,E=y*y+w*w;if(E>4*t&&m--){var $=i+v,j=r+h,S=d+A,x=ks($*$+j*j+S*S),b=ka(S/=x),k=qe(qe(S)-1)<Ye||qe(l-u)<Ye?(l+u)/2:_a(j,$),M=e(k,b),L=M[0],F=M[1],B=L-a,H=F-o,D=w*B-y*H;(D*D/E>t||qe((y*B+w*H)/E-.5)>.3||i*v+r*h+d*A<Ih)&&(s(a,o,l,i,r,d,L,F,k,$/=x,j/=x,S,m,p),p.point(L,F),s(L,F,k,$,j,S,f,c,u,v,h,A,m,p))}}return function(a){var o,l,i,r,d,f,c,u,v,h,A,m,p={point:y,lineStart:w,lineEnd:$,polygonStart:function(){a.polygonStart(),p.lineStart=j},polygonEnd:function(){a.polygonEnd(),p.lineStart=w}};function y(b,k){b=e(b,k),a.point(b[0],b[1])}function w(){u=NaN,p.point=E,a.lineStart()}function E(b,k){var M=zs([b,k]),L=e(b,k);s(u,v,c,h,A,m,u=L[0],v=L[1],c=b,h=M[0],A=M[1],m=M[2],Di,a),a.point(u,v)}function $(){p.point=y,a.lineEnd()}function j(){w(),p.point=S,p.lineEnd=x}function S(b,k){E(o=b,k),l=u,i=v,r=h,d=A,f=m,p.point=E}function x(){s(u,v,c,h,A,m,l,i,o,r,d,f,Di,a),p.lineEnd=$,$()}return p}}var Fh=ol({point:function(e,t){this.stream.point(e*Ke,t*Ke)}});function Dh(e){return ol({point:function(t,s){var a=e(t,s);return this.stream.point(a[0],a[1])}})}function Th(e,t,s,a,o){function l(i,r){return i*=a,r*=o,[t+e*i,s-e*r]}return l.invert=function(i,r){return[(i-t)/e*a,(s-r)/e*o]},l}function Bi(e,t,s,a,o,l){if(!l)return Th(e,t,s,a,o);var i=We(l),r=Xe(l),d=i*e,f=r*e,c=i/e,u=r/e,v=(r*s-i*t)/e,h=(r*t+i*s)/e;function A(m,p){return m*=a,p*=o,[d*m-f*p+t,s-f*m-d*p]}return A.invert=function(m,p){return[a*(c*m-u*p+v),o*(h-u*m-c*p)]},A}function Bh(e){return Rh(function(){return e})()}function Rh(e){var t,s=150,a=480,o=250,l=0,i=0,r=0,d=0,f=0,c,u=0,v=1,h=1,A=null,m=Si,p=null,y,w,E,$=xo,j=.5,S,x,b,k,M;function L(D){return b(D[0]*Ke,D[1]*Ke)}function F(D){return D=b.invert(D[0],D[1]),D&&[D[0]*pt,D[1]*pt]}L.stream=function(D){return k&&M===D?k:k=Fh(Dh(c)(m(S($(M=D)))))},L.preclip=function(D){return arguments.length?(m=D,A=void 0,H()):m},L.postclip=function(D){return arguments.length?($=D,p=y=w=E=null,H()):$},L.clipAngle=function(D){return arguments.length?(m=+D?fh(A=D*Ke):(A=null,Si),H()):A*pt},L.clipExtent=function(D){return arguments.length?($=D==null?(p=y=w=E=null,xo):hh(p=+D[0][0],y=+D[0][1],w=+D[1][0],E=+D[1][1]),H()):p==null?null:[[p,y],[w,E]]},L.scale=function(D){return arguments.length?(s=+D,B()):s},L.translate=function(D){return arguments.length?(a=+D[0],o=+D[1],B()):[a,o]},L.center=function(D){return arguments.length?(l=D[0]%360*Ke,i=D[1]%360*Ke,B()):[l*pt,i*pt]},L.rotate=function(D){return arguments.length?(r=D[0]%360*Ke,d=D[1]%360*Ke,f=D.length>2?D[2]%360*Ke:0,B()):[r*pt,d*pt,f*pt]},L.angle=function(D){return arguments.length?(u=D%360*Ke,B()):u*pt},L.reflectX=function(D){return arguments.length?(v=D?-1:1,B()):v<0},L.reflectY=function(D){return arguments.length?(h=D?-1:1,B()):h<0},L.precision=function(D){return arguments.length?(S=Ti(x,j=D*D),H()):ks(j)},L.fitExtent=function(D,W){return Gc(L,D,W)},L.fitSize=function(D,W){return Sh(L,D,W)},L.fitWidth=function(D,W){return xh(L,D,W)},L.fitHeight=function(D,W){return Eh(L,D,W)};function B(){var D=Bi(s,0,0,v,h,u).apply(null,t(l,i)),W=Bi(s,a-D[0],o-D[1],v,h,u);return c=Pc(r,d,f),x=$o(t,W),b=$o(c,x),S=Ti(x,j),H()}function H(){return k=M=null,L}return function(){return t=e.apply(this,arguments),L.invert=t.invert&&F,B()}}function il(e,t){return[e,eh(sh((ht+t)/2))]}il.invert=function(e,t){return[e,2*Ic(Zv(t))-ht]};function rl(){return Lh(il).scale(961/yt)}function Lh(e){var t=Bh(e),s=t.center,a=t.scale,o=t.translate,l=t.clipExtent,i=null,r,d,f;t.scale=function(u){return arguments.length?(a(u),c()):a()},t.translate=function(u){return arguments.length?(o(u),c()):o()},t.center=function(u){return arguments.length?(s(u),c()):s()},t.clipExtent=function(u){return arguments.length?(u==null?i=r=d=f=null:(i=+u[0][0],r=+u[0][1],d=+u[1][0],f=+u[1][1]),c()):i==null?null:[[i,r],[d,f]]};function c(){var u=Fe*a(),v=t(nh(t.rotate()).invert([0,0]));return l(i==null?[[v[0]-u,v[1]-u],[v[0]+u,v[1]+u]]:e===il?[[Math.max(v[0]-u,i),r],[Math.min(v[0]+u,d),f]]:[[i,Math.max(v[1]-u,r)],[d,Math.min(v[1]+u,f)]])}return c()}const Vh={class:"card-content"},Nh={class:"card-position-title"},Oh={class:"card-top-row"},zh={class:"card-position-number"},jh={class:"card-ifss-info"},Hh={class:"ifss-value-text"},Yh={key:0,class:"card-bottom-stack"},Gh={class:"hover-info-box"},qh={key:0,class:"info-content"},Uh={class:"location-label"},Wh={class:"value-display"},Xh={key:1,class:"info-content"},Kh={class:"location-label"},Qh={class:"value-display"},Jh={key:2,class:"info-content"},Zh={class:"value-display"},ep={class:"color-legend"},tp={key:0,class:"legend-items-horizontal"},sp={key:1,class:"legend-selected-state"},ap={class:"selected-state-label"},np=["width","height"],op=["d","fill","stroke","stroke-width","onClick","onMouseenter"],lp={class:"tooltip-info"},ip={class:"tooltip-state-name"},rp={class:"tooltip-stats"},cp={class:"tooltip-stat"},up={class:"tooltip-stat-value"},dp={class:"tooltip-stat"},fp={class:"tooltip-stat-value"},vp={__name:"MexicoMapSVG",props:{geoData:{type:Object,required:!0},selectedState:{type:String,default:null},hoveredState:{type:String,default:null},mapConfig:{type:Object,required:!0},nationalIFSS:{type:Object,default:null},getStateColor:{type:Function,required:!0},getStateInfo:{type:Function,required:!0},getIFSSLabel:{type:Function,required:!0},showNavigation:{type:Boolean,default:!0},showInfoCard:{type:Boolean,default:!0},activeView:{type:String,default:"federal"}},emits:["state-click","state-hover","state-leave","navigate-regional","navigate-federal"],setup(e,{emit:t}){const s=e,a=t,o=V({x:0,y:0}),l=K(()=>rl().scale(s.mapConfig.scale).center(s.mapConfig.center).translate([s.mapConfig.width/2,s.mapConfig.height/2])),i=K(()=>nl().projection(l.value)),r=F=>i.value(F),d=F=>{const B=["state-path"];return s.selectedState===F?B.push("state-selected"):s.hoveredState===F&&B.push("state-hovered"),s.selectedState&&s.selectedState!==F&&B.push("state-dimmed"),B.join(" ")},f=F=>s.selectedState===F?"#1a202c":(s.hoveredState===F,"#555555"),c=F=>s.selectedState===F?3:s.hoveredState===F?2:1,u=()=>{var F;return s.selectedState?s.getStateInfo(s.selectedState).value||0:((F=s.nationalIFSS)==null?void 0:F.value)||0},v=()=>{const F=u();return s.getIFSSLabel(F).label},h=()=>{const F=u();return s.getIFSSLabel(F).color||"#ddb891"},A=()=>s.selectedState?"--":"15",m=()=>s.selectedState?s.getStateColor(s.selectedState):"#cccccc",p=()=>{if(!s.selectedState)return"";const B=s.getStateInfo(s.selectedState).value||0;return s.getIFSSLabel(B).label},y=()=>{if(!s.hoveredState)return"#718096";const B=s.getStateInfo(s.hoveredState).value||0;return s.getIFSSLabel(B).color||"#718096"},w=()=>{const F=y();return`linear-gradient(135deg, ${F} 0%, ${E(F,-20)} 100%)`},E=(F,B)=>{const H=F.replace("#",""),D=Math.max(0,Math.min(255,parseInt(H.substring(0,2),16)+B)),W=Math.max(0,Math.min(255,parseInt(H.substring(2,4),16)+B)),Q=Math.max(0,Math.min(255,parseInt(H.substring(4,6),16)+B));return`rgb(${D}, ${W}, ${Q})`},$=(F,B)=>{o.value={x:B.clientX,y:B.clientY},a("state-hover",F)},j=()=>{a("state-leave")},S=F=>{a("state-click",F)},x=F=>{F.target.classList.contains("map-wrapper")&&a("state-click",null)},b=F=>{(F.target.tagName==="svg"||F.target.tagName==="g")&&a("state-click",null)},k=()=>{a("navigate-regional")},M=()=>{a("navigate-federal")},L=K(()=>s.hoveredState?{position:"fixed",left:`${o.value.x+20}px`,top:`${o.value.y-60}px`,pointerEvents:"none",zIndex:99999,transform:"translate(0, 0)"}:{display:"none"});return(F,B)=>{var H;return g(),C("div",{class:"map-wrapper",onClick:x},[e.showInfoCard?(g(),C("div",{key:0,class:pe(["map-info-card",{"state-selected":e.selectedState}])},[n("div",Vh,[n("div",Nh,G(e.selectedState?`Estado: ${e.selectedState}`:"Posicin del pas en el ndice de Finanzas Sostenibles (IFS) en 2024"),1),n("div",Oh,[n("div",zh,G(A()),1),n("div",jh,[n("div",Hh,"IFSS: "+G(u()),1),n("div",{class:"ifss-classification",style:de({color:h()})},G(v()),5)])]),e.showNavigation?(g(),C("div",Yh,[n("div",{class:pe(["card-label-pill",{active:e.activeView==="regional"}]),onClick:nt(k,["stop"])}," IFS Regional ",2),n("div",{class:pe(["card-label-pill",{active:e.activeView==="federal"}]),onClick:nt(M,["stop"])}," Datos federales ",2)])):oe("",!0)])],2)):oe("",!0),n("div",Gh,[e.selectedState?(g(),C("div",qh,[n("div",Uh,G(e.selectedState),1),n("div",Wh,"IFS: "+G(e.getStateInfo(e.selectedState).value||0),1)])):e.hoveredState?(g(),C("div",Xh,[n("div",Kh,G(e.hoveredState),1),n("div",Qh,"IFS: "+G(e.getStateInfo(e.hoveredState).value||0),1)])):e.nationalIFSS?(g(),C("div",Jh,[B[0]||(B[0]=n("div",{class:"location-label"},"Mxico",-1)),n("div",Zh,"IFSS: "+G(e.nationalIFSS.value),1)])):oe("",!0)]),n("div",ep,[e.selectedState?(g(),C("div",sp,[n("div",{class:"selected-state-bar",style:de({backgroundColor:m()})},[n("span",ap,G(p()),1)],4)])):(g(),C("div",tp,[...B[1]||(B[1]=[Se('<div class="legend-item-horizontal" data-v-152d6231><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-152d6231></div><span data-v-152d6231>Muy Alto</span></div><div class="legend-item-horizontal" data-v-152d6231><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-152d6231></div><span data-v-152d6231>Alto</span></div><div class="legend-item-horizontal" data-v-152d6231><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-152d6231></div><span data-v-152d6231>Medio Alto</span></div><div class="legend-item-horizontal" data-v-152d6231><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-152d6231></div><span data-v-152d6231>Medio</span></div><div class="legend-item-horizontal" data-v-152d6231><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-152d6231></div><span data-v-152d6231>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-152d6231><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-152d6231></div><span data-v-152d6231>Bajo</span></div><div class="legend-item-horizontal" data-v-152d6231><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-152d6231></div><span data-v-152d6231>Muy Bajo</span></div>',7)])]))]),(g(),C("svg",{width:e.mapConfig.width,height:e.mapConfig.height,class:"mexico-map",viewBox:"55 32 485 275",preserveAspectRatio:"xMidYMid meet",onClick:b},[n("g",null,[(g(!0),C(ge,null,_e(((H=e.geoData)==null?void 0:H.features)||[],D=>(g(),C("path",{key:D.properties.state_name,d:r(D),fill:e.getStateColor(D.properties.state_name),stroke:f(D.properties.state_name),"stroke-width":c(D.properties.state_name),class:pe(d(D.properties.state_name)),onClick:nt(W=>S(D.properties.state_name),["stop"]),onMouseenter:W=>$(D.properties.state_name,W),onMouseleave:j},null,42,op))),128))])],8,np)),(g(),Re(jt,{to:"body"},[e.hoveredState?(g(),C("div",{key:0,class:"mexico-map-tooltip",style:de(L.value)},[n("div",{class:"tooltip-icon-circle",style:de({background:w()})},[...B[2]||(B[2]=[n("svg",{viewBox:"0 0 24 24"},[n("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})],-1)])],4),n("div",lp,[n("div",ip,G(e.hoveredState),1),n("div",{class:"tooltip-classification",style:de({color:y()})},G(e.getIFSSLabel(e.getStateInfo(e.hoveredState).value||0).label),5),n("div",rp,[n("div",cp,[n("div",up,G(e.getStateInfo(e.hoveredState).value||0),1),B[3]||(B[3]=n("div",{class:"tooltip-stat-label"},"IFSS",-1))]),n("div",dp,[n("div",fp,G(e.getStateInfo(e.hoveredState).year||"-"),1),B[4]||(B[4]=n("div",{class:"tooltip-stat-label"},"Ao",-1))])])])],4)):oe("",!0)]))])}}},qc=Ie(vp,[["__scopeId","data-v-152d6231"]]);console.log("API Key:","AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0");console.log("Sheet ID Principal:","1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo");console.log("Sheet ID Cuantitativos:","1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A");console.log("Sheet ID Incendios Forestales:","1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk");console.log("Sheet ID Residuos Slidos:","15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g");console.log("Sheet ID Emisiones:","1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc");console.log("Sheet ID Energa:","1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg");console.log("Sheet ID reas Naturales:","1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0");console.log("Provider:","googlesheets");let bn="2024";const vt={provider:"googlesheets",googlesheets:{apiKey:"AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",sheets:{principal:{sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Hoja 1",gastos:"Gastos",estados:"Estados"}},cuantitativos:{sheetId:"1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",files:{datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024"}},cuantitativosRegional:{sheetId:"1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",files:{chartsPresupuestosRegional:"2024",chartsIngresosRegional:"2024"}},ambientales:{incendiosForestales:{sheetId:"1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk",files:{incendiosForestales:"2024"}},residuosSolidos:{sheetId:"15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g",files:{residuosSolidos:"2024"}},emisiones:{sheetId:"1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc",files:{emisiones:"2024"}},energia:{sheetId:"1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg",files:{energia:"2024"}},areasNaturales:{sheetId:"1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0",files:{areasNaturales:"2024"}}},economicos:{ingresoTotal:{sheetId:"1JbfkVJWcjB6HeslWG4c_72QsqiGazGFTkqMRFz90kwM",files:{ingresoTotal:"2024"}},egresoTotal:{sheetId:"1V_q6gPsW7NRpRfJz7sZB06b2X-fNgNcgN0UAZ8Jbw6A",files:{egresoTotal:"2024"}},pea:{sheetId:"1SLFuSyZ2oPtxedl8egYWZN40rGsN5Bt8m-wtmyKJzz8",files:{pea:"2024"}},pib:{sheetId:"15V60tJVicbTxHuc5gJeSRQ1whMykYkPRQ1qE8GgS_bo",files:{pib:"2024"}},itaee:{sheetId:"1a-JW6JWGV2IHDCHOiAEkXm-Mx9DX0SWOiEKGmoI5Klc",files:{itaee:"2024"}}},sociales:{desocupacion:{sheetId:"15a00iOynv6qhKpqI1bkYtWUmTnlEHlG6TgTkIksJEhg",files:{desocupacion:"2024"}},marginacion:{sheetId:"1LEL4tOhRC2_Vt-km43t7pqC4LKqix2V2lh4ZAiTJSAc",files:{marginacion:"2024"}},idh:{sheetId:"1vL7ythk7R15sbWu0fUq6Tfhxv8nLJtnb4eDL8_0e8QI",files:{idh:"2024"}},rezagoSocial:{sheetId:"17VuzaOXYkhLXLOVqelpO0mOSq7PXeL557t5w7v3BsZ0",files:{rezagoSocial:"2024"}},indiceGini:{sheetId:"1035e5y9y8y9fldFtijVmmQA5Og6_1ISg-PjnYikLU80",files:{indiceGini:"2024"}},poblacion:{sheetId:"1khFqaL2fxq3r8dKydaiKqaX5x3IfTUNHiz-TEmjzrDk",files:{poblacion:"2024"}}},gobernabilidad:{satisfaccionFederal:{sheetId:"1wOl0W7S859xOeScLNzMqvmJ7K46OExvTG4M9RgHeQYE",files:{satisfaccionFederal:"2024"}},satisfaccionEstatal:{sheetId:"1ADRSFL4htYoYjJ5G9PMZbZtWgQVdBw2z0f7Hqgl64kc",files:{satisfaccionEstatal:"2024"}},IGOPP:{sheetId:"1mABONqRevHO5mTfPkdy2nrRBTUS4xDeIBuUO2E3NdUk",files:{IGOPP:"2024"}},BIPE:{sheetId:"1MFvElQy-McXx0BDYI_65mfVAyK5QXwLcSTMV_tuDpJM",files:{BIPE:"2024"}},ITDIF:{sheetId:"1IlgbVnXTKPn_SxKivY8nCVMzoQ-2rj3nLPyhdMTbA18",files:{ITDIF:"2024"}},ICI:{sheetId:"17lV0T7CFL4sIdlwXHGosCSCRhYfc06K8qiUjvK9Vc4g",files:{ICI:"2024"}},PBRSED:{sheetId:"1XvVqd25zVILItNUh1lhT7H5yOrDTuClEDouz4YZgPBY",files:{PBRSED:"2024"}}},presupuestos:{presupuestoEstatal:{sheetId:"1cJmIqYcXNuUMxN_CYR80hCilTeX8fpZBTdyy1lvIKgw",files:{presupuestoEstatal:"2024"}},financiamientos:{sheetId:"17Gg_GKAF9w_SAj0uDHfg5WtddF-LPVc1LveRvmubSNU",files:{financiamientos:"2024"}},programas:{sheetId:"1RfZyCkhabT0shMHyD03u8-_GPU-jU5FZMFvizBnSV-E",files:{programas:"2024"}}}},sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Indicadores",gastos:"Gastos",estados:"Estados",datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024",incendiosForestales:"2024",residuosSolidos:"2024",emisiones:"2024",energia:"2024",areasNaturales:"2024",ingresoTotal:"2024",egresoTotal:"2024",pea:"2024",pib:"2024",itaee:"2024",satisfaccionFederal:"2024",satisfaccionEstatal:"2024",IGOPP:"2024",BIPE:"2024",ITDIF:"2024",ICI:"2024",PBRSED:"2024",presupuestoEstatal:"2024",financiamientos:"2024",programas:"2024",chartsPresupuestosRegional:"Hoja 1",chartsIngresosRegional:"Hoja 1"}},mappings:{presupuestoEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Presupuesto Total",column:"Presupuesto Total",label:"Presupuesto Total",color:"#0F3759",order:1}]},financiamientos:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bioecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Eduambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},programas:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bio-ecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Edu-Ambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},satisfaccionFederal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},satisfaccionEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},IGOPP:{categoryColumn:"Entidad Federativa",variables:[{key:"IGOPP",column:"IGOPP",label:"IGOPP",color:"#0F3759",order:1}]},BIPE:{categoryColumn:"Entidad Federativa",variables:[{key:"BIPE",column:"BIPE",label:"BIPE",color:"#0F3759",order:1}]},ITDIF:{categoryColumn:"Entidad Federativa",variables:[{key:"ITDIF",column:"ITDIF",label:"ITDIF",color:"#0F3759",order:1}]},ICI:{categoryColumn:"Entidad Federativa",variables:[{key:"ICI",column:"ICI",label:"ICI",color:"#0F3759",order:1},{key:"Consistencia en RT",column:"Consistencia en RT",label:"Consistencia en RT",color:"#0F3759",order:2},{key:"Proyectos",column:"Proyectos",label:"Proyectos",color:"#0F3759",order:3},{key:"Indicadores",column:"Indicadores",label:"Indicadores",color:"#0F3759",order:4}]},PBRSED:{categoryColumn:"Entidad Federativa",variables:[{key:"PBRSED",column:"PBRSED",label:"PBRSED",color:"#0F3759",order:1},{key:"Diagnstico",column:"Diagnstico",label:"Diagnstico",color:"#0F3759",order:2}]},ingresoTotal:{categoryColumn:"Entidad Federativa",variables:[{key:"Ingresos",column:"Ingresos",label:"Ingresos",color:"#0F3759",colorClass:"blue",order:1},{key:"Egresos",column:"Egresos",label:"Egresos",color:"#3B5A70",colorClass:"blue",order:1}]},egresoTotal:{categoryColumn:"Entidad Federativa",valueColumn:"Egresos"},pea:{categoryColumn:"Entidad Federativa",valueColumn:"Personas"},pib:{categoryColumn:"Entidad Federativa",valueColumn:"PIBE",variables:[{key:"PIBE",column:"PIBE",label:"PIB Estatal",color:"#0F3759",order:1}]},itaee:{categoryColumn:"Entidad Federativa",variables:[{key:"variacion",column:"Variacin porcentual anual",label:"Variacin %",color:"#0F3759",colorClass:"blue",order:1}]},desocupacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Tasa de desocupacin",column:"Tasa de desocupacin",label:"Tasa de desocupacin",color:"#0F3759",order:1},{key:"Tasa de informalidad laboral",column:"Tasa de informalidad laboral",label:"Tasa de informalidad laboral",color:"#3B5A70",order:2},{key:"Tasa de participacin",column:"Tasa de participacin",label:"Tasa de participacin",color:"#4E6D82",order:3}]},marginacion:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Marginacin",column:"ndice de Marginacin",label:"ndice de Marginacin",color:"#0F3759",order:1},{key:"Grado de marginacin",column:"Grado de marginacin",label:"Grado de marginacin",color:"#3B5A70",order:2},{key:"ndice de marginacin normalizado",column:"ndice de marginacin normalizado",label:"ndice de marginacin normalizado",color:"#4E6D82",order:3}]},idh:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Desarrollo Humano",column:"ndice de Desarrollo Humano",label:"ndice de Desarrollo Humano",color:"#0F3759",order:1}]},rezagoSocial:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Rezago Social",column:"ndice de Rezago Social",label:"ndice de Rezago Social",color:"#0F3759",order:1},{key:"Grado de Rezago Social",column:"Grado de Rezago Social",label:"Grado de Rezago Social",color:"#0F3759",order:2}]},indiceGini:{categoryColumn:"Entidad Federativa",variables:[{key:"CONEVAL 2020",column:"CONEVAL 2020",label:"CONEVAL 2020",color:"#0F3759",order:1},{key:"PNUD 2022",column:"PNUD 2022",label:"PNUD 2022",color:"#0F3759",order:2}]},poblacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Personas",column:"Personas",label:"Personas",color:"#0F3759",order:1}]},incendiosForestales:{categoryColumn:"Entidad Federativa",variables:[{key:"arbolado",column:"Arbolado Adulto",label:"Arbolado Adulto",color:"#0F3759",colorClass:"blue",order:1},{key:"renuevo",column:"Renuevo",label:"Renuevo",color:"#3B5A70",colorClass:"blue",order:2},{key:"arbustivo",column:"Arbustivo",label:"Arbustivo",color:"#4E6D82",colorClass:"blue",order:3},{key:"herbaceo",column:"Herbaceo",label:"Herbaceo",color:"#D6D6D6",colorClass:"gray",order:4},{key:"hojarasca",column:"Hojarasca",label:"Hojarasca",color:"#A1A1A1",colorClass:"gray",order:5},{key:"total",column:"Total de Hectreas",label:"Total de Hectreas",color:"#B0B0B0",colorClass:"gray",order:6}]},residuosSolidos:{categoryColumn:"Entidad Federativa",valueColumn:"Slidos Urbanos"},emisiones:{categoryColumn:"Entidad Federativa",variables:[{key:"Fuentes Fijas",column:"Fuentes Fijas",label:"Fuentes Fijas",color:"#DC143C",order:1},{key:"Fuente erea",column:"Fuente erea",label:"Fuente erea",color:"#0F3759",order:2},{key:"Carreteros",column:"Carreteros",label:"Carreteros",color:"#7cb342",order:3},{key:"No Carreteros",column:"No Carreteros",label:"No Carreteros",color:"#FF9800",order:4},{key:"Naturales",column:"Naturales",label:"Naturales",color:"#9C27B0",order:5}]},energia:{categoryColumn:"Entidad Federativa",valueColumn:"Consumo Energa"},areasNaturales:{categoryColumn:"Entidad Federativa",variables:[{key:"Flora y fauna",column:"Flora y fauna",label:"Flora y fauna",color:"#0F3759",colorClass:"blue",order:1},{key:"Recursos naturales",column:"Recursos naturales",label:"Recursos naturales",color:"#3B5A70",colorClass:"blue",order:2},{key:"Monumento Natural",column:"Monumento Natural",label:"Monumento Natural",color:"#4E6D82",colorClass:"blue",order:3},{key:"Parque Nacional",column:"Parque Nacional",label:"Parque Nacional",color:"#B0B0B0",colorClass:"gray",order:4},{key:"Reserva de la bisfera",column:"Reserva de la bisfera",label:"Reserva de la bisfera",color:"#0F3759",colorClass:"blue",order:5},{key:"Santuario",column:"Santuario",label:"Santuario",color:"#3B5A70",colorClass:"gray",order:6}]},chartsPresupuestos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"presupuesto_total",column:"PT ($)",label:"Presupuesto Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"presupuesto_sostenible",column:"PS ($)",label:"Presupuesto Sostenible",colorClass:"green",color:"#7cb342",order:2},{key:"presupuesto_carbono",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsPS:[{key:"ps_desastres",column:"PS_DN",label:"Desastres Naturales",colorClass:"dark-green",color:"#558b2f"},{key:"ps_proteccion",column:"PS_PA",label:"Proteccin Ambiental",colorClass:"green",color:"#7cb342"}],donutSectorsPIC:[{key:"pic_combustible",column:"PIC_C",label:"Combustible",colorClass:"dark-red",color:"#b71c1c"},{key:"pic_mineria",column:"PIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"pic_transporte",column:"PIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"}]},chartsIngresos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"ingresos_total",column:"IT ($)",label:"Ingresos Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"ingresos_sostenibles",column:"IS ($)",label:"Ingresos Sostenibles",colorClass:"green",color:"#7cb342",order:2},{key:"ingresos_carbono",column:"IIC ($)",label:"Ingresos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsIS:[{key:"is_ambiental",column:"IS_A",label:"Ambiental",colorClass:"dark-green",color:"#558b2f"},{key:"is_ecologico",column:"IS_E",label:"Ecolgico",colorClass:"green",color:"#7cb342"},{key:"is_movilidad",column:"IS_MS",label:"Movilidad Sustentable",colorClass:"light-green",color:"#9ccc65"}],donutSectorsIIC:[{key:"iic_hidrocarburos",column:"IIC_H",label:"Hidrocarburos",colorClass:"dark-red",color:"#b71c1c"},{key:"iic_mineria",column:"IIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"iic_transporte",column:"IIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"}]},rankingCuantitativo:{stateColumn:"Entidad Federativa",columnsByVariable:{IFSS:"IFSS",PS:"PS (%)",IIC:"IIC (%)",PIC:"PIC (%)",IS:"IS (%)"},variableColumns:[{key:"IFSS",column:"IFSS",label:"IFSS",color:"#0F3759",colorClass:"blue",order:1}]},iicBarChart:{yearColumn:"Ao",variableColumns:[{key:"iic_c",column:"IIC_C",label:"IIC_C",color:"#0F3759",order:1},{key:"iic_h",column:"IIC_H",label:"IIC_H",color:"#3B5A70",order:2},{key:"iic_m",column:"IIC_M",label:"IIC_M",color:"#6B8FA3",order:3}]},iicStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IIC Total",column:"IIC ($)",label:"IIC Total",color:"#3B5A70"},{key:"Ingreso Total",column:"IT ($)",label:"Ingreso Total",color:"#0F3759"}]},ifssStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IFS",column:"IFS",label:"IFS",color:"#10b981"}]},presupuestoBarChart:{yearColumn:"Ao",variableColumns:[{key:"IS",column:"IS($)",label:"IS",color:"#0F3759",order:1}]},picBarChart:{yearColumn:"Ao",variableColumns:[{key:"PIC",column:"PIC ($)",label:"PIC",color:"#0F3759",order:1}]},psBarChart:{yearColumn:"Ao",variableColumns:[{key:"PS",column:"PS ($)",label:"PS",color:"#6B8FA3",order:1}]},isLinearChart:{yearColumn:"Ao",variableColumns:[{key:"IS_Total",column:"IS($)",label:"IS Total"},{key:"Financiemiento_Total",column:"FT ($)",label:"Financiamiento Total"}]},pspicLinearChart:{yearColumn:"Ao",variableColumns:[{key:"GT",column:"GT ($)",label:"Gasto Total"},{key:"PS",column:"PS ($)",label:"Presupuestos Sostenibles"},{key:"PIC",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono"}]},presupuestoDetalleBarChart:{yearColumn:"Ao",variableColumns:[{key:"asignado",column:"Presupuesto Asignado",label:"Asignado",color:"#4CAF50",order:1},{key:"ejecutado",column:"Presupuesto Ejecutado",label:"Ejecutado",color:"#2196F3",order:2},{key:"disponible",column:"Presupuesto Disponible",label:"Disponible",color:"#FF9800",order:3}]},roiLinearChart:{yearColumn:"Ao",variableColumns:[{key:"roi",column:"ROI (%)",label:"Retorno de Inversin"},{key:"benchmark",column:"Benchmark Industria (%)",label:"Benchmark"}]},gastosStackedArea:{yearColumn:"Ao",variableColumns:[{key:"personal",column:"Gastos Personal",label:"Personal"},{key:"operacion",column:"Gastos Operacin",label:"Operacin"},{key:"inversion",column:"Gastos Inversin",label:"Inversin"},{key:"otros",column:"Otros Gastos",label:"Otros"}]},estadosBarChart:{yearColumn:"Ao",variableColumns:[{key:"cdmx",column:"Ciudad de Mxico",label:"CDMX",color:"#FF5722",order:1},{key:"jalisco",column:"Jalisco",label:"Jalisco",color:"#00BCD4",order:2},{key:"nuevoLeon",column:"Nuevo Len",label:"Nuevo Len",color:"#8BC34A",order:3}]}},variablesConfig:{federal:{label:"Federal",color:"#0F3759",order:1},estatal:{label:"Estatal",color:"#3B5A70",order:2},municipal:{label:"Municipal",color:"#6B8FA3",order:3},asignado:{label:"Asignado",color:"#4CAF50",order:1},ejecutado:{label:"Ejecutado",color:"#2196F3",order:2},disponible:{label:"Disponible",color:"#FF9800",order:3},personal:{label:"Personal",color:"#E91E63",order:1},operacion:{label:"Operacin",color:"#9C27B0",order:2},inversion:{label:"Inversin",color:"#3F51B5",order:3},otros:{label:"Otros",color:"#607D8B",order:4}}};function Te(e){console.log(" [storageConfig] Estableciendo ao activo:",e),bn=e||"2024"}function hp(){const e=vt.provider,t=vt[e];if(!t)throw new Error(`Configuracin no encontrada para provider: ${e}`);return{provider:e,...t,mappings:vt.mappings,variablesConfig:vt.variablesConfig}}function Ri(e){const t=vt.googlesheets;if(t.sheets&&t.sheets.presupuestos){for(const[s,a]of Object.entries(t.sheets.presupuestos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en presupuestos.${s}`),a.sheetId}if(t.sheets&&t.sheets.economicos){for(const[s,a]of Object.entries(t.sheets.economicos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en economicos.${s}`),a.sheetId}if(t.sheets&&t.sheets.sociales){for(const[s,a]of Object.entries(t.sheets.sociales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en sociales.${s}`),a.sheetId}if(t.sheets&&t.sheets.ambientales){for(const[s,a]of Object.entries(t.sheets.ambientales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en ambientales.${s}`),a.sheetId}if(t.sheets&&t.sheets.gobernabilidad){for(const[s,a]of Object.entries(t.sheets.gobernabilidad))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en gobernabilidad.${s}`),a.sheetId}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?(console.log(` Archivo "${e}" encontrado en cuantitativos`),console.log(` Usando ao activo: ${bn}`),t.sheets.cuantitativos.sheetId):t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?(console.log(` Archivo "${e}" encontrado en principal`),t.sheets.principal.sheetId):(console.log(` Usando sheet principal para "${e}"`),t.sheetId)}function Ne(e){const t=vt.googlesheets;if(["datosCuantitativos","chartsPresupuestos","chartsIngresos","incendiosForestales","residuosSolidos","emisiones","energia","areasNaturales","ingresoTotal","egresoTotal","pea","pibe","itaee","desocupacion","marginacion","idh","rezagoSocial","indiceGini","poblacion","presupuestoEstatal","financiamientos","programas"].includes(e))return console.log(` Nombre de hoja dinmico para "${e}": ${bn}`),bn;if(t.sheets&&t.sheets.presupuestos){for(const[a,o]of Object.entries(t.sheets.presupuestos))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.sociales){for(const[a,o]of Object.entries(t.sheets.sociales))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.economicos){for(const[a,o]of Object.entries(t.sheets.economicos))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.ambientales){for(const[a,o]of Object.entries(t.sheets.ambientales))if(o.files&&o.files[e])return o.files[e]}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?t.sheets.cuantitativos.files[e]:t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?t.sheets.principal.files[e]:t.files[e]||e}function Be(e){const t=vt.mappings[e];if(!t)throw new Error(`Mapeo no encontrado: ${e}`);return t}const Ut=new Map,Uc=5*60*1e3,as=new Map,pp=(e,t)=>`${e}__${t}`,Li=e=>e?Date.now()-e.timestamp<Uc:!1,gp=()=>{const e=Date.now();for(const[t,s]of Ut.entries())e-s.timestamp>=Uc&&(Ut.delete(t),console.log(` [Cache] Limpiando entrada expirada: ${t}`))};setInterval(gp,2*60*1e3);function Et(){const e=hp(),t=async f=>{try{const c=Ri(f),u=e.apiKey;if(!u||!c)throw new Error("Falta configuracin de API Key o Sheet ID");const v=`__sheetNames__${c}`,h=Ut.get(v);if(Li(h))return console.log(` [Cache HIT] Usando nombres de hojas en cach para: ${f}`),h.data;if(as.has(v))return console.log(` [Pending] Esperando solicitud de nombres existente para: ${f}`),await as.get(v);console.log(` [useStorageData] Obteniendo nombres de hojas para: ${f}`),console.log(`  - Sheet ID: ${c}`);const A=(async()=>{const m=`https://sheets.googleapis.com/v4/spreadsheets/${c}?key=${u}`,p=await fetch(m);if(!p.ok){const E=await p.text();throw new Error(`Error HTTP ${p.status}: ${E}`)}const w=(await p.json()).sheets.map(E=>E.properties.title);return console.log(" [useStorageData] Hojas encontradas:",w),Ut.set(v,{data:w,timestamp:Date.now()}),console.log(` [Cache SAVE] Nombres de hojas guardados: ${v}`),w})();as.set(v,A);try{return await A}finally{as.delete(v)}}catch(c){throw console.error(" [useStorageData] Error obteniendo nombres de hojas:",c),c}},s=async(f,c=null)=>{try{const u=c||Ne(f),v=Ri(f),h=e.apiKey;if(!h||!v)throw new Error("Falta configuracin de API Key o Sheet ID");const A=pp(f,u),m=Ut.get(A);if(Li(m))return console.log(` [Cache HIT] Usando datos en cach para: ${f} - ${u}`),m.data;if(as.has(A))return console.log(` [Pending] Esperando solicitud existente para: ${f}`),await as.get(A);console.log(` [useStorageData] Obteniendo datos de: ${f}`),console.log(`  - Hoja: ${u}`),console.log(`  - Sheet ID: ${v}`);let p=u;/^\d+$/.test(String(u).trim())&&(p=`'${u}'`,console.log(`  - Nombre formateado con comillas: ${p}`));const y=`${p}!A:ZZ`,w=`https://sheets.googleapis.com/v4/spreadsheets/${v}/values/${encodeURIComponent(y)}?key=${h}`,E=(async()=>{const $=await fetch(w);if(!$.ok){const k=await $.text();throw new Error(`Error HTTP ${$.status}: ${k}`)}const S=(await $.json()).values||[];if(S.length===0)return console.warn(" [useStorageData] No se encontraron datos"),[];const x=S[0],b=S.slice(1).map(k=>{const M={};return x.forEach((L,F)=>{M[L]=k[F]||null}),M});return console.log(` [useStorageData] Datos obtenidos: ${b.length} filas`),Ut.set(A,{data:b,timestamp:Date.now()}),console.log(` [Cache SAVE] Datos guardados en cach: ${A}`),b})();as.set(A,E);try{return await E}finally{as.delete(A)}}catch(u){throw console.error(" [useStorageData] Error obteniendo datos:",u),u}},a=f=>{if(typeof f=="number")return f;if(!f||f===""||f===null||f===void 0)return 0;let c=String(f).trim().toUpperCase();if(c==="NA"||c==="ND"||c==="N/A")return 0;c=c.replace(/\s/g,""),c.includes(",")&&!c.includes(".")?(c=c.replace(/\./g,""),c=c.replace(/,/g,".")):(c.match(/\./g)||[]).length>1&&(c=c.replace(/\./g,""));const v=parseFloat(c);return isNaN(v)?0:v},o=(f,c)=>{try{if(console.log(" [transformToBarChartData] Transformando datos..."),console.log("  - Mapping:",c),!f||f.length===0)return console.warn(" [transformToBarChartData] No hay datos para transformar"),[];const u=c.yearColumn||"Ao",v=c.variableColumns||[],h={};f.forEach(m=>{const p=m[u];p&&(h[p]||(h[p]={year:p}),v.forEach(y=>{const w=m[y.column],E=a(w);h[p][y.key]||(h[p][y.key]=0),h[p][y.key]+=E}))});const A=Object.values(h).sort((m,p)=>parseInt(m.year)-parseInt(p.year)).map(m=>{const p=v.map(y=>({key:y.key,label:y.label,value:m[y.key]||0,color:y.color}));return{year:m.year,variables:p,total:p.reduce((y,w)=>y+w.value,0)}});return console.log(` [transformToBarChartData] Datos transformados: ${A.length} aos`),console.log("  - Primer ao:",A[0]),A}catch(u){return console.error(" [transformToBarChartData] Error:",u),[]}},l=(f,c)=>{try{if(console.log(" [transformToLinearChartData] Transformando datos..."),console.log("  - Mapping:",c),!f||f.length===0)return console.warn(" [transformToLinearChartData] No hay datos para transformar"),{data:[],labels:[]};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map(m=>m[u]))].filter(m=>m).sort((m,p)=>parseInt(m)-parseInt(p)),A=v.map(m=>{const p=h.map(y=>f.filter($=>$[u]===y).reduce(($,j)=>$+a(j[m.column]),0));return{key:m.key,label:m.label,data:p,color:m.color||"#0F3759"}});return console.log(` [transformToLinearChartData] Datos transformados: ${h.length} aos, ${A.length} series`),{data:A,labels:h}}catch(u){return console.error(" [transformToLinearChartData] Error:",u),{data:[],labels:[]}}},i=(f,c)=>{try{if(console.log(" [transformToStackedAreaData] Transformando datos..."),console.log("  - Mapping:",c),!f||f.length===0)return console.warn(" [transformToStackedAreaData] No hay datos para transformar"),{};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map(m=>m[u]))].filter(m=>m).sort((m,p)=>parseInt(m)-parseInt(p)),A={};return v.forEach(m=>{A[m.label]=h.map(p=>f.filter(E=>E[u]===p).reduce((E,$)=>E+a($[m.column]),0))}),console.log(" [transformToStackedAreaData] Datos transformados:",Object.keys(A)),A}catch(u){return console.error(" [transformToStackedAreaData] Error:",u),{}}},r=(f,c,u="horizontal",v={})=>{try{return console.log(` [useStorageData] Transformando datos para tipo: ${u}`),console.log("  - Mapping:",c),console.log("  - Options:",v),u==="horizontal"?d(f,c,v):u==="bar"?o(f,c):u==="linear"?l(f,c):u==="stackedArea"?i(f,c):f}catch(h){throw console.error(" [useStorageData] Error transformando datos:",h),h}},d=(f,c,u={})=>{const{selectedEntity:v}=u;if(!v)return console.warn(" [useStorageData] No hay entidad seleccionada"),[];const h=c.categoryColumn||c.stateColumn,A=f.find(p=>p[h]===v);return A?(console.log(` [useStorageData] Fila encontrada para ${v}:`,A),(c.variables||c.variableColumns).map(p=>{const y=A[p.column],w=a(y);return{key:p.key,label:p.label,value:w,color:p.color,colorClass:p.colorClass||"default",active:!0}})):(console.warn(` [useStorageData] No se encontr entidad: ${v}`),[])};return{fetchData:s,fetchSheetNames:t,transform:r,transformToBarChartData:o,transformToLinearChartData:l,transformToStackedAreaData:i,parseNumericValue:a,clearCache:()=>{Ut.clear(),console.log(" [Cache] Cach limpiado completamente")},getCacheStats:()=>({size:Ut.size,keys:Array.from(Ut.keys())})}}const mp={class:"vertical-bar-chart"},bp={class:"bar-header-dark"},yp={class:"bar-header-text"},Ap={class:"bar-header-title"},wp={class:"bar-header-subtitle"},Cp={class:"kpi-cards-row"},_p=["onClick","onMouseenter"],kp={class:"kpi-card-top"},$p={key:0,xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},Sp={key:1,xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},xp={class:"kpi-value"},Ep={class:"kpi-label"},Ip={class:"chart-area"},Pp={class:"y-axis"},Mp={class:"tick-label"},Fp={class:"grid-lines"},Dp={class:"bar-wrapper-vertical"},Tp=["onMouseenter"],Bp={key:0,class:"bar-percentage"},Rp={key:0,class:"empty-state"},Lp={class:"tooltip-content"},Vp={class:"tooltip-item"},Np={class:"tooltip-variable-name"},Op={class:"tooltip-variable-value"},zp={__name:"BarChart",props:{data:{type:[Object,Array],required:!0,default:()=>[]},title:{type:String,default:"Presupuestos"},headerTitle:{type:String,default:"Anlisis Presupuestario"},selectedState:{type:String,default:""},selectedYear:{type:String,default:""}},setup(e){const t=e,s=V([{key:"presupuesto_total",label:"Presupuesto Total",shortLabel:"Total",colorClass:"gray",color:"#9ca3af",value:0,change:0,active:!1},{key:"presupuesto_sostenible",label:"Presupuesto Sostenible",shortLabel:"Sostenible",colorClass:"green",color:"#7cb342",value:0,change:0,active:!1},{key:"presupuesto_carbono",label:"Presupuesto Intensivo en Carbono",shortLabel:"Carbono",colorClass:"red",color:"#DC143C",value:0,change:0,active:!1}]),a=V(null),o=V(300),l=V(null),i=V(null),r=V({x:0,y:0}),d=V(!1),f=()=>{t.data&&t.data.variables&&Array.isArray(t.data.variables)?s.value=t.data.variables.map(b=>({key:b.key,label:b.label||b.key,shortLabel:c(b.label||b.key),colorClass:b.colorClass||"gray",color:b.color||"#9ca3af",value:b.value||0,change:b.change!==void 0?b.change:u(),active:!1})):Array.isArray(t.data)&&t.data.length>0&&t.data[0].variables&&(s.value=t.data[0].variables.map(b=>({key:b.key,label:b.label||b.key,shortLabel:c(b.label||b.key),colorClass:b.colorClass||"gray",color:b.color||"#9ca3af",value:b.value||0,change:b.change!==void 0?b.change:u(),active:!1})))},c=b=>({"Presupuesto Total":"Total","Presupuesto Sostenible":"Sostenible","Presupuesto Intensivo en Carbono":"Carbono","Ingreso Total":"Total","Ingresos Sostenibles":"Sostenible","Ingresos Intensivos en Carbono":"Carbono",PT:"Total",PS:"Sostenible",PIC:"Carbono",IT:"Total",IS:"Sostenible",IIC:"Carbono"})[b]||b,u=()=>parseFloat((Math.random()*20-5).toFixed(1)),v=b=>{const k=s.value[0];return!k||k.value===0?0:Math.round(b/k.value*100)},h=(b,k)=>{const M=b.active,L=i.value===k;return{background:M?`linear-gradient(135deg, ${b.color}08 0%, ${b.color}15 100%)`:"#f8fafc",borderColor:M?b.color:"#e2e8f0",opacity:M?1:.5,transform:L?"translateY(-2px)":"translateY(0)",boxShadow:L?`0 4px 12px ${b.color}25`:"none"}};f(),be(()=>t.data,()=>{f(),d.value?ze(()=>{s.value.forEach(b=>b.active=!0)}):ze(()=>{S(),d.value=!0})},{deep:!0});const A=K(()=>s.value.filter(b=>b.active)),m=K(()=>{const b=A.value.map(k=>k.value);return Math.max(...b,1)*1.25}),p=K(()=>{const b=m.value,k=b/4;return[{value:0,position:0},{value:k,position:25},{value:k*2,position:50},{value:k*3,position:75},{value:b,position:100}]}),y=b=>{const k=b.target.getBoundingClientRect();r.value={x:k.left+k.width/2,y:k.top-10}},w=b=>{const k=s.value.find(M=>M.key===b);k&&(k.active=!k.active)},E=b=>{var k;return((k=s.value.find(M=>M.key===b))==null?void 0:k.active)||!1},$=b=>m.value===0?0:o.value*(b/m.value)*100/100,j=b=>Math.abs(b)>=1e9?`$${(b/1e9).toFixed(1)}B`:Math.abs(b)>=1e6?`$${(b/1e6).toFixed(1)}M`:Math.abs(b)>=1e3?`$${(b/1e3).toFixed(1)}K`:`$${b.toFixed(0)}`,S=()=>{setTimeout(()=>{s.value.forEach((b,k)=>{setTimeout(()=>{b.active=!0},k*600)})},300)},x=()=>{if(a.value){const b=a.value.clientHeight-20;b>0&&(o.value=b)}};return Oe(async()=>{await ze(),x(),a.value&&new ResizeObserver(()=>x()).observe(a.value),!d.value&&s.value.length>0&&(await ze(),S(),d.value=!0)}),be(()=>t.data,()=>{ze(()=>x())},{deep:!0}),(b,k)=>(g(),C(ge,null,[n("div",mp,[n("div",bp,[k[2]||(k[2]=Se('<div class="bar-header-icon" data-v-cd65f9ca><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-cd65f9ca><line x1="12" y1="20" x2="12" y2="10" data-v-cd65f9ca></line><line x1="18" y1="20" x2="18" y2="4" data-v-cd65f9ca></line><line x1="6" y1="20" x2="6" y2="16" data-v-cd65f9ca></line></svg></div>',1)),n("div",yp,[n("span",Ap,G(e.headerTitle),1),n("span",wp,G(e.selectedState)+"  "+G(e.selectedYear),1)])]),n("div",Cp,[(g(!0),C(ge,null,_e(s.value,(M,L)=>(g(),C("div",{key:M.key,class:pe(["kpi-card",[M.colorClass,{active:E(M.key),hovered:i.value===L}]]),style:de(h(M,L)),onClick:F=>w(M.key),onMouseenter:F=>i.value=L,onMouseleave:k[0]||(k[0]=F=>i.value=null)},[n("div",kp,[n("span",{class:pe(["kpi-dot",M.colorClass])},null,2),n("span",{class:pe(["kpi-trend",{positive:M.change>=0,negative:M.change<0}])},[M.change>=0?(g(),C("svg",$p,[...k[3]||(k[3]=[n("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"},null,-1),n("polyline",{points:"17 6 23 6 23 12"},null,-1)])])):(g(),C("svg",Sp,[...k[4]||(k[4]=[n("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"},null,-1),n("polyline",{points:"17 18 23 18 23 12"},null,-1)])])),Vt(" "+G(Math.abs(M.change||0).toFixed(1))+"% ",1)],2)]),n("div",xp,G(j(M.value)),1),n("div",Ep,G(M.shortLabel||M.label),1)],46,_p))),128))]),n("div",Ip,[n("div",Pp,[(g(!0),C(ge,null,_e(p.value,M=>(g(),C("div",{key:M.value,class:"y-tick",style:de({bottom:`${M.position}%`})},[n("span",Mp,G(j(M.value)),1)],4))),128))]),n("div",Fp,[(g(!0),C(ge,null,_e(p.value,M=>(g(),C("div",{key:"grid-"+M.value,class:"grid-line",style:de({bottom:`${M.position}%`})},null,4))),128))]),n("div",{class:pe(["bars-container",`bars-count-${A.value.length}`]),ref_key:"barsContainerRef",ref:a},[(g(!0),C(ge,null,_e(A.value,M=>(g(),C("div",{key:M.key,class:"bar-column"},[n("div",Dp,[n("div",{class:pe(["bar-vertical",M.colorClass]),style:de({height:$(M.value)+"px"}),onMouseenter:L=>{l.value=M,y(L)},onMousemove:y,onMouseleave:k[1]||(k[1]=L=>l.value=null)},[$(M.value)>30?(g(),C("span",Bp,G(v(M.value))+"% ",1)):oe("",!0)],46,Tp)])]))),128)),A.value.length===0?(g(),C("div",Rp,[...k[5]||(k[5]=[n("p",null,"Selecciona al menos una variable para visualizar",-1)])])):oe("",!0)],2)])]),(g(),Re(jt,{to:"body"},[l.value?(g(),C("div",{key:0,class:"tooltip-container",style:de({left:`${r.value.x}px`,top:`${r.value.y}px`})},[n("div",Lp,[n("div",Vp,[n("span",{class:pe(["tooltip-color-indicator",l.value.colorClass])},null,2),n("span",Np,G(l.value.label)+":",1),n("span",Op,G(j(l.value.value)),1)])])],4)):oe("",!0)]))],64))}},Vi=Ie(zp,[["__scopeId","data-v-cd65f9ca"]]),jp={class:"donut-item-vertical"},Hp={class:"distribution-bar-section"},Yp={class:"distribution-header"},Gp={class:"distribution-bar"},qp=["onMouseenter","onClick"],Up={class:"donut-main-area"},Wp={class:"donut-svg-container"},Xp={class:"donut-svg",viewBox:"0 0 200 200"},Kp=["d","stroke","onMouseenter","onClick"],Qp=["x","y","transform"],Jp={class:"donut-center"},Zp={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},e0={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},t0={class:"badge-text"},s0={class:"data-list-section"},a0=["onClick","onMouseenter"],n0={class:"data-item-left"},o0={class:"data-item-label"},l0={class:"data-item-right"},i0={class:"data-item-value"},r0={__name:"DonutChart",props:{data:{type:Array,default:()=>[]},title:{type:String,default:""},subtitle:{type:String,default:""},size:{type:Number,default:220},variables:{type:Array,default:()=>[]},sectors:{type:Array,default:()=>[]}},setup(e){const t=e,s=V([]),a=V(null),o=K(()=>t.title==="IS"||t.title==="PS"?"green":"red"),l=K(()=>t.title==="IS"?`Ingresos
Sostenibles`:t.title==="IIC"?`Ingresos
Int. Carbono`:t.title==="PS"?`Presupuestos
Sostenibles`:t.title==="PIC"?`Presupuestos
Int. Carbono`:t.title),i=K(()=>t.sectors.map(m=>{let p=m.label;return m.label==="Movilidad Sustentable"&&(p="Movilidad"),m.label==="Proteccin Ambiental"&&(p="Proteccin"),m.label==="Desastres Naturales"&&(p="Desastres"),{...m,shortLabel:p}}));be(()=>t.sectors,m=>{m&&m.length>0&&(s.value=m.map(()=>!0))},{immediate:!0});const r=K(()=>t.sectors.reduce((m,p)=>m+(p.value||0),0));function d(m){if(!t.sectors[m]||r.value===0)return 0;const p=t.sectors[m].value/r.value*100;return Math.round(p*10)/10}K(()=>{var p;if(a.value!==null&&i.value[a.value])return i.value[a.value].label;const m=s.value.map((y,w)=>y?w:-1).filter(y=>y!==-1);return m.length===t.sectors.length||m.length===0?t.title==="IS"?"Ingresos Sostenibles":t.title==="IIC"?"Ingresos Int. Carbono":t.title==="PS"?"Presupuestos Sostenibles":t.title==="PIC"?"Presupuestos Int. Carbono":t.title:m.length===1?((p=i.value[m[0]])==null?void 0:p.label)||"":m.map(y=>{var w,E;return((w=i.value[y])==null?void 0:w.shortLabel)||((E=i.value[y])==null?void 0:E.label)}).join(" + ")});const f=K(()=>{if(a.value!==null&&i.value[a.value])return A(i.value[a.value].value);const m=s.value.reduce((p,y,w)=>y&&t.sectors[w]?p+t.sectors[w].value:p,0);return A(m)});K(()=>{const m=s.value.filter(Boolean).length;return m>0&&m<t.sectors.length});const c=K(()=>{if(!t.sectors||t.sectors.length===0)return[];const m=100,p=100,y=72,w=r.value;let E=-90;return t.sectors.map(($,j)=>{const S=w>0?$.value/w*100:0,x=S/100*360,b=E,k=E+x,M=b*Math.PI/180,L=k*Math.PI/180,F=m+y*Math.cos(M),B=p+y*Math.sin(M),H=m+y*Math.cos(L),D=p+y*Math.sin(L),W=x>180?1:0,Q=b+x/2,ee=Q*Math.PI/180,ae=m+y*Math.cos(ee),ve=p+y*Math.sin(ee),we=Q+90;return E=k,{...$,path:x>0?`M ${F} ${B} A ${y} ${y} 0 ${W} 1 ${H} ${D}`:"",percentX:ae,percentY:ve,textRotation:we,displayPercent:Math.round(S*10)/10}})});function u(m){s.value[m]=!s.value[m],s.value.some(Boolean)||(s.value=s.value.map(()=>!0))}function v(m){s.value[m]&&(a.value=m)}function h(){a.value=null}function A(m){if(!m||m===0)return"$0";const p=m/1e6;if(p>=1e3)return"$"+(p/1e3).toFixed(1)+"B";if(p>=1)return"$"+Math.round(p)+"M";if(p>=.1)return"$"+p.toFixed(1)+"M";{const y=m/1e3;return"$"+Math.round(y)+"K"}}return(m,p)=>(g(),C("div",jp,[n("div",Hp,[n("div",Yp,[p[0]||(p[0]=n("span",{class:"distribution-label"},"Distribucin",-1)),n("span",{class:pe(["distribution-value",o.value])},G(f.value),3)]),n("div",Gp,[(g(!0),C(ge,null,_e(c.value,(y,w)=>(g(),C("div",{key:"bar-"+w,class:pe(["distribution-segment",{dimmed:!s.value[w],highlighted:a.value===w}]),style:de({width:y.displayPercent+"%",background:y.color}),onMouseenter:E=>v(w),onMouseleave:h,onClick:E=>u(w)},null,46,qp))),128))])]),n("div",Up,[n("div",Wp,[(g(),C("svg",Xp,[p[1]||(p[1]=n("circle",{cx:"100",cy:"100",r:"72",fill:"none",stroke:"#e2e8f0","stroke-width":"25"},null,-1)),(g(!0),C(ge,null,_e(c.value,(y,w)=>(g(),C("path",{key:w,class:pe(["donut-ring",{dimmed:!s.value[w]||a.value!==null&&a.value!==w,highlighted:a.value===w}]),d:y.path,fill:"none",stroke:y.color,"stroke-width":"25",onMouseenter:E=>v(w),onMouseleave:h,onClick:E=>u(w)},null,42,Kp))),128)),(g(!0),C(ge,null,_e(c.value,(y,w)=>Rs((g(),C("text",{key:"pct-"+w,class:pe(["sector-percent",{dimmed:!s.value[w]||a.value!==null&&a.value!==w}]),x:y.percentX,y:y.percentY,"text-anchor":"middle","dominant-baseline":"middle",transform:`rotate(${y.textRotation}, ${y.percentX}, ${y.percentY})`},G(y.displayPercent)+"% ",11,Qp)),[[tf,y.displayPercent>=5]])),128))])),n("div",Jp,[n("div",{class:pe(["center-value",o.value])},G(f.value),3)])]),n("div",{class:pe(["badge-indicator",o.value])},[n("div",{class:pe(["badge-icon-circle",o.value])},[o.value==="green"?(g(),C("svg",Zp,[...p[2]||(p[2]=[n("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},null,-1)])])):(g(),C("svg",e0,[...p[3]||(p[3]=[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"},null,-1),n("path",{d:"M2 17l10 5 10-5"},null,-1),n("path",{d:"M2 12l10 5 10-5"},null,-1)])]))],2),n("span",t0,G(l.value),1)],2)]),n("div",s0,[(g(!0),C(ge,null,_e(i.value,(y,w)=>(g(),C("div",{key:w,class:pe(["data-list-item",{active:s.value[w],dimmed:!s.value[w],highlighted:a.value===w}]),onClick:E=>u(w),onMouseenter:E=>v(w),onMouseleave:h},[n("div",n0,[n("span",{class:"data-color-dot",style:de({background:y.color,boxShadow:"0 2px 6px "+y.color+"40"})},null,4),n("span",o0,G(y.shortLabel||y.label),1)]),n("div",l0,[n("span",i0,G(A(y.value)),1),n("span",{class:"data-item-percent",style:de({background:y.color})},G(d(w))+"% ",5)])],42,a0))),128))])]))}},Ha=Ie(r0,[["__scopeId","data-v-28ea6aa3"]]),c0={key:0,class:"chart-card"},u0={class:"chart-card-header"},d0={class:"card-title"},f0={class:"chart-card-body"},v0={key:0,class:"loading-container"},h0={key:1,class:"error-container"},p0={key:2,class:"chart-col-bar"},g0={key:0,class:"donut-item"},m0={key:1,class:"no-data-message"},b0={key:1,class:"donut-item"},y0={key:1,class:"no-data-message"},A0={key:1,class:"chart-card"},w0={class:"chart-card-header"},C0={class:"card-title"},_0={class:"chart-card-body"},k0={key:0,class:"loading-container"},$0={key:1,class:"error-container"},S0={key:2,class:"chart-col-bar"},x0={key:0,class:"donut-item"},E0={key:1,class:"no-data-message"},I0={key:1,class:"donut-item"},P0={key:1,class:"no-data-message"},M0={__name:"ChartsComponent",props:{selectedState:{type:String,default:null},selectedYear:{type:String,default:null},selectedVariable:{type:Object,default:null},ifssData:{type:Object,default:()=>({})}},setup(e){const t=e,s=K(()=>!!t.selectedVariable),a=K(()=>t.selectedVariable&&(t.selectedVariable.key==="PS"||t.selectedVariable.key==="PIC")),o=K(()=>t.selectedVariable&&(t.selectedVariable.key==="IS"||t.selectedVariable.key==="IIC")),{fetchData:l,loading:i,error:r}=Et(),d=V(!1),f=V([]),c=V([]),u=Be("chartsPresupuestos"),v=Be("chartsIngresos"),h=async()=>{try{const N=Ne("chartsPresupuestos"),O=Ne("chartsIngresos");f.value=await l("chartsPresupuestos",N),c.value=await l("chartsIngresos",O),d.value=!0}catch(N){console.error("Error cargando datos:",N)}};Oe(()=>h()),be(()=>t.selectedYear,async(N,O)=>{N!==O&&(d.value=!1,await h())});const A=K(()=>!d.value||!t.selectedState||!f.value.length?[]:f.value.filter(N=>N[u.stateColumn]===t.selectedState)),m=K(()=>!d.value||!t.selectedState||!c.value.length?[]:c.value.filter(N=>N[v.stateColumn]===t.selectedState)),p=(N,O)=>{if(!N)return{variables:[]};const U=O.variableColumns.map(X=>{let T=N[X.column];return typeof T=="string"&&(T=T.replace(/^["']+|["']+$/g,"").trim(),T===""||T==='""'?T="0":T=T.replace(/\./g,"")),{key:X.key,label:X.label,value:parseFloat(T)||0,color:X.color,colorClass:X.colorClass,order:X.order||0}});return U.sort((X,T)=>X.order-T.order),{variables:U}},y=K(()=>{if(!A.value.length)return{variables:[]};const N=p(A.value[0],u);return t.selectedVariable&&N.variables.length>=3&&(t.selectedVariable.key==="PS"?N.variables=[N.variables[0],N.variables[1]].filter(O=>O):t.selectedVariable.key==="PIC"&&(N.variables=[N.variables[0],N.variables[2]].filter(O=>O))),N}),w=K(()=>{if(!m.value.length)return{variables:[]};const N=p(m.value[0],v);return t.selectedVariable&&N.variables.length>=3&&(t.selectedVariable.key==="IS"?N.variables=[N.variables[0],N.variables[1]].filter(O=>O):t.selectedVariable.key==="IIC"&&(N.variables=[N.variables[0],N.variables[2]].filter(O=>O))),N}),E=(N,O,U)=>{if(!N||!O||!U)return{mainPercentage:0,sectors:[]};let X=0;const T=O.map(se=>{let z=N[se.column];z==null?z="0":typeof z=="string"&&(z=z.replace(/^["']+|["']+$/g,"").trim(),z===""?z="0":z=z.replace(/\./g,""));const I=parseFloat(z)||0;return X+=I,{key:se.key,label:se.label,value:I,color:se.color,colorClass:se.colorClass}});return{mainPercentage:U>0?Math.round(X/U*100):0,sectors:T}},$=(N,O)=>{const U=N[O]||"0";return typeof U=="string"?parseFloat(U.replace(/^["']+|["']+$/g,"").trim().replace(/\./g,""))||0:parseFloat(U)||0},j=K(()=>{if(!A.value.length)return[{label:"PS",value:35,color:"#7cb342"},{label:"Resto",value:65,color:"#E8E8E8"}];const N=A.value[0],O=$(N,"PT ($)"),U=E(N,u.donutSectorsPS||[],O);return[{label:"PS",value:U.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-U.mainPercentage,color:"#E8E8E8"}]}),S=K(()=>{if(!A.value.length)return[];const N=A.value[0];return E(N,u.donutSectorsPS||[],$(N,"PT ($)")).sectors}),x=K(()=>`${j.value[0].value}%`),b=K(()=>{if(!A.value.length)return[{label:"PIC",value:40,color:"#DC143C"},{label:"Resto",value:60,color:"#E8E8E8"}];const N=A.value[0],O=$(N,"PT ($)"),U=E(N,u.donutSectorsPIC||[],O);return[{label:"PIC",value:U.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-U.mainPercentage,color:"#E8E8E8"}]}),k=K(()=>{if(!A.value.length)return[];const N=A.value[0];return E(N,u.donutSectorsPIC||[],$(N,"PT ($)")).sectors}),M=K(()=>`${b.value[0].value}%`),L=K(()=>{if(!m.value.length)return[{label:"IS",value:45,color:"#7cb342"},{label:"Resto",value:55,color:"#E8E8E8"}];const N=m.value[0],O=$(N,"IT ($)"),U=E(N,v.donutSectorsIS||[],O);return[{label:"IS",value:U.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-U.mainPercentage,color:"#E8E8E8"}]}),F=K(()=>{if(!m.value.length)return[];const N=m.value[0];return E(N,v.donutSectorsIS||[],$(N,"IT ($)")).sectors}),B=K(()=>`${L.value[0].value}%`),H=K(()=>{if(!m.value.length)return[{label:"IIC",value:38,color:"#DC143C"},{label:"Resto",value:62,color:"#E8E8E8"}];const N=m.value[0],O=$(N,"IT ($)"),U=E(N,v.donutSectorsIIC||[],O);return[{label:"IIC",value:U.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-U.mainPercentage,color:"#E8E8E8"}]}),D=K(()=>{if(!m.value.length)return[];const N=m.value[0];return E(N,v.donutSectorsIIC||[],$(N,"IT ($)")).sectors}),W=K(()=>`${H.value[0].value}%`),Q=K(()=>{var O,U;const N=t.selectedYear?` en ${t.selectedYear}`:"";return((O=t.selectedVariable)==null?void 0:O.key)==="PS"?`Presupuestos Sostenibles (PS) con respecto al Presupuesto Total (PT)${N}`:((U=t.selectedVariable)==null?void 0:U.key)==="PIC"?`Presupuestos Intensivos en Carbono (PIC) con respecto al Presupuesto Total (PT)${N}`:`Presupuestos Intensivos en Carbono (PIC) y Presupuestos Sostenibles (PS) con respecto del gasto total${N}`}),ee=K(()=>{var O,U;const N=t.selectedYear?` en ${t.selectedYear}`:"";return((O=t.selectedVariable)==null?void 0:O.key)==="IS"?`Ingresos Sostenibles (IS) con respecto al Ingreso Total (IT)${N}`:((U=t.selectedVariable)==null?void 0:U.key)==="IIC"?`Ingresos Intensivos en Carbono (IIC) con respecto al Ingreso Total (IT)${N}`:`Proporcin del gasto asignado a Ingresos${N}`}),ae=K(()=>t.selectedState?`Presupuestos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),ve=K(()=>t.selectedState?`Ingresos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),we=[{key:"ps_desastres",label:"Desastres Naturales",colorClass:"dark-green",active:!0},{key:"ps_proteccion",label:"Proteccin Ambiental",colorClass:"green",active:!0}],fe=[{key:"pic_combustible",label:"Combustible",colorClass:"dark-red",active:!0},{key:"pic_mineria",label:"Minera",colorClass:"red",active:!0},{key:"pic_transporte",label:"Transporte",colorClass:"light-red",active:!0}],te=[{key:"is_ambiental",label:"Ambiental",colorClass:"dark-green",active:!0},{key:"is_ecologico",label:"Ecolgico",colorClass:"green",active:!0},{key:"is_movilidad",label:"Movilidad Sustentable",colorClass:"light-green",active:!0}],P=[{key:"iic_hidrocarburos",label:"Hidrocarburos",colorClass:"dark-red",active:!0},{key:"iic_mineria",label:"Minera",colorClass:"red",active:!0},{key:"iic_transporte",label:"Transporte",colorClass:"light-red",active:!0}];return(N,O)=>(g(),C("div",{class:pe(["charts-wrapper",{"single-card":s.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"||e.selectedVariable.key==="IIC"?(g(),C("div",c0,[n("div",u0,[n("h4",d0,G(ve.value),1)]),n("div",f0,[q(i)?(g(),C("div",v0,[...O[0]||(O[0]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):q(r)?(g(),C("div",h0,[n("p",null,"Error: "+G(q(r)),1)])):(g(),C("div",p0,[ye(Vi,{data:w.value,title:ee.value,headerTitle:"Anlisis de Ingresos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!q(i)&&!q(r)?(g(),C("div",{key:3,class:pe(["chart-col-donuts",{"single-donut":o.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"?(g(),C("div",g0,[O[1]||(O[1]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon green" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Ingresos Sostenibles</span></div>',1)),F.value.length>0?(g(),Re(Ha,{key:`is-${t.selectedState}-${F.value.length}`,data:L.value,title:"IS",subtitle:B.value,size:220,variables:te,sectors:F.value},null,8,["data","subtitle","sectors"])):(g(),C("div",m0,"Sin datos disponibles"))])):oe("",!0),!e.selectedVariable||e.selectedVariable.key==="IIC"?(g(),C("div",b0,[O[2]||(O[2]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon red" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-b638137e></path><path d="M2 17l10 5 10-5" data-v-b638137e></path><path d="M2 12l10 5 10-5" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Ingresos Int. en Carbono</span></div>',1)),D.value.length>0?(g(),Re(Ha,{key:`iic-${t.selectedState}-${D.value.length}`,data:H.value,title:"IIC",subtitle:W.value,size:220,variables:P,sectors:D.value},null,8,["data","subtitle","sectors"])):(g(),C("div",y0,"Sin datos disponibles"))])):oe("",!0)],2)):oe("",!0)])])):oe("",!0),!e.selectedVariable||e.selectedVariable.key==="PS"||e.selectedVariable.key==="PIC"?(g(),C("div",A0,[n("div",w0,[n("h4",C0,G(ae.value),1)]),n("div",_0,[q(i)?(g(),C("div",k0,[...O[3]||(O[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):q(r)?(g(),C("div",$0,[n("p",null,"Error: "+G(q(r)),1)])):(g(),C("div",S0,[ye(Vi,{data:y.value,title:Q.value,headerTitle:"Anlisis de Presupuestos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!q(i)&&!q(r)?(g(),C("div",{key:3,class:pe(["chart-col-donuts",{"single-donut":a.value}])},[!e.selectedVariable||e.selectedVariable.key==="PS"?(g(),C("div",x0,[O[4]||(O[4]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon green" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Presupuestos Sostenibles</span></div>',1)),S.value.length>0?(g(),Re(Ha,{key:`ps-${t.selectedState}-${S.value.length}`,data:j.value,title:"PS",subtitle:x.value,size:220,variables:we,sectors:S.value},null,8,["data","subtitle","sectors"])):(g(),C("div",E0,"Sin datos disponibles"))])):oe("",!0),!e.selectedVariable||e.selectedVariable.key==="PIC"?(g(),C("div",I0,[O[5]||(O[5]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon red" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-b638137e></path><path d="M2 17l10 5 10-5" data-v-b638137e></path><path d="M2 12l10 5 10-5" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Presupuestos Int. en Carbono</span></div>',1)),k.value.length>0?(g(),Re(Ha,{key:`pic-${t.selectedState}-${k.value.length}`,data:b.value,title:"PIC",subtitle:M.value,size:220,variables:fe,sectors:k.value},null,8,["data","subtitle","sectors"])):(g(),C("div",P0,"Sin datos disponibles"))])):oe("",!0)],2)):oe("",!0)])])):oe("",!0)],2))}},Wc=Ie(M0,[["__scopeId","data-v-b638137e"]]),Ws=V(null),Xs=V([]),to=V(!1),so=V(null);function F0(){const e=async()=>{try{console.log(" Obteniendo aos disponibles desde Google Sheets..."),to.value=!0,so.value=null;const o="AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",l="1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",i=`https://sheets.googleapis.com/v4/spreadsheets/${l}?key=${o}`,r=await fetch(i);if(!r.ok)throw new Error(`Error al obtener metadatos: ${r.status}`);const f=(await r.json()).sheets.map(c=>c.properties.title).filter(c=>/^\d{4}$/.test(c)).sort((c,u)=>u.localeCompare(c));return Xs.value=f,console.log(" Aos disponibles:",f),f}catch(o){return console.error(" Error obteniendo aos:",o),so.value=o.message,Xs.value=["2024","2023","2022","2021","2020"],Xs.value}finally{to.value=!1}},t=o=>{console.log(" Estableciendo ao seleccionado:",o),Ws.value=o},s=K(()=>Ws.value!==null?Ws.value:Xs.value[0]||"2024");return{selectedYear:Ws,availableYears:Xs,loadingYears:to,yearsError:so,activeYear:s,fetchAvailableYears:e,setSelectedYear:t,resetYear:()=>{Ws.value=null}}}const D0={class:"filter-content"},T0={class:"filter-group"},B0={class:"filter-dropdown"},R0={class:"dropdown-text"},L0={key:0,class:"dropdown-menu"},V0={class:"dropdown-search"},N0=["onClick"],O0={class:"filter-group"},z0={class:"filter-dropdown"},j0=["disabled"],H0={class:"dropdown-text"},Y0={key:0,class:"dropdown-menu"},G0={class:"dropdown-search"},q0=["onClick"],U0={key:2,class:"dropdown-no-results"},W0={class:"filter-group"},X0={class:"filter-dropdown"},K0={class:"dropdown-text"},Q0={key:0,class:"dropdown-menu variable-menu"},J0={class:"dropdown-search"},Z0=["onClick"],eg={key:2,class:"dropdown-no-results"},tg={__name:"RetractableFilterBar",props:{entities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},selectedState:{type:String,default:null},isLocked:{type:Boolean,default:!1},availableYears:{type:Array,default:()=>[]},initialEntity:{type:[String,null],default:""},initialYear:{type:[String,Number,null],default:null},initialVariable:{type:[Object,String,null],default:""}},emits:["entity-change","year-change","variable-change","filters-change"],setup(e,{emit:t}){const s=e,a=t,{selectedYear:o,availableYears:l,loadingYears:i,fetchAvailableYears:r,setSelectedYear:d,activeYear:f}=F0(),c=K(()=>s.availableYears&&s.availableYears.length>0?(console.log(" Usando aos de props.availableYears:",s.availableYears),s.availableYears):(console.log(" Usando aos de composable:",l.value),l.value)),u=V(!1),v=V(null),h=V(null),A=V(null),m=V(!1),p=V(""),y=V(""),w=V(""),E=V(""),$=V(""),j={PS:{key:"PS",label:"Presupuestos Sostenibles (PS)",description:"Presupuestos Sostenibles",category:"presupuestos",barVariables:["PS","PT"],donutType:"PS"},IIC:{key:"IIC",label:"Ingresos Intensivos en Carbono (IIC)",description:"Ingresos Intensivos en Carbono",category:"ingresos",barVariables:["IIC","IT"],donutType:"IIC"},PIC:{key:"PIC",label:"Presupuestos Intensivos en Carbono (PIC)",description:"Presupuestos Intensivos en Carbono",category:"presupuestos",barVariables:["PIC","PT"],donutType:"PIC"},IS:{key:"IS",label:"Ingresos Sostenibles (IS)",description:"Ingresos Sostenibles",category:"ingresos",barVariables:["IS","IT"],donutType:"IS"}},S=K(()=>Object.values(j)),x=K(()=>{if(!p.value)return s.entities;const te=p.value.toLowerCase();return s.entities.filter(P=>P.name.toLowerCase().includes(te))}),b=K(()=>{if(!y.value)return c.value;const te=y.value.toLowerCase();return c.value.filter(P=>String(P).toLowerCase().includes(te))}),k=K(()=>{if(!w.value)return S.value;const te=w.value.toLowerCase();return S.value.filter(P=>P.label.toLowerCase().includes(te)||P.key.toLowerCase().includes(te)||P.description.toLowerCase().includes(te))}),M=()=>E.value===""?"-":!E.value||E.value===null?"Todas las entidades (IFS Regional)":E.value,L=()=>o.value===""?"-":o.value===null?"Todos los aos":o.value,F=()=>$.value===""?"-":!$.value||$.value===null?"Todas las variables":$.value.key,B=te=>{const P=te.currentTarget,{scrollTop:N,scrollHeight:O,clientHeight:U}=P,X=te.deltaY,T=N===0&&X<0,se=N+U>=O&&X>0;!T&&!se&&te.preventDefault(),te.stopPropagation()},H=()=>{h.value&&(clearTimeout(h.value),h.value=null),u.value=!0},D=()=>{if(s.isLocked){console.log(" Barra bloqueada, no se contrae al salir del mouse");return}!v.value&&!E.value&&(h.value=setTimeout(()=>{u.value=!1},300))},W=te=>{console.log(" Toggle dropdown:",te),u.value=!0,h.value&&(clearTimeout(h.value),h.value=null),v.value!==te&&(p.value="",y.value="",w.value=""),v.value=v.value===te?null:te,console.log(" Dropdown activo:",v.value)},Q=()=>{if(console.log(" Cerrando todos los dropdowns"),v.value=null,p.value="",y.value="",w.value="",s.isLocked){console.log(" Barra bloqueada, permanece expandida");return}h.value=setTimeout(()=>{u.value=!1},300)},ee=te=>{A.value&&(A.value.contains(te.target)||v.value&&(console.log(" Click fuera detectado, cerrando dropdown"),Q()))},ae=te=>{console.log("=== FILTRO: Entidad seleccionada ===",te),E.value=te,a("entity-change",te),fe(),p.value="",Q()},ve=te=>{if(console.log("=== FILTRO: Ao seleccionado ===",te),d(te),te!==""&&te!==null)Te(te),console.log(" Ao activo establecido:",te);else if(te===null){const P=c.value[0]||"2024";Te(P),console.log(" Ao activo establecido (fallback):",P)}a("year-change",te),fe(),y.value="",Q()},we=te=>{console.log("=== FILTRO: Variable seleccionada ===",te),$.value=te,a("variable-change",te),fe(),w.value="",Q()},fe=()=>{const te={entity:E.value,year:o.value,variable:$.value};console.log("=== FILTRO: Emitiendo filters-change ===",te),a("filters-change",te)};return be(()=>s.initialEntity,te=>{console.log(" [FilterBar] initialEntity cambi a:",te),te!==E.value&&(E.value=te,console.log(" [FilterBar] selectedEntity sincronizado:",E.value))},{immediate:!0}),be(()=>s.initialYear,te=>{console.log(" [FilterBar] initialYear cambi a:",te),te!==o.value&&(d(te),console.log(" [FilterBar] selectedYear sincronizado:",o.value))},{immediate:!0}),be(()=>s.initialVariable,te=>{console.log(" [FilterBar] initialVariable cambi a:",te),te!==$.value&&($.value=te,console.log(" [FilterBar] selectedVariable sincronizado:",$.value))},{immediate:!0}),be(()=>s.isLocked,(te,P)=>{console.log(" isLocked cambi de",P,"a",te),te?(u.value=!0,m.value=!1,h.value&&(clearTimeout(h.value),h.value=null)):P===!0&&te===!1&&(console.log(" Iniciando animacin de bajada..."),m.value=!0,setTimeout(()=>{m.value=!1,!E.value&&!v.value&&(u.value=!1),console.log(" Animacin de bajada completada")},600))}),be(()=>s.selectedState,te=>{console.log(" Sincronizando filtro con mapa. Estado:",te),(te!=null||te===null&&E.value!=="")&&(E.value=te)}),be(c,te=>{console.log(" [RetractableFilterBar] Computed years cambi a:",te)},{immediate:!0}),be(()=>s.availableYears,(te,P)=>{console.log(" [RetractableFilterBar] props.availableYears cambi"),console.log("  - Anterior:",P),console.log("  - Nuevo:",te)},{deep:!0}),Oe(async()=>{if(console.log(" RetractableFilterBar montado"),console.log(" Entidades recibidas:",s.entities.length),console.log(" Aos en props:",s.availableYears),console.log(" initialEntity:",s.initialEntity),console.log(" initialYear:",s.initialYear),console.log(" initialVariable:",s.initialVariable),s.initialEntity!==void 0&&(E.value=s.initialEntity),s.initialVariable!==void 0&&($.value=s.initialVariable),console.log(" Cargando aos desde composable..."),await r(),console.log(" Aos del composable cargados:",l.value),s.initialYear!==null&&s.initialYear!==void 0)d(s.initialYear),s.initialYear!==""&&Te(s.initialYear),console.log(" Usando ao de props:",s.initialYear);else if(c.value.length>0){const te=c.value[0];d(te),Te(te),console.log(" Ao por defecto establecido:",te),a("year-change",te)}else Te(f.value),console.log(" Ao activo inicial (fallback):",f.value);fe(),document.addEventListener("click",ee)}),Ko(()=>{console.log(" RetractableFilterBar desmontndose"),document.removeEventListener("click",ee),h.value&&clearTimeout(h.value)}),(te,P)=>(g(),C("div",{class:"filter-bar-container",style:de({overflow:v.value!==null?"visible":"hidden"})},[n("div",{ref_key:"filterBarRef",ref:A,class:pe(["filter-bar",{expanded:u.value||v.value,"has-entity-selected":E.value,"locked-expanded":s.isLocked,"animating-down":m.value}]),onMouseenter:H,onMouseleave:D},[n("div",D0,[n("div",T0,[P[18]||(P[18]=n("label",{class:"filter-label"},"Entidad",-1)),n("div",B0,[n("button",{onClick:P[0]||(P[0]=N=>W("entidad")),class:pe(["dropdown-button",{active:v.value==="entidad","has-selection":E.value}])},[n("span",R0,G(M()),1),P[15]||(P[15]=n("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="entidad"?(g(),C("div",L0,[n("div",V0,[Rs(n("input",{"onUpdate:modelValue":P[1]||(P[1]=N=>p.value=N),placeholder:"Buscar entidad...",class:"search-input",onClick:P[2]||(P[2]=nt(()=>{},["stop"]))},null,512),[[fa,p.value]])]),n("div",{class:"dropdown-options",onWheel:nt(B,["prevent"])},[n("div",{onClick:P[3]||(P[3]=N=>ae("")),class:pe(["dropdown-option",{selected:E.value===""}])},[...P[16]||(P[16]=[n("span",{class:"blank-option"},"-",-1)])],2),n("div",{onClick:P[4]||(P[4]=N=>ae(null)),class:pe(["dropdown-option",{selected:E.value===null}])},[...P[17]||(P[17]=[n("span",null,"Todas las entidades (IFS Regional)",-1)])],2),(g(!0),C(ge,null,_e(x.value,N=>(g(),C("div",{key:N.name,onClick:O=>ae(N.name),class:pe(["dropdown-option",{selected:E.value===N.name&&E.value!==""&&E.value!==null}])},[n("span",null,G(N.name),1)],10,N0))),128))],32)])):oe("",!0)])]),n("div",O0,[P[22]||(P[22]=n("label",{class:"filter-label"},"Ao",-1)),n("div",z0,[n("button",{onClick:P[5]||(P[5]=N=>W("ao")),class:pe(["dropdown-button",{active:v.value==="ao","has-selection":q(o)!==null&&q(o)!==""}]),disabled:q(i)},[n("span",H0,G(q(i)?"Cargando...":L()),1),P[19]||(P[19]=n("span",{class:"dropdown-arrow"},"",-1))],10,j0),v.value==="ao"?(g(),C("div",Y0,[n("div",G0,[Rs(n("input",{"onUpdate:modelValue":P[6]||(P[6]=N=>y.value=N),placeholder:"Buscar ao...",class:"search-input",onClick:P[7]||(P[7]=nt(()=>{},["stop"]))},null,512),[[fa,y.value]])]),n("div",{class:"dropdown-options",onWheel:nt(B,["prevent"])},[y.value?oe("",!0):(g(),C("div",{key:0,onClick:P[8]||(P[8]=N=>ve("")),class:pe(["dropdown-option",{selected:q(o)===""}])},[...P[20]||(P[20]=[n("span",{class:"blank-option"},"-",-1)])],2)),y.value?oe("",!0):(g(),C("div",{key:1,onClick:P[9]||(P[9]=N=>ve(null)),class:pe(["dropdown-option",{selected:q(o)===null}])},[...P[21]||(P[21]=[n("span",null,"Todos los aos",-1)])],2)),(g(!0),C(ge,null,_e(b.value,N=>(g(),C("div",{key:N,onClick:O=>ve(N),class:pe(["dropdown-option",{selected:q(o)===N&&q(o)!==""&&q(o)!==null}])},[n("span",null,G(N),1)],10,q0))),128)),b.value.length===0&&y.value?(g(),C("div",U0," No se encontraron aos ")):oe("",!0)],32)])):oe("",!0)])]),n("div",W0,[P[26]||(P[26]=n("label",{class:"filter-label"},"Variable",-1)),n("div",X0,[n("button",{onClick:P[10]||(P[10]=N=>W("variable")),class:pe(["dropdown-button",{active:v.value==="variable","has-selection":$.value!==null&&$.value!==""}])},[n("span",K0,G(F()),1),P[23]||(P[23]=n("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="variable"?(g(),C("div",Q0,[n("div",J0,[Rs(n("input",{"onUpdate:modelValue":P[11]||(P[11]=N=>w.value=N),placeholder:"Buscar variable...",class:"search-input",onClick:P[12]||(P[12]=nt(()=>{},["stop"]))},null,512),[[fa,w.value]])]),n("div",{class:"dropdown-options",onWheel:nt(B,["prevent"])},[w.value?oe("",!0):(g(),C("div",{key:0,onClick:P[13]||(P[13]=N=>we("")),class:pe(["dropdown-option",{selected:$.value===""}])},[...P[24]||(P[24]=[n("span",{class:"blank-option"},"-",-1)])],2)),w.value?oe("",!0):(g(),C("div",{key:1,onClick:P[14]||(P[14]=N=>we(null)),class:pe(["dropdown-option",{selected:$.value===null}])},[...P[25]||(P[25]=[n("span",null,"Todas las variables",-1)])],2)),(g(!0),C(ge,null,_e(k.value,N=>{var O;return g(),C("div",{key:N.key,onClick:U=>we(N),class:pe(["dropdown-option",{selected:((O=$.value)==null?void 0:O.key)===N.key}])},[n("span",null,G(N.label),1)],10,Z0)}),128)),k.value.length===0&&w.value?(g(),C("div",eg," No se encontraron variables ")):oe("",!0)],32)])):oe("",!0)])])])],34)],4))}},Bn=Ie(tg,[["__scopeId","data-v-bcd8fd60"]]),sg=()=>{const e=V("subnacional"),t=V("mxn"),s=f=>{f==="federal"||f==="subnacional"?(e.value=f,console.log("Tipo de datos cambiado a:",f)):console.error("Tipo de datos invlido:",f)},a=f=>{f==="usd"||f==="mxn"?(t.value=f,console.log("Moneda cambiada a:",f.toUpperCase())):console.error("Moneda invlida:",f)},o=()=>17.5,l=(f,c="mxn")=>{if(t.value===c)return f;const u=o();return c==="mxn"&&t.value==="usd"?f/u:c==="usd"&&t.value==="mxn"?f*u:f},i=f=>{const c=l(f);t.value;const u=t.value==="usd"?"en-US":"es-MX";return new Intl.NumberFormat(u,{style:"currency",currency:t.value.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(c)};return be(e,f=>{console.log("Datos actualizados a:",f)}),be(t,f=>{console.log("Moneda actualizada a:",f.toUpperCase())}),{dataType:e,currency:t,setDataType:s,setCurrency:a,getExchangeRate:o,convertCurrency:l,formatCurrency:i,getCurrentConfig:()=>({dataType:e.value,currency:t.value,currencySymbol:(t.value==="usd","$"),currencyCode:t.value.toUpperCase()}),resetToDefaults:()=>{e.value="subnacional",t.value="mxn"}}},ag={class:"data-toggle-container"},ng={class:"toggle-group"},og={class:"toggle-group currency-group"},lg={__name:"DataToggleComponent",setup(e){const{dataType:t,currency:s,setDataType:a,setCurrency:o}=sg();return(l,i)=>(g(),C("div",ag,[n("div",ng,[n("button",{class:pe(["toggle-btn",{active:q(t)==="federal"}]),onClick:i[0]||(i[0]=r=>q(a)("federal"))}," Datos federales ",2),n("button",{class:pe(["toggle-btn",{active:q(t)==="subnacional"}]),onClick:i[1]||(i[1]=r=>q(a)("subnacional"))}," Datos subnacionales ",2)]),n("div",og,[n("button",{class:pe(["toggle-btn currency-btn",{active:q(s)==="usd"}]),onClick:i[2]||(i[2]=r=>q(o)("usd"))}," USD ",2),n("button",{class:pe(["toggle-btn currency-btn",{active:q(s)==="mxn"}]),onClick:i[3]||(i[3]=r=>q(o)("mxn"))}," MXN ",2)])]))}},cl=Ie(lg,[["__scopeId","data-v-a1431e7f"]]),ul=()=>{const e=V(null),t=V("2023"),s=V(null),a=V(null),o=V(!1),l=V(null),i=V(["2023","2022","2021","2020","2019"]),r=V([{key:"ifss_total",label:"IFSS Total",description:"ndice completo de finanzas sostenibles",field:"value"}]),d=async()=>{o.value=!0,l.value=null;try{const S=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!S.ok)throw new Error("Error al cargar datos de filtros");const x=await S.json();a.value=x.reduce((b,k)=>(b[k.region]=k,b),{}),console.log("Datos de filtros cargados:",a.value)}catch(S){console.error("Error cargando datos de filtros:",S),l.value=S.message}finally{o.value=!1}},f=K(()=>a.value?Object.entries(a.value).map(([S,x])=>({name:S,value:v(x),region:x.region,year:x.year})).sort((S,x)=>S.name.localeCompare(x.name)):[]),c=K(()=>{if(!a.value)return{};let S={...a.value};return e.value&&(S={[e.value]:a.value[e.value]}),t.value!=="2023"&&console.log("Filtrando por ao:",t.value),S}),u=K(()=>{var F;const S=Object.values(c.value);if(S.length===0)return null;const x=S.map(B=>v(B)).filter(B=>B>0),b=x.length,k=x.reduce((B,H)=>B+H,0)/b,M=Math.max(...x),L=Math.min(...x);return{total:b,average:Math.round(k*100)/100,max:M,min:L,selectedVariable:((F=s.value)==null?void 0:F.label)||"IFSS Total"}}),v=S=>{if(!s.value)return S.value||0;const x=s.value.field;return S[x]||S.value||0},h=S=>{e.value=S,console.log("Filtro de entidad aplicado:",S)},A=S=>{t.value=S,console.log("Filtro de ao aplicado:",S)},m=S=>{s.value=S,console.log("Filtro de variable aplicado:",S)},p=S=>{S.entity!==void 0&&(e.value=S.entity),S.year!==void 0&&(t.value=S.year),S.variable!==void 0&&(s.value=S.variable)},y=()=>{e.value=null,t.value="2023",s.value=r.value[0]},w=S=>{if(!S||!a.value)return[];const x=S.toLowerCase();return f.value.filter(b=>b.name.toLowerCase().includes(x)).slice(0,10)},E=()=>{var H;const S=c.value,x=((H=s.value)==null?void 0:H.label)||"IFSS Total",b=["Entidad",x,"Ao"],k=Object.entries(S).map(([D,W])=>[D,v(W),t.value]),M=[b.join(","),...k.map(D=>D.join(","))].join(`
`),L=new Blob([M],{type:"text/csv"}),F=window.URL.createObjectURL(L),B=document.createElement("a");B.href=F,B.download=`IFSS_${x}_${t.value}.csv`,B.click(),window.URL.revokeObjectURL(F)},$=()=>{var b;const S={ifss_total:{scale:[.5,2.9],colors:["#e52845","#e67849","#e6a74c","#e6d64f","#bddc50","#94d351","#6ac952"]}},x=((b=s.value)==null?void 0:b.key)||"ifss_total";return S[x]||S.ifss_total};return be([e,t,s],()=>{var S;console.log("Filtros cambiados:",{entity:e.value,year:t.value,variable:(S=s.value)==null?void 0:S.label})}),{selectedEntity:e,selectedYear:t,selectedVariable:s,loading:o,error:l,availableYears:i,availableVariables:r,entitiesData:f,filteredData:c,filterStats:u,loadFilterData:d,setEntityFilter:h,setYearFilter:A,setVariableFilter:m,applyFilters:p,resetFilters:y,searchEntities:w,exportFilteredData:E,getCurrentVariableValue:v,getVariableColorConfig:$,initializeFilters:()=>{r.value.length>0&&(s.value=r.value[0])}}},dl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAVFJREFUeJzt27FqFFEYhuH3m9bKIhoQyyBegoWkXsLiFSQ2gXglySUoWhlvYElWvIP0WqTRZiGB3U27lns+mx0IXsD8xXxPNeULM8yBc/4DERExXgKw/YrWjoG94p6hrOm6S0m/ZfsQ+zvwpLpqYH+RJnJrN8Cb6poiN3JrG8b39nubDlhUVxRadEgXgKtLChjpvF8FptgfgOfFUUNZIn2SNK8OiYiIiIiIiCig/sH2S+BZYcuQVpLuAGT7KfY34Kg4amhzpBN5u/2CdFpdU8L+LLe2ZjwHIv976KoLirUOe1ZdUcae9T/Br8C0umdgV0jvHy+DL4D9wqAhLSXdV0dEREREREREFOnH5N5hnzGebfE10kdJ17J9stsRGh/pWG7tFnhd3VLkNsPSwK/qikI/Zfst9g/G9xVskCb9KnCwuzIzlmHp1e7KzJ/qkIiIqPQPkdV4tN3EmJgAAAAASUVORK5CYII=",ig={class:"map-container"},rg={key:0,class:"loading-state"},cg={key:1,class:"error-state"},ug={key:2,class:"map-content"},dg={class:"map-and-charts-wrapper"},fg={class:"map-wrapper"},vg={class:"hover-info-box"},hg={key:0,class:"info-content"},pg={class:"location-label"},gg={class:"value-display"},mg={key:1,class:"info-content"},bg={class:"value-display"},yg=["width","height"],Ag=["d","fill","stroke","stroke-width","onClick","onMouseenter"],wg={class:"tooltip-content"},Cg={class:"tooltip-data"},_g={key:0,class:"collapsed-view"},kg={key:1,class:"expanded-view"},$g={key:0,class:"details-panel"},Sg={class:"details-header"},xg={class:"details-content"},Eg={class:"metric-card"},Ig={class:"metric-value"},Pg={class:"metric-card"},Mg={class:"metric-value"},Fg={class:"description"},Dg={__name:"QualitativeIndicatorPanel",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:E,initializeData:$}=s.mapsComposable||zt(),{setChartData:j}=Pa(),S=V({x:0,y:0}),x=(te,P)=>{S.value={x:P.clientX,y:P.clientY},y(te)},b=async te=>{if(p(te),await ze(),r.value===te){const P=A(te);a("region-selected",{name:te,data:P})}else a("region-selected",null)},k=K(()=>rl().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),M=K(()=>nl().projection(k.value)),L=te=>M.value(te),F=te=>r.value===te?"#FfFFFF":(d.value===te,"#555555"),B=te=>r.value===te?3:d.value===te?2:1,H=K(()=>d.value?{position:"fixed",left:`${S.value.x+20}px`,top:`${S.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),D=xc(),W=Hs(),Q=K(()=>D.path.includes("/cualitativos")),ee=()=>{W.push("/finanzas/cualitativos")},ae=()=>{W.push("/finanzas/mapas")},ve=()=>{W.push("/finanzas/cualitativos/item")},we=()=>{console.log("Navegando a datos regionales...")},fe=()=>{console.log("Navegando a federales...")};return be(r,(te,P)=>{if(te&&te!==P){const N=A(te);j(N),a("region-selected",{name:te,data:N})}else!te&&P&&a("region-selected",null)}),be(i,te=>{te&&a("map-error",te)}),(te,P)=>{var N;return g(),C("div",ig,[q(l)?(g(),C("div",rg,[...P[3]||(P[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):oe("",!0),q(i)?(g(),C("div",cg,[n("p",null,"Error: "+G(q(i)),1),n("button",{onClick:P[0]||(P[0]=(...O)=>q($)&&q($)(...O)),class:"retry-btn"}," Reintentar ")])):oe("",!0),!q(l)&&!q(i)?(g(),C("div",ug,[n("div",dg,[n("div",fg,[n("div",{class:pe(["map-info-card",{"state-selected":q(r)}])},[n("div",{class:"card-content"},[P[4]||(P[4]=Se('<div class="card-position-title" data-v-9b52fd2a> Posicin del pas en el ndice<br data-v-9b52fd2a> de Finanzas Sostenibles<br data-v-9b52fd2a> (IFS) en 2024 </div><div class="card-top-row" data-v-9b52fd2a><div class="card-position-number" data-v-9b52fd2a> 15 </div><div class="card-ifss-info" data-v-9b52fd2a><div class="ifss-value-text" data-v-9b52fd2a>IFS: 1.3</div><div class="ifss-classification" data-v-9b52fd2a>Medio bajo</div></div></div>',2)),n("div",{class:"card-bottom-stack"},[n("div",{class:"card-label-pill",onClick:we},"IFS Regional"),n("div",{class:"card-label-pill",onClick:fe},"Datos federales")])])],2),n("div",vg,[q(d)?(g(),C("div",hg,[n("div",pg,G(q(d)),1),n("div",gg,G(q(A)(q(d)).value||0)+"%",1)])):q(v)?(g(),C("div",mg,[P[5]||(P[5]=n("div",{class:"location-label"},"Mxico",-1)),n("div",bg,G(q(v).value)+"%",1)])):oe("",!0)]),P[6]||(P[6]=Se('<div class="color-legend" data-v-9b52fd2a><div class="legend-items-horizontal" data-v-9b52fd2a><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Bajo</span></div></div></div>',1)),(g(),C("svg",{width:q(f).width,height:q(f).height,class:"mexico-map"},[n("g",null,[(g(!0),C(ge,null,_e(((N=q(o))==null?void 0:N.features)||[],O=>(g(),C("path",{key:O.properties.state_name,d:L(O),fill:q(h)(O.properties.state_name),stroke:F(O.properties.state_name),"stroke-width":B(O.properties.state_name),class:"state-path",onClick:U=>b(O.properties.state_name),onMouseenter:U=>x(O.properties.state_name,U),onMouseleave:P[1]||(P[1]=(...U)=>q(w)&&q(w)(...U))},null,40,Ag))),128))])],8,yg)),q(d)?(g(),C("div",{key:0,class:"tooltip",style:de(H.value)},[n("div",wg,[n("h4",null,G(q(d)),1),n("div",Cg,[n("p",null,"IFSS: "+G(q(A)(q(d)).value||0),1),n("p",null,"Clasificacin: "+G(q(m)(q(A)(q(d)).value||0).label),1),n("p",null,"Ao: "+G(q(A)(q(d)).year),1)])])],4)):oe("",!0)]),n("div",{class:pe(["qualitative-panel",{expanded:Q.value}])},[Q.value?(g(),C("div",kg,[n("div",{class:"header-retractable-view"},[n("div",{class:"hamburger-menu",onClick:ae},[...P[7]||(P[7]=[n("img",{src:dl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),P[8]||(P[8]=n("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),n("div",{class:"expand-retractable-btn",onClick:ae}," - ")]),n("div",{class:"buttons-container"},[n("div",{class:"qualitative-btn",onClick:ve},[...P[9]||(P[9]=[n("span",{class:"title-btn"},"Ambientales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:ve},[...P[10]||(P[10]=[n("span",{class:"title-btn"},"Econmicos",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:ve},[...P[11]||(P[11]=[n("span",{class:"title-btn"},"Sociables",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:ve},[...P[12]||(P[12]=[n("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:ve},[...P[13]||(P[13]=[n("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),n("span",{class:"plus-btn"},"+",-1)])])])])):(g(),C("div",_g,[n("div",{class:"expand-retractable-btn",onClick:ee}," + ")]))],2)]),q(r)?(g(),C("div",$g,[n("div",Sg,[n("h3",null,G(q(r)),1),n("button",{onClick:P[2]||(P[2]=(...O)=>q(E)&&q(E)(...O)),class:"close-btn"},"")]),n("div",xg,[n("div",Eg,[n("div",Ig,G(q(A)(q(r)).value||0),1),P[14]||(P[14]=n("div",{class:"metric-label"},"IFSS",-1)),n("div",{class:"metric-classification",style:de({color:q(m)(q(A)(q(r)).value||0).color})},G(q(m)(q(A)(q(r)).value||0).label),5)]),n("div",Pg,[n("div",Mg,G(q(A)(q(r)).year),1),P[15]||(P[15]=n("div",{class:"metric-label"},"Ao de datos",-1))])]),n("div",Fg,[n("p",null,G(q(A)(q(r)).descripcion),1)])])):oe("",!0)])):oe("",!0)])}}},Tg=Ie(Dg,[["__scopeId","data-v-9b52fd2a"]]),Bg={class:"maps-page"},Rg={class:"filters-toggles-row"},Lg={class:"filters-column"},Vg={class:"toggles-column"},Ng={class:"qualitativeIndicatorPanel"},Og={key:0,class:"error-panel"},zg={__name:"QualitativePanel",setup(e){const t=V(!1),s=zt(),{selectedEntity:a,loading:o,error:l,loadFilterData:i,setEntityFilter:r,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=ul(),{loading:u,error:v,selectedState:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,resetSelection:y,initializeData:w}=s,E=K(()=>o.value||u.value),$=K(()=>l.value||v.value);be(h,M=>{console.log("Estado seleccionado en el mapa:",M),M&&M!==a.value?(r(M),t.value=!0):M||(r(null),t.value=!1)});const j=M=>{r(M),t.value=!0,M?p(M):y()},S=M=>{d(M)},x=M=>{f(M)},b=M=>{M.year!==void 0&&d(M.year),M.variable!==void 0&&f(M.variable),t.value=!0},k=()=>{c(),w(),i()};return Oe(async()=>{try{c(),await i()}catch(M){console.error("Error inicializando MapsPage:",M)}}),(M,L)=>(g(),C("div",Bg,[n("div",Rg,[n("div",Lg,[ye(Bn,{entities:M.entitiesData,loading:E.value,onEntityChange:j,onYearChange:S,onVariableChange:x,onFiltersChange:b},null,8,["entities","loading"])]),n("div",Vg,[ye(cl)])]),n("div",Ng,[ye(Tg)]),$.value?(g(),C("div",Og,[L[0]||(L[0]=n("h3",null,"Error en el sistema",-1)),n("p",null,G($.value),1),n("button",{onClick:k,class:"retry-btn"}," Reintentar ")])):oe("",!0)]))}},jg=Ie(zg,[["__scopeId","data-v-04ce9b6f"]]),Hg={class:"gauge-chart",ref:"chartContainer"},Yg=["viewBox"],Gg=["d","stroke","stroke-width"],qg=["d","stroke","stroke-width"],Ug=["d","fill"],Wg=["cx","cy","r","fill"],Xg=["cx","cy","r","fill"],Ks=150,gs=-90,ao=90,Kg={__name:"GaugeChart",props:{value:{type:Number,default:0},strokeWidth:{type:Number,default:12},backgroundColor:{type:String,default:"#CDCDCD"},progressColor:{type:String,default:"#0F3759"},needleColor:{type:String,default:"#0F3759"},needleWidth:{type:Number,default:3}},setup(e){const t=e,s=K(()=>7),a=V(0),o=V(!1),l=K(()=>Ks/2),i=K(()=>Ks*.6),r=K(()=>Ks/2-t.strokeWidth/2-10),d=K(()=>{const m=t.value;return m==null||typeof m!="number"||isNaN(m)?0:Math.max(0,Math.min(100,m))});Oe(()=>{console.log(" [GaugeChart] Montado con valor:",t.value,"-> safe:",d.value),setTimeout(()=>{d.value>0&&f(0,d.value)},200)}),be(()=>t.value,(m,p)=>{const y=Math.max(0,Math.min(100,m||0)),w=Math.max(0,Math.min(100,p||0));console.log(" [GaugeChart] Valor cambi:",w,"->",y),Math.abs(y-w)>.1&&f(a.value,y)});const f=(m,p)=>{if(o.value)return;console.log(" [GaugeChart] Animando de",m,"a",p),o.value=!0;const y=1500,w=m,E=p,$=Date.now(),j=()=>{const S=Date.now(),x=Math.min((S-$)/y,1),b=1-Math.pow(1-x,3);a.value=w+(E-w)*b,x<1?requestAnimationFrame(j):(o.value=!1,console.log(" [GaugeChart] Animacin completada:",a.value))};requestAnimationFrame(j)},c=m=>{const p=(m-90)*Math.PI/180;return{x:l.value+r.value*Math.cos(p),y:i.value+r.value*Math.sin(p)}},u=K(()=>{const m=c(gs),p=c(ao);return`M ${m.x} ${m.y} A ${r.value} ${r.value} 0 0 1 ${p.x} ${p.y}`}),v=K(()=>{if(a.value<.1)return"";const m=gs+(ao-gs)*(a.value/100),p=c(gs),y=c(m),w=Math.abs(m-gs)>180?1:0;return`M ${p.x} ${p.y} A ${r.value} ${r.value} 0 ${w} 1 ${y.x} ${y.y}`}),h=K(()=>gs+(ao-gs)*(a.value/100)),A=K(()=>{const p=(h.value-90)*Math.PI/180,y=l.value+(r.value-10)*Math.cos(p),w=i.value+(r.value-10)*Math.sin(p),E=p+Math.PI/2,$=s.value,j=l.value+$*Math.cos(E),S=i.value+$*Math.sin(E),x=l.value-$*Math.cos(E),b=i.value-$*Math.sin(E),k=-1,M=y-k*Math.cos(E)-k*.3*Math.cos(p),L=w-k*Math.sin(E)-k*.3*Math.sin(p),F=y+k*Math.cos(E)-k*.3*Math.cos(p),B=w+k*Math.sin(E)-k*.3*Math.sin(p);return`
    M ${j} ${S} 
    L ${M} ${L}
    Q ${y} ${w} ${F} ${B}
    L ${x} ${b}
    Z
  `});return(m,p)=>(g(),C("div",Hg,[(g(),C("svg",{width:"100%",height:"40%",viewBox:`0 0 ${Ks} ${Ks*.65}`,preserveAspectRatio:"xMidYMid meet"},[n("path",{d:u.value,fill:"none",stroke:e.backgroundColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,Gg),a.value>.1?(g(),C("path",{key:0,d:v.value,fill:"none",stroke:e.progressColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,qg)):oe("",!0),n("path",{d:A.value,fill:e.needleColor,class:"needle"},null,8,Ug),n("circle",{cx:l.value,cy:i.value,r:s.value,fill:e.needleColor,class:"needle"},null,8,Wg),n("circle",{cx:l.value,cy:i.value,r:e.needleWidth*1.5,fill:e.needleColor},null,8,Xg)],8,Yg))],512))}},Xc=Ie(Kg,[["__scopeId","data-v-16a38344"]]),Qg={class:"bottle-chart"},Jg={class:"bottles-container"},Zg={class:"bottle-svg",viewBox:"0 0 24 55",preserveAspectRatio:"xMidYMax meet"},e1=["id"],t1=["id"],s1=["id"],a1=["id"],n1=["fill"],o1=["fill"],l1=["fill","filter"],i1=["y","height","fill","clip-path"],r1=["y","height","clip-path"],Ni=30,c1={__name:"BottleChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=V([0,0,0,0,0,0,0,0,0,0]),a=l=>{const i=[];for(let f=0;f<10;f++){const c=f*10,u=(f+1)*10;if(l<=c)i.push(0);else if(l>=u)i.push(Ni);else{const v=(l-c)/10;i.push(v*Ni)}}return i},o=l=>{s.value=[0,0,0,0,0,0,0,0,0,0];const i=80;l.forEach((r,d)=>{r>0&&setTimeout(()=>{s.value[d]=r,s.value=[...s.value]},i*(d+1))})};return be(()=>t.value,l=>{const i=a(l);o(i)},{immediate:!1}),Oe(()=>{setTimeout(()=>{const l=a(t.value);o(l)},150)}),(l,i)=>(g(),C("div",Qg,[n("div",Jg,[(g(),C(ge,null,_e(10,r=>n("div",{key:r,class:"bottle-wrapper"},[(g(),C("svg",Zg,[n("defs",null,[n("linearGradient",{id:"emptyGradient-"+r,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...i[0]||(i[0]=[n("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),n("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),n("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,e1),n("linearGradient",{id:"liquidGradient-"+r,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...i[1]||(i[1]=[n("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),n("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),n("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,t1),n("clipPath",{id:"bodyClip-"+r},[...i[2]||(i[2]=[n("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2"},null,-1)])],8,s1),n("filter",{id:"shadow-"+r,x:"-10%",y:"-10%",width:"120%",height:"120%"},[...i[3]||(i[3]=[n("feDropShadow",{dx:"0.5",dy:"1",stdDeviation:"1","flood-opacity":"0.12"},null,-1)])],8,a1)]),n("rect",{x:"7",y:"0",width:"10",height:"7",rx:"3",fill:"url(#emptyGradient-"+r+")"},null,8,n1),n("path",{d:"M6 9 Q6 7 7 7 L17 7 Q18 7 18 9 L18 13 Q18 16 21 19 L21 21 L3 21 L3 19 Q6 16 6 13 Z",fill:"url(#emptyGradient-"+r+")"},null,8,o1),n("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2",fill:"url(#emptyGradient-"+r+")",filter:"url(#shadow-"+r+")"},null,8,l1),i[4]||(i[4]=n("rect",{x:"3",y:"20",width:"18",height:"2",fill:"#bfc3c9"},null,-1)),n("rect",{x:"3",y:52-s.value[r-1],width:"18",height:s.value[r-1],fill:"url(#liquidGradient-"+r+")","clip-path":"url(#bodyClip-"+r+")",class:"liquid-fill"},null,8,i1),s.value[r-1]>4?(g(),C("rect",{key:0,x:"5",y:53-s.value[r-1],width:"2",height:Math.max(0,s.value[r-1]-3),rx:"1",fill:"rgba(255,255,255,0.4)","clip-path":"url(#bodyClip-"+r+")",class:"liquid-shine"},null,8,r1)):oe("",!0)]))])),64))])]))}},Kc=Ie(c1,[["__scopeId","data-v-2728fdf4"]]),u1={class:"area-chart-cont"},d1={key:0,class:"legend"},f1={class:"legend-label"},v1={class:"chart-container"},h1=["viewBox"],p1=["cx","cy","r"],g1=["cx","cy","r"],m1=["d","fill","onMouseenter"],b1=["x1","y1","x2","y2"],y1={class:"tooltip-content"},A1={class:"tooltip-info"},w1={class:"tooltip-label"},C1={class:"tooltip-value"},_1={__name:"AreaChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#FF6B9D","#4ECDC4","#FFE66D","#95A5A6","#3498DB"]},size:{type:Number,default:400},innerRadius:{type:Number,default:0},title:{type:String,default:""},showLegend:{type:Boolean,default:!0}},setup(e){const t=e,s=[{label:"Red",value:11},{label:"Green",value:16},{label:"Yellow",value:7},{label:"Grey",value:3},{label:"Blue",value:14}],a=K(()=>t.excelData||s),o=K(()=>t.size/2),l=K(()=>t.size/2),i=K(()=>t.size/2-20),r=V(0),d=V(null),f=V(0),c=V({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=x=>x?new Intl.NumberFormat("es-MX").format(x):"0";Oe(()=>{setTimeout(()=>{v()},800)}),be(()=>a.value,()=>{f.value=0,r.value=0,v()});const v=()=>{const b=Date.now(),k=()=>{const M=Date.now(),L=Math.min((M-b)/1500,1);r.value=1-Math.pow(1-L,6),f.value=1-Math.pow(1-L,5),L<1&&requestAnimationFrame(k)};requestAnimationFrame(k)},h=K(()=>Math.max(...a.value.map(x=>x.value))),A=K(()=>{const b=(i.value-t.innerRadius)/4;return Array.from({length:4},(k,M)=>t.innerRadius+b*(M+1))}),m=K(()=>2*Math.PI/a.value.length),p=K(()=>a.value.map((x,b)=>{const k=b*m.value-Math.PI/2,M=k+m.value,L=t.innerRadius+(i.value-t.innerRadius)*(x.value/h.value);return{startAngle:k,endAngle:M,radius:L,color:t.colors[b%t.colors.length],label:x.label,value:x.value}})),y=K(()=>{const x=-Math.PI*(1-r.value);return p.value.map(b=>{const k=t.innerRadius+(b.radius-t.innerRadius)*f.value,M=b.startAngle+x,L=b.endAngle+x,F=o.value+t.innerRadius*Math.cos(M),B=l.value+t.innerRadius*Math.sin(M),H=o.value+t.innerRadius*Math.cos(L),D=l.value+t.innerRadius*Math.sin(L),W=o.value+k*Math.cos(M),Q=l.value+k*Math.sin(M),ee=o.value+k*Math.cos(L),ae=l.value+k*Math.sin(L),ve=0;return{path:`
      M ${F} ${B}
      L ${W} ${Q}
      A ${k} ${k} 0 ${ve} 1 ${ee} ${ae}
      L ${H} ${D}
      A ${t.innerRadius} ${t.innerRadius} 0 ${ve} 0 ${F} ${B}
      Z
    `,color:b.color,label:b.label,value:b.value}})}),w=K(()=>{const x=-Math.PI*(1-r.value);return a.value.map((b,k)=>{const M=k*m.value-Math.PI/2+x;return{x:o.value+i.value*Math.cos(M),y:l.value+i.value*Math.sin(M)}})}),E=(x,b,k)=>{d.value=x,c.value={visible:!0,x:k.clientX,y:k.clientY,label:b.label,value:b.value,color:b.color}},$=x=>{c.value.visible&&(c.value.x=x.clientX,c.value.y=x.clientY)},j=()=>{d.value=null,c.value.visible=!1},S=K(()=>({left:`${c.value.x+15}px`,top:`${c.value.y-50}px`}));return(x,b)=>(g(),C("div",u1,[e.showLegend?(g(),C("div",d1,[(g(!0),C(ge,null,_e(a.value,(k,M)=>(g(),C("div",{key:M,class:"legend-item"},[n("div",{class:"legend-color",style:de({backgroundColor:e.colors[M%e.colors.length]})},null,4),n("span",f1,G(k.label),1)]))),128))])):oe("",!0),n("div",v1,[(g(),C("svg",{width:"100%",height:"100%",viewBox:`0 0 ${e.size} ${e.size}`,preserveAspectRatio:"xMidYMid meet"},[(g(!0),C(ge,null,_e(A.value,k=>(g(),C("circle",{key:k,cx:o.value,cy:l.value,r:k,fill:"none",stroke:"#d0d5dd","stroke-width":"1.5","stroke-dasharray":"4 2"},null,8,p1))),128)),n("circle",{cx:o.value,cy:l.value,r:i.value,fill:"none",stroke:"#b0b8c4","stroke-width":"2"},null,8,g1),(g(!0),C(ge,null,_e(y.value,(k,M)=>(g(),C("path",{key:M,d:k.path,fill:k.color,class:pe(["segment",{hovered:d.value===M}]),onMouseenter:L=>E(M,k,L),onMousemove:b[0]||(b[0]=L=>$(L)),onMouseleave:j},[n("title",null,G(k.label)+": "+G(k.value),1)],42,m1))),128)),(g(!0),C(ge,null,_e(w.value,(k,M)=>(g(),C("line",{key:`line-${M}`,x1:o.value,y1:l.value,x2:k.x,y2:k.y,stroke:"#ffffff","stroke-width":"2","pointer-events":"none"},null,8,b1))),128))],8,h1))]),(g(),Re(jt,{to:"body"},[c.value.visible?(g(),C("div",{key:0,class:"tooltip",style:de(S.value)},[n("div",y1,[n("div",{class:"tooltip-color",style:de({backgroundColor:c.value.color})},null,4),n("div",A1,[n("div",w1,G(c.value.label),1),n("div",C1,"Valor: "+G(u(c.value.value)),1)])])],4)):oe("",!0)]))]))}},k1=Ie(_1,[["__scopeId","data-v-cfde8302"]]),$1={key:0,class:"chart-header"},S1={class:"chart-title"},x1={key:1,class:"variable-filters"},E1=["onClick"],I1={class:"filter-label"},P1=["onMouseenter"],M1={class:"bar-wrapper-horizontal"},F1={key:0,class:"empty-state"},D1={class:"tooltip-content"},T1={class:"tooltip-info"},B1={class:"tooltip-label"},R1={class:"tooltip-value"},L1={__name:"HorizontalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},barHeight:{type:String,default:"30px"},barGap:{type:String,default:"10px"},useGradients:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){tl(E=>({"5c24dd99":f.value}));const t=e,s=V(null),a=V({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=V([]),l=V({}),i=()=>{o.value=t.variables.map(E=>({key:E.key,label:E.label||E.key,value:E.value||0,colorClass:E.colorClass||"default",color:E.color||null,active:!1})),l.value={},t.variables.forEach(E=>{l.value[E.key]=0})},r=async()=>{await new Promise($=>setTimeout($,t.animationDelay));const E=Math.min(4,o.value.length);for(let $=0;$<E;$++){o.value[$].active=!0,await new Promise(S=>setTimeout(S,50));const j=p(o.value[$].value);l.value[o.value[$].key]=j,await new Promise(S=>setTimeout(S,200))}};be(()=>t.variables,()=>{i(),r()},{immediate:!0,deep:!0}),Oe(()=>{r()});const d=K(()=>o.value.filter(E=>E.active)),f=K(()=>{const E=d.value.length;return E===0?"100%":`${100/E}%`}),c=K(()=>{const E=d.value.map($=>$.value);return Math.max(...E,1)}),u=K(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=E=>{const $=o.value.find(j=>j.key===E);$&&($.active=!$.active,$.active?setTimeout(()=>{l.value[E]=p($.value)},50):l.value[E]=0)},h=(E,$)=>{s.value=E.key,a.value={visible:!0,x:$.clientX,y:$.clientY,label:E.label,value:E.value,color:w(E)}},A=E=>{a.value.visible&&(a.value.x=E.clientX,a.value.y=E.clientY)},m=()=>{s.value=null,a.value.visible=!1},p=E=>{const $=E/c.value*100;return Math.min($,100)},y=E=>l.value[E.key]||0,w=E=>{if(E.color)return E.color;const $={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return $[E.colorClass]||$.default};return(E,$)=>(g(),C("div",{class:"horizontal-bar-chart",style:de({width:e.width,height:e.height})},[e.title?(g(),C("div",$1,[n("h3",S1,G(e.title),1)])):oe("",!0),e.showFilters?(g(),C("div",x1,[(g(!0),C(ge,null,_e(o.value,j=>(g(),C("button",{key:j.key,onClick:S=>v(j.key),class:pe(["filter-btn",{active:j.active,[j.colorClass]:!0}])},[n("span",{class:"filter-dot",style:de({backgroundColor:w(j)})},null,4),n("span",I1,G(j.label),1)],10,E1))),128))])):oe("",!0),n("div",{class:pe(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(g(!0),C(ge,null,_e(d.value,j=>(g(),C("div",{key:j.key,class:pe(["bar-row",{"is-hovered":s.value===j.key,"is-dimmed":s.value!==null&&s.value!==j.key}]),onMouseenter:S=>h(j,S),onMousemove:$[0]||($[0]=S=>A(S)),onMouseleave:m},[n("div",M1,[n("div",{class:pe(["bar-horizontal",j.colorClass]),style:de({width:y(j)+"%",background:w(j)})},null,6)])],42,P1))),128)),d.value.length===0?(g(),C("div",F1,[n("p",null,G(e.emptyMessage),1)])):oe("",!0)],2),(g(),Re(jt,{to:"body"},[a.value.visible?(g(),C("div",{key:0,class:"tooltip",style:de(u.value)},[n("div",D1,[n("div",{class:"tooltip-color",style:de({backgroundColor:a.value.color})},null,4),n("div",T1,[n("div",B1,G(a.value.label),1),n("div",R1,G(a.value.value),1)])])],4)):oe("",!0)]))],4))}},fl=Ie(L1,[["__scopeId","data-v-bf2ebdb1"]]),V1={key:0,class:"chart-header"},N1={class:"chart-title"},O1={key:1,class:"variable-filters"},z1=["onClick"],j1={class:"filter-label"},H1=["onMouseenter"],Y1={class:"bar-wrapper-vertical"},G1={key:0,class:"empty-state"},q1={class:"tooltip-content"},U1={class:"tooltip-info"},W1={class:"tooltip-label"},X1={class:"tooltip-value"},K1={__name:"VerticalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},useGradients:{type:Boolean,default:!0},showValues:{type:Boolean,default:!0},showLabels:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){tl(E=>({c240488c:f.value}));const t=e,s=V(null),a=V({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=V([]),l=V({}),i=()=>{o.value=t.variables.map(E=>({key:E.key,label:E.label||E.key,value:E.value||0,colorClass:E.colorClass||"default",color:E.color||null,active:!1})),l.value={},t.variables.forEach(E=>{l.value[E.key]=0})},r=async()=>{await new Promise($=>setTimeout($,t.animationDelay));const E=Math.min(4,o.value.length);for(let $=0;$<E;$++){o.value[$].active=!0,await new Promise(S=>setTimeout(S,50));const j=p(o.value[$].value);l.value[o.value[$].key]=j,await new Promise(S=>setTimeout(S,200))}};be(()=>t.variables,()=>{i(),r()},{immediate:!0,deep:!0}),Oe(()=>{r()});const d=K(()=>o.value.filter(E=>E.active)),f=K(()=>{const E=d.value.length;return E===0?"100%":`${100/E}%`}),c=K(()=>{const E=d.value.map($=>$.value);return Math.max(...E,1)}),u=K(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=E=>{const $=o.value.find(j=>j.key===E);$&&($.active=!$.active,$.active?setTimeout(()=>{l.value[E]=p($.value)},50):l.value[E]=0)},h=(E,$)=>{s.value=E.key,a.value={visible:!0,x:$.clientX,y:$.clientY,label:E.label,value:E.value,color:w(E)}},A=E=>{a.value.visible&&(a.value.x=E.clientX,a.value.y=E.clientY)},m=()=>{s.value=null,a.value.visible=!1},p=E=>{const $=E/c.value*100;return Math.min($,100)},y=E=>l.value[E.key]||0,w=E=>{if(E.color)return E.color;const $={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return $[E.colorClass]||$.default};return(E,$)=>(g(),C("div",{class:"vertical-bar-chart",style:de({width:e.width,height:e.height})},[e.title?(g(),C("div",V1,[n("h3",N1,G(e.title),1)])):oe("",!0),e.showFilters?(g(),C("div",O1,[(g(!0),C(ge,null,_e(o.value,j=>(g(),C("button",{key:j.key,onClick:S=>v(j.key),class:pe(["filter-btn",{active:j.active,[j.colorClass]:!0}])},[n("span",{class:"filter-dot",style:de({backgroundColor:w(j)})},null,4),n("span",j1,G(j.label),1)],10,z1))),128))])):oe("",!0),n("div",{class:pe(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(g(!0),C(ge,null,_e(d.value,j=>(g(),C("div",{key:j.key,class:pe(["bar-column",{"is-hovered":s.value===j.key,"is-dimmed":s.value!==null&&s.value!==j.key}]),onMouseenter:S=>h(j,S),onMousemove:$[0]||($[0]=S=>A(S)),onMouseleave:m},[n("div",Y1,[n("div",{class:pe(["bar-vertical",j.colorClass]),style:de({height:y(j)+"%",background:w(j)})},null,6)])],42,H1))),128)),d.value.length===0?(g(),C("div",G1,[n("p",null,G(e.emptyMessage),1)])):oe("",!0)],2),(g(),Re(jt,{to:"body"},[a.value.visible?(g(),C("div",{key:0,class:"tooltip",style:de(u.value)},[n("div",q1,[n("div",{class:"tooltip-color",style:de({backgroundColor:a.value.color})},null,4),n("div",U1,[n("div",W1,G(a.value.label),1),n("div",X1,G(a.value.value),1)])])],4)):oe("",!0)]))],4))}},Qc=Ie(K1,[["__scopeId","data-v-d0e28cdb"]]),Q1={class:"map-container"},J1={key:0,class:"loading-state"},Z1={key:1,class:"error-state"},em={key:2,class:"map-content"},tm={class:"map-and-charts-wrapper"},sm={class:"map-wrapper"},am={class:"hover-info-box"},nm={key:0,class:"info-content"},om={class:"location-label"},lm={class:"value-display"},im={key:1,class:"info-content"},rm={class:"value-display"},cm=["width","height"],um=["d","fill","stroke","stroke-width","onClick","onMouseenter"],dm={class:"tooltip-content"},fm={class:"tooltip-data"},vm={key:0,class:"collapsed-view"},hm={key:1,class:"expanded-view"},pm={class:"inner-card"},gm={class:"card-body"},mm={class:"left-card-container"},bm={class:"bar-graph card"},ym={class:"bottle-graphs card"},Am={class:"body-bottle"},wm={class:"bottle-graph"},Cm={class:"right-card-container"},_m={class:"top-right-card-container"},km={class:"area-chart card"},$m={class:"area-chart-container"},Sm={class:"gauge-container card"},xm={class:"gauge-graph"},Em={class:"bottom-right-card-container"},Im={class:"bottom-bar-graph card"},Pm={key:0,class:"details-panel"},Mm={class:"details-header"},Fm={class:"details-content"},Dm={class:"metric-card"},Tm={class:"metric-value"},Bm={class:"metric-card"},Rm={class:"metric-value"},Lm={class:"description"},Vm={__name:"IndicatorDetailView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){K(()=>!s.ifssData||!s.ifssData.is_amount?{is_amount:10,iic_amount:5}:{is_amount:s.ifssData.is_amount||0,iic_amount:s.ifssData.iic_amount||0}),K(()=>{var N,O;return{is_amount:(N=s.ifssData)!=null&&N.is_amount?s.ifssData.is_amount*.8:0,iic_amount:(O=s.ifssData)!=null&&O.iic_amount?s.ifssData.iic_amount*1.2:0}});const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:E,initializeData:$}=s.mapsComposable||zt(),{setChartData:j}=Pa(),S=V({x:0,y:0}),x=(N,O)=>{S.value={x:O.clientX,y:O.clientY},y(N)},b=async N=>{if(p(N),await ze(),r.value===N){const O=A(N);a("region-selected",{name:N,data:O})}else a("region-selected",null)},k=K(()=>rl().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),M=K(()=>nl().projection(k.value)),L=N=>M.value(N),F=N=>r.value===N?"#FfFFFF":(d.value===N,"#555555"),B=N=>r.value===N?3:d.value===N?2:1,H=K(()=>d.value?{position:"fixed",left:`${S.value.x+20}px`,top:`${S.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),D=xc(),W=Hs(),Q=K(()=>D.path.includes("/cualitativos")),ee=()=>{W.push("/finanzas/cualitativos")},ae=()=>{W.push("/finanzas/mapas")},ve=()=>{console.log("Navegando a datos regionales...")},we=()=>{console.log("Navegando a federales...")};be(r,(N,O)=>{if(N&&N!==O){const U=A(N);j(U),a("region-selected",{name:N,data:U})}else!N&&O&&a("region-selected",null)}),be(i,N=>{N&&a("map-error",N)});const fe=[{label:"Arboles",value:25},{label:"Ballenas",value:30},{label:"Coco",value:15},{label:"Delfin",value:30},{label:"Escalera",value:15}],te=[{key:"incendios",label:"Total (hectreas)",value:1200,color:"#0F3759",active:!0},{key:"residuos",label:"Arbolado Adulto",value:3500,color:"#3B5A70",active:!0},{key:"emisiones",label:"Renuevo",value:850,color:"#4E6D82",active:!1},{key:"Arbustivo",label:"Arbustivo",value:3500,color:"#D6D6D6",active:!0},{key:"Herbaceo",label:"Herbaceo",value:250,color:"#A1A1A1",active:!1},{key:"Hojarasca",label:"Hojarasca",value:1050,color:"#B0B0B0",active:!1}],P=[{key:"Total",label:"Total",value:1200,color:"#0F3759",active:!0},{key:"Area",label:"rea de proteccin de flora y fauna",value:3500,color:"#3B5A70",active:!0},{key:"Reserva de la biosfera",label:"Reserva de la biosfera",value:850,color:"#4E6D82",active:!1},{key:"Santuario",label:"Santuario",value:1050,color:"#B0B0B0",active:!1}];return(N,O)=>{var U;return g(),C("div",Q1,[q(l)?(g(),C("div",J1,[...O[3]||(O[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):oe("",!0),q(i)?(g(),C("div",Z1,[n("p",null,"Error: "+G(q(i)),1),n("button",{onClick:O[0]||(O[0]=(...X)=>q($)&&q($)(...X)),class:"retry-btn"}," Reintentar ")])):oe("",!0),!q(l)&&!q(i)?(g(),C("div",em,[n("div",tm,[n("div",sm,[n("div",{class:pe(["map-info-card",{"state-selected":q(r)}])},[n("div",{class:"card-content"},[O[4]||(O[4]=Se('<div class="card-position-title" data-v-fd4f7876> Posicin del pas en el ndice<br data-v-fd4f7876> de Finanzas Sostenibles<br data-v-fd4f7876> (IFS) en 2024 </div><div class="card-top-row" data-v-fd4f7876><div class="card-position-number" data-v-fd4f7876> 15 </div><div class="card-ifss-info" data-v-fd4f7876><div class="ifss-value-text" data-v-fd4f7876>IFS: 1.3</div><div class="ifss-classification" data-v-fd4f7876>Medio bajo</div></div></div>',2)),n("div",{class:"card-bottom-stack"},[n("div",{class:"card-label-pill",onClick:ve},"IFS Regional"),n("div",{class:"card-label-pill",onClick:we},"Datos federales")])])],2),n("div",am,[q(d)?(g(),C("div",nm,[n("div",om,G(q(d)),1),n("div",lm,G(q(A)(q(d)).value||0)+"%",1)])):q(v)?(g(),C("div",im,[O[5]||(O[5]=n("div",{class:"location-label"},"Mxico",-1)),n("div",rm,G(q(v).value)+"%",1)])):oe("",!0)]),O[6]||(O[6]=Se('<div class="color-legend" data-v-fd4f7876><div class="legend-items-horizontal" data-v-fd4f7876><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-fd4f7876></div><span data-v-fd4f7876>Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-fd4f7876></div><span data-v-fd4f7876>Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Bajo</span></div></div></div>',1)),(g(),C("svg",{width:q(f).width,height:q(f).height,class:"mexico-map"},[n("g",null,[(g(!0),C(ge,null,_e(((U=q(o))==null?void 0:U.features)||[],X=>(g(),C("path",{key:X.properties.state_name,d:L(X),fill:q(h)(X.properties.state_name),stroke:F(X.properties.state_name),"stroke-width":B(X.properties.state_name),class:"state-path",onClick:T=>b(X.properties.state_name),onMouseenter:T=>x(X.properties.state_name,T),onMouseleave:O[1]||(O[1]=(...T)=>q(w)&&q(w)(...T))},null,40,um))),128))])],8,cm)),q(d)?(g(),C("div",{key:0,class:"tooltip",style:de(H.value)},[n("div",dm,[n("h4",null,G(q(d)),1),n("div",fm,[n("p",null,"IFSS: "+G(q(A)(q(d)).value||0),1),n("p",null,"Clasificacin: "+G(q(m)(q(A)(q(d)).value||0).label),1),n("p",null,"Ao: "+G(q(A)(q(d)).year),1)])])],4)):oe("",!0)]),n("div",{class:pe(["qualitative-panel",{expanded:Q.value}])},[Q.value?(g(),C("div",hm,[n("div",{class:"header-retractable-view"},[n("div",{class:"hamburger-menu",onClick:ae},[...O[7]||(O[7]=[n("img",{src:dl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),O[8]||(O[8]=n("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),n("div",{class:"expand-retractable-btn",onClick:ae}," - ")]),n("div",pm,[O[14]||(O[14]=n("div",{class:"card-header"},[n("h1",{class:"card-header-title"},"Ambientales")],-1)),n("div",gm,[n("div",mm,[n("div",bm,[ye(fl,{variables:te,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})]),n("div",ym,[O[10]||(O[10]=n("div",{class:"title-bottle"},[n("h2",null,"Promedio diario de residuos slidos urbanos recolectados")],-1)),n("div",Am,[n("div",wm,[ye(Kc,{value:75})]),O[9]||(O[9]=n("div",{class:"bottle-number number"},"3,249,683 kg",-1))])])]),n("div",Cm,[n("div",_m,[n("div",km,[O[11]||(O[11]=n("div",{class:"title-area-chart"},[n("h3",null,"Emisiones de contaminantes atmosfricos por fuente en toneladas.")],-1)),n("div",$m,[ye(k1,{excelData:fe,title:"Datos de Excel"})])]),n("div",Sm,[O[12]||(O[12]=n("div",{class:"title-gauge"},[n("h3",null,"Consumo de energa elctrica")],-1)),n("div",xm,[ye(Xc,{value:67})]),O[13]||(O[13]=n("div",{class:"gauge-number number"},"2,013.80 GWh",-1))])]),n("div",Em,[n("div",Im,[ye(Qc,{variables:P,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})])])])])])])):(g(),C("div",vm,[n("div",{class:"expand-retractable-btn",onClick:ee}," + ")]))],2)]),q(r)?(g(),C("div",Pm,[n("div",Mm,[n("h3",null,G(q(r)),1),n("button",{onClick:O[2]||(O[2]=(...X)=>q(E)&&q(E)(...X)),class:"close-btn"},"")]),n("div",Fm,[n("div",Dm,[n("div",Tm,G(q(A)(q(r)).value||0),1),O[15]||(O[15]=n("div",{class:"metric-label"},"IFSS",-1)),n("div",{class:"metric-classification",style:de({color:q(m)(q(A)(q(r)).value||0).color})},G(q(m)(q(A)(q(r)).value||0).label),5)]),n("div",Bm,[n("div",Rm,G(q(A)(q(r)).year),1),O[16]||(O[16]=n("div",{class:"metric-label"},"Ao de datos",-1))])]),n("div",Lm,[n("p",null,G(q(A)(q(r)).descripcion),1)])])):oe("",!0)])):oe("",!0)])}}},Nm=Ie(Vm,[["__scopeId","data-v-fd4f7876"]]),Om={class:"maps-page"},zm={class:"filters-toggles-row"},jm={class:"filters-column"},Hm={class:"toggles-column"},Ym={class:"qualitativeIndicatorPanel"},Gm={key:0,class:"error-panel"},qm={__name:"IndicatorView",setup(e){const t=V(!1),s=zt(),{selectedEntity:a,loading:o,error:l,loadFilterData:i,setEntityFilter:r,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=ul(),{loading:u,error:v,selectedState:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,resetSelection:y,initializeData:w}=s,E=K(()=>o.value||u.value),$=K(()=>l.value||v.value);be(h,M=>{console.log("Estado seleccionado en el mapa:",M),M&&M!==a.value?(r(M),t.value=!0):M||(r(null),t.value=!1)});const j=M=>{r(M),t.value=!0,M?p(M):y()},S=M=>{d(M)},x=M=>{f(M)},b=M=>{M.year!==void 0&&d(M.year),M.variable!==void 0&&f(M.variable),t.value=!0},k=()=>{c(),w(),i()};return Oe(async()=>{try{c(),await i()}catch(M){console.error("Error inicializando MapsPage:",M)}}),(M,L)=>(g(),C("div",Om,[n("div",zm,[n("div",jm,[ye(Bn,{entities:M.entitiesData,loading:E.value,onEntityChange:j,onYearChange:S,onVariableChange:x,onFiltersChange:b},null,8,["entities","loading"])]),n("div",Hm,[ye(cl)])]),n("div",Ym,[ye(Nm)]),$.value?(g(),C("div",Gm,[L[0]||(L[0]=n("h3",null,"Error en el sistema",-1)),n("p",null,G($.value),1),n("button",{onClick:k,class:"retry-btn"}," Reintentar ")])):oe("",!0)]))}},Um=Ie(qm,[["__scopeId","data-v-a847f395"]]),vl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADqdJREFUeJzt3Wms51V9x/H3/AfQgizKIkorUmUoYlHcohYR1Lq0Lg1twe1RKzEmRn3QtHZJmjQ2tUm1rVsarX2iFBsNbd1pa0AxVltFxWEqA7YuYFEWAQHLItMHv7l453LvzN3+v7/3zuv1ZOb+lvP7PDvf//md3zkFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBuW9a5vUOrp1enVNuq46qDq8PX+TkAsJndUt1RXVvtrK6oPlf9cL0esB4FwM9VL6/Orp5QHbAObQIAe7qn+lJ1YXVB9Z21NLaWAuCM6o3V86rJWkIAACtyb/XJ6s+rz6ymgdUUAI+r3tZQAAAAs/Xp6nXV5Su5aSW/3B9YvbX6Yjp/APhp8cyGVwNvqR6w3JuWOwKwrfqH6vErzwUAjOTL1bnVVfu6cDkFwBnVhzOTHwA2gpurl7SPuQH7egXw4uqidP4AsFEc0dB3v3hvF+1tBOCs6uMN7/4BgI3lruqF1b8udnKpAuDU6tLqsCmFAgCm75bq9Gr7whOLFQCHNMz0/4UphwIApu+q6oktWEVw6yIXvrt6zhiJAICpO7I6pmFC/30WjgA8o2FBgfXeIwAAmJ1dDXP7Pj13YH5Hv7X6asNGPgDA5nJ5w549P649PwM8N50/AGxWpzZs3FftOQJwWXXa6HEAgLF8taGv3zU3AnB6On8A2OweVz21fvIK4BWzywIAjOgVNbwCmFTfq46aaRwAYAzfr46dNEwK0PkDwP7hmOqUScM+wgDA/uOsuREAAGD/8YuTatusUwAAo9o2qY6fdQoAYFSPnGTLXwDY3xy2pbq7OmDWSQCA0dwzqe6ZdQoAYFR3T6rbZp0CABjVDyfVjbNOAQCM6sZJdfWsUwAAo7pqUl056xQAwKh2TqovzDoFADCqz29p2BTguoadAQGAzW1XdcykYVvAy2YcBgAYxxerGya7/7hglkkAgNGcXz8Z9n9Y9a3qwJnFAQCm7a6GPYCumxsB+N+MAgDAZvf+hnl/e0z8e0z1tWqy2B0AwIb24+qUdn/+P7+z31G9dxaJAICpe3fz1v5Z+OnfQ3afPGrMRADAVN1UnVTdMHdg4XD/TdVrxkwEAEzdec3r/Ku2LnLRjurY6kljJAIApuod1VsXHlxq9b+Dqo9Uz51mIgBgqi6uXlDdufDE3pb/Pay6pDptOpkAgCn6cnVmdetiJ/f2yd+t1bOrz65/JgBgir7QMIq/aOdf+/7m/wfV86oL1zEUADA9H6rOasGkv4WWs+jPHdWvV69ukXcIAMBPhTurN1TnVD/a18WLfQWwlC9V/9SwitAjV5MMAJiKS6pfa5jAvywrXfZ3e8Owwkt3/x8AmJ3t1bnVs6orVnLj3r4CWM69L6peVT0/OwkCwBjuqi6q3lN9tNq1mkbWUgDMd1T1wobRgWc0vCJYr7YBYH+2q/qf6tKG7/o/Wt241kan1UkfXG2rHl4dUj14Ss8BgM3oB9Xt1bXVVQ0T8gEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPYnW6bQ5tHVKdWJ1XHVwdXhU3gOAGxWt1R3VNdWO6srqhvW8wHrUQBsrc6qzq7OrE5ehzYBgD3tqC6pLqwuru5dS2NrKQCOrl5X/Vb18LWEAABW5Nrq76q3V9evpoHVFACHV39cvbpheB8AmI07qr+p/qThtcGyrbQAeEX1luqhK7wPAJie66rfqc5f7g3LLQAOrd5VvXIVoQCAcXyoelXLGA1YTgFwfPWJTO4DgI1gR/WC6tt7u2hfBcAp1UUNn/MBABvDNdXzGz4fXNTeCoBHVZ+tjl3nUADA9F1fnd6wjsD9LFUAPLT6XPXzUwoFAEzfN6qnV99feGKyyMWT6n3p/AFgo3tU9YGGRfv2cL8D1R9U5007EQAwihOqHzW81r/PwlcAJ1Zfqx4wUigAYPruqk6trpw7sPAVwDvT+QPAZnNQ9ZfzD8wfAXhW9alR4wAAYzqjurT2HAF442yyAAAj+f25/8yNAJzcsHIQALB57Wro86+cGwGwxj8AbH5bGjb2u28E4L8bPhMAADa3q6sTtzQsEnD1jMMAAOM5YVKdNesUAMCozpxUp806BQAwqidMqpNmnQIAGNVJk2z6AwD7m0dNqsNnnQIAGNXhW6o7G9YIBgD2D3cu3AwIANgPTKrbZh0CABjVDyfVzbNOAQCM6pZJwzLAAMD+4+pJtXPWKQCAUe2cVJfNOgUAMKrLbAYEAPufEybVNzIPAAD2F1dV35xbB+CCWSYBAEZzQdWW3X+cXO2YXRYAYAS7Gvr8K+dGAP6r+pfZ5QEARvCJ6soaVgKc8+bZZAEARvJnc/+ZXwBcXF00fhYAYAQfqz4798eWBScfXW2vHjBmIgBgqu6sTm3e4n9bF1xwU3Vv9ewRQwEA0/VH1YfnH1g4AlDDa4FPVr88RiIAYKouqn6l4Qf+fRYrAKqOqT7XsEogALAxXV09vbp+4YnJ/a+t6vvVc6vrphgKAJie6xt++d+v86+lC4Aalgd+TnXNFEIBANNzTXVWw7K/i9pbAVB1RfVLWSUQADaK7Q3D/lfs7aJ9FQBV366eVL1tHUIBANPzvupp1Xf2deHCzwCXck/DlwFXNowIHLrqaADAevtudV71puqu5dyw3AJgzvbqPdUB1eOrg1Z4PwCwfm6r/qo6p7psJTcu9RngchxVvbb67epn19AOALAy11Tvrd5e3biaBtZSAMyZVM+szm6YcfiYdWoXABjsapjUd3F1YfWZFizss1LT6KiPbCgCtlXHVYdUR0zhOQCwWd1c3V5d27B+/45W+UsfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgg9oypXYfVJ1YHVcdXB0xpecAwGZ0c3VHdW21s7p9vR+wXgXA0dWLqjOrM6rj16ldAKC+WV1aXVx9pLphrQ2upQCYNHT651XPrQ5caxgAYJ/uri6q3tNQDOxaTSOrKQC2VC+r/rB6zGoeCgCsix3Vm6oPtMJCYKUFwKnVO6vTV3gfADA9l1avrS5f7g1bl3ndlur11QerE1aeCwCYouMbXslvrT7TMkYDljMCcHD199VL1hQNABjDP1avbPiKYEn7KgAeXH04Q/4AsJH8R/Wr7eVrgb0VAIc3fG5w2jqHAgCm78sNn+ffutjJyRI3HdTwvl/nDwAb02nVP1cPXOzkUpMA31WdM61EAMAoHlk9pPr4whOLFQC/Wb15yoEAgHE8uWE54e3zDy6cA3Bk9fXqqJFCAQDTd1N1UvMmBS4cAXh7ZvwDwGbzM9Vh1cfmDswfATilYQWhpSYGAgAb170Nff3Xa8/O/vfS+QPAZjWpfnfuj7kRgIc3bDVoRz8A2Lzurh5RXTf3i//l6fwBYLM7sHpp/WTI/2WzywIAjOjlNbwCOKa6rpVvDQwAbDy7qmMn1Vnp/AFgf7GlesakesqskwAAo3rqpGFlIABg/7FtUj161ikAgFGdOGlY/x8A2H8cOakeNOsUAMCoDp1UB8w6BQAwqgMn1e2zTgEAjOqHk+rWWacAAEZ166T61qxTAACj+uak2jnrFADAqHZOqq/OOgUAMKrLJ9WnZ50CABjVJVsatgS+rjp6xmEAgOn7XvWwSXVv9aEZhwEAxvHBatdk9x/nzzIJADCa82vYE3jOl6onzCYLADCCrzT09feNAFT9xYzCAADj+NNqV+05ArC1oTJ47CwSAQBT9ZXqiQ1z/5o/AvDj6jXtrgwAgE1jV/WGdnf+Nfzqn+/b1SOq00YMBQBM199W75h/YMsiFx1S/Wd18hiJAICp2lE9ubpj/sHJIhfeXp2TXQIBYKO7paFPv2PhicUKgKrt1Uuq/5tiKABgeu6qfqO6YrGTSxUAVZdU56YIAICN5kcNnf+/LXXBYnMAFnpq9dHqyHUKBQBMzw8aRvEv3dtFexsBmPP56km7/wUAfnpdVj2lfXT+df/PAJdyc/X+6oG7G15O4QAAjOPu6q3VK6vrl3PDcl4BLPTY6q+rZ63iXgBgfX2qen1LTPZbymp+yW+vnl2d3jA34N69Xw4ArLN7G/rg06vntMLOv1Y3ArDQcdXLqrMbFho4YB3aBAD2dHfDQn0XVh+orl1LY+tRAMz3oOpp1SnVtobi4JDqiHV+DgBsZjdXt1XfrXY2/ML/993HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYX/8P84yf0a8WqFgAAAAASUVORK5CYII=",Wm={class:"ifss-slider-container"},Xm={class:"slider-wrapper"},Km={class:"thumb-label"},Qm={class:"thumb-label"},Jm={class:"chart-container"},Zm={class:"bars-wrapper"},eb=["onClick","onMouseenter"],tb={class:"bar-label"},sb={class:"tooltip-content"},ab={class:"color-label"},nb={class:"tooltip-info"},ob={class:"tooltip-label"},lb={class:"tooltip-value"},ib={key:0,class:"selected-info"},rb={class:"info-content"},cb={class:"info-label"},ub={class:"info-value"},db={class:"info-position"},fb={__name:"RankinSlider",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null},selectedStateName:{type:String,default:null}},emits:["range-change","filter-change","state-click"],setup(e,{emit:t}){const s=V(null),a=V(1200),o=V({min:0,max:5}),l=V("none"),i=K(()=>l.value==="min"?"bar-slide-min":l.value==="max-left"?"bar-slide-max-left":l.value==="max-right"?"bar-slide-max-right":"bar-slide-min"),r=e,d=t,f=V(null),c=V({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=K(()=>({left:`${c.value.x}px`,top:`${c.value.y-100}px`,transform:"translateX(-50%)"})),v=(Q,ee)=>{f.value=Q.region;const ve=ee.currentTarget.querySelector(".bar").getBoundingClientRect();c.value={visible:!0,x:ve.left+ve.width/2,y:ve.top,label:L(Q.region),value:`IFSS: ${Q.value}`,color:b(Q.value),classification:x(Q.value),barHeight:ve.height}},h=()=>{f.value=null,c.value.visible=!1},A=["Muy alto","Alto","Medio alto","Medio","Medio bajo","Bajo","Muy bajo"],m=[{min:2.5,max:3,label:"Muy alto"},{min:2,max:2.4,label:"Alto"},{min:1.7,max:1.9,label:"Medio alto"},{min:1.3,max:1.6,label:"Medio"},{min:1,max:1.2,label:"Medio bajo"},{min:.7,max:.9,label:"Bajo"},{min:0,max:.6,label:"Muy bajo"}],p={"Muy alto":"#6ac952",Alto:"#94d351","Medio alto":"#bddc50",Medio:"#e6d64f","Medio bajo":"#e6a74c",Bajo:"#e67849","Muy bajo":"#e52845"},y=V(0),w=V(5),E=K(()=>[...r.statesData].sort((Q,ee)=>ee.value-Q.value)),$=K(()=>E.value.filter(Q=>M(Q)));Oe(()=>{s.value&&(a.value=s.value.offsetWidth)});const j=K(()=>{const Q=$.value.length;if(Q===0)return"30px";const ae=(Q-1)*1;return`${((a.value-ae)/Q).toFixed(3)}px`});K(()=>r.statesData.length===0?3:Math.max(...r.statesData.map(Q=>Q.value||0)));const S=K(()=>{const Q=y.value/5*100,ee=(w.value-y.value)/5*100;return{left:`${Q}%`,width:`${ee}%`}}),x=Q=>{for(let ee of m)if(Q>=ee.min&&Q<=ee.max)return ee.label;return Q>m[0].max?"Muy alto":"Muy bajo"},b=Q=>{const ee=x(Q);return p[ee]||"#e0e0e0"},k=Q=>{const ee=Q/3*100;return Math.max(ee,10)},M=Q=>{const ee=x(Q.value),ae=A.indexOf(ee);return ae>=y.value&&ae<=w.value},L=Q=>({Aguascalientes:"AGS","Baja California":"BC","Baja California Sur":"BCS",Campeche:"CAMP",Chiapas:"CHIS",Chihuahua:"CHIH","Ciudad de Mxico":"CDMX",Coahuila:"COAH",Colima:"COL",Durango:"DGO","Estado de Mxico":"MEX",Guanajuato:"GTO",Guerrero:"GRO",Hidalgo:"HGO",Jalisco:"JAL",Michoacn:"MICH",Morelos:"MOR",Nayarit:"NAY","Nuevo Len":"NL",Oaxaca:"OAX",Puebla:"PUE",Quertaro:"QRO","Quintana Roo":"QROO","San Luis Potos":"SLP",Sinaloa:"SIN",Sonora:"SON",Tabasco:"TAB",Tamaulipas:"TAMPS",Tlaxcala:"TLAX",Veracruz:"VER",Yucatn:"YUC",Zacatecas:"ZAC"})[Q]||Q.substring(0,3).toUpperCase(),F=Q=>{const ee=E.value.findIndex(ae=>ae.region===Q);return ee!==-1?ee+1:"-"},B=()=>{y.value>w.value&&(y.value=w.value),l.value="min",W()},H=()=>{w.value<y.value&&(w.value=y.value),w.value<o.value.max?l.value="max-left":w.value>o.value.max&&(l.value="max-right"),W()},D=Q=>{d("state-click",Q)},W=()=>{const Q={min:m[y.value].min,max:m[w.value].max,minLabel:A[y.value],maxLabel:A[w.value],minIndex:y.value,maxIndex:w.value};d("range-change",Q);const ee=r.statesData.filter(ae=>{const ve=ae.value||0;return ve>=Q.min&&ve<=Q.max});d("filter-change",ee),o.value={min:y.value,max:w.value}};return be(()=>r.statesData,()=>{r.statesData.length>0&&W()},{immediate:!0}),(Q,ee)=>(g(),C("div",Wm,[n("div",Xm,[n("div",{class:"active-range",style:de(S.value)},null,4),Rs(n("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":ee[0]||(ee[0]=ae=>y.value=ae),class:pe(["slider-input slider-min",{"z-top":y.value>=w.value-5}]),onInput:B},null,34),[[fa,y.value,void 0,{number:!0}]]),Rs(n("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":ee[1]||(ee[1]=ae=>w.value=ae),class:pe(["slider-input slider-max",{"z-top":w.value<=y.value+5}]),onInput:H},null,34),[[fa,w.value,void 0,{number:!0}]]),n("div",{class:"custom-thumb thumb-min",style:de({left:`${y.value/5*100}%`})},[ee[2]||(ee[2]=n("div",{class:"thumb-circle"},null,-1)),n("div",Km,G(A[y.value]),1)],4),n("div",{class:"custom-thumb thumb-max",style:de({left:`${w.value/5*100}%`})},[ee[3]||(ee[3]=n("div",{class:"thumb-circle"},null,-1)),n("div",Qm,G(A[w.value]),1)],4)]),n("div",Jm,[n("div",Zm,[ye(mf,{name:i.value},{default:at(()=>[(g(!0),C(ge,null,_e($.value,(ae,ve)=>(g(),C("div",{key:ae.region,class:pe(["bar-item",{"is-selected":ae.region===e.selectedStateName,"is-dimmed":e.selectedStateName&&ae.region!==e.selectedStateName}]),style:de({width:j.value}),onClick:we=>D(ae.region),onMouseenter:we=>v(ae,we),onMouseleave:h},[n("div",{class:"bar",style:de({height:`${k(ae.value)}%`,backgroundColor:b(ae.value)})},null,4),n("span",tb,G(L(ae.region)),1)],46,eb))),128))]),_:1},8,["name"])])]),(g(),Re(jt,{to:"body"},[c.value.visible?(g(),C("div",{key:0,class:"tooltip",style:de(u.value)},[n("div",sb,[n("div",{class:"tooltip-color",style:de({backgroundColor:c.value.color})},[n("span",ab,G(c.value.classification),1)],4),n("div",nb,[n("div",ob,G(c.value.label),1),n("div",lb,G(c.value.value),1)])])],4)):oe("",!0)])),e.selectedStateName?(g(),C("div",ib,[n("div",rb,[n("span",cb,G(e.selectedStateName),1),n("span",ub,"IFSS: "+G(Q.selectedStateIFSS),1),n("span",db,"Posicin: #"+G(F(e.selectedStateName)),1)])])):oe("",!0)]))}},vb=Ie(fb,[["__scopeId","data-v-7f887adf"]]);function hl(e){const{entitiesData:t,loading:s,loadFilterData:a,initializeFilters:o}=ul(),l=V({min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"}),i=V([]),r=V(!1),d=K(()=>t.value.map($=>({region:$.name,value:$.value||0,year:$.year||2023,...$}))),f=K(()=>{if(!e)return null;const{selectedState:$,getStateInfo:j}=e;return $.value?j($.value).value||0:null}),c=K(()=>e?e.selectedState.value:null),u=$=>(l.value=$,r.value=!0,console.log(" Rango IFSS seleccionado:",{min:$.min,max:$.max,minLabel:$.minLabel,maxLabel:$.maxLabel}),$),v=$=>(i.value=$,console.log(" Estados filtrados por rango IFSS:",{total:$.length,estados:$.map(j=>`${j.region}: ${j.value}`)}),$),h=()=>{l.value={min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"},i.value=[],r.value=!1},A=$=>{const j=d.value.find(x=>x.region===$);if(!j)return null;const S=j.value;return S>=2.5?{label:"Muy alto",color:"#6ac952"}:S>=2?{label:"Alto",color:"#94d351"}:S>=1.7?{label:"Medio alto",color:"#bddc50"}:S>=1.3?{label:"Medio",color:"#e6d64f"}:S>=1?{label:"Medio bajo",color:"#e6a74c"}:S>=.7?{label:"Bajo",color:"#e67849"}:{label:"Muy bajo",color:"#e52845"}},m=K(()=>{if(!r.value||i.value.length===0)return{count:d.value.length,average:0,min:0,max:0};const $=i.value.map(S=>S.value),j=$.reduce((S,x)=>S+x,0);return{count:$.length,average:(j/$.length).toFixed(2),min:Math.min(...$).toFixed(1),max:Math.max(...$).toFixed(1)}}),p=$=>i.value.some(j=>j.region===$),y=K(()=>[...d.value].sort((j,S)=>S.value-j.value).map((j,S)=>({...j,position:S+1,classification:A(j.region)})));return{entitiesData:t,statesDataForSlider:d,selectedStateIFSS:f,selectedStateName:c,selectedRange:l,filteredStates:i,isSliderActive:r,filtersLoading:s,getRangeStats:m,getStatesRanking:y,handleRangeChange:u,handleFilterChange:v,resetSlider:h,getStateClassification:A,isStateInRange:p,getStatePosition:$=>{const S=y.value.find(x=>x.region===$);return S?S.position:null},initialize:async()=>{try{o(),await a(),console.log(" Slider inicializado con",d.value.length,"estados")}catch($){console.error(" Error inicializando slider:",$)}},loadFilterData:a,initializeFilters:o}}const hb={class:"filters-toggles-row"},pb={class:"filters-column"},gb={class:"toggles-column"},mb={class:"map-container"},bb={key:0,class:"loading-state"},yb={key:1,class:"error-state"},Ab={key:2,class:"map-content"},wb={class:"map-and-charts-wrapper"},Cb={class:"charts-section"},_b={class:"charts-container"},kb={key:0,class:"charts-empty-state"},$b={key:0,class:"ranking-panel"},Sb={class:"header-ranking-panel"},xb={class:"body-ranking-panel"},Eb={class:"slider-ranking-panel"},Ib={__name:"RankingView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:E,initializeData:$}=s.mapsComposable||zt(),{setChartData:j}=Pa(),{statesDataForSlider:S,selectedStateIFSS:x,handleRangeChange:b,handleFilterChange:k,initialize:M}=hl(s.mapsComposable||zt()),L=Hs(),F=async W=>{if(p(W),await ze(),r.value===W){const Q=A(W);a("region-selected",{name:W,data:Q})}else a("region-selected",null)},B=()=>{console.log("Navegando a datos regionales..."),r.value&&E()},H=()=>{console.log("Navegando a federales...")},D=()=>{console.log("Navegando a cualitativos..."),L.push("/finanzas/cualitativos")};return be(r,(W,Q)=>{if(W&&W!==Q){const ee=A(W);j(ee),a("region-selected",{name:W,data:ee})}else!W&&Q&&a("region-selected",null)}),be(i,W=>{W&&a("map-error",W)}),Oe(async()=>{await M()}),(W,Q)=>(g(),C(ge,null,[n("div",hb,[n("div",pb,[ye(Bn,{entities:W.entitiesData,loading:q(l),onEntityChange:W.handleEntityChange,onYearChange:W.handleYearChange,onVariableChange:W.handleVariableChange,onFiltersChange:W.handleFiltersChange},null,8,["entities","loading","onEntityChange","onYearChange","onVariableChange","onFiltersChange"])]),n("div",gb,[ye(cl)])]),n("div",mb,[q(l)?(g(),C("div",bb,[...Q[1]||(Q[1]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):oe("",!0),q(i)?(g(),C("div",yb,[n("p",null,"Error: "+G(q(i)),1),n("button",{onClick:Q[0]||(Q[0]=(...ee)=>q($)&&q($)(...ee)),class:"retry-btn"}," Reintentar ")])):oe("",!0),!q(l)&&!q(i)?(g(),C("div",Ab,[n("div",wb,[ye(qc,{geoData:q(o),selectedState:q(r),hoveredState:q(d),mapConfig:q(f),nationalIFSS:q(v),getStateColor:q(h),getStateInfo:q(A),getIFSSLabel:q(m),onStateClick:F,onStateHover:q(y),onStateLeave:q(w),onNavigateRegional:B,onNavigateFederal:H},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","onStateHover","onStateLeave"]),n("div",{class:"retractable-view"},[n("div",{class:"expand-retractable-btn",onClick:D},"+")]),n("div",Cb,[n("div",_b,[q(r)?(g(),Re(Wc,{key:1,selectedState:q(r),ifssData:q(A)(q(r))},null,8,["selectedState","ifssData"])):(g(),C("div",kb,[...Q[2]||(Q[2]=[n("div",{class:"empty-state-icon"},"",-1),n("h4",null,"Anlisis de Estado",-1),n("p",null,"Haz clic en cualquier estado del mapa para ver sus grficas detalladas",-1)])]))])])]),q(r)?(g(),C("div",$b,[n("div",Sb,[n("h2",null,"Posiciones de las entidades en el ranking del ndice de Finanzas Sostenibles Subnacional "+G(q(r)),1),Q[3]||(Q[3]=n("div",{class:"ranking-hamburger-menu"},[n("img",{src:vl,alt:"hamburger-menu",class:"hamburger-icon"})],-1))]),n("div",xb,[n("div",Eb,[ye(vb,{statesData:q(S),selectedStateValue:q(x),onRangeChange:q(b),onFilterChange:q(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])):oe("",!0)])):oe("",!0)])],64))}},Pb=Ie(Ib,[["__scopeId","data-v-941e133a"]]),Mb={class:"linear-chart-container"},Fb={key:0,class:"chart-header"},Db={class:"header-content"},Tb={class:"chart-title"},Bb={key:0,class:"chart-subtitle"},Rb={key:1,class:"variable-filters"},Lb=["onClick"],Vb={key:2,class:"no-data"},Nb=["width","height"],Ob={class:"grid"},zb=["x1","y1","x2","y2"],jb={class:"y-axis-labels"},Hb=["x","y"],Yb=["x1","y1","x2","y2"],Gb={class:"lines"},qb=["d","stroke"],Ub={class:"animated-data-points"},Wb=["cx","cy","fill"],Xb={class:"permanent-data-points"},Kb=["cx","cy","fill"],Qb={class:"data-points"},Jb=["cx","cy","r","fill"],Zb={class:"tooltip-header"},ey={class:"tooltip-year-label"},ty={class:"tooltip-content"},sy={class:"tooltip-variable-name"},ay={class:"tooltip-variable-value"},ny={key:4,class:"x-axis-container"},oy={__name:"LinearChart",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},width:{type:Number,default:800},height:{type:Number,default:400},padding:{type:Object,default:()=>({top:30,right:40,bottom:90,left:60})},hideHeader:{type:Boolean,default:!1},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,o=V(null),l=V({width:s.width,height:s.height}),i=V({visible:!1,x:0,index:-1,label:"",previousIndex:-1}),r=V({}),d=K(()=>s.padding),f=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],c={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E",IFS:"#9E9E9E"," IFS":"#9E9E9E"},u=K(()=>Object.keys(s.data)),v=V([]),h=V({}),A=V(new Set);be(()=>s.data,(P,N)=>{const O=Object.keys(P),U=N?Object.keys(N):[];O.forEach(se=>{h.value[se]||(h.value[se]=[...P[se]||[]])});const X=U.length===0,T=O.length>0;X&&T&&v.value.length===0&&we(O),ze(()=>{te()})},{deep:!0}),be(u,()=>{ze(()=>{te()})}),be([()=>s.width,()=>s.height],()=>{te()});const m=K(()=>l.value.height-d.value.top-d.value.bottom),p=K(()=>l.value.width-d.value.left-d.value.right),y=K(()=>m.value/(s.gridLines-1)),w=K(()=>{const P=[];return v.value.forEach(N=>{s.data[N]&&Array.isArray(s.data[N])&&P.push(...s.data[N].filter(O=>O!=null&&!isNaN(O)))}),P.length>0?P:[0]}),E=K(()=>{if(w.value.length===0)return 100;const P=Math.max(...w.value),N=Math.min(...w.value);if(P===N)return P>0?P*1.2:P+10;const O=P-N;return P+O*.2}),$=K(()=>{if(w.value.length===0)return 0;const P=Math.max(...w.value),N=Math.min(...w.value);if(P===N)return N>0?N*.8:N-10;const O=P-N;return N-O*.2});K(()=>{const P=E.value-$.value;return P>0?m.value/P:1});const j=K(()=>v.value.length>0&&v.value.some(P=>s.data[P]&&s.data[P].length>0)),S=P=>s.data[P]||[],x=P=>{if(c[P])return c[P];const N=P.toLowerCase();if(N.includes("sostenible")||N.includes(" is")||N==="is"||N.includes("ps"))return"#7cb342";if(N.includes("carbono")||N.includes("iic")||N.includes("pic"))return"#DC143C";if(N.includes("total")||N.includes("gt")||N.includes("it")||N.includes("pt")||N.includes("ifs"))return"#9E9E9E";const O=u.value.indexOf(P);return f[O%f.length]},b=P=>{const O=x(P).replace("#",""),U=Math.max(0,parseInt(O.substr(0,2),16)-30),X=Math.max(0,parseInt(O.substr(2,2),16)-30),T=Math.max(0,parseInt(O.substr(4,2),16)-30);return`rgb(${U}, ${X}, ${T})`},k=P=>{const N=s.xLabels.length;if(N<=1)return d.value.left+p.value/2;const U=(l.value.width-d.value.left-d.value.right)/(N-1);return d.value.left+P*U},M=P=>{if(P==null||isNaN(P))return l.value.height-d.value.bottom;const N=E.value-$.value;if(N===0)return d.value.top+m.value/2;const U=(P-$.value)/N,X=d.value.top+m.value*(1-U);return Math.max(d.value.top,Math.min(l.value.height-d.value.bottom,X))},L=(P,N)=>{var U;const O=(U=h.value[P])==null?void 0:U[N];return M(O)},F=P=>{const O=(E.value-$.value)/(s.gridLines-1);return E.value-O*P},B=P=>{if(s.valueFormatter)return s.valueFormatter(P);const N=s.showCurrencySymbol?"$":s.valuePrefix,O=s.valueSuffix;return s.decimalPlaces!==null?`${N}${P.toFixed(s.decimalPlaces)}${O}`:s.showCurrencySymbol?Math.abs(P)>=1e9?`$${(P/1e9).toFixed(1)}B`:Math.abs(P)>=1e6?`$${(P/1e6).toFixed(1)}M`:Math.abs(P)>=1e3?`$${(P/1e3).toFixed(1)}K`:`$${Math.round(P)}`:Math.abs(P)>=1e9?`${N}${(P/1e9).toFixed(1)}B${O}`:Math.abs(P)>=1e6?`${N}${(P/1e6).toFixed(1)}M${O}`:Math.abs(P)>=1e3?`${N}${(P/1e3).toFixed(1)}K${O}`:Math.abs(P)<10?`${N}${P.toFixed(2)}${O}`:`${N}${Math.round(P)}${O}`},H=P=>{if(P==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(P);const N=s.showCurrencySymbol?"$":s.valuePrefix,O=s.valueSuffix;return s.decimalPlaces!==null?`${N}${P.toFixed(s.decimalPlaces)}${O}`:s.showCurrencySymbol?Math.abs(P)>=1e9?`$${(P/1e9).toFixed(1)}B`:Math.abs(P)>=1e6?`$${(P/1e6).toFixed(1)}M`:Math.abs(P)>=1e3?`$${(P/1e3).toFixed(1)}K`:`$${P.toFixed(0)}`:Math.abs(P)>=1e9?`${N}${(P/1e9).toFixed(1)}B${O}`:Math.abs(P)>=1e6?`${N}${(P/1e6).toFixed(1)}M${O}`:Math.abs(P)>=1e3?`${N}${(P/1e3).toFixed(1)}K${O}`:Math.abs(P)<10?`${N}${P.toFixed(2)}${O}`:`${N}${P.toFixed(0)}${O}`},D=P=>{const N=h.value[P];return!N||N.length===0?"":N.map((O,U)=>{const X=k(U),T=M(O);return U===0?`M ${X} ${T}`:`L ${X} ${T}`}).join(" ")},W=P=>{if(v.value.indexOf(P)>-1){A.value.add(P);const O=s.data[P];if(O){const U=[...h.value[P]],X=E.value-$.value,T=$.value-X*.5,se=500,z=se+300,I=Date.now(),_=()=>{const R=Date.now()-I,Y=Math.min(R/z,1);if(R<se){const Z=R/se,J=1-Math.pow(1-Z,3);h.value[P]=U.map(ie=>ie-(ie-T)*J)}else h.value[P]=new Array(O.length).fill(T);Y<1?requestAnimationFrame(_):(v.value.splice(v.value.indexOf(P),1),A.value.delete(P))};_()}}else{v.value.push(P),A.value.add(P);const O=s.data[P];if(O){const U=E.value-$.value,X=$.value-U*.5;h.value[P]=new Array(O.length).fill(X);const T=800,se=Date.now(),z=()=>{const I=Date.now()-se,_=Math.min(I/T,1),R=1-Math.pow(1-_,3);h.value[P]=O.map((Y,Z)=>{const J=X;return J+(Y-J)*R}),_<1?requestAnimationFrame(z):(h.value[P]=[...O],A.value.delete(P))};z()}}a("variable-toggle",P,v.value.includes(P))},Q=P=>r.value[`${P}-x`]||0,ee=P=>r.value[`${P}-y`]||0,ae=P=>{const O=P.currentTarget.getBoundingClientRect(),U=P.clientX-O.left,X=s.xLabels.length;let T=0;if(X===1)T=0;else{const I=[];for(let _=0;_<X-1;_++){const R=k(_),Z=k(_+1)-R;I.push(R+Z*.05)}if(U<I[0])T=0;else if(U>=I[I.length-1])T=X-1;else for(let _=0;_<I.length-1;_++)if(U>=I[_]&&U<I[_+1]){T=_+1;break}}const se=i.value.index,z=k(T);i.value={visible:!0,x:z,index:T,label:s.xLabels[T],previousIndex:se},se!==T&&se!==-1&&ve(se,T)},ve=(P,N)=>{v.value.forEach(O=>{const U=k(P),X=k(N),T=L(O,P),se=L(O,N),z=200,I=Date.now(),_=()=>{const R=Date.now()-I,Y=Math.min(R/z,1),Z=1-Math.pow(1-Y,3);r.value[`${O}-x`]=U+(X-U)*Z,r.value[`${O}-y`]=T+(se-T)*Z,Y<1?requestAnimationFrame(_):(delete r.value[`${O}-x`],delete r.value[`${O}-y`])};_()})},we=P=>{console.log(" [LinearChart] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",P),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((N,O)=>{const U=P.find(X=>X===N||X.trim()===N.trim());U?(console.log(`   Activando "${U}" en ${100+O*400}ms`),setTimeout(()=>{W(U)},100+O*400)):console.log(`   Variable "${N}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),P[0]&&setTimeout(()=>{W(P[0])},100),P[1]&&setTimeout(()=>{W(P[1])},900))},fe=()=>{i.value={visible:!1,x:0,index:-1,label:"",previousIndex:-1},r.value={}},te=()=>{l.value={width:s.width,height:s.height}};return Oe(async()=>{await ze(),te(),setTimeout(()=>{const P=Object.keys(s.data);P.length>0&&v.value.length===0&&(console.log(" [LinearChart] onMounted (despus de delay) - Datos disponibles:",P),P.forEach(N=>{h.value[N]||(h.value[N]=[...s.data[N]||[]])}),we(P))},100)}),Ea(()=>{}),(P,N)=>(g(),C("div",Mb,[e.hideHeader?oe("",!0):(g(),C("div",Fb,[n("div",Db,[n("h3",Tb,G(e.title),1),e.subtitle?(g(),C("p",Bb,G(e.subtitle),1)):oe("",!0)])])),u.value.length>0?(g(),C("div",Rb,[(g(!0),C(ge,null,_e(u.value,O=>(g(),C("button",{key:O,onClick:U=>W(O),class:pe(["filter-btn",{"filter-active":v.value.includes(O),"filter-inactive":!v.value.includes(O)}])},[n("span",{class:"btn-color-dot",style:de({backgroundColor:x(O)})},null,4),Vt(" "+G(O),1)],10,Lb))),128))])):oe("",!0),j.value?(g(),C("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:o},[(g(),C("svg",{width:l.value.width,height:l.value.height,class:"line-chart",onMousemove:ae,onMouseleave:fe},[n("g",Ob,[(g(!0),C(ge,null,_e(e.gridLines,O=>(g(),C("line",{key:`grid-${O}`,x1:d.value.left,y1:d.value.top+(O-1)*y.value,x2:l.value.width-d.value.right,y2:d.value.top+(O-1)*y.value,class:"grid-line"},null,8,zb))),128))]),n("g",jb,[(g(!0),C(ge,null,_e(e.gridLines,O=>(g(),C("text",{key:`y-label-${O}`,x:d.value.left-10,y:d.value.top+(O-1)*y.value+4,class:"y-axis-label","text-anchor":"end"},G(B(F(O-1))),9,Hb))),128))]),i.value.visible?(g(),C("line",{key:0,x1:i.value.x,y1:d.value.top,x2:i.value.x,y2:l.value.height-d.value.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,Yb)):oe("",!0),n("g",Gb,[(g(!0),C(ge,null,_e(v.value,(O,U)=>(g(),C("g",{key:`line-${O}`},[n("path",{d:D(O),stroke:x(O),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:pe(["line-path",{"line-exit":A.value.has(O)}]),style:de({animationDelay:A.value.has(O)?"400ms":`${U*.1}s`,animationDuration:A.value.has(O)?"300ms":"1.5s"})},null,14,qb),n("g",Ub,[i.value.visible&&r.value[`${O}-x`]!==void 0?(g(),C("circle",{key:0,cx:Q(O),cy:ee(O),r:5,fill:b(O),class:"data-point animated-point",style:de({filter:`drop-shadow(0 0 8px ${b(O)})`,opacity:1})},null,12,Wb)):oe("",!0)]),n("g",Xb,[(g(!0),C(ge,null,_e(S(O),(X,T)=>(g(),C("circle",{key:`permanent-point-${O}-${T}`,cx:k(T),cy:L(O,T),r:2,fill:x(O),class:"data-point-permanent"},null,8,Kb))),128))]),n("g",Qb,[(g(!0),C(ge,null,_e(S(O),(X,T)=>(g(),C("circle",{key:`point-${O}-${T}`,cx:k(T),cy:L(O,T),r:i.value.visible&&i.value.index===T&&r.value[`${O}-x`]===void 0?5:0,fill:x(O),class:pe(["data-point",{"is-hovered":i.value.visible&&i.value.index===T}]),style:de({filter:`drop-shadow(0 0 8px ${x(O)})`})},null,14,Jb))),128))])]))),128))])],40,Nb)),ye(gt,{name:"tooltip-fade"},{default:at(()=>[i.value.visible?(g(),C("div",{key:0,class:"tooltip-container",style:de({left:`${i.value.x}px`})},[n("div",Zb,[n("span",ey,G(i.value.label),1)]),n("div",ty,[(g(!0),C(ge,null,_e(v.value,O=>(g(),C("div",{key:`tooltip-${O}`,class:"tooltip-item"},[n("span",{class:"tooltip-color-indicator",style:de({backgroundColor:x(O)})},null,4),n("span",sy,G(O)+":",1),n("span",ay,G(H(S(O)[i.value.index])),1)]))),128))])],4)):oe("",!0)]),_:1})],512)):(g(),C("div",Vb,[...N[0]||(N[0]=[Se('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-30a2d0a8><path d="M3 3v18h18" data-v-30a2d0a8></path><path d="M18 17V9" data-v-30a2d0a8></path><path d="M13 17V5" data-v-30a2d0a8></path><path d="M8 17v-3" data-v-30a2d0a8></path></svg><p data-v-30a2d0a8>No hay datos disponibles</p>',2)])])),j.value?(g(),C("div",ny,[(g(!0),C(ge,null,_e(s.xLabels,(O,U)=>(g(),C("div",{key:`x-label-external-${U}`,class:"x-axis-label",style:de({left:`${k(U)}px`})},G(O),5))),128))])):oe("",!0)]))}},Jc=Ie(oy,[["__scopeId","data-v-30a2d0a8"]]),ly={key:0,class:"chart-header"},iy={class:"header-content"},ry={class:"chart-title"},cy={key:0,class:"chart-subtitle"},uy={key:1,class:"variable-filters"},dy=["onClick"],fy={key:2,class:"no-data"},vy=["width","height"],hy={class:"grid"},py=["x1","y1","x2","y2"],gy={class:"y-axis-labels"},my=["x","y"],by={class:"x-axis-labels"},yy=["x","y"],Ay=["id"],wy=["stop-color"],Cy=["stop-color"],_y=["x1","y1","x2","y2"],ky=["x1","y1","x2","y2"],$y={class:"areas"},Sy=["d","fill"],xy=["d","stroke"],Ey={class:"animated-data-points"},Iy=["cx","cy","fill"],Py={class:"data-points"},My=["cx","cy","r","fill"],Fy={class:"tooltip-header"},Dy={class:"tooltip-year-label"},Ty={class:"tooltip-content"},By={class:"tooltip-variable-name"},Ry={class:"tooltip-variable-value"},Ly={__name:"StackedArea",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},hideHeader:{type:Boolean,default:!1},width:{type:Number,default:null},height:{type:Number,default:null},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,o=V(null),l=V(null),i=V(null),r=V({width:800,height:300});let d=null;const f=V({visible:!1,x:0,index:-1,label:"",yValue:null,yPosition:0,previousIndex:-1}),c=V({}),u={top:10,right:15,bottom:25,left:40},v=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],h={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},A=K(()=>Object.keys(s.data)),m=V([]),p=V({});be(()=>s.data,(z,I)=>{const _=Object.keys(z),R=I?Object.keys(I):[];console.log(" [StackedArea] Watch data ejecutado"),console.log("  - Variables anteriores:",R.length),console.log("  - Variables nuevas:",_),_.forEach(J=>{p.value[J]||(p.value[J]=new Array(s.xLabels.length).fill(0))});const Y=R.length===0,Z=_.length>0;Y&&Z&&m.value.length===0&&y(_)},{deep:!0});const y=z=>{console.log(" [StackedArea] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",z),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((I,_)=>{const R=z.find(Y=>Y===I||Y.trim()===I.trim());R?(console.log(`   Activando "${R}" en ${100+_*400}ms`),setTimeout(()=>{L(R)},100+_*400)):console.log(`   Variable "${I}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),z[0]&&setTimeout(()=>{L(z[0])},100),z[1]&&setTimeout(()=>{L(z[1])},500))},w=K(()=>m.value.length>0&&m.value.some(z=>s.data[z]&&s.data[z].length>0));be(w,async z=>{z&&(await ze(),await ze(),await ze(),se(),o.value&&(d?d.disconnect():d=new ResizeObserver(()=>{requestAnimationFrame(()=>{se()})}),d.observe(o.value)))},{immediate:!0}),be(A,async()=>{await ze(),w.value&&se()}),be([()=>s.width,()=>s.height],()=>{se()});const E=K(()=>{if(!w.value)return 100;let z=0;for(let I=0;I<s.xLabels.length;I++){let _=0;m.value.forEach(R=>{var Z;const Y=((Z=p.value[R])==null?void 0:Z[I])||0;_+=Y}),z=Math.max(z,_)}return z*1.1||100}),$=z=>{const I=E.value/(s.gridLines-1);return E.value-z*I},j=z=>{if(s.valueFormatter)return s.valueFormatter(z);const I=s.showCurrencySymbol?"$":s.valuePrefix,_=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${I}${z.toFixed(s.decimalPlaces)}${_}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(z)>=1e9?`$${(z/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(z)>=1e6?`$${(z/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(z)>=1e3?`$${(z/1e3).toFixed(s.decimalPlaces)}K`:`$${z.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(z)>=1e9?`$${(z/1e9).toFixed(1)}B`:z>=1e6?`$${(z/1e6).toFixed(1)}M`:z>=1e3?`$${(z/1e3).toFixed(0)}K`:`$${z.toFixed(0)}`:Math.abs(z)>=1e9?`${I}${(z/1e9).toFixed(1)}B${_}`:Math.abs(z)>=1e6?`${I}${(z/1e6).toFixed(1)}M${_}`:Math.abs(z)>=1e3?`${I}${(z/1e3).toFixed(1)}K${_}`:Math.abs(z)<10?`${I}${z.toFixed(2)}${_}`:`${I}${z.toFixed(0)}${_}`},S=K(()=>(r.value.height-u.top-u.bottom)/(s.gridLines-1)),x=z=>p.value[z]||[],b=z=>{if(h[z])return h[z];const I=z.toLowerCase();if(I.includes("sostenible")||I.includes(" is")||I==="is"||I.includes("ps"))return"#7cb342";if(I.includes("carbono")||I.includes("iic")||I.includes("pic"))return"#DC143C";if(I.includes("total")||I.includes("gt")||I.includes("it")||I.includes("pt"))return"#9E9E9E";const _=A.value.indexOf(z);return v[_%v.length]},k=z=>{const _=b(z).replace("#",""),R=Math.max(0,parseInt(_.substr(0,2),16)-40),Y=Math.max(0,parseInt(_.substr(2,2),16)-40),Z=Math.max(0,parseInt(_.substr(4,2),16)-40);return`rgb(${R}, ${Y}, ${Z})`},M=z=>z.replace(/[^a-zA-Z0-9]/g,"-"),L=z=>{const I=m.value.indexOf(z);I>-1?(m.value.splice(I,1),B(z)):(m.value.push(z),F(z)),a("variable-toggle",{variable:z,visible:I===-1})},F=z=>{const _=Date.now(),R=s.data[z];p.value[z]||(p.value[z]=new Array(R.length).fill(0));const Y=()=>{const Z=Date.now()-_,J=Math.min(Z/1e3,1),ie=H(J);p.value[z]=R.map(le=>le*ie),J<1&&requestAnimationFrame(Y)};Y()},B=z=>{const _=Date.now(),R=[...p.value[z]||[]],Y=()=>{const Z=Date.now()-_,J=Math.min(Z/500,1),ie=D(J);p.value[z]=R.map(le=>le*(1-ie)),J<1?requestAnimationFrame(Y):p.value[z]=new Array(R.length).fill(0)};Y()},H=z=>1-Math.pow(1-z,3),D=z=>z*z*z,W=z=>{const _=(r.value.width-u.left-u.right)/(s.xLabels.length-1);return u.left+z*_},Q=z=>{const I=r.value.height-u.top-u.bottom,_=z/E.value;return r.value.height-u.bottom-_*I},ee=(z,I,_)=>{let R=0;for(let Y=0;Y<=_;Y++){const Z=m.value[Y],J=x(Z);R+=J[I]||0}return Q(R)},ae=(z,I)=>{let _=0;for(let R=0;R<z;R++){const Y=m.value[R],Z=x(Y);_+=Z[I]||0}return _},ve=(z,I)=>{const _=x(z);if(!_||_.length===0)return"";const R=_.map((J,ie)=>{const le=W(ie),ue=ae(I,ie)+J,ne=Q(ue);return{x:le,y:ne}}),Y=_.map((J,ie)=>{const le=W(ie),ue=ae(I,ie),ne=Q(ue);return{x:le,y:ne}}).reverse();let Z=we(R);return Y.length>0&&(Z+=" L "+Y.map(J=>`${J.x} ${J.y}`).join(" L ")),Z+=" Z",Z},we=z=>{if(z.length<2)return"";let I=`M ${z[0].x} ${z[0].y}`;if(z.length===2)return I+=` L ${z[1].x} ${z[1].y}`,I;for(let _=0;_<z.length-1;_++){const R=z[_],Y=z[_+1],Z=Math.abs(Y.y-R.y);Math.abs(Y.x-R.x);let J=.2;Z>50&&(J=.1),Z<5&&(J=.05);let ie,le,ue,ne;if(_===0)ie=R.x+(Y.x-R.x)*J,le=R.y,ue=Y.x-(Y.x-R.x)*J,ne=Y.y;else{const me=z[_-1],he=Math.abs(R.y-me.y);_<z.length-2&&Math.abs(z[_+2].y-Y.y);let Ae=J;if(he>30&&Z<10&&(Ae=.05),he<5&&Z<5&&(Ae=.02),ie=R.x+(Y.x-me.x)*Ae*.5,le=R.y+(Y.y-me.y)*Ae*.3,_<z.length-2){const Me=z[_+2];ue=Y.x-(Me.x-R.x)*Ae*.5,ne=Y.y-(Me.y-R.y)*Ae*.3}else ue=Y.x-(Y.x-R.x)*Ae,ne=Y.y;const Ce=Math.min(R.y,Y.y),Ee=Math.max(R.y,Y.y),Pe=(Ee-Ce)*.1;le=Math.max(Ce-Pe,Math.min(Ee+Pe,le)),ne=Math.max(Ce-Pe,Math.min(Ee+Pe,ne))}I+=` C ${ie} ${le}, ${ue} ${ne}, ${Y.x} ${Y.y}`}return I},fe=(z,I)=>{const _=x(z);if(!_||_.length===0)return"";const R=_.map((Y,Z)=>{const J=W(Z),ie=ae(I,Z)+Y,le=Q(ie);return{x:J,y:le}});return we(R)},te=z=>{const _=z.currentTarget.getBoundingClientRect(),R=r.value.width/_.width,Y=(z.clientX-_.left)*R,Z=s.xLabels.length;let J=0;if(Z===1)J=0;else{const ne=[];for(let me=0;me<Z-1;me++){const he=W(me),Ce=W(me+1)-he;ne.push(he+Ce*.05)}if(Y<ne[0])J=0;else if(Y>=ne[ne.length-1])J=Z-1;else for(let me=0;me<ne.length-1;me++)if(Y>=ne[me]&&Y<ne[me+1]){J=me+1;break}}const ie=W(J);let le=0;m.value.forEach((ne,me)=>{const he=x(ne);le+=he[J]||0});const ue=Q(le);J!==f.value.index&&P(J),f.value={visible:!0,x:ie,index:J,label:s.xLabels[J],yValue:le,yPosition:ue,previousIndex:f.value.index}},P=z=>{const _=Date.now();m.value.forEach((R,Y)=>{const Z=f.value.index>=0?f.value.index:z,J=W(Z),ie=W(z),le=Z>=0?ae(Y,Z)+(x(R)[Z]||0):0,ue=ae(Y,z)+(x(R)[z]||0),ne=Q(le),me=Q(ue),he=()=>{const Ae=Date.now()-_,Ce=Math.min(Ae/200,1),Ee=H(Ce);c.value[`${R}-x`]=J+(ie-J)*Ee,c.value[`${R}-y`]=ne+(me-ne)*Ee,Ce<1?requestAnimationFrame(he):(delete c.value[`${R}-x`],delete c.value[`${R}-y`])};he()})},N=z=>c.value[`${z}-x`]||0,O=z=>c.value[`${z}-y`]||0,U=()=>{f.value.visible=!1,c.value={}},X=K(()=>{if(!l.value||!f.value.visible)return{};const I=l.value.getScreenCTM();if(!I)return{};const _=f.value.x,R=f.value.yPosition,Y=I.a*_+I.c*R+I.e,Z=I.b*_+I.d*R+I.f;return{left:`${Y}px`,top:`${Z}px`}}),T=z=>{if(z==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(z);const I=s.showCurrencySymbol?"$":s.valuePrefix,_=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${I}${z.toFixed(s.decimalPlaces)}${_}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(z)>=1e9?`$${(z/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(z)>=1e6?`$${(z/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(z)>=1e3?`$${(z/1e3).toFixed(s.decimalPlaces)}K`:`$${z.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(z)>=1e9?`$${(z/1e9).toFixed(2)}B`:z>=1e6?`$${(z/1e6).toFixed(2)}M`:z>=1e3?`$${(z/1e3).toFixed(2)}K`:`$${z.toFixed(2)}`:Math.abs(z)>=1e9?`${I}${(z/1e9).toFixed(2)}B${_}`:Math.abs(z)>=1e6?`${I}${(z/1e6).toFixed(2)}M${_}`:Math.abs(z)>=1e3?`${I}${(z/1e3).toFixed(2)}K${_}`:Math.abs(z)<10?`${I}${z.toFixed(2)}${_}`:`${I}${z.toFixed(2)}${_}`},se=()=>{if(s.width!==null&&s.height!==null){r.value={width:s.width,height:s.height};return}if(s.width!==null&&o.value){const z=o.value.getBoundingClientRect();r.value={width:s.width,height:z.height>0?Math.floor(z.height):300};return}if(s.height!==null&&o.value){const z=o.value.getBoundingClientRect();r.value={width:z.width>0?Math.floor(z.width):800,height:s.height};return}if(o.value){const z=o.value.getBoundingClientRect();z.width>0&&z.height>0&&(r.value={width:Math.floor(z.width),height:Math.floor(z.height)})}};return Oe(async()=>{await ze(),await ze(),setTimeout(()=>{se();const z=Object.keys(s.data);z.length>0&&m.value.length===0&&(console.log(" [StackedArea] onMounted (despus de delay) - Datos disponibles:",z),z.forEach(I=>{p.value[I]||(p.value[I]=new Array(s.xLabels.length).fill(0))}),y(z)),o.value&&(d=new ResizeObserver(()=>{requestAnimationFrame(()=>{se()})}),d.observe(o.value))},100),window.addEventListener("resize",se)}),Ea(()=>{window.removeEventListener("resize",se),d&&(d.disconnect(),d=null)}),(z,I)=>(g(),C("div",{class:"area-chart-container",ref_key:"containerRef",ref:i},[s.hideHeader?oe("",!0):(g(),C("div",ly,[n("div",iy,[n("h3",ry,G(e.title),1),e.subtitle?(g(),C("p",cy,G(e.subtitle),1)):oe("",!0)])])),A.value.length>0?(g(),C("div",uy,[(g(!0),C(ge,null,_e(A.value,_=>(g(),C("button",{key:_,onClick:R=>L(_),class:pe(["filter-btn",{"filter-active":m.value.includes(_),"filter-inactive":!m.value.includes(_)}])},[n("span",{class:"btn-color-dot",style:de({backgroundColor:b(_)})},null,4),Vt(" "+G(_),1)],10,dy))),128))])):oe("",!0),w.value?(g(),C("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:o},[(g(),C("svg",{ref_key:"svgRef",ref:l,width:r.value.width,height:r.value.height,class:"area-chart",onMousemove:te,onMouseleave:U},[n("g",hy,[(g(!0),C(ge,null,_e(e.gridLines,_=>(g(),C("line",{key:`grid-${_}`,x1:u.left,y1:u.top+(_-1)*S.value,x2:r.value.width-u.right,y2:u.top+(_-1)*S.value,class:"grid-line"},null,8,py))),128))]),n("g",gy,[(g(!0),C(ge,null,_e(e.gridLines,_=>(g(),C("text",{key:`y-label-${_}`,x:u.left-5,y:u.top+(_-1)*S.value+3,class:"y-axis-label","text-anchor":"end"},G(j($(_-1))),9,my))),128))]),n("g",by,[(g(!0),C(ge,null,_e(s.xLabels,(_,R)=>(g(),C("text",{key:`x-label-${R}`,x:W(R),y:r.value.height-u.bottom+15,class:"x-axis-label-svg","text-anchor":"middle"},G(_),9,yy))),128))]),n("defs",null,[(g(!0),C(ge,null,_e(m.value,_=>(g(),C("linearGradient",{key:`gradient-${_}`,id:`gradient-${M(_)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[n("stop",{offset:"0%","stop-color":b(_),"stop-opacity":"0.8"},null,8,wy),n("stop",{offset:"100%","stop-color":b(_),"stop-opacity":"0.2"},null,8,Cy)],8,Ay))),128))]),f.value.visible?(g(),C("line",{key:0,x1:f.value.x,y1:u.top,x2:f.value.x,y2:r.value.height-u.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,_y)):oe("",!0),f.value.visible&&f.value.yValue!==null?(g(),C("line",{key:1,x1:u.left,y1:f.value.yPosition,x2:r.value.width-u.right,y2:f.value.yPosition,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.8"},null,8,ky)):oe("",!0),n("g",$y,[(g(!0),C(ge,null,_e(m.value,(_,R)=>(g(),C("g",{key:`area-${_}`},[n("path",{d:ve(_,R),fill:`url(#gradient-${M(_)})`,class:"area-path",style:de({animationDelay:`${R*.1}s`})},null,12,Sy),n("path",{d:fe(_,R),stroke:b(_),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"line-path",style:de({animationDelay:`${R*.1}s`})},null,12,xy),n("g",Ey,[f.value.visible&&c.value[`${_}-x`]!==void 0?(g(),C("circle",{key:0,cx:N(_),cy:O(_),r:3,fill:k(_),class:"data-point animated-point",style:de({filter:`drop-shadow(0 0 8px ${k(_)})`,opacity:1})},null,12,Iy)):oe("",!0)]),n("g",Py,[(g(!0),C(ge,null,_e(x(_),(Y,Z)=>(g(),C("circle",{key:`point-${_}-${Z}`,cx:W(Z),cy:ee(_,Z,R),r:f.value.visible&&f.value.index===Z&&c.value[`${_}-x`]===void 0?3:0,fill:b(_),class:pe(["data-point",{"is-hovered":f.value.visible&&f.value.index===Z}]),style:de({filter:`drop-shadow(0 0 8px ${b(_)})`})},null,14,My))),128))])]))),128))])],40,vy))],512)):(g(),C("div",fy,[...I[0]||(I[0]=[Se('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-32f5b5f0><path d="M3 3v18h18" data-v-32f5b5f0></path><path d="M18 17V9" data-v-32f5b5f0></path><path d="M13 17V5" data-v-32f5b5f0></path><path d="M8 17v-3" data-v-32f5b5f0></path></svg><p data-v-32f5b5f0>No hay datos disponibles</p>',2)])])),(g(),Re(jt,{to:"body"},[ye(gt,{name:"tooltip-fade"},{default:at(()=>[f.value.visible?(g(),C("div",{key:0,class:"tooltip-container",style:de(X.value)},[n("div",Fy,[n("span",Dy,G(f.value.label),1)]),n("div",Ty,[(g(!0),C(ge,null,_e(m.value,_=>(g(),C("div",{key:`tooltip-${_}`,class:"tooltip-item"},[n("span",{class:"tooltip-color-indicator",style:de({backgroundColor:b(_)})},null,4),n("span",By,G(_)+":",1),n("span",Ry,G(T(x(_)[f.value.index])),1)]))),128))])],4)):oe("",!0)]),_:1})]))],512))}},Oi=Ie(Ly,[["__scopeId","data-v-32f5b5f0"]]),Vy={class:"bar-chart-container"},Ny={key:0,class:"chart-title-section"},Oy={class:"chart-title"},zy={key:1,class:"filters-wrapper"},jy={class:"filters-section"},Hy=["onClick"],Yy={class:"chart-area"},Gy={class:"y-axis"},qy={class:"tick-label"},Uy={class:"grid-lines"},Wy={class:"bars-wrapper"},Xy={key:0,class:"bar-item"},Ky=["onMouseenter"],Qy={class:"x-axis-labels-container"},Jy={class:"x-axis-labels"},Zy={class:"tooltip-header"},e2={class:"tooltip-year-label"},t2={class:"tooltip-content"},s2={class:"tooltip-item"},a2={class:"tooltip-variable-name"},n2={class:"tooltip-variable-value"},o2={__name:"HistoricBarChart",props:{title:{type:String,default:"Grfico de Barras"},data:{type:Array,required:!0},showFilters:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},visibleVariableKeys:{type:Array,default:null},variablesConfig:{type:Object,default:null},initialActiveVariables:{type:Array,default:null}},setup(e){const t=e,s=V(null),a=V({}),o=V({x:0,y:0}),l=V(null),i=V(200),r={IS:"#7cb342","IS Total":"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342",IIC:"#DC143C","IIC Total":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_T:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},d=(S,x,b)=>{if(r[S])return r[S];if(r[x])return r[x];const k=(S||"").toLowerCase();if(k==="is"||k.includes("is_")||k.includes("sostenible")||k==="ps")return"#7cb342";if(k==="iic_h")return"#8B0000";if(k==="iic_m")return"#DC143C";if(k==="iic_t")return"#FF6B6B";if(k==="iic"||k.includes("iic")||k==="pic"||k.includes("carbono"))return"#DC143C";if(k.includes("total")||k.includes("gt")||k.includes("it")||k.includes("pt"))return"#9E9E9E";const M=(x||"").toLowerCase();return M.includes("sostenible")||M.includes(" is")?"#7cb342":M.includes("carbono")||M.includes("iic")||M.includes("pic")?"#DC143C":M.includes("total")?"#9E9E9E":b},f=S=>{const x=S.target.getBoundingClientRect();o.value={x:x.left+x.width/2,y:x.top-10}},c=K(()=>{if(!t.data||t.data.length===0)return[];const S=new Map;t.data.forEach(b=>{b.variables&&Array.isArray(b.variables)&&b.variables.forEach(k=>{if(!S.has(k.key))if(t.variablesConfig&&t.variablesConfig[k.key]){const M=t.variablesConfig[k.key],L=M.color||k.color;S.set(k.key,{key:k.key,label:M.label||k.label,color:d(k.key,M.label||k.label,L),order:M.order||0})}else S.set(k.key,{key:k.key,label:k.label,color:d(k.key,k.label,k.color),order:0})})});const x=Array.from(S.values());return x.sort((b,k)=>(b.order||0)-(k.order||0)),x}),u=K(()=>!t.visibleVariableKeys||t.visibleVariableKeys.length===0?c.value:c.value.filter(S=>t.visibleVariableKeys.includes(S.key))),v=S=>{if(!S.variables||!Array.isArray(S.variables))return[];if(t.visibleVariableKeys&&t.visibleVariableKeys.length>0){const x=S.variables.filter(b=>t.visibleVariableKeys.includes(b.key));return t.variablesConfig?x.map(b=>{var L,F,B;const k=((L=t.variablesConfig[b.key])==null?void 0:L.label)||b.label,M=((F=t.variablesConfig[b.key])==null?void 0:F.color)||b.color;return{...b,label:k,color:d(b.key,k,M),order:((B=t.variablesConfig[b.key])==null?void 0:B.order)||0}}).sort((b,k)=>(b.order||0)-(k.order||0)):x.map(b=>({...b,color:d(b.key,b.label,b.color)}))}return t.variablesConfig?S.variables.map(x=>{var M,L,F;const b=((M=t.variablesConfig[x.key])==null?void 0:M.label)||x.label,k=((L=t.variablesConfig[x.key])==null?void 0:L.color)||x.color;return{...x,label:b,color:d(x.key,b,k),order:((F=t.variablesConfig[x.key])==null?void 0:F.order)||0}}).sort((x,b)=>(x.order||0)-(b.order||0)):S.variables.map(x=>({...x,color:d(x.key,x.label,x.color)}))},h=V(!1);be(u,S=>{S.forEach(x=>{x.key in a.value||(t.initialActiveVariables&&Array.isArray(t.initialActiveVariables)?a.value[x.key]=t.initialActiveVariables.includes(x.key):a.value[x.key]=!1)}),!h.value&&S.length>0&&(h.value=!0,S[0]&&setTimeout(()=>{a.value[S[0].key]=!0},100),S[1]&&setTimeout(()=>{a.value[S[1].key]=!0},400))},{immediate:!0});const A=K(()=>{if(!t.data||t.data.length===0)return 100;let S=0;return t.data.forEach(x=>{x.variables&&Array.isArray(x.variables)&&v(x).forEach(k=>{a.value[k.key]!==!1&&k.value&&k.value>S&&(S=k.value)})}),S>0?S*.8:100}),m=S=>{if(A.value===0)return 0;const x=S/A.value*100;return i.value*x/100},p=K(()=>{const S=A.value,x=S/4;return[{value:0,position:0},{value:x,position:25},{value:x*2,position:50},{value:x*3,position:75},{value:S,position:100}]}),y=K(()=>{var L;const S=Object.values(a.value).filter(F=>F!==!1).length;if((L=t.data)!=null&&L.length,S===0)return 50;if(S===1)return 120;if(S===2)return 55;if(S===3)return 38;const x=70,b=25,k=120,M=x/Math.sqrt(S*.6);return Math.max(b,Math.min(k,M))}),w=K(()=>{const S=Object.values(a.value).filter(b=>b!==!1).length,x=u.value.length;return S===x&&x>0?"2px":"1px"}),E=S=>{a.value[S]=!a.value[S]},$=S=>Math.abs(S)>=1e9?`$${(S/1e9).toFixed(1)}B`:Math.abs(S)>=1e6?`$${(S/1e6).toFixed(1)}M`:Math.abs(S)>=1e3?`$${(S/1e3).toFixed(1)}K`:`$${S.toFixed(0)}`,j=()=>{if(l.value){const S=l.value.clientHeight-30;S>0&&(i.value=S)}};return Oe(async()=>{await ze(),j(),l.value&&new ResizeObserver(()=>{j()}).observe(l.value)}),be(()=>t.data,()=>{ze(()=>{j()})},{deep:!0}),(S,x)=>(g(),C("div",Vy,[e.hideHeader?oe("",!0):(g(),C("div",Ny,[n("h3",Oy,G(e.title),1)])),e.showFilters?(g(),C("div",zy,[n("div",jy,[(g(!0),C(ge,null,_e(u.value,b=>(g(),C("button",{key:b.key,onClick:k=>E(b.key),class:pe(["filter-btn",{"filter-active":a.value[b.key]!==!1,"filter-inactive":a.value[b.key]===!1}])},[n("span",{class:"btn-color-dot",style:de({backgroundColor:b.color})},null,4),Vt(" "+G(b.label),1)],10,Hy))),128))])])):oe("",!0),n("div",Yy,[n("div",Gy,[(g(!0),C(ge,null,_e(p.value,b=>(g(),C("div",{key:b.value,class:"y-tick",style:de({bottom:`${b.position}%`})},[n("span",qy,G($(b.value)),1)],4))),128))]),n("div",Uy,[(g(!0),C(ge,null,_e(p.value,b=>(g(),C("div",{key:b.value,class:"grid-line",style:de({bottom:`${b.position}%`})},null,4))),128))]),n("div",{class:"bars-container",ref_key:"barsContainerRef",ref:l},[(g(!0),C(ge,null,_e(e.data,b=>(g(),C("div",{key:b.year,class:"year-group",style:de({marginRight:w.value})},[n("div",Wy,[(g(!0),C(ge,null,_e(v(b),k=>(g(),C(ge,{key:k.key},[a.value[k.key]!==!1?(g(),C("div",Xy,[n("div",{class:"bar",style:de({height:`${m(k.value)}px`,backgroundColor:k.color,width:`${y.value}px`}),onMouseenter:M=>{s.value={year:b.year,variable:k},f(M)},onMousemove:f,onMouseleave:x[0]||(x[0]=M=>s.value=null)},null,44,Ky)])):oe("",!0)],64))),128))])],4))),128))],512)]),n("div",Qy,[x[1]||(x[1]=n("div",{class:"x-axis-spacer"},null,-1)),n("div",Jy,[(g(!0),C(ge,null,_e(e.data,b=>(g(),C("div",{key:b.year,class:"year-label"},G(b.year),1))),128))])]),(g(),Re(jt,{to:"body"},[s.value?(g(),C("div",{key:0,class:"tooltip-container",style:de({left:`${o.value.x}px`,top:`${o.value.y}px`})},[n("div",Zy,[n("span",e2,G(s.value.year),1)]),n("div",t2,[n("div",s2,[n("span",{class:"tooltip-color-indicator",style:de({backgroundColor:s.value.variable.color})},null,4),n("span",a2,G(s.value.variable.label)+":",1),n("span",n2,G($(s.value.variable.value)),1)])])],4)):oe("",!0)]))]))}},Ya=Ie(o2,[["__scopeId","data-v-e1a0fd98"]]),l2={class:"ifss-slider-container"},i2={class:"historic-table"},r2={class:"row-1"},c2={class:"chart-card IS-anual-linear-chart"},u2={class:"chart-card-body"},d2={class:"chart-card IIC-anual-linear-chart"},f2={class:"chart-card-body"},v2={class:"row-2"},h2={class:"chart-card IIC-anual-bar-chart"},p2={class:"chart-card-body"},g2={class:"chart-card IS-anual-bar-chart"},m2={class:"chart-card-body"},b2={class:"row-3"},y2={class:"chart-card PS-PIC-anual-linear-chart"},A2={class:"chart-card-body"},w2={class:"row-4"},C2={class:"chart-card PIC-anual-bar-chart"},_2={class:"chart-card-body"},k2={class:"chart-card PS-anual-bar-chart"},$2={class:"chart-card-body"},S2={__name:"HistoricalCard",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null}},setup(e){const{fetchData:t,transformToBarChartData:s,transformToLinearChartData:a,transformToStackedAreaData:o}=Et(),l=V([]),i=V([]),r=V([]),d=V([]),f=V({}),c=V({}),u=V({}),v=V(["2020","2021","2022","2023","2024"]),h=async()=>{var A,m,p,y;try{console.log(" Cargando datos de Google Sheets...");const w=await t("datosFinancieros","Hoja 1");if(console.log(" Datos raw obtenidos:",{numFilas:(w==null?void 0:w.length)||0,primeraFila:(w==null?void 0:w[0])||"No hay datos",columnas:w!=null&&w[0]?Object.keys(w[0]):[]}),!w||w.length===0){console.error(" No se obtuvieron datos del Google Sheet");return}const E=vt.mappings.iicBarChart;l.value=s(w,E);const $=vt.mappings.presupuestoBarChart;i.value=s(w,$);const j=vt.mappings.picBarChart;r.value=s(w,j);const S=vt.mappings.psBarChart;d.value=s(w,S);const x=vt.mappings.isLinearChart,b=a(w,x),k=vt.mappings.iicStackedArea;u.value=o(w,k);const M={};b.data.forEach(H=>{M[H.label]=H.data}),f.value=M,v.value=b.labels;const L=vt.mappings.pspicLinearChart;console.log(" mappingPSPIC:",L),console.log(" Valor de GT ($) en primera fila:",w[0]["GT ($)"]),console.log(" Tipo de GT ($):",typeof w[0]["GT ($)"]);const F=a(w,L);console.log(" linearResultPSPIC:",F);const B={};F.data.forEach(H=>{B[H.label]=H.data,console.log(` Serie "${H.label}":`,H.data)}),c.value=B,console.log(" Datos transformados para IIC BarChart:",((A=l.value)==null?void 0:A.length)||0,"aos"),console.log(" Datos transformados para IS BarChart:",((m=i.value)==null?void 0:m.length)||0,"aos"),console.log(" Datos transformados para PIC BarChart:",((p=r.value)==null?void 0:p.length)||0,"aos"),console.log(" Datos transformados para PS BarChart:",((y=d.value)==null?void 0:y.length)||0,"aos"),console.log(" Datos transformados para LinearChart IS:",f.value),console.log(" Datos transformados para LinearChart PS-PIC:",c.value)}catch(w){console.error(" Error cargando datos:",w),console.error("Error completo:",w.message),l.value=[],i.value=[],r.value=[],d.value=[],f.value={},c.value={},u.value={}}};return Oe(async()=>{console.log(" Componente HistoricalCard montado"),setTimeout(async()=>{console.log(" Iniciando carga despus de 2 segundos..."),await h()},2e3)}),(A,m)=>(g(),C("div",l2,[n("div",i2,[n("div",r2,[n("div",c2,[m[0]||(m[0]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis histrico de los Ingresos Sostenibles (IS)")],-1)),n("div",u2,[ye(Oi,{data:f.value,xLabels:v.value,showCurrencySymbol:!1,decimalPlaces:1,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])]),n("div",d2,[m[1]||(m[1]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis de IIC e Ingreso Total")],-1)),n("div",f2,[ye(Oi,{data:u.value,xLabels:v.value,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])])]),n("div",v2,[n("div",h2,[m[2]||(m[2]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Ingresos de Inversin en Contribucin (IIC)")],-1)),n("div",p2,[ye(Ya,{data:l.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),n("div",g2,[m[3]||(m[3]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Ingresos Sostenibles (IS) por Ao")],-1)),n("div",m2,[ye(Ya,{data:i.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])]),n("div",b2,[n("div",y2,[m[4]||(m[4]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis histrico de los Intensivos en Carbono y Presupuestos Sostenibles (PS-PIC)")],-1)),n("div",A2,[ye(Jc,{data:c.value,xLabels:v.value,width:1900,height:340,hideHeader:!0,padding:{top:20,right:0,bottom:100,left:100}},null,8,["data","xLabels"])])])]),n("div",w2,[n("div",C2,[m[5]||(m[5]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Presupuestos Intensivos en Carbono (PIC)")],-1)),n("div",_2,[ye(Ya,{data:r.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),n("div",k2,[m[6]||(m[6]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Presupuestos Sostenibles (PS)")],-1)),n("div",$2,[ye(Ya,{data:d.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])])])]))}},Zc=Ie(S2,[["__scopeId","data-v-42787392"]]),x2={class:"map-container"},E2={key:0,class:"loading-state"},I2={key:1,class:"error-state"},P2={key:2,class:"map-content"},M2={class:"ranking-panel"},F2={class:"body-ranking-panel"},D2={class:"slider-ranking-panel"},T2={__name:"HistoricalView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:E,initializeData:$}=s.mapsComposable||zt(),{setChartData:j}=Pa(),{statesDataForSlider:S,selectedStateIFSS:x,handleRangeChange:b,handleFilterChange:k,initialize:M}=hl(s.mapsComposable||zt());return Hs(),be(r,(L,F)=>{if(L&&L!==F){const B=A(L);j(B),a("region-selected",{name:L,data:B})}else!L&&F&&a("region-selected",null)}),be(i,L=>{L&&a("map-error",L)}),Oe(async()=>{await M()}),(L,F)=>(g(),C(ge,null,[F[3]||(F[3]=n("div",{class:"filters-toggles-row"},null,-1)),n("div",x2,[q(l)?(g(),C("div",E2,[...F[1]||(F[1]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):oe("",!0),q(i)?(g(),C("div",I2,[n("p",null,"Error: "+G(q(i)),1),n("button",{onClick:F[0]||(F[0]=(...B)=>q($)&&q($)(...B)),class:"retry-btn"}," Reintentar ")])):oe("",!0),!q(l)&&!q(i)?(g(),C("div",P2,[n("div",M2,[F[2]||(F[2]=n("div",{class:"header-ranking-panel"},[n("h2",null,"Ingresos"),n("div",{class:"ranking-hamburger-menu"},[n("img",{src:vl,alt:"hamburger-menu",class:"hamburger-icon"})])],-1)),n("div",F2,[n("div",D2,[ye(Zc,{statesData:q(S),selectedStateValue:q(x),onRangeChange:q(b),onFilterChange:q(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])])):oe("",!0)])],64))}},B2=Ie(T2,[["__scopeId","data-v-21a3f982"]]),R2={key:0,class:"chart-header"},L2={class:"chart-title"},V2={class:"chart-content"},N2=["onMouseenter"],O2={class:"state-label"},z2={class:"bar-chart-area"},j2={class:"grid-lines"},H2={class:"bar-wrapper-horizontal"},Y2={class:"bar-value"},G2={key:0,class:"empty-state"},q2={class:"x-axis"},U2={class:"x-axis-labels"},W2={class:"tick-label"},X2={class:"tooltip-content"},K2={class:"tooltip-info"},Q2={class:"tooltip-label"},J2={class:"tooltip-value"},Z2={class:"tooltip-classification"},eA={__name:"HorizontalRankingChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"100%"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},animationDelay:{type:Number,default:800},showAllBars:{type:Boolean,default:!1},initialBarsCount:{type:Number,default:4},valueFormatter:{type:Function,default:null},selectedState:{type:String,default:null}},setup(e){tl(S=>({"145fd0f3":v.value}));const t=e,s=V(null),a=V({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=V([]),l=V({}),i=S=>{const x=parseFloat(S)||0;return x>=2.5?"#6ac952":x>=2.3?"#94d351":x>=2?"#bddc50":x>=1.8?"#e6d64f":x>=1.5?"#e6a74c":x>=.7?"#e67849":"#e52845"},r=S=>{const x=parseFloat(S)||0;return x>=2.5?"Muy Alto":x>=2.3?"Alto":x>=2?"Medio Alto":x>=1.8?"Medio":x>=1.5?"Medio Bajo":x>=.7?"Bajo":"Muy Bajo"},d=()=>{o.value=t.variables.map(S=>({key:S.key,label:S.label||S.key,value:S.value||0,colorClass:S.colorClass||"default",color:i(S.value),active:!1})),l.value={},t.variables.forEach(S=>{l.value[S.key]=0})},f=async()=>{await new Promise(x=>setTimeout(x,t.animationDelay));const S=t.showAllBars?o.value.length:Math.min(t.initialBarsCount,o.value.length);for(let x=0;x<S;x++){o.value[x].active=!0,await new Promise(M=>setTimeout(M,50));const b=E(o.value[x].value);l.value[o.value[x].key]=b;const k=t.showAllBars&&S>10?20:200;await new Promise(M=>setTimeout(M,k))}};be(()=>t.variables,()=>{d(),f()},{immediate:!0,deep:!0}),Oe(()=>{f()});const c=K(()=>o.value.filter(S=>S.active)),u=S=>t.selectedState?S.label===t.selectedState||S.key===t.selectedState:!1,v=K(()=>{const S=c.value.length;if(S===0)return"100%";const x=30,b=36,M=(S-1)*3;return`calc((100% - ${x}px - ${b}px - ${M}px) / ${S})`}),h=K(()=>{const S=c.value.map(x=>x.value);return Math.max(...S,1)}),A=K(()=>{const S=h.value,x=S/5,b=[];for(let k=0;k<=5;k++){const M=x*k,L=M/S*100;b.push({value:M,label:M.toFixed(1),position:L})}return b}),m=K(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-60}px`})),p=(S,x)=>{s.value=S.key,a.value={visible:!0,x:x.clientX,y:x.clientY,label:S.label,value:S.value,color:S.color}},y=S=>{a.value.visible&&(a.value.x=S.clientX,a.value.y=S.clientY)},w=()=>{s.value=null,a.value.visible=!1},E=S=>{const x=S/h.value*100;return Math.min(x,100)},$=S=>l.value[S.key]||0,j=S=>t.valueFormatter?t.valueFormatter(S):typeof S=="number"?S.toFixed(1):S;return(S,x)=>(g(),C("div",{class:"horizontal-bar-chart",style:de({width:e.width,height:e.height})},[e.title?(g(),C("div",R2,[n("h3",L2,G(e.title),1)])):oe("",!0),n("div",V2,[n("div",{class:pe(["bars-container",{"has-hover":s.value!==null||e.selectedState!==null}])},[(g(!0),C(ge,null,_e(c.value,b=>(g(),C("div",{key:b.key,class:pe(["bar-row",{"is-hovered":s.value===b.key||u(b),"is-dimmed":s.value!==null&&s.value!==b.key||e.selectedState!==null&&!u(b)}]),onMouseenter:k=>p(b,k),onMousemove:x[0]||(x[0]=k=>y(k)),onMouseleave:w},[n("div",O2,G(b.label),1),n("div",z2,[n("div",j2,[(g(!0),C(ge,null,_e(A.value,k=>(g(),C("div",{key:k.value,class:"grid-line",style:de({left:k.position+"%"})},null,4))),128))]),n("div",H2,[n("div",{class:pe(["bar-horizontal",b.colorClass]),style:de({width:$(b)+"%",background:b.color})},[n("span",Y2,G(j(b.value)),1)],6)])])],42,N2))),128)),c.value.length===0?(g(),C("div",G2,[n("p",null,G(e.emptyMessage),1)])):oe("",!0)],2),n("div",q2,[x[1]||(x[1]=n("div",{class:"x-axis-spacer"},null,-1)),n("div",U2,[(g(!0),C(ge,null,_e(A.value,b=>(g(),C("div",{key:b.value,class:"x-axis-tick",style:de({left:b.position+"%"})},[n("span",W2,G(b.label),1)],4))),128))])])]),(g(),Re(jt,{to:"body"},[a.value.visible?(g(),C("div",{key:0,class:"tooltip",style:de(m.value)},[n("div",X2,[n("div",{class:"tooltip-color",style:de({backgroundColor:a.value.color})},null,4),n("div",K2,[n("div",Q2,G(a.value.label),1),n("div",J2,"IFS: "+G(j(a.value.value)),1),n("div",Z2,G(r(a.value.value)),1)])])],4)):oe("",!0)]))],4))}},tA=Ie(eA,[["__scopeId","data-v-a072162e"]]),sA={class:"emisiones-chart-container"},aA={class:"chart-content"},nA=["onMouseenter"],oA={class:"bar-label"},lA={class:"bar-track"},iA={class:"bar-value"},rA={class:"tooltip-body"},cA={class:"tooltip-value"},uA={class:"tooltip-percentage"},dA={__name:"EmisionesBarChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#0F3759","#1E5A8A","#2D7BB8","#5A9BD4","#8BBDE8"]},title:{type:String,default:""}},setup(e){const t=e,s=[{label:"Fuentes Fijas",value:3},{label:"Fuente Area",value:77},{label:"Carreteros",value:101},{label:"No Carreteros",value:5},{label:"Naturales",value:124}],a=K(()=>t.excelData||s),o=K(()=>a.value.length===0?1:Math.max(...a.value.map(h=>h.value))),l=K(()=>a.value.reduce((h,A)=>h+A.value,0)),i=h=>o.value===0?0:h/o.value*100,r=h=>h?new Intl.NumberFormat("es-MX").format(Math.round(h)):"0",d=V({visible:!1,x:0,y:0,label:"",value:0,color:"",percentage:0}),f=(h,A,m)=>{const p=l.value>0?(A.value/l.value*100).toFixed(1):0;d.value={visible:!0,x:m.clientX,y:m.clientY,label:A.label,value:A.value,color:t.colors[h%t.colors.length],percentage:p}},c=h=>{d.value.visible&&(d.value.x=h.clientX,d.value.y=h.clientY)},u=()=>{d.value.visible=!1},v=K(()=>({left:`${d.value.x+15}px`,top:`${d.value.y-60}px`}));return(h,A)=>(g(),C("div",sA,[n("div",aA,[(g(!0),C(ge,null,_e(a.value,(m,p)=>(g(),C("div",{key:p,class:"bar-row",onMouseenter:y=>f(p,m,y),onMousemove:A[0]||(A[0]=y=>c(y)),onMouseleave:u},[n("div",oA,[n("div",{class:"bar-color-dot",style:de({backgroundColor:e.colors[p%e.colors.length]})},null,4),n("span",null,G(m.label),1)]),n("div",lA,[n("div",{class:"bar-fill",style:de({width:i(m.value)+"%",backgroundColor:e.colors[p%e.colors.length]})},null,4)]),n("div",iA,G(r(m.value)),1)],40,nA))),128))]),(g(),Re(jt,{to:"body"},[d.value.visible?(g(),C("div",{key:0,class:"chart-tooltip",style:de(v.value)},[n("div",{class:"tooltip-header",style:de({borderLeftColor:d.value.color})},G(d.value.label),5),n("div",rA,[n("span",cA,G(r(d.value.value)),1),A[1]||(A[1]=n("span",{class:"tooltip-unit"},"toneladas",-1))]),n("div",uA,G(d.value.percentage)+"% del total ",1)],4)):oe("",!0)]))]))}},fA=Ie(dA,[["__scopeId","data-v-366f5e5f"]]),vA={class:"ambientales-container"},hA={key:0,class:"global-empty-state"},pA={key:1,class:"card-body"},gA={class:"left-card-container"},mA={class:"incendios-card"},bA={class:"incendios-body"},yA={key:0,class:"loading-state"},AA={key:1,class:"error-state"},wA={class:"bottle-card"},CA={class:"bottle-body"},_A={key:0,class:"loading-state-small"},kA={key:1,class:"error-state-small"},$A={class:"bottle-graph-container"},SA={class:"bottle-values"},xA={class:"bottle-value-item"},EA={class:"bottle-value-number"},IA={class:"right-card-container"},PA={class:"top-right-card-container"},MA={class:"emisiones-card"},FA={class:"emisiones-body"},DA={key:0,class:"loading-state-small"},TA={key:1,class:"error-state-small"},BA={class:"energia-card"},RA={class:"energia-body"},LA={key:0,class:"loading-state-small"},VA={key:1,class:"error-state-small"},NA={class:"gauge-graph"},OA={class:"gauge-number"},zA={class:"bottom-right-card-container"},jA={class:"areas-card"},HA={class:"areas-body"},YA={key:0,class:"loading-state"},GA={key:1,class:"error-state"},qA={__name:"AmbientalesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=V([]),l=V(!1),i=V(null),r=async(L=null,F=null)=>{try{if(l.value=!0,i.value=null,!L){o.value=[],l.value=!1;return}F&&Te(F);const B=Be("incendiosForestales"),H=Ne("incendiosForestales"),D=await a("incendiosForestales",H);if(D.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const W=D.find(ee=>ee[B.categoryColumn]===L);if(!W){o.value=[],l.value=!1;return}const Q=B.variables.sort((ee,ae)=>ee.order-ae.order).map(ee=>({key:ee.key,label:ee.label,value:parseFloat(W[ee.column])||0,color:ee.color,colorClass:ee.colorClass||"default",active:!0}));o.value=Q}catch(B){console.error(" [Incendios] Error:",B),i.value=B.message}finally{l.value=!1}},d=V(0),f=V(0),c=V(!1),u=V(null),v=async(L=null,F=null)=>{try{if(c.value=!0,u.value=null,!L){d.value=0,f.value=0,c.value=!1;return}F&&Te(F);const B=Be("residuosSolidos"),H=Ne("residuosSolidos"),D=await a("residuosSolidos",H);if(D.length===0)throw new Error("No se obtuvieron datos");const W=D.reduce((ee,ae)=>{const ve=parseFloat(ae[B.valueColumn])||0;return ve>ee?ve:ee},0),Q=D.find(ee=>ee[B.categoryColumn]===L);if(Q){const ee=parseFloat(Q[B.valueColumn])||0;if(d.value=ee,W>0){const ae=ee/W*100*100;f.value=Math.min(ae,100)}else f.value=0;console.log(` [Residuos] ${L}: ${ee.toLocaleString()} kg (${f.value.toFixed(1)}% botellas)`)}else d.value=0,f.value=0}catch(B){console.error(" [Residuos] Error:",B),u.value=B.message}finally{c.value=!1}},h=V([]),A=V(!1),m=V(null),p=async(L=null,F=null)=>{try{if(A.value=!0,m.value=null,!L){h.value=[],A.value=!1;return}F&&Te(F);const B=Be("emisiones"),H=Ne("emisiones"),D=await a("emisiones",H);if(D.length===0)throw new Error("No se obtuvieron datos");const W=D.find(Q=>Q[B.categoryColumn]===L);W?h.value=B.variables.map(Q=>({label:Q.label,value:parseFloat(W[Q.column])||0})):h.value=[]}catch(B){console.error(" [Emisiones] Error:",B),m.value=B.message}finally{A.value=!1}},y=V(0),w=V(0),E=V(!1),$=V(null),j=async(L=null,F=null)=>{console.log(" [Energa] ========== INICIANDO CARGA =========="),console.log(" [Energa] Entity:",L,"| Year:",F);try{if(E.value=!0,$.value=null,!L){console.log(" [Energa] Sin entidad, saliendo..."),y.value=0,w.value=0,E.value=!1;return}const B=Be("energia");console.log(" [Energa] Mapping:",B);const H="2024";console.log(" [Energa] Sheet name:",H);const D=await a("energia",H);if(console.log(" [Energa] Datos obtenidos:",D.length,"filas"),D.length>0&&(console.log(" [Energa] Primera fila:",D[0]),console.log(" [Energa] Columnas disponibles:",Object.keys(D[0]))),D.length===0)throw new Error("No se obtuvieron datos");const W=D.reduce((ee,ae)=>{const ve=parseFloat(ae[B.valueColumn])||0;return ve>ee?ve:ee},0);console.log(" [Energa] Valor mximo encontrado:",W);const Q=D.find(ee=>ee[B.categoryColumn]===L);if(console.log(" [Energa] Buscando entidad:",L),console.log(" [Energa] Fila encontrada:",Q),Q){const ee=parseFloat(Q[B.valueColumn])||0;y.value=ee,W>0?w.value=ee/W*100:w.value=0,console.log(` [Energa] ${L}: ${ee.toLocaleString()} GWh (${w.value.toFixed(1)}%)`)}else console.log(" [Energa]  No se encontr la entidad en los datos"),y.value=0,w.value=0}catch(B){console.error(" [Energa] Error:",B),$.value=B.message}finally{E.value=!1,console.log(" [Energa] ========== CARGA FINALIZADA =========="),console.log(" [Energa] Valor final:",y.value),console.log(" [Energa] Porcentaje final:",w.value)}},S=V([]),x=V(!1),b=V(null),k=async(L=null,F=null)=>{try{if(x.value=!0,b.value=null,!L){S.value=[],x.value=!1;return}F&&Te(F);const B=Be("areasNaturales"),H=Ne("areasNaturales"),D=await a("areasNaturales",H);if(D.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const W=D.find(ee=>ee[B.categoryColumn]===L);if(!W){S.value=[],x.value=!1;return}const Q=B.variables.map(ee=>({key:ee.key,label:ee.label,value:parseFloat(W[ee.column])||0,color:ee.color,colorClass:ee.colorClass||"default",active:!1}));S.value=Q}catch(B){console.error(" [reas Naturales] Error:",B),b.value=B.message}finally{x.value=!1}},M=L=>L?new Intl.NumberFormat("es-MX").format(L):"0";return be(()=>s.selectedEntity,L=>{console.log(" [AmbientalesView] Entity cambi a:",L),r(L,s.selectedYear),v(L,s.selectedYear),p(L,s.selectedYear),j(L,s.selectedYear),k(L,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,L=>{console.log(" [AmbientalesView] Year cambi a:",L),s.selectedEntity&&(r(s.selectedEntity,L),v(s.selectedEntity,L),p(s.selectedEntity,L),j(s.selectedEntity,L),k(s.selectedEntity,L))},{immediate:!1}),Oe(async()=>{console.log(" [AmbientalesView] Montado"),console.log(" [AmbientalesView] selectedEntity:",s.selectedEntity),console.log(" [AmbientalesView] selectedYear:",s.selectedYear),s.selectedEntity&&await Promise.all([r(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),p(s.selectedEntity,s.selectedYear),j(s.selectedEntity,s.selectedYear),k(s.selectedEntity,s.selectedYear)])}),(L,F)=>(g(),C("div",vA,[e.selectedEntity?(g(),C("div",pA,[n("div",gA,[n("div",mA,[F[4]||(F[4]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Incendios forestales en hectreas</span></div>',1)),n("div",bA,[l.value?(g(),C("div",yA,[...F[3]||(F[3]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):i.value?(g(),C("div",AA,[n("p",null,"Error: "+G(i.value),1),n("button",{onClick:F[0]||(F[0]=B=>r(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(fl,{key:2,variables:o.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])]),n("div",wA,[F[8]||(F[8]=Se('<div class="bottle-header" data-v-75645f7d><div class="bottle-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M3 6h18" data-v-75645f7d></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-75645f7d></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-75645f7d></path><line x1="10" y1="11" x2="10" y2="17" data-v-75645f7d></line><line x1="14" y1="11" x2="14" y2="17" data-v-75645f7d></line></svg></div><span class="bottle-header-title" data-v-75645f7d>Promedio diario de residuos slidos urbanos recolectados</span></div>',1)),n("div",CA,[c.value?(g(),C("div",_A,[...F[5]||(F[5]=[n("div",{class:"spinner-small"},null,-1)])])):u.value?(g(),C("div",kA,[...F[6]||(F[6]=[n("p",null,"Error cargando datos",-1)])])):(g(),C(ge,{key:2},[n("div",$A,[ye(Kc,{value:f.value},null,8,["value"])]),n("div",SA,[n("div",xA,[n("span",EA,G(M(d.value)),1),F[7]||(F[7]=n("span",{class:"bottle-value-unit"},"kg",-1))])])],64))])])]),n("div",IA,[n("div",PA,[n("div",MA,[F[11]||(F[11]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z" data-v-75645f7d></path><path d="M22 10a3 3 0 0 0-3-3h-2.207a5.502 5.502 0 0 0-10.702.5" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Emisiones de contaminantes atmosfricos por fuente en toneladas</span></div>',1)),n("div",FA,[A.value?(g(),C("div",DA,[...F[9]||(F[9]=[n("div",{class:"spinner-small"},null,-1)])])):m.value?(g(),C("div",TA,[...F[10]||(F[10]=[n("p",null,"Error cargando datos",-1)])])):(g(),Re(fA,{key:2,excelData:h.value},null,8,["excelData"]))])]),n("div",BA,[F[14]||(F[14]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" data-v-75645f7d></polygon></svg></div><span class="card-header-title" data-v-75645f7d>Consumo de energa elctrica</span></div>',1)),n("div",RA,[E.value?(g(),C("div",LA,[...F[12]||(F[12]=[n("div",{class:"spinner-small"},null,-1)])])):$.value?(g(),C("div",VA,[...F[13]||(F[13]=[n("p",null,"Error cargando datos",-1)])])):(g(),C(ge,{key:2},[n("div",NA,[ye(Xc,{value:w.value},null,8,["value"])]),n("div",OA,G(M(y.value))+" GWh",1)],64))])])]),n("div",zA,[n("div",jA,[F[16]||(F[16]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path><path d="M7 16v6" data-v-75645f7d></path><path d="M13 19v3" data-v-75645f7d></path><path d="M18 10v.2A3 3 0 0 1 16.9 16v0H13v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>reas naturales protegidas</span></div>',1)),n("div",HA,[x.value?(g(),C("div",YA,[...F[15]||(F[15]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):b.value?(g(),C("div",GA,[n("p",null,"Error: "+G(b.value),1),n("button",{onClick:F[1]||(F[1]=B=>k(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(Qc,{key:2,variables:S.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(g(),C("div",hA,[...F[2]||(F[2]=[Se('<div class="empty-state-content" data-v-75645f7d><div class="empty-state-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-75645f7d></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-75645f7d></line><line x1="16" y1="6" x2="16" y2="22" data-v-75645f7d></line></svg></div><h2 class="empty-state-title" data-v-75645f7d>Selecciona una entidad</h2><p class="empty-state-description" data-v-75645f7d> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores ambientales. </p></div>',1)])]))]))}},UA=Ie(qA,[["__scopeId","data-v-75645f7d"]]),WA={class:"person-chart"},XA={class:"persons-container"},KA={class:"person-svg",viewBox:"0 0 32 44",preserveAspectRatio:"xMidYMid meet"},QA=["id"],JA=["id"],ZA=["id"],ew=["fill"],tw=["fill"],sw=["clip-path"],aw=["y","height","fill"],nw={key:0,cx:"13",cy:"7",r:"2",fill:"rgba(255,255,255,0.35)",class:"shine"},ow={__name:"PersonChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=V([0,0,0,0,0,0,0,0,0,0]),a=i=>{const r=[];for(let c=0;c<10;c++){const u=c*10,v=(c+1)*10;if(i<=u)r.push(0);else if(i>=v)r.push(100);else{const h=(i-u)/10*100;r.push(h)}}return r},o=i=>{s.value=[0,0,0,0,0,0,0,0,0,0];const r=120;i.forEach((d,f)=>{d>0&&setTimeout(()=>{l(f,d)},r*(f+1))})},l=(i,r)=>{const f=Date.now(),c=s.value[i],u=()=>{const v=Date.now()-f,h=Math.min(v/350,1),A=1-Math.pow(1-h,3);s.value[i]=c+(r-c)*A,s.value=[...s.value],h<1&&requestAnimationFrame(u)};requestAnimationFrame(u)};return be(()=>t.value,i=>{const r=a(i);o(r)},{immediate:!1}),Oe(()=>{setTimeout(()=>{const i=a(t.value);o(i)},200)}),(i,r)=>(g(),C("div",WA,[n("div",XA,[(g(),C(ge,null,_e(10,d=>n("div",{key:d,class:"person-wrapper"},[(g(),C("svg",KA,[n("defs",null,[n("linearGradient",{id:"emptyPersonGradient-"+d,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...r[0]||(r[0]=[n("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),n("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),n("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,QA),n("linearGradient",{id:"filledPersonGradient-"+d,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...r[1]||(r[1]=[n("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),n("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),n("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,JA),n("clipPath",{id:"personClip-"+d},[...r[2]||(r[2]=[n("circle",{cx:"16",cy:"10",r:"8"},null,-1),n("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z"},null,-1)])],8,ZA)]),n("circle",{cx:"16",cy:"10",r:"8",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,ew),n("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,tw),n("g",{"clip-path":"url(#personClip-"+d+")"},[n("rect",{x:"0",y:44-s.value[d-1]/100*44,width:"32",height:s.value[d-1]/100*44,fill:"url(#filledPersonGradient-"+d+")",class:"fill-rect"},null,8,aw)],8,sw),s.value[d-1]>=90?(g(),C("circle",nw)):oe("",!0)]))])),64))])]))}},lw=Ie(ow,[["__scopeId","data-v-75983bbd"]]),iw={class:"left-panel"},rw={class:"donut-container"},cw={class:"donut-svg",viewBox:"0 0 100 100"},uw=["stroke-dasharray","stroke-dashoffset"],dw={class:"donut-inner"},fw=["src","alt"],vw={key:1,class:"donut-icon-placeholder"},hw={class:"donut-percent"},pw={class:"right-panel"},gw={class:"main-value-section"},mw={class:"main-label"},bw={class:"main-value-row"},yw={key:0,class:"currency-symbol"},Aw={class:"main-value"},ww={key:1,class:"value-unit"},Cw={class:"info-grid"},_w={class:"info-item"},kw={class:"info-value"},$w={class:"info-item"},Sw={class:"info-value"},xw={__name:"IconPercentageChart",props:{iconPath:{type:String,default:""},value:{type:Number,default:0,validator:e=>e>=0&&e<=100},fillColor:{type:String,default:"#1e3a5f"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},showPercentage:{type:Boolean,default:!0},altText:{type:String,default:"Icono"},animated:{type:Boolean,default:!0},animationDuration:{type:Number,default:1.5},progressiveAnimation:{type:Boolean,default:!0},startDelay:{type:Number,default:300},mainValue:{type:Number,default:0},mainLabel:{type:String,default:"PIB Estatal"},currencySymbol:{type:String,default:"$"},valueUnit:{type:String,default:"MDP"},entity:{type:String,default:""},period:{type:[String,Number],default:""}},setup(e){const t=e,s=V(0),a=V(0),o=V(!1),l=V(!1),i=K(()=>2*Math.PI*46),r=K(()=>{const u=s.value/100;return i.value*(1-u)}),d=K(()=>({width:typeof t.width=="number"?`${t.width}px`:t.width,height:typeof t.height=="number"?`${t.height}px`:t.height})),f=K(()=>t.mainValue?new Intl.NumberFormat("es-MX").format(t.mainValue):"0"),c=u=>{if(!t.progressiveAnimation||!t.animated){s.value=u,a.value=Math.round(u*100)/100;return}o.value=!0;const v=t.animationDuration*1e3,h=v*.33,A=v*.33,m=v*.34,p=Date.now(),y=()=>{const w=Date.now()-p;if(w<h){const E=w/h,$=1-Math.pow(1-E,3);s.value=$*100,a.value=Math.round($*100*100)/100,requestAnimationFrame(y)}else if(w<h+A){const $=(w-h)/A,j=1-Math.pow(1-$,3);s.value=100-j*100,a.value=Math.round((100-j*100)*100)/100,requestAnimationFrame(y)}else if(w<v){const $=(w-h-A)/m,j=1-Math.pow(1-$,3);s.value=j*u,a.value=Math.round(j*u*100)/100,requestAnimationFrame(y)}else s.value=u,a.value=Math.round(u*100)/100,o.value=!1};requestAnimationFrame(y)};return be(()=>t.value,u=>{t.startDelay>0?setTimeout(()=>c(u),t.startDelay):c(u)}),be(()=>t.iconPath,()=>{l.value=!1}),Oe(()=>{t.startDelay>0?setTimeout(()=>c(t.value),t.startDelay):c(t.value)}),(u,v)=>(g(),C("div",{class:"icon-percentage-container",style:de(d.value)},[n("div",iw,[n("div",rw,[(g(),C("svg",cw,[v[1]||(v[1]=n("circle",{class:"donut-bg",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#e2e8f0","stroke-width":"5"},null,-1)),n("circle",{class:"donut-progress",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#1e3a5f","stroke-width":"5","stroke-linecap":"round","stroke-dasharray":i.value,"stroke-dashoffset":r.value,transform:"rotate(-90 50 50)"},null,8,uw)])),n("div",dw,[e.iconPath&&!l.value?(g(),C("img",{key:0,src:e.iconPath,alt:e.altText,class:"donut-icon",onError:v[0]||(v[0]=h=>l.value=!0)},null,40,fw)):(g(),C("div",vw,[...v[2]||(v[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("path",{d:"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})],-1)])]))])]),n("div",hw,G(a.value)+"%",1)]),n("div",pw,[n("div",gw,[n("span",mw,G(e.mainLabel),1),n("div",bw,[e.currencySymbol?(g(),C("span",yw,G(e.currencySymbol),1)):oe("",!0),n("span",Aw,G(f.value),1),e.valueUnit?(g(),C("span",ww,G(e.valueUnit),1)):oe("",!0)])]),n("div",Cw,[n("div",_w,[v[3]||(v[3]=n("span",{class:"info-label"},"Entidad",-1)),n("span",kw,G(e.entity),1)]),n("div",$w,[v[4]||(v[4]=n("span",{class:"info-label"},"Periodo",-1)),n("span",Sw,G(e.period),1)])])])],4))}},Ew=Ie(xw,[["__scopeId","data-v-5b6394c5"]]),Iw={class:"bullet-chart-container"},Pw={key:0,class:"chart-header"},Mw={class:"chart-title"},Fw={class:"bullet-label"},Dw={class:"bullet-bar-container"},Tw={key:1,class:"chart-legend"},Bw={__name:"BulletChart",props:{variables:{type:Array,required:!0,default:()=>[]},title:{type:String,default:""},highlightState:{type:String,default:null},showLegend:{type:Boolean,default:!1},maxValue:{type:Number,default:20}},setup(e){const t=e,s=V(null),a=V(!1),o=K(()=>!t.variables||t.variables.length===0?[]:[...t.variables].sort((c,u)=>u.value-c.value)),l=()=>new Promise(c=>{if(!t.highlightState||!s.value){c();return}ze(()=>{setTimeout(()=>{const u=s.value,v=u==null?void 0:u.querySelector(".bullet-row.highlight");if(v&&u){const h=v.offsetTop,A=v.offsetHeight,m=u.clientHeight,p=h-m/2+A/2;u.scrollTo({top:Math.max(0,p),behavior:"smooth"}),setTimeout(()=>{c()},500)}else c()},100)})}),i=()=>{a.value=!0};be(()=>t.highlightState,async c=>{c&&(a.value=!1,await l(),i())},{immediate:!1}),be(()=>[t.variables,t.highlightState],async([c,u])=>{c&&c.length>0&&(a.value=!1,await ze(),u?(await l(),i()):setTimeout(()=>{i()},200))},{immediate:!0,deep:!0});const r=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),A=u*.05;return a.value?c>=0?{left:"50%",width:`${h}%`,transitionDelay:`${A}s`}:{right:"50%",width:`${h}%`,transitionDelay:`${A}s`}:{left:"50%",width:"0%",transitionDelay:`${A}s`}},d=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),A=u*.05;return a.value?c>=0?{left:`${50+h}%`,transform:"translateX(-50%)",transitionDelay:`${A}s`}:{left:`${50-h}%`,transform:"translateX(-50%)",transitionDelay:`${A}s`}:{left:"50%",transform:"translateX(-50%)",transitionDelay:`${A}s`}},f=c=>!c&&c!==0?"0.0":c>=0?`+${c.toFixed(1)}`:c.toFixed(1);return(c,u)=>(g(),C("div",Iw,[e.title?(g(),C("div",Pw,[n("h3",Mw,G(e.title),1)])):oe("",!0),n("div",{class:"chart-body",ref_key:"chartBodyRef",ref:s},[(g(!0),C(ge,null,_e(o.value,(v,h)=>(g(),C("div",{key:v.key||h,class:pe(["bullet-row",{highlight:v.label===e.highlightState}])},[n("div",Fw,G(v.label),1),n("div",Dw,[u[0]||(u[0]=n("div",{class:"background-line"},null,-1)),u[1]||(u[1]=n("div",{class:"center-marker"},null,-1)),n("div",{class:pe(["value-line",{positive:v.value>=0,negative:v.value<0}]),style:de(r(v.value,h))},null,6),n("div",{class:pe(["value-dot",{positive:v.value>=0,negative:v.value<0}]),style:de(d(v.value,h))},null,6)]),n("div",{class:pe(["bullet-value",{positive:v.value>=0,negative:v.value<0}])},G(f(v.value))+"% ",3)],2))),128))],512),e.showLegend?(g(),C("div",Tw,[...u[2]||(u[2]=[n("div",{class:"legend-item"},[n("div",{class:"legend-dot negative"}),n("span",null,"Decrecimiento")],-1),n("div",{class:"legend-item"},[n("div",{class:"legend-dot positive"}),n("span",null,"Crecimiento")],-1)])])):oe("",!0)]))}},Rw=Ie(Bw,[["__scopeId","data-v-e6f596a8"]]),Lw={class:"economicos-container"},Vw={key:0,class:"global-empty-state"},Nw={key:1,class:"card-body"},Ow={class:"left-card-container"},zw={class:"itaee-card"},jw={class:"card-header-dark"},Hw={class:"info-tooltip"},Yw={key:0,class:"tooltip-content"},Gw={class:"itaee-body"},qw={key:0,class:"loading-state"},Uw={key:1,class:"error-state"},Ww={class:"pea-card"},Xw={class:"card-header-dark"},Kw={class:"info-tooltip"},Qw={key:0,class:"tooltip-content"},Jw={class:"pea-body"},Zw={key:0,class:"loading-state-small"},eC={key:1,class:"error-state-small"},tC={class:"person-graph-container"},sC={class:"person-values"},aC={class:"person-value-item"},nC={class:"person-value-number"},oC={class:"right-card-container"},lC={class:"top-right-card-container"},iC={class:"pib-card"},rC={class:"card-header-dark"},cC={class:"info-tooltip"},uC={key:0,class:"tooltip-content"},dC={class:"pib-body"},fC={key:0,class:"loading-state-small"},vC={key:1,class:"error-state-small"},hC={class:"bottom-right-card-container"},pC={class:"ingresos-card"},gC={class:"card-header-dark"},mC={class:"info-tooltip"},bC={key:0,class:"tooltip-content"},yC={class:"ingresos-body"},AC={key:0,class:"loading-state"},wC={key:1,class:"error-state"},CC={__name:"EconomicosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=V(!1),l=V(!1),i=V(!1),r=V(!1),d=F=>{if(typeof F=="number")return F;if(!F||F==="")return 0;let B=String(F).trim();if(B=B.replace(/\s/g,""),B.includes(",")&&B.includes("."))B=B.replace(/\./g,""),B=B.replace(/,/g,".");else if(B.includes(","))B=B.replace(/,/g,".");else if(B.includes(".")){const W=B.split("."),Q=W.length>2,ee=W[W.length-1].length===3;(Q||W.length===2&&ee)&&(B=B.replace(/\./g,""))}const D=parseFloat(B);return isNaN(D)?0:D},f=V([]),c=V(!1),u=V(null),v=async(F=null,B=null)=>{try{if(c.value=!0,u.value=null,!F){f.value=[],c.value=!1;return}B&&Te(B);const H=Be("ingresoTotal"),D=Ne("ingresoTotal"),W=await a("ingresoTotal",D);if(W.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const Q=W.find(ae=>ae[H.categoryColumn]===F);if(!Q){f.value=[],c.value=!1;return}const ee=H.variables.sort((ae,ve)=>ae.order-ve.order).map(ae=>({key:ae.key,label:ae.label,value:d(Q[ae.column]),color:ae.color,colorClass:ae.colorClass||"default",active:!0}));f.value=ee}catch(H){console.error(" [Ingreso Total] Error:",H),u.value=H.message}finally{c.value=!1}},h=V(0),A=V(0),m=V(!1),p=V(null),y=async(F=null,B=null)=>{try{if(m.value=!0,p.value=null,!F){h.value=0,A.value=0,m.value=!1;return}B&&Te(B);const H=Be("pea"),D=Ne("pea"),W=await a("pea",D);if(W.length===0)throw new Error("No se obtuvieron datos");const Q=W.find(ee=>ee[H.categoryColumn]===F);if(Q){h.value=d(Q[H.valueColumn]);const ee=W.map(ve=>d(ve[H.valueColumn])).filter(ve=>ve>0),ae=Math.max(...ee);A.value=ae>0?h.value/ae*100:0}else h.value=0,A.value=0}catch(H){console.error(" [PEA] Error:",H),p.value=H.message}finally{m.value=!1}},w=V(0),E=V(0),$=V(!1),j=V(null),S=async(F=null,B=null)=>{try{if($.value=!0,j.value=null,!F){w.value=0,E.value=0,$.value=!1;return}B&&Te(B);const H=Be("pib"),D=Ne("pib"),W=await a("pib",D);if(W.length===0)throw new Error("No se obtuvieron datos");const Q=W.find(ee=>ee[H.categoryColumn]===F);if(Q){w.value=d(Q[H.valueColumn]);const ae=W.map(ve=>d(ve[H.valueColumn])).filter(ve=>ve>0).reduce((ve,we)=>ve+we,0);E.value=ae>0?w.value/ae*100:0}else w.value=0,E.value=0}catch(H){console.error(" [PIB] Error:",H),j.value=H.message}finally{$.value=!1}},x=V([]),b=V(!1),k=V(null),M=async(F=null,B=null)=>{try{if(b.value=!0,k.value=null,!F){x.value=[],b.value=!1;return}B&&Te(B);const H=Be("itaee"),D=Ne("itaee"),W=await a("itaee",D);if(W.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const Q=H.variables[0],ee=W.map(ae=>{const ve=ae[H.categoryColumn],we=ae[Q.column],fe=d(we);return{key:ve,label:ve,value:fe,active:!0}}).filter(ae=>ae.label&&ae.label.trim()!=="");x.value=ee}catch(H){console.error(" [ITAEE] Error:",H),k.value=H.message}finally{b.value=!1}},L=F=>F?new Intl.NumberFormat("es-MX").format(F):"0";return be(()=>s.selectedEntity,F=>{v(F,s.selectedYear),y(F,s.selectedYear),S(F,s.selectedYear),F?M(F,s.selectedYear):x.value=[]},{immediate:!1}),be(()=>s.selectedYear,F=>{s.selectedEntity&&(v(s.selectedEntity,F),y(s.selectedEntity,F),S(s.selectedEntity,F),M(s.selectedEntity,F))},{immediate:!1}),Oe(async()=>{await Promise.all([v(s.selectedEntity,s.selectedYear),y(s.selectedEntity,s.selectedYear),S(s.selectedEntity,s.selectedYear),M(s.selectedEntity,s.selectedYear)])}),(F,B)=>(g(),C("div",Lw,[e.selectedEntity?(g(),C("div",Nw,[n("div",Ow,[n("div",zw,[n("div",jw,[B[9]||(B[9]=n("div",{class:"card-header-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),B[10]||(B[10]=n("span",{class:"card-header-title"},"Indicador Trimestral de la Actividad Econmica Estatal (ITAEE)",-1)),n("div",Hw,[n("button",{class:"info-btn",onClick:B[0]||(B[0]=H=>r.value=!r.value)},[...B[8]||(B[8]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[r.value?(g(),C("div",Yw," Indicador que mide la evolucin trimestral de la actividad econmica de las entidades federativas. ")):oe("",!0)]),_:1})])]),n("div",Gw,[b.value?(g(),C("div",qw,[...B[11]||(B[11]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):k.value?(g(),C("div",Uw,[n("p",null,"Error: "+G(k.value),1),n("button",{onClick:B[1]||(B[1]=H=>M(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(Rw,{key:2,variables:x.value,title:"",highlightState:e.selectedEntity,showLegend:!1,maxValue:20},null,8,["variables","highlightState"]))])]),n("div",Ww,[n("div",Xw,[B[13]||(B[13]=Se('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-c7eae3ac></path><circle cx="9" cy="7" r="4" data-v-c7eae3ac></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-c7eae3ac></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>Poblacin econmicamente activa</span>',2)),n("div",Kw,[n("button",{class:"info-btn",onClick:B[2]||(B[2]=H=>l.value=!l.value)},[...B[12]||(B[12]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[l.value?(g(),C("div",Qw," Poblacin de 15 aos y ms que trabaja o busca activamente empleo en la entidad. ")):oe("",!0)]),_:1})])]),n("div",Jw,[m.value?(g(),C("div",Zw,[...B[14]||(B[14]=[n("div",{class:"spinner-small"},null,-1)])])):p.value?(g(),C("div",eC,[...B[15]||(B[15]=[n("p",null,"Error cargando datos",-1)])])):(g(),C(ge,{key:2},[n("div",tC,[ye(lw,{value:A.value},null,8,["value"])]),n("div",sC,[n("div",aC,[n("span",nC,G(L(h.value)),1),B[16]||(B[16]=n("span",{class:"person-value-unit"},"Personas",-1))])])],64))])])]),n("div",oC,[n("div",lC,[n("div",iC,[n("div",rC,[B[18]||(B[18]=Se('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><line x1="12" y1="1" x2="12" y2="23" data-v-c7eae3ac></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>PIB Estatal (millones de pesos)</span>',2)),n("div",cC,[n("button",{class:"info-btn",onClick:B[3]||(B[3]=H=>i.value=!i.value)},[...B[17]||(B[17]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[i.value?(g(),C("div",uC," Producto Interno Bruto Estatal (PIBE), valor anual en millones de pesos corrientes. ")):oe("",!0)]),_:1})])]),n("div",dC,[$.value?(g(),C("div",fC,[...B[19]||(B[19]=[n("div",{class:"spinner-small"},null,-1)])])):j.value?(g(),C("div",vC,[B[20]||(B[20]=n("p",null,"Error al cargar datos",-1)),n("button",{onClick:B[4]||(B[4]=H=>S(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(Ew,{key:2,iconPath:"/public/icons/pib-icon.png",value:E.value,mainValue:w.value,mainLabel:"PIB Estatal",currencySymbol:"$",valueUnit:"MDP",entity:e.selectedEntity,period:e.selectedYear,animated:!0,animationDuration:1.5,startDelay:300,showPercentage:!0},null,8,["value","mainValue","entity","period"]))])])]),n("div",hC,[n("div",pC,[n("div",gC,[B[22]||(B[22]=Se('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><rect x="1" y="4" width="22" height="16" rx="2" ry="2" data-v-c7eae3ac></rect><line x1="1" y1="10" x2="23" y2="10" data-v-c7eae3ac></line></svg></div><span class="card-header-title" data-v-c7eae3ac>Ingresos y Egresos Totales</span>',2)),n("div",mC,[n("button",{class:"info-btn",onClick:B[5]||(B[5]=H=>o.value=!o.value)},[...B[21]||(B[21]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[o.value?(g(),C("div",bC," Comparativa de ingresos y egresos totales de la entidad federativa seleccionada en miles de pesos. ")):oe("",!0)]),_:1})])]),n("div",yC,[c.value?(g(),C("div",AC,[...B[23]||(B[23]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):u.value?(g(),C("div",wC,[n("p",null,"Error: "+G(u.value),1),n("button",{onClick:B[6]||(B[6]=H=>v(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(fl,{key:2,variables:f.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(g(),C("div",Vw,[...B[7]||(B[7]=[Se('<div class="empty-state-content" data-v-c7eae3ac><div class="empty-state-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-c7eae3ac></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-c7eae3ac></line><line x1="16" y1="6" x2="16" y2="22" data-v-c7eae3ac></line></svg></div><h2 class="empty-state-title" data-v-c7eae3ac>Selecciona una entidad</h2><p class="empty-state-description" data-v-c7eae3ac> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores econmicos. </p></div>',1)])]))]))}},_C=Ie(CC,[["__scopeId","data-v-c7eae3ac"]]),kC={class:"bars-list"},$C={class:"bar-left"},SC={class:"bar-label"},xC={class:"bar-center"},EC={class:"bar-background"},IC={class:"bar-right"},PC={class:"bar-value"},MC={class:"bar-percentage"},FC={__name:"HorizontalBarsList",props:{data:{type:Array,required:!0,default:()=>[]},showIcons:{type:Boolean,default:!0},formatAsCurrency:{type:Boolean,default:!1}},setup(e){const t=e,s=V(null),a=K(()=>!t.data||t.data.length===0?[]:[...t.data].sort((u,v)=>v.value-u.value)),o=K(()=>a.value.length===0?0:a.value.reduce((u,v)=>u+v.value,0)),l=K(()=>a.value.length===0?100:Math.max(...a.value.map(u=>u.value))),i=u=>o.value===0?0:Math.round(u/o.value*100),r=u=>l.value===0?0:Math.round(u/l.value*100),d=u=>u?t.formatAsCurrency?u>=1e6?`$${(u/1e6).toFixed(1)}M`:u>=1e3?`$${(u/1e3).toFixed(0)}K`:`$${Math.round(u)}`:u<10?u.toFixed(1):Math.round(u).toString():"0",f=u=>{(!u||!u.startsWith("#"))&&(u="#0F3759");const v=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),A=parseInt(u.slice(5,7),16),m=Math.max(0,v-30),p=Math.max(0,h-30),y=Math.max(0,A-30);return`linear-gradient(135deg, rgb(${v}, ${h}, ${A}) 0%, rgb(${m}, ${p}, ${y}) 100%)`},c=u=>({"Tasa de participacin":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),ce("circle",{cx:"9",cy:"7",r:"4"}),ce("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),ce("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]),"Tasa de informalidad laboral":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),ce("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]),"Tasa de desocupacin":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"}),ce("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]),"CONEVAL 2020":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),ce("polyline",{points:"14 2 14 8 20 8"}),ce("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),ce("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]),"PNUD 2022":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"}),ce("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),ce("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]),"Agua y drenaje":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})]),Residuos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polyline",{points:"3 6 5 6 21 6"}),ce("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M12 2v20M2 12h20M7.5 7.5l9 9M16.5 7.5l-9 9"})]),"Cambio Climtico":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})]),Asentamientos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),ce("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),ce("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]),Admsostenible:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),ce("path",{d:"M9 9h6v6H9z"})]),Transporte:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"1",y:"3",width:"15",height:"13"}),ce("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),ce("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),ce("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),ce("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),ce("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),ce("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),ce("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),ce("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})])})[u]||(()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"})]));return(u,v)=>(g(),C("div",{class:"horizontal-bars-container",ref_key:"containerRef",ref:s},[n("div",kC,[(g(!0),C(ge,null,_e(a.value,(h,A)=>(g(),C("div",{key:A,class:"bar-item",style:de({animationDelay:`${A*.05}s`})},[n("div",$C,[n("div",{class:"bar-icon",style:de({background:f(h.color)})},[(g(),Re(Vr(c(h.label))))],4),n("span",SC,G(h.label),1)]),n("div",xC,[n("div",EC,[n("div",{class:"bar-fill",style:de({width:`${r(h.value)}%`,background:h.color})},null,4)])]),n("div",IC,[n("span",PC,G(d(h.value)),1),n("span",MC,G(i(h.value))+"%",1)])],4))),128))])],512))}},zi=Ie(FC,[["__scopeId","data-v-80a58244"]]),DC={class:"person-chart"},TC=["viewBox"],BC=["cy","r","stroke"],RC=["cy","rx","ry"],LC=["transform"],VC={class:"scale-dots-indicator"},NC={class:"dots-container"},OC={__name:"ScalablePerson",props:{value:{type:Number,default:0}},setup(e){const t=e,s=K(()=>{if(t.value===0)return 0;const r=5e4,d=1e7,f=Math.log10(t.value),c=Math.log10(r),u=Math.log10(d),v=(f-c)/(u-c)*100;return Math.max(0,Math.min(100,v))}),a=K(()=>{const r=t.value;return r>=8e6?5:r>=4e6?4:r>=2e6?3:r>=1e6?2:1}),o=K(()=>95),l=K(()=>.9+s.value/100*.4),i=K(()=>o.value-22);return(r,d)=>(g(),C("div",DC,[(g(),C("svg",{viewBox:`0 0 100 ${o.value}`,class:"person-svg"},[d[1]||(d[1]=Se('<defs data-v-c85839ac><linearGradient id="personGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#2d5a87" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><linearGradient id="personGradientHead" x1="0%" y1="0%" x2="100%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#1e3a5f" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><filter id="personShadow" data-v-c85839ac><feDropShadow dx="0" dy="3" stdDeviation="2" flood-opacity="0.25" data-v-c85839ac></feDropShadow></filter></defs>',1)),(g(),C(ge,null,_e(3,(f,c)=>n("circle",{key:"ring-"+c,cx:"50",cy:i.value,r:l.value*(25+c*15),fill:"none",stroke:"rgba(30, 58, 95, "+(.15-c*.04)+")","stroke-width":"1.5",class:"pulse-ring",style:de({animationDelay:c*.4+"s"})},null,12,BC)),64)),n("ellipse",{cx:50,cy:o.value-2,rx:l.value*15,ry:l.value*4,fill:"rgba(15, 55, 89, 0.15)",class:"ground-shadow"},null,8,RC),n("g",{transform:`translate(50, ${i.value}) scale(${l.value})`,class:"person-figure",filter:"url(#personShadow)"},[...d[0]||(d[0]=[Se('<circle cx="0" cy="-30" r="10" fill="url(#personGradientHead)" class="person-head" data-v-c85839ac></circle><ellipse cx="-3" cy="-33" rx="3" ry="2" fill="rgba(255, 255, 255, 0.25)" data-v-c85839ac></ellipse><rect x="-7" y="-20" width="14" height="24" rx="3" fill="url(#personGradient)" class="person-body" data-v-c85839ac></rect><rect x="-15" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-left" data-v-c85839ac></rect><rect x="7" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-right" data-v-c85839ac></rect><rect x="-6" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-left" data-v-c85839ac></rect><rect x="2" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-right" data-v-c85839ac></rect>',7)])],8,LC)],8,TC)),n("div",VC,[n("div",NC,[(g(),C(ge,null,_e(5,f=>n("span",{key:f,class:pe(["dot",{active:f<=a.value}])},null,2)),64))])])]))}},zC=Ie(OC,[["__scopeId","data-v-c85839ac"]]),jC={class:"idh-tree-container"},HC={__name:"IDHGauge",props:{value:{type:Number,default:0},maxValue:{type:Number,default:1}},setup(e){return(t,s)=>(g(),C("div",jC,[...s[0]||(s[0]=[Se('<svg viewBox="0 0 100 100" class="tree-svg" data-v-dc59d38c><defs data-v-dc59d38c><linearGradient id="trunkGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#0F3759" data-v-dc59d38c></stop><stop offset="100%" stop-color="#1a4d7a" data-v-dc59d38c></stop></linearGradient><linearGradient id="leavesGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#1a4d7a" data-v-dc59d38c></stop><stop offset="100%" stop-color="#2d5f8d" data-v-dc59d38c></stop></linearGradient></defs><g class="roots" opacity="0.3" data-v-dc59d38c><path d="M 50 85 Q 42 90 38 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path><path d="M 50 85 Q 58 90 62 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path></g><rect x="45" y="60" width="10" height="25" rx="1" fill="url(#trunkGradient)" class="trunk" data-v-dc59d38c></rect><g class="leaves" data-v-dc59d38c><ellipse cx="50" cy="60" rx="24" ry="16" fill="url(#leavesGradient)" class="leaf-layer leaf-bottom" data-v-dc59d38c></ellipse><ellipse cx="50" cy="50" rx="20" ry="14" fill="url(#leavesGradient)" class="leaf-layer leaf-middle" opacity="0.9" data-v-dc59d38c></ellipse><ellipse cx="50" cy="42" rx="15" ry="12" fill="url(#leavesGradient)" class="leaf-layer leaf-top" opacity="0.85" data-v-dc59d38c></ellipse></g><g class="detail-leaves" data-v-dc59d38c><circle cx="38" cy="56" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-1" data-v-dc59d38c></circle><circle cx="62" cy="54" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-2" data-v-dc59d38c></circle><circle cx="46" cy="46" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-3" data-v-dc59d38c></circle><circle cx="54" cy="48" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-4" data-v-dc59d38c></circle></g><g class="star-top" data-v-dc59d38c><circle cx="50" cy="34" r="3.5" fill="#4E6D82" opacity="0.8" class="star-glow" data-v-dc59d38c></circle><path d="M 50 30 L 50.5 33 L 53.5 33 L 51 35 L 52 38 L 50 36 L 48 38 L 49 35 L 46.5 33 L 49.5 33 Z" fill="white" opacity="0.9" class="star-shape" data-v-dc59d38c></path></g></svg>',1)])]))}},YC=Ie(HC,[["__scopeId","data-v-dc59d38c"]]),GC={class:"sociales-container"},qC={key:0,class:"global-empty-state"},UC={key:1,class:"card-body"},WC={class:"top-row"},XC={class:"desocupacion-section card"},KC={class:"card-header-dark"},QC={class:"info-tooltip"},JC={key:0,class:"tooltip-content"},ZC={class:"card-body-content"},e_={key:0,class:"loading-state"},t_={key:1,class:"error-state"},s_={class:"rezago-section card"},a_={class:"card-header-dark"},n_={class:"info-tooltip"},o_={key:0,class:"tooltip-content"},l_={class:"card-body-content"},i_={key:0,class:"loading-state-small"},r_={key:1,class:"error-state-small"},c_={key:2,class:"indicator-content"},u_={class:"indicator-stats-row"},d_={class:"indicator-stat-card"},f_={class:"stat-info"},v_={class:"stat-value"},h_={class:"indicator-stat-card"},p_={class:"stat-info full-width"},g_={class:"indicator-progress-section"},m_={class:"progress-header"},b_={class:"progress-value-text"},y_={class:"animated-progress-bar"},A_={class:"progress-track"},w_={class:"gini-section card"},C_={class:"card-header-dark"},__={class:"info-tooltip"},k_={key:0,class:"tooltip-content"},$_={class:"card-body-content"},S_={key:0,class:"loading-state"},x_={key:1,class:"error-state"},E_={class:"bottom-row"},I_={class:"marginacion-section card"},P_={class:"card-header-dark"},M_={class:"info-tooltip"},F_={key:0,class:"tooltip-content"},D_={class:"card-body-content"},T_={key:0,class:"loading-state-small"},B_={key:1,class:"error-state-small"},R_={key:2,class:"indicator-content horizontal-layout"},L_={class:"indicator-stats-column"},V_={class:"indicator-stat-card horizontal"},N_={class:"stat-info"},O_={class:"stat-value large"},z_={class:"indicator-stat-card horizontal"},j_={class:"stat-info"},H_={class:"indicator-progress-column"},Y_={class:"circular-progress-container"},G_={class:"circular-progress",viewBox:"0 0 100 100"},q_={class:"circular-progress-text"},U_={class:"progress-number"},W_={class:"idh-section card"},X_={class:"card-header-dark"},K_={class:"info-tooltip"},Q_={key:0,class:"tooltip-content"},J_={class:"card-body-content"},Z_={key:0,class:"loading-state-small"},ek={key:1,class:"error-state-small"},tk={key:2,class:"idh-content"},sk={class:"idh-main-content"},ak={class:"idh-value-display"},nk={class:"idh-big-value"},ok={class:"idh-gauge-container"},lk={class:"poblacion-section card"},ik={class:"card-header-dark"},rk={class:"info-tooltip"},ck={key:0,class:"tooltip-content"},uk={class:"card-body-content"},dk={key:0,class:"loading-state-small"},fk={key:1,class:"error-state-small"},vk={key:2,class:"poblacion-content-new"},hk={class:"poblacion-header"},pk={class:"poblacion-value-large"},gk={class:"poblacion-visual"},mk={__name:"SocialesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=V(!1),l=V(!1),i=V(!1),r=V(!1),d=V(!1),f=V(!1),c=X=>{if(typeof X=="number")return X;if(!X||X==="")return 0;let T=String(X).trim();T=T.replace(/\s/g,""),T=T.replace(/\./g,""),T=T.replace(/,/g,".");const se=parseFloat(T);return isNaN(se)?0:se},u=X=>{if(!X)return"badge-blue-default";const T=X.toLowerCase();return T.includes("muy bajo")?"badge-blue-lightest":T.includes("bajo")?"badge-blue-light":T.includes("medio")?"badge-blue-medium":T.includes("alto")&&!T.includes("muy")?"badge-blue-dark":T.includes("muy alto")?"badge-blue-darkest":"badge-blue-default"},v=X=>{const T=2*Math.PI*40;return T-X/100*T},h=V([]),A=V(!1),m=V(null),p=async(X=null,T=null)=>{try{if(A.value=!0,m.value=null,!X){h.value=[],A.value=!1;return}T&&Te(T);const se=Be("desocupacion"),z=Ne("desocupacion"),I=await a("desocupacion",z);if(I.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const _=I.find(Y=>Y[se.categoryColumn]===X);if(!_){h.value=[],A.value=!1;return}const R=se.variables.sort((Y,Z)=>Y.order-Z.order).map(Y=>({key:Y.key,label:Y.label,value:c(_[Y.column]),color:Y.color||"#0F3759",colorClass:Y.colorClass||"blue",active:!0}));h.value=R}catch(se){console.error(" [Desocupacin] Error:",se),m.value=se.message}finally{A.value=!1}},y=V(0),w=V(""),E=V(0),$=V(!1),j=V(null),S=async(X=null,T=null)=>{try{if($.value=!0,j.value=null,!X){y.value=0,w.value="",E.value=0,$.value=!1;return}T&&Te(T);const se=Be("marginacion"),z=Ne("marginacion"),I=await a("marginacion",z);if(I.length===0)throw new Error("No se obtuvieron datos");const _=I.find(R=>R[se.categoryColumn]===X);_?(y.value=c(_[se.variables[0].column]),w.value=_[se.variables[1].column]||"",E.value=c(_[se.variables[2].column])):(y.value=0,w.value="",E.value=0)}catch(se){console.error(" [Marginacin] Error:",se),j.value=se.message}finally{$.value=!1}},x=V(0),b=V(!1),k=V(null),M=async(X=null,T=null)=>{try{if(b.value=!0,k.value=null,!X){x.value=0,b.value=!1;return}T&&Te(T);const se=Be("idh"),z=Ne("idh"),I=await a("idh",z);if(I.length===0)throw new Error("No se obtuvieron datos");const _=I.find(R=>R[se.categoryColumn]===X);_?x.value=c(_[se.variables[0].column]):x.value=0}catch(se){console.error(" [IDH] Error:",se),k.value=se.message}finally{b.value=!1}},L=V(0),F=V(0),B=V(!1),H=V(null),D=async(X=null,T=null)=>{try{if(B.value=!0,H.value=null,!X){L.value=0,F.value=0,B.value=!1;return}T&&Te(T);const se=Be("poblacion"),z=Ne("poblacion"),I=await a("poblacion",z);if(I.length===0)throw new Error("No se obtuvieron datos");const _=I.find(R=>R[se.categoryColumn]===X);if(_){L.value=c(_[se.variables[0].column]);const R=I.map(Z=>c(Z[se.variables[0].column])).filter(Z=>Z>0),Y=Math.max(...R);F.value=Y>0?L.value/Y*100:0}else L.value=0,F.value=0}catch(se){console.error(" [Poblacin] Error:",se),H.value=se.message}finally{B.value=!1}},W=V(0),Q=V(""),ee=V(!1),ae=V(null),ve=async(X=null,T=null)=>{try{if(ee.value=!0,ae.value=null,!X){W.value=0,Q.value="",ee.value=!1;return}T&&Te(T);const se=Be("rezagoSocial"),z=Ne("rezagoSocial"),I=await a("rezagoSocial",z);if(I.length===0)throw new Error("No se obtuvieron datos");const _=I.find(R=>R[se.categoryColumn]===X);_?(W.value=c(_[se.variables[0].column]),Q.value=_[se.variables[1].column]||""):(W.value=0,Q.value="")}catch(se){console.error(" [Rezago Social] Error:",se),ae.value=se.message}finally{ee.value=!1}},we=X=>{if(X===0)return 50;if(X<0){const z=50-Math.abs(X)/Math.abs(-13e5)*50;return Math.max(0,z)}else{const z=50+X/27e5*50;return Math.min(100,z)}},fe=V([]),te=V(!1),P=V(null),N=async(X=null,T=null)=>{try{if(te.value=!0,P.value=null,!X){fe.value=[],te.value=!1;return}T&&Te(T);const se=Be("indiceGini"),z=Ne("indiceGini"),I=await a("indiceGini",z);if(I.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const _=I.find(Y=>Y[se.categoryColumn]===X);if(!_){fe.value=[],te.value=!1;return}const R=se.variables.sort((Y,Z)=>Y.order-Z.order).map(Y=>({key:Y.key,label:Y.label,value:c(_[Y.column]),color:Y.color||"#0F3759",colorClass:Y.colorClass||"blue",active:!0}));fe.value=R}catch(se){console.error(" [ndice Gini] Error:",se),P.value=se.message}finally{te.value=!1}},O=X=>X?new Intl.NumberFormat("es-MX").format(X):"0",U=X=>X?X>=1e6?(X/1e6).toFixed(2)+"M":X>=1e3?(X/1e3).toFixed(0)+"K":new Intl.NumberFormat("es-MX").format(X):"0";return be(()=>s.selectedEntity,X=>{p(X,s.selectedYear),S(X,s.selectedYear),M(X,s.selectedYear),D(X,s.selectedYear),ve(X,s.selectedYear),N(X,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,X=>{s.selectedEntity&&(p(s.selectedEntity,X),S(s.selectedEntity,X),M(s.selectedEntity,X),D(s.selectedEntity,X),ve(s.selectedEntity,X),N(s.selectedEntity,X))},{immediate:!1}),Oe(async()=>{await Promise.all([p(s.selectedEntity,s.selectedYear),S(s.selectedEntity,s.selectedYear),M(s.selectedEntity,s.selectedYear),D(s.selectedEntity,s.selectedYear),ve(s.selectedEntity,s.selectedYear),N(s.selectedEntity,s.selectedYear)])}),(X,T)=>(g(),C("div",GC,[e.selectedEntity?(g(),C("div",UC,[n("div",WC,[n("div",XC,[n("div",KC,[T[10]||(T[10]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="12" cy="7" r="4" data-v-ca4b2c59></circle><line x1="8" y1="11" x2="16" y2="11" data-v-ca4b2c59></line></svg></div><span class="card-header-title" data-v-ca4b2c59>Tasas de Desocupacin y Participacin</span>',2)),n("div",QC,[n("button",{class:"info-btn",onClick:T[0]||(T[0]=se=>o.value=!o.value)},[...T[9]||(T[9]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[o.value?(g(),C("div",JC," Indicadores de empleo que muestran la tasa de desocupacin y participacin laboral en la entidad. ")):oe("",!0)]),_:1})])]),n("div",ZC,[A.value?(g(),C("div",e_,[...T[11]||(T[11]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):m.value?(g(),C("div",t_,[n("p",null,"Error: "+G(m.value),1),n("button",{onClick:T[1]||(T[1]=se=>p(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(zi,{key:2,data:h.value,showIcons:!0},null,8,["data"]))])]),n("div",s_,[n("div",a_,[T[13]||(T[13]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" data-v-ca4b2c59></path><polyline points="9 22 9 12 15 12 15 22" data-v-ca4b2c59></polyline></svg></div><span class="card-header-title" data-v-ca4b2c59>Rezago Social</span>',2)),n("div",n_,[n("button",{class:"info-btn",onClick:T[2]||(T[2]=se=>l.value=!l.value)},[...T[12]||(T[12]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[l.value?(g(),C("div",o_," ndice que mide carencias sociales como educacin, salud, servicios bsicos y vivienda. ")):oe("",!0)]),_:1})])]),n("div",l_,[ee.value?(g(),C("div",i_,[...T[14]||(T[14]=[n("div",{class:"spinner-small"},null,-1)])])):ae.value?(g(),C("div",r_,[...T[15]||(T[15]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",c_,[n("div",u_,[n("div",d_,[T[17]||(T[17]=n("div",{class:"stat-icon-wrapper blue-gradient"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})])],-1)),n("div",f_,[T[16]||(T[16]=n("span",{class:"stat-label"},"NDICE",-1)),n("span",v_,G(O(W.value)),1)])]),n("div",h_,[n("div",p_,[T[18]||(T[18]=n("span",{class:"stat-label"},"GRADO",-1)),n("div",{class:pe(["stat-badge",u(Q.value)])},G(Q.value||"Sin datos"),3)])])]),n("div",g_,[n("div",m_,[T[19]||(T[19]=n("span",{class:"progress-title"},"NORMALIZADO",-1)),n("span",b_,G(we(W.value).toFixed(1))+"%",1)]),n("div",y_,[n("div",A_,[n("div",{class:"progress-fill animated",style:de({"--target-width":we(W.value)+"%"})},null,4),T[20]||(T[20]=Se('<div class="progress-markers" data-v-ca4b2c59><span class="marker" style="left:0%;" data-v-ca4b2c59>0</span><span class="marker" style="left:25%;" data-v-ca4b2c59>25</span><span class="marker center" style="left:50%;" data-v-ca4b2c59>50</span><span class="marker" style="left:75%;" data-v-ca4b2c59>75</span><span class="marker" style="left:100%;" data-v-ca4b2c59>100</span></div>',1))])])])]))])]),n("div",w_,[n("div",C_,[T[22]||(T[22]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><line x1="18" y1="20" x2="18" y2="10" data-v-ca4b2c59></line><line x1="12" y1="20" x2="12" y2="4" data-v-ca4b2c59></line><line x1="6" y1="20" x2="6" y2="14" data-v-ca4b2c59></line><path d="M2 20h20" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Gini (Desigualdad)</span>',2)),n("div",__,[n("button",{class:"info-btn",onClick:T[3]||(T[3]=se=>i.value=!i.value)},[...T[21]||(T[21]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[i.value?(g(),C("div",k_," Mide la desigualdad en la distribucin del ingreso. 0 = igualdad perfecta, 1 = desigualdad mxima. ")):oe("",!0)]),_:1})])]),n("div",$_,[te.value?(g(),C("div",S_,[...T[23]||(T[23]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):P.value?(g(),C("div",x_,[n("p",null,"Error: "+G(P.value),1),n("button",{onClick:T[4]||(T[4]=se=>N(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(zi,{key:2,data:fe.value,showIcons:!0},null,8,["data"]))])])]),n("div",E_,[n("div",I_,[n("div",P_,[T[25]||(T[25]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" data-v-ca4b2c59></path><circle cx="12" cy="10" r="3" data-v-ca4b2c59></circle></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Marginacin</span>',2)),n("div",M_,[n("button",{class:"info-btn",onClick:T[5]||(T[5]=se=>r.value=!r.value)},[...T[24]||(T[24]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[r.value?(g(),C("div",F_," Medida de dficit y carencias que padece la poblacin en educacin, vivienda e ingresos. ")):oe("",!0)]),_:1})])]),n("div",D_,[$.value?(g(),C("div",T_,[...T[26]||(T[26]=[n("div",{class:"spinner-small"},null,-1)])])):j.value?(g(),C("div",B_,[...T[27]||(T[27]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",R_,[n("div",L_,[n("div",V_,[T[29]||(T[29]=n("div",{class:"stat-icon-wrapper blue-gradient"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n("circle",{cx:"12",cy:"10",r:"3"})])],-1)),n("div",N_,[T[28]||(T[28]=n("span",{class:"stat-label"},"NDICE",-1)),n("span",O_,G(O(y.value)),1)])]),n("div",z_,[n("div",j_,[T[30]||(T[30]=n("span",{class:"stat-label"},"GRADO DE MARGINACIN",-1)),n("div",{class:pe(["stat-badge large",u(w.value)])},G(w.value||"Sin datos"),3)])])]),n("div",H_,[n("div",Y_,[(g(),C("svg",G_,[T[31]||(T[31]=n("circle",{class:"progress-bg",cx:"50",cy:"50",r:"40"},null,-1)),n("circle",{class:"progress-ring animated",cx:"50",cy:"50",r:"40",style:de({"--target-offset":v(E.value*100)})},null,4)])),n("div",q_,[n("span",U_,G((E.value*100).toFixed(0)),1),T[32]||(T[32]=n("span",{class:"progress-percent"},"%",-1))])]),T[33]||(T[33]=n("span",{class:"progress-subtitle"},"Normalizado",-1))])]))])]),n("div",W_,[n("div",X_,[T[35]||(T[35]=n("div",{class:"card-header-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),T[36]||(T[36]=n("span",{class:"card-header-title"},"ndice de Desarrollo Humano (IDH)",-1)),n("div",K_,[n("button",{class:"info-btn",onClick:T[6]||(T[6]=se=>d.value=!d.value)},[...T[34]||(T[34]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[d.value?(g(),C("div",Q_," Indicador que mide el desarrollo humano considerando salud, educacin y nivel de vida. ")):oe("",!0)]),_:1})])]),n("div",J_,[b.value?(g(),C("div",Z_,[...T[37]||(T[37]=[n("div",{class:"spinner-small"},null,-1)])])):k.value?(g(),C("div",ek,[...T[38]||(T[38]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",tk,[n("div",sk,[n("div",ak,[n("span",nk,G(x.value.toFixed(3)),1),T[39]||(T[39]=n("span",{class:"idh-label"},"ndice de Desarrollo Humano",-1))]),n("div",ok,[ye(YC,{value:x.value,maxValue:1},null,8,["value"])])])]))])]),n("div",lk,[n("div",ik,[T[41]||(T[41]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="9" cy="7" r="4" data-v-ca4b2c59></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-ca4b2c59></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>Poblacin Total</span>',2)),n("div",rk,[n("button",{class:"info-btn",onClick:T[7]||(T[7]=se=>f.value=!f.value)},[...T[40]||(T[40]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(gt,{name:"tooltip-fade"},{default:at(()=>[f.value?(g(),C("div",ck," Nmero total de habitantes en la entidad federativa segn el ltimo censo. ")):oe("",!0)]),_:1})])]),n("div",uk,[B.value?(g(),C("div",dk,[...T[42]||(T[42]=[n("div",{class:"spinner-small"},null,-1)])])):H.value?(g(),C("div",fk,[...T[43]||(T[43]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",vk,[n("div",hk,[n("span",pk,G(U(L.value)),1),T[44]||(T[44]=n("span",{class:"poblacion-subtitle"},"Personas",-1))]),n("div",gk,[ye(zC,{value:L.value},null,8,["value"])])]))])])])])):(g(),C("div",qC,[...T[8]||(T[8]=[Se('<div class="empty-state-content" data-v-ca4b2c59><div class="empty-state-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-ca4b2c59></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-ca4b2c59></line><line x1="16" y1="6" x2="16" y2="22" data-v-ca4b2c59></line></svg></div><h2 class="empty-state-title" data-v-ca4b2c59>Selecciona una entidad</h2><p class="empty-state-description" data-v-ca4b2c59> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores sociales. </p></div>',1)])]))]))}},bk=Ie(mk,[["__scopeId","data-v-ca4b2c59"]]),yk={class:"gobernabilidad-container"},Ak={key:0,class:"global-empty-state"},wk={key:1,class:"card-body"},Ck={class:"main-header"},_k={class:"header-left"},kk={class:"header-info"},$k={class:"header-title"},Sk={class:"header-subtitle"},xk={class:"header-right"},Ek={class:"mini-donut"},Ik={width:"32",height:"32",class:"donut-svg"},Pk=["stroke-dashoffset"],Mk={class:"donut-value"},Fk={class:"mini-donut-label"},Dk={class:"top-row"},Tk={class:"section-card"},Bk={class:"section-header"},Rk={class:"section-value"},Lk={key:0,class:"section-content loading-state"},Vk={key:1,class:"section-content satisfaccion-content"},Nk={class:"bars-container"},Ok={class:"bar-column"},zk={class:"bar-value-text federal-color"},jk={class:"bar-track"},Hk={class:"bar-column"},Yk={class:"bar-value-text estatal-color"},Gk={class:"bar-track"},qk={class:"section-card"},Uk={key:0,class:"section-content loading-state"},Wk={key:1,class:"section-content indices-content"},Xk={class:"indice-row"},Kk={class:"indice-content"},Qk={class:"indice-header"},Jk={class:"indice-value"},Zk={class:"indice-bar"},e$={class:"indice-row"},t$={class:"indice-content"},s$={class:"indice-header"},a$={class:"indice-value"},n$={class:"indice-bar"},o$={class:"indice-row"},l$={class:"indice-content"},i$={class:"indice-header"},r$={class:"indice-value"},c$={class:"indice-bar"},u$={class:"section-card"},d$={key:0,class:"section-content loading-state"},f$={key:1,class:"section-content pbrsed-content"},v$={class:"pbrsed-grid"},h$={class:"pbrsed-card"},p$={class:"pbrsed-icon-wrapper"},g$={class:"pbrsed-mini-ring"},m$={width:"16",height:"16",viewBox:"0 0 16 16"},b$=["stroke-dashoffset"],y$={class:"pbrsed-value"},A$={class:"pbrsed-card"},w$={class:"pbrsed-icon-wrapper"},C$=["stroke"],_$={class:"bottom-row"},k$={class:"section-card ici-card"},$$={class:"section-header"},S$={class:"section-value"},x$={key:0,class:"section-content loading-state"},E$={key:1,class:"section-content ici-content"},I$={class:"ici-row"},P$={class:"ici-bar-container"},M$={class:"ici-bar"},F$={class:"ici-bar-value"},D$={class:"ici-row"},T$={class:"ici-bar-container"},B$={class:"ici-bar"},R$={class:"ici-bar-value"},L$={class:"ici-row"},V$={class:"ici-bar-container"},N$={class:"ici-bar"},O$={class:"ici-bar-value"},z$={class:"ici-row"},j$={class:"ici-bar-container"},H$={class:"ici-bar"},Y$={class:"ici-bar-value"},G$={__name:"GobernabilidadView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=H=>{if(typeof H=="number")return H;if(!H||H===""||H==="NA"||H==="ND")return 0;let D=String(H).trim();D=D.replace(/\s/g,""),D=D.replace(/\./g,""),D=D.replace(/,/g,".");const W=parseFloat(D);return isNaN(W)?0:W},l=V(0),i=V(0),r=V(!1),d=K(()=>((l.value+i.value)/2).toFixed(1)),f=async(H,D)=>{try{if(r.value=!0,!H){l.value=0,i.value=0;return}D&&Te(D);const W=Be("satisfaccionFederal"),Q=Ne("satisfaccionFederal"),ee=await a("satisfaccionFederal",Q),ae=Be("satisfaccionEstatal"),ve=Ne("satisfaccionEstatal"),we=await a("satisfaccionEstatal",ve),fe=ee.find(P=>P[W.categoryColumn]===H),te=we.find(P=>P[ae.categoryColumn]===H);l.value=fe?o(fe[W.variables[0].column]):0,i.value=te?o(te[ae.variables[0].column]):0}catch(W){console.error(" [Satisfaccin] Error:",W)}finally{r.value=!1}},c=V(0),u=V(0),v=V(0),h=V(!1),A=K(()=>[{label:"IGOPP",value:c.value},{label:"BIPE",value:u.value},{label:"ITDIF",value:v.value}]),m=async(H,D)=>{try{if(h.value=!0,!H){c.value=0,u.value=0,v.value=0;return}D&&Te(D);const W=Be("IGOPP"),Q=Ne("IGOPP"),ae=(await a("IGOPP",Q)).find(X=>X[W.categoryColumn]===H);c.value=ae?o(ae[W.variables[0].column]):0;const ve=Be("BIPE"),we=Ne("BIPE"),te=(await a("BIPE",we)).find(X=>X[ve.categoryColumn]===H);u.value=te?o(te[ve.variables[0].column]):0;const P=Be("ITDIF"),N=Ne("ITDIF"),U=(await a("ITDIF",N)).find(X=>X[P.categoryColumn]===H);v.value=U?o(U[P.variables[0].column]):0}catch(W){console.error(" [ndices] Error:",W)}finally{h.value=!1}},p=V(0),y=V(0),w=V(0),E=V(0),$=V(!1),j=async(H,D)=>{try{if($.value=!0,!H){p.value=0,y.value=0,w.value=0,E.value=0;return}D&&Te(D);const W=Be("ICI"),Q=Ne("ICI"),ae=(await a("ICI",Q)).find(ve=>ve[W.categoryColumn]===H);ae&&(p.value=o(ae[W.variables[0].column]),y.value=o(ae[W.variables[1].column]),w.value=o(ae[W.variables[2].column]),E.value=o(ae[W.variables[3].column]))}catch(W){console.error(" [ICI] Error:",W)}finally{$.value=!1}},S=V(0),x=V("N/A"),b=V(!1),k=K(()=>{const H=x.value.toLowerCase();return H.includes("alto")&&!H.includes("medio")?"diagnostico-alto":H.includes("medio")?"diagnostico-medio":H.includes("bajo")?"diagnostico-bajo":""}),M=K(()=>{const H=x.value.toLowerCase();return H.includes("alto")&&!H.includes("medio")?"diagnostico-bg-alto":H.includes("medio")?"diagnostico-bg-medio":H.includes("bajo")?"diagnostico-bg-bajo":"diagnostico-bg-default"}),L=K(()=>{const H=x.value.toLowerCase();return H.includes("alto")&&!H.includes("medio")?"#059669":H.includes("medio")?"#d97706":H.includes("bajo")?"#dc2626":"#0F3759"}),F=async(H,D)=>{try{if(b.value=!0,!H){S.value=0,x.value="N/A";return}D&&Te(D);const W=Be("PBRSED"),Q=Ne("PBRSED"),ae=(await a("PBRSED",Q)).find(ve=>ve[W.categoryColumn]===H);ae&&(S.value=o(ae[W.variables[0].column]),x.value=ae[W.variables[1].column]||"N/A")}catch(W){console.error(" [PBRSED] Error:",W)}finally{b.value=!1}},B=async(H,D)=>{await Promise.all([f(H,D),m(H,D),j(H,D),F(H,D)])};return be(()=>s.selectedEntity,H=>{B(H,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,H=>{s.selectedEntity&&B(s.selectedEntity,H)},{immediate:!1}),Oe(()=>{B(s.selectedEntity,s.selectedYear)}),(H,D)=>(g(),C("div",yk,[e.selectedEntity?(g(),C("div",wk,[n("div",Ck,[n("div",_k,[D[1]||(D[1]=n("div",{class:"header-icon-badge"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[n("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n("polyline",{points:"9 22 9 12 15 12 15 22"})])],-1)),n("div",kk,[n("span",$k,"Gobernabilidad y Transparencia "+G(e.selectedYear),1),n("span",Sk,G(e.selectedEntity),1)])]),n("div",xk,[(g(!0),C(ge,null,_e(A.value,(W,Q)=>(g(),C("div",{key:Q,class:"mini-donut-container"},[n("div",Ek,[(g(),C("svg",Ik,[D[2]||(D[2]=n("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"rgba(255,255,255,0.2)","stroke-width":"2.5"},null,-1)),n("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"white","stroke-width":"2.5","stroke-dasharray":75.4,"stroke-dashoffset":75.4-W.value/100*75.4,"stroke-linecap":"round",class:"progress-ring"},null,8,Pk)])),n("span",Mk,G(Math.round(W.value)),1)]),n("span",Fk,G(W.label),1)]))),128))])]),n("div",Dk,[n("div",Tk,[n("div",Bk,[D[3]||(D[3]=Se('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-4b3266d1></path><circle cx="9" cy="7" r="4" data-v-4b3266d1></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-4b3266d1></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>Satisfaccin Ciudadana</span></div>',1)),n("span",Rk,G(d.value)+"%",1)]),r.value?(g(),C("div",Lk,[...D[4]||(D[4]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",Vk,[n("div",Nk,[n("div",Ok,[n("span",zk,G(l.value)+"%",1),n("div",jk,[n("div",{class:"bar-fill federal-fill",style:de({height:l.value+"%"})},null,4)]),D[5]||(D[5]=n("div",{class:"bar-label"},[n("span",{class:"dot federal-dot"}),n("span",null,"Federal")],-1))]),D[7]||(D[7]=n("div",{class:"separator"},[n("div",{class:"sep-line"}),n("span",{class:"sep-text"},"vs"),n("div",{class:"sep-line"})],-1)),n("div",Hk,[n("span",Yk,G(i.value)+"%",1),n("div",Gk,[n("div",{class:"bar-fill estatal-fill",style:de({height:i.value+"%"})},null,4)]),D[6]||(D[6]=n("div",{class:"bar-label"},[n("span",{class:"dot estatal-dot"}),n("span",null,"Estatal")],-1))])])]))]),n("div",qk,[D[15]||(D[15]=Se('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><path d="M12 6v6l4 2" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>ndices de Gobierno</span></div></div>',1)),h.value?(g(),C("div",Uk,[...D[8]||(D[8]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",Wk,[n("div",Xk,[D[10]||(D[10]=Se('<div class="indice-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><path d="M3 21h18" data-v-4b3266d1></path><path d="M5 21V7l7-4 7 4v14" data-v-4b3266d1></path><path d="M9 21v-6h6v6" data-v-4b3266d1></path></svg></div>',1)),n("div",Kk,[n("div",Qk,[D[9]||(D[9]=n("span",{class:"indice-label"},"IGOPP",-1)),n("span",Jk,G(c.value),1)]),n("div",Zk,[n("div",{class:"indice-bar-fill",style:de({width:c.value+"%"})},null,4)])])]),n("div",e$,[D[12]||(D[12]=n("div",{class:"indice-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),n("path",{d:"M9 12l2 2 4-4"})])],-1)),n("div",t$,[n("div",s$,[D[11]||(D[11]=n("span",{class:"indice-label"},"BIPE",-1)),n("span",a$,G(u.value),1)]),n("div",n$,[n("div",{class:"indice-bar-fill",style:de({width:u.value+"%"})},null,4)])])]),n("div",o$,[D[14]||(D[14]=n("div",{class:"indice-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n("polyline",{points:"14 2 14 8 20 8"})])],-1)),n("div",l$,[n("div",i$,[D[13]||(D[13]=n("span",{class:"indice-label"},"ITDIF",-1)),n("span",r$,G(v.value),1)]),n("div",c$,[n("div",{class:"indice-bar-fill",style:de({width:Math.min(v.value,100)+"%"})},null,4)])])])]))]),n("div",u$,[D[22]||(D[22]=Se('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="12" y1="1" x2="12" y2="23" data-v-4b3266d1></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>PbR-SED</span></div></div>',1)),b.value?(g(),C("div",d$,[...D[16]||(D[16]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",f$,[n("div",v$,[n("div",h$,[n("div",p$,[D[18]||(D[18]=Se('<div class="pbrsed-icon-bg" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div>',1)),n("div",g$,[(g(),C("svg",m$,[D[17]||(D[17]=n("circle",{cx:"8",cy:"8",r:"6",fill:"white",stroke:"#e5e7eb","stroke-width":"1.5"},null,-1)),n("circle",{cx:"8",cy:"8",r:"5",fill:"none",stroke:"#0F3759","stroke-width":"1.5","stroke-dasharray":31.4,"stroke-dashoffset":31.4-S.value/100*31.4,"stroke-linecap":"round",transform:"rotate(-90 8 8)"},null,8,b$)]))])]),n("span",y$,G(S.value),1),D[19]||(D[19]=n("span",{class:"pbrsed-label"},"PBRSED",-1))]),n("div",A$,[n("div",w$,[n("div",{class:pe(["pbrsed-icon-bg",M.value])},[(g(),C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:L.value,"stroke-width":"2"},[...D[20]||(D[20]=[n("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),n("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"},null,-1),n("path",{d:"M9 14l2 2 4-4"},null,-1)])],8,C$))],2)]),n("span",{class:pe(["pbrsed-value diagnostico-text",k.value])},G(x.value),3),D[21]||(D[21]=n("span",{class:"pbrsed-label"},"DIAGNSTICO",-1))])])]))])]),n("div",_$,[n("div",k$,[n("div",$$,[D[23]||(D[23]=Se('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div><span class="section-title" data-v-4b3266d1>ICI</span></div>',1)),n("span",S$,G(p.value),1)]),$.value?(g(),C("div",x$,[...D[24]||(D[24]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",E$,[n("div",I$,[D[25]||(D[25]=Se('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><rect x="3" y="3" width="18" height="18" rx="2" data-v-4b3266d1></rect><line x1="8" y1="15" x2="8" y2="9" data-v-4b3266d1></line><line x1="12" y1="15" x2="12" y2="7" data-v-4b3266d1></line><line x1="16" y1="15" x2="16" y2="11" data-v-4b3266d1></line></svg></div><span class="ici-label" data-v-4b3266d1>ICI General</span>',2)),n("div",P$,[n("div",M$,[n("div",{class:"ici-bar-fill",style:de({width:Math.min(p.value,100)+"%"})},[n("span",F$,G(p.value),1)],4)])])]),n("div",D$,[D[26]||(D[26]=Se('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><line x1="10" y1="6" x2="21" y2="6" data-v-4b3266d1></line><line x1="10" y1="12" x2="21" y2="12" data-v-4b3266d1></line><line x1="10" y1="18" x2="21" y2="18" data-v-4b3266d1></line><path d="M3 6l2 2 4-4" data-v-4b3266d1></path><path d="M3 12l2 2 4-4" data-v-4b3266d1></path><path d="M3 18l2 2 4-4" data-v-4b3266d1></path></svg></div><span class="ici-label" data-v-4b3266d1>Consistencia</span>',2)),n("div",T$,[n("div",B$,[n("div",{class:"ici-bar-fill",style:de({width:Math.min(y.value,100)+"%"})},[n("span",R$,G(y.value),1)],4)])])]),n("div",L$,[D[27]||(D[27]=n("div",{class:"ici-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])],-1)),D[28]||(D[28]=n("span",{class:"ici-label"},"Proyectos",-1)),n("div",V$,[n("div",N$,[n("div",{class:"ici-bar-fill",style:de({width:Math.min(w.value,100)+"%"})},[n("span",O$,G(w.value),1)],4)])])]),n("div",z$,[D[29]||(D[29]=Se('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><circle cx="12" cy="12" r="6" data-v-4b3266d1></circle><circle cx="12" cy="12" r="2" data-v-4b3266d1></circle></svg></div><span class="ici-label" data-v-4b3266d1>Indicadores</span>',2)),n("div",j$,[n("div",H$,[n("div",{class:"ici-bar-fill",style:de({width:Math.min(E.value,100)+"%"})},[n("span",Y$,G(E.value),1)],4)])])])]))])])])):(g(),C("div",Ak,[...D[0]||(D[0]=[Se('<div class="empty-state-content" data-v-4b3266d1><div class="empty-state-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-4b3266d1><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-4b3266d1></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-4b3266d1></line><line x1="16" y1="6" x2="16" y2="22" data-v-4b3266d1></line></svg></div><h2 class="empty-state-title" data-v-4b3266d1>Selecciona una entidad</h2><p class="empty-state-description" data-v-4b3266d1> Selecciona una entidad federativa para ver los indicadores de gobernabilidad. </p></div>',1)])]))]))}},q$=Ie(G$,[["__scopeId","data-v-4b3266d1"]]),U$={class:"sector-finance-container"},W$={class:"section-header"},X$={class:"section-title"},K$={class:"header-stats"},Q$={class:"stat-pill finance"},J$={class:"stat-value"},Z$={class:"stat-pill programs"},eS={class:"stat-value"},tS={class:"sectors-grid"},sS={class:"sector-main"},aS={class:"sector-name-row"},nS={class:"sector-name"},oS={class:"sector-percentage"},lS={class:"bar-track"},iS={class:"sector-values"},rS={class:"value-finance"},cS={class:"value-number"},uS={class:"value-programs"},dS={class:"section-footer"},fS={class:"footer-stat"},vS={class:"footer-value"},hS={class:"footer-stat"},pS={class:"footer-value"},gS={class:"footer-stat"},mS={class:"footer-value"},bS={__name:"SectorFinanceCard",props:{financiamientos:{type:Array,default:()=>[]},programas:{type:Array,default:()=>[]},title:{type:String,default:"Financiamientos y Programas por Sector"}},setup(e){const t=e,s=K(()=>!t.financiamientos||t.financiamientos.length===0?[]:t.financiamientos.map(p=>{const y=t.programas.find(w=>{var E,$;return w.key===p.key||w.label===p.label||((E=w.label)==null?void 0:E.toLowerCase())===(($=p.label)==null?void 0:$.toLowerCase())});return{key:p.key,label:p.label,financiamiento:p.value||0,programas:y?y.value:0,color:p.color||"#0F3759"}}).sort((p,y)=>y.financiamiento-p.financiamiento)),a=K(()=>s.value.reduce((p,y)=>p+y.financiamiento,0)),o=K(()=>s.value.reduce((p,y)=>p+y.programas,0)),l=K(()=>s.value.filter(p=>p.financiamiento>0||p.programas>0).length),i=K(()=>l.value===0?0:a.value/l.value),r=K(()=>s.value.length===0?0:o.value/s.value.length),d=K(()=>s.value.length===0?100:Math.max(...s.value.map(p=>p.financiamiento))),f=p=>d.value===0?0:Math.round(p/d.value*100),c=p=>a.value===0?0:Math.round(p/a.value*100),u=p=>!p||p===0?"$0":p>=1e9?`$${(p/1e9).toFixed(1)}B`:p>=1e6?`$${(p/1e6).toFixed(1)}M`:p>=1e3?`$${(p/1e3).toFixed(0)}K`:`$${Math.round(p).toLocaleString("es-MX")}`,v=p=>((!p||!p.startsWith("#"))&&(p="#0F3759"),`linear-gradient(135deg, ${p} 0%, ${A(p,15)} 100%)`),h=(p,y)=>{if(!p||!p.startsWith("#"))return"#4a90d9";const w=parseInt(p.slice(1),16),E=Math.round(2.55*y),$=Math.min(255,(w>>16)+E),j=Math.min(255,(w>>8&255)+E),S=Math.min(255,(w&255)+E);return`#${(1<<24|$<<16|j<<8|S).toString(16).slice(1)}`},A=(p,y)=>{if(!p||!p.startsWith("#"))return"#0a2540";const w=parseInt(p.slice(1),16),E=Math.round(2.55*y),$=Math.max(0,(w>>16)-E),j=Math.max(0,(w>>8&255)-E),S=Math.max(0,(w&255)-E);return`#${(1<<24|$<<16|j<<8|S).toString(16).slice(1)}`},m=p=>({"Agua y drenaje":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),ce("path",{d:"M3 9h18M9 21V9"})]),Residuos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polyline",{points:"3 6 5 6 21 6"}),ce("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M7 20l4-16M17 20V4M3 8h4M17 8h4M6 16h4"})]),"Cambio Climtico":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"5"}),ce("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),ce("line",{x1:"12",y1:"21",x2:"12",y2:"23"})]),Asentamientos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),ce("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),ce("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]),Admsostenible:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),ce("polyline",{points:"22 4 12 14.01 9 11.01"})]),Transporte:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"1",y:"3",width:"15",height:"13"}),ce("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),ce("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),ce("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"1"}),ce("circle",{cx:"19",cy:"12",r:"1"}),ce("circle",{cx:"5",cy:"12",r:"1"})])})[p]||(()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"})]));return(p,y)=>(g(),C("div",U$,[n("div",W$,[n("h3",X$,G(e.title),1),n("div",K$,[n("div",Q$,[y[0]||(y[0]=n("span",{class:"stat-icon"},"",-1)),n("span",J$,G(u(a.value)),1)]),n("div",Z$,[y[1]||(y[1]=n("span",{class:"stat-icon"},"",-1)),n("span",eS,G(o.value)+" prog.",1)])])]),n("div",tS,[(g(!0),C(ge,null,_e(s.value,(w,E)=>(g(),C("div",{key:w.key,class:pe(["sector-row",{"has-data":w.financiamiento>0||w.programas>0}]),style:de({animationDelay:`${E*.03}s`})},[n("div",{class:"sector-icon",style:de({background:v(w.color)})},[(g(),Re(Vr(m(w.label))))],4),n("div",sS,[n("div",aS,[n("span",nS,G(w.label),1),n("span",oS,G(c(w.financiamiento))+"%",1)]),n("div",lS,[n("div",{class:"bar-fill",style:de({width:`${f(w.financiamiento)}%`,background:`linear-gradient(90deg, ${w.color} 0%, ${h(w.color,20)} 100%)`})},null,4)])]),n("div",iS,[n("div",rS,[n("span",cS,G(u(w.financiamiento)),1),y[2]||(y[2]=n("span",{class:"value-label"},"Financiamiento",-1))]),y[4]||(y[4]=n("div",{class:"value-divider"},null,-1)),n("div",uS,[n("div",{class:pe(["programs-circle",{active:w.programas>0}]),style:de(w.programas>0?{background:w.color}:{})},G(w.programas),7),y[3]||(y[3]=n("span",{class:"value-label"},"Prog.",-1))])])],6))),128))]),n("div",dS,[n("div",fS,[n("span",vS,G(l.value)+"/"+G(s.value.length),1),y[5]||(y[5]=n("span",{class:"footer-label"},"Sectores",-1))]),y[8]||(y[8]=n("div",{class:"footer-divider"},null,-1)),n("div",hS,[n("span",pS,G(u(i.value)),1),y[6]||(y[6]=n("span",{class:"footer-label"},"Prom/sector",-1))]),y[9]||(y[9]=n("div",{class:"footer-divider"},null,-1)),n("div",gS,[n("span",mS,G(r.value.toFixed(1)),1),y[7]||(y[7]=n("span",{class:"footer-label"},"Prog. prom",-1))])])]))}},yS=Ie(bS,[["__scopeId","data-v-bcf9c46f"]]),AS={class:"presupuestos-container"},wS={key:0,class:"global-empty-state"},CS={key:1,class:"card-body"},_S={class:"top-section"},kS={key:0,class:"loading-state-inline"},$S={key:1,class:"error-state-inline"},SS={key:2,class:"presupuesto-compact"},xS={class:"presupuesto-left"},ES={class:"presupuesto-info"},IS={class:"presupuesto-label"},PS={class:"presupuesto-entity"},MS={class:"presupuesto-center"},FS={class:"presupuesto-value"},DS={class:"presupuesto-right"},TS={class:"mini-stat"},BS={class:"mini-stat-value"},RS={class:"mini-stat"},LS={class:"mini-stat-value"},VS={class:"mini-stat"},NS={class:"mini-stat-value"},OS={class:"bottom-section"},zS={class:"combined-section"},jS={key:0,class:"loading-state"},HS={key:1,class:"error-state"},YS={__name:"PresupuestosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=x=>{if(typeof x=="number")return x;if(!x||x===""||x==="NA"||x==="ND"||x==="N/A")return 0;let b=String(x).trim();b=b.replace(/\s/g,""),b=b.replace(/\./g,""),b=b.replace(/,/g,".");const k=parseFloat(b);return isNaN(k)?0:k},l=V(0),i=V(!1),r=V(null),d=async(x=null,b=null)=>{try{if(i.value=!0,r.value=null,!x){l.value=0,i.value=!1;return}b&&Te(b);const k=Be("presupuestoEstatal"),M=Ne("presupuestoEstatal"),L=await a("presupuestoEstatal",M);if(L.length===0)throw new Error("No se obtuvieron datos");const F=L.find(B=>B[k.categoryColumn]===x);F?l.value=o(F[k.variables[0].column]):l.value=0}catch(k){r.value=k.message}finally{i.value=!1}},f=V([]),c=V(!1),u=V(null),v=async(x=null,b=null)=>{try{if(c.value=!0,u.value=null,!x){f.value=[],c.value=!1;return}b&&Te(b);const k=Be("financiamientos"),M=Ne("financiamientos"),L=await a("financiamientos",M);if(L.length===0)throw new Error("No se obtuvieron datos");const F=L.find(H=>H[k.categoryColumn]===x);if(!F){f.value=[],c.value=!1;return}const B=k.variables.sort((H,D)=>H.order-D.order).map(H=>({key:H.key,label:H.label,value:o(F[H.column]),color:H.color,colorClass:H.colorClass||"blue",active:!0}));f.value=B}catch(k){u.value=k.message}finally{c.value=!1}},h=V([]),A=V(!1),m=V(null),p=async(x=null,b=null)=>{try{if(A.value=!0,m.value=null,!x){h.value=[],A.value=!1;return}b&&Te(b);const k=Be("programas"),M=Ne("programas"),L=await a("programas",M);if(L.length===0)throw new Error("No se obtuvieron datos");const F=L.find(H=>H[k.categoryColumn]===x);if(!F){h.value=[],A.value=!1;return}const B=k.variables.sort((H,D)=>H.order-D.order).map(H=>({key:H.key,label:H.label,value:o(F[H.column]),color:H.color,colorClass:H.colorClass||"blue",active:!0}));h.value=B}catch(k){m.value=k.message}finally{A.value=!1}},y=K(()=>f.value.filter(x=>x.value>0).length),w=K(()=>h.value.reduce((x,b)=>x+b.value,0)),E=K(()=>f.value.reduce((x,b)=>x+b.value,0)),$=x=>x?x>=1e9?(x/1e9).toFixed(2)+" B":x>=1e6?(x/1e6).toFixed(2)+" M":x>=1e3?(x/1e3).toFixed(2)+" K":new Intl.NumberFormat("es-MX").format(x):"0",j=x=>!x||x===0?"$0":x>=1e9?`$${(x/1e9).toFixed(1)}B`:x>=1e6?`$${(x/1e6).toFixed(1)}M`:x>=1e3?`$${(x/1e3).toFixed(0)}K`:`$${Math.round(x)}`,S=()=>{d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),p(s.selectedEntity,s.selectedYear)};return be(()=>s.selectedEntity,x=>{d(x,s.selectedYear),v(x,s.selectedYear),p(x,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,x=>{s.selectedEntity&&(d(s.selectedEntity,x),v(s.selectedEntity,x),p(s.selectedEntity,x))},{immediate:!1}),Oe(async()=>{await Promise.all([d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),p(s.selectedEntity,s.selectedYear)])}),(x,b)=>(g(),C("div",AS,[e.selectedEntity?(g(),C("div",CS,[n("div",_S,[i.value?(g(),C("div",kS,[...b[1]||(b[1]=[n("div",{class:"spinner-mini"},null,-1)])])):r.value?(g(),C("div",$S,[...b[2]||(b[2]=[n("span",null,"Error cargando datos",-1)])])):(g(),C("div",SS,[n("div",xS,[b[3]||(b[3]=n("div",{class:"icon-badge"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})])],-1)),n("div",ES,[n("span",IS,"Presupuesto Estatal "+G(e.selectedYear),1),n("span",PS,G(e.selectedEntity),1)])]),n("div",MS,[b[4]||(b[4]=n("span",{class:"currency"},"$",-1)),n("span",FS,G($(l.value)),1),b[5]||(b[5]=n("span",{class:"currency-unit"},"MDP",-1))]),n("div",DS,[n("div",TS,[n("span",BS,G(y.value),1),b[6]||(b[6]=n("span",{class:"mini-stat-label"},"Sectores",-1))]),n("div",RS,[n("span",LS,G(w.value),1),b[7]||(b[7]=n("span",{class:"mini-stat-label"},"Programas",-1))]),n("div",VS,[n("span",NS,G(j(E.value)),1),b[8]||(b[8]=n("span",{class:"mini-stat-label"},"Financ.",-1))])])]))]),n("div",OS,[n("div",zS,[c.value||A.value?(g(),C("div",jS,[...b[9]||(b[9]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):u.value||m.value?(g(),C("div",HS,[n("p",null,"Error: "+G(u.value||m.value),1),n("button",{onClick:S,class:"retry-btn"},"Reintentar")])):(g(),Re(yS,{key:2,financiamientos:f.value,programas:h.value,title:"Financiamientos y Programas por Sector"},null,8,["financiamientos","programas"]))])])])):(g(),C("div",wS,[...b[0]||(b[0]=[Se('<div class="empty-state-content" data-v-12808adb><div class="empty-state-icon" data-v-12808adb><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-12808adb><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-12808adb></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-12808adb></line><line x1="16" y1="6" x2="16" y2="22" data-v-12808adb></line></svg></div><h2 class="empty-state-title" data-v-12808adb>Selecciona una entidad</h2><p class="empty-state-description" data-v-12808adb> Selecciona una entidad federativa para ver los indicadores de presupuesto. </p></div>',1)])]))]))}},GS=Ie(YS,[["__scopeId","data-v-12808adb"]]),qS={key:0,class:"collapsed-view"},US={key:1,class:"expanded-view"},WS={key:0,class:"buttons-container"},XS={key:1,class:"inner-card"},KS={key:2,class:"inner-card"},QS={key:3,class:"inner-card"},JS={key:4,class:"inner-card"},ZS={key:5,class:"inner-card"},ex={key:6,class:"inner-card"},tx={class:"card-header"},sx={class:"card-header-title"},ax={class:"empty-state"},nx={__name:"QualitativePanel",props:{isExpanded:{type:Boolean,default:!1},selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["toggle","category-click","years-loaded","panel-closed"],setup(e,{emit:t}){const s=e,a=t,o=V(null),{fetchSheetNames:l}=Et(),u={ambientales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet AMBIENTALES...");const y=(await l("incendiosForestales")).filter(w=>/^\d{4}$/.test(w)).sort((w,E)=>E-w);console.log(" [QualitativePanel] Aos AMBIENTALES encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos ambientales:",p)}},economicos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet ECONMICOS...");const y=(await l("ingresoTotal")).filter(w=>/^\d{4}$/.test(w)).sort((w,E)=>E-w);console.log(" [QualitativePanel] Aos ECONMICOS encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos econmicos:",p)}},sociales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet SOCIALES...");const y=(await l("desocupacion")).filter(w=>/^\d{4}$/.test(w)).sort((w,E)=>E-w);console.log(" [QualitativePanel] Aos SOCIALES encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos sociales:",p)}},presupuestos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet PRESUPUESTOS...");const y=(await l("presupuestoEstatal")).filter(w=>/^\d{4}$/.test(w)).sort((w,E)=>E-w);console.log(" [QualitativePanel] Aos PRESUPUESTOS encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos presupuestos:",p)}},gobernabilidad:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet GOBERNABILIDAD...");const y=(await l("satisfaccionFederal")).filter(w=>/^\d{4}$/.test(w)).sort((w,E)=>E-w);console.log(" [QualitativePanel] Aos GOBERNABILIDAD encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos gobernabilidad:",p)}}};be(()=>s.selectedEntity,(p,y)=>{console.log(" [QualitativePanel] Entidad cambi"),console.log("  - Anterior:",y),console.log("  - Nueva:",p),console.log("  - Categora activa:",o.value)},{immediate:!0}),be(()=>s.selectedYear,(p,y)=>{console.log(" [QualitativePanel] Ao cambi"),console.log("  - Anterior:",y),console.log("  - Nuevo:",p),console.log("  - Categora activa:",o.value)},{immediate:!0});const v=()=>{console.log(" [QualitativePanel] Toggle panel"),console.log("  - isExpanded:",s.isExpanded),console.log("  - selectedCategory:",o.value),s.isExpanded&&o.value?(console.log(" Volviendo a men de categoras..."),o.value=null,a("panel-closed")):s.isExpanded&&!o.value?(console.log(" Cerrando panel completamente..."),a("toggle"),a("panel-closed")):(console.log(" Abriendo panel..."),a("toggle"))},h=async p=>{console.log(" [QualitativePanel] Categora seleccionada:",p),console.log(" Entidad actual:",s.selectedEntity),console.log(" Ao actual:",s.selectedYear),o.value=p;const y=u[p];y?(console.log(` Cargando aos para categora: ${p}...`),await y()):console.warn(` No hay cargador de aos definido para: ${p}`)},A=()=>{console.log(" [QualitativePanel] Volviendo al men principal..."),o.value=null,a("panel-closed")},m=p=>({ambientales:"Ambientales",economicos:"Econmicos",sociales:"Sociales",presupuestos:"Presupuestos y financiamiento",gobernabilidad:"Gobernabilidad y transparencia"})[p]||p;return(p,y)=>(g(),C("div",{class:pe(["qualitative-panel",{expanded:e.isExpanded}])},[e.isExpanded?(g(),C("div",US,[n("div",{class:"header-panel"},[y[5]||(y[5]=n("div",{class:"hamburger-menu"},[n("img",{src:dl,alt:"hamburger-menu",class:"hamburger-icon"})],-1)),y[6]||(y[6]=n("h1",{class:"header-title"},"Indicadores Cualitativos",-1)),n("div",{class:"expand-btn",onClick:v},"  ")]),o.value?o.value==="ambientales"?(g(),C("div",XS,[ye(UA,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="economicos"?(g(),C("div",KS,[ye(_C,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="sociales"?(g(),C("div",QS,[ye(bk,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="presupuestos"?(g(),C("div",JS,[ye(GS,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="gobernabilidad"?(g(),C("div",ZS,[ye(q$,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):(g(),C("div",ex,[n("div",tx,[n("button",{class:"back-btn",onClick:A}," Volver"),n("h1",sx,G(m(o.value)),1)]),n("div",ax,[y[12]||(y[12]=n("div",{class:"empty-icon"},"",-1)),y[13]||(y[13]=n("h3",null,"Prximamente",-1)),n("p",null,"Los indicadores de "+G(m(o.value).toLowerCase())+" estarn disponibles pronto.",1)])])):(g(),C("div",WS,[n("div",{class:"qualitative-btn",onClick:y[0]||(y[0]=nt(w=>h("ambientales"),["stop"]))},[...y[7]||(y[7]=[n("span",{class:"title-btn"},"Ambientales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[1]||(y[1]=nt(w=>h("economicos"),["stop"]))},[...y[8]||(y[8]=[n("span",{class:"title-btn"},"Econmicos",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[2]||(y[2]=nt(w=>h("sociales"),["stop"]))},[...y[9]||(y[9]=[n("span",{class:"title-btn"},"Sociales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[3]||(y[3]=nt(w=>h("presupuestos"),["stop"]))},[...y[10]||(y[10]=[n("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[4]||(y[4]=nt(w=>h("gobernabilidad"),["stop"]))},[...y[11]||(y[11]=[n("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),n("span",{class:"plus-btn"},"+",-1)])])]))])):(g(),C("div",qS,[n("div",{class:"expand-btn",onClick:v}," + ")]))],2))}},ox=Ie(nx,[["__scopeId","data-v-e2a5a907"]]);function lx(){const e=V([]),t=V(!1),s=V(null),a=V([]),o=V(null),{fetchData:l}=Et(),i=u=>{const v=Be("rankingCuantitativo");if(!u||!u.key)return console.log(" Usando columna por defecto: IFSS"),v.columnsByVariable.IFSS;const h=v.columnsByVariable[u.key];return h?(console.log(` Usando columna: ${h} para variable: ${u.key}`),h):(console.warn(` No se encontr columna para variable: ${u.key}, usando IFSS`),v.columnsByVariable.IFSS)},r=(u,v)=>{const A=Be("rankingCuantitativo").stateColumn,p=u.map(y=>{const w=y[A],E=y[v];let $=E;return typeof E=="string"&&($=E.replace(/^["']+|["']+$/g,"").trim(),$===""||$==='""'||$==='"""'?$="0":$.includes(",")&&($=$.replace(/\./g,"").replace(",","."))),{key:w,label:w,value:parseFloat($)||0,colorClass:"blue",color:null}}).filter(y=>y.label&&y.label.trim()!=="").sort((y,w)=>w.value-y.value);return console.log(` Ranking transformado: ${p.length} estados`),console.log(` Ejemplo de valores: ${p.slice(0,3).map(y=>`${y.label}: ${y.value}`).join(", ")}`),p},d=async(u=null)=>{t.value=!0,s.value=null;try{console.log(" Cargando ranking de estados..."),console.log(" Variable seleccionada:",u);const v=Ne("datosCuantitativos");console.log(` Cargando ranking desde hoja: "${v}"`);const h=await l("datosCuantitativos",v);if(!h||h.length===0){console.warn(" No se encontraron datos en el sheet"),e.value=[];return}a.value=h,o.value=u;const A=i(u),m=r(h,A);e.value=m,console.log(` Ranking cargado: ${m.length} estados`)}catch(v){console.error(" Error cargando ranking:",v),s.value=v.message,e.value=[]}finally{t.value=!1}};return{rankingData:e,loading:t,error:s,currentVariable:o,loadAllStatesRanking:d,updateRankingByVariable:u=>{if(!a.value||a.value.length===0){console.warn(" No hay datos cargados, cargando..."),d(u);return}try{console.log(" Actualizando ranking por variable:",u),o.value=u;const v=i(u),h=r(a.value,v);e.value=h,console.log(` Ranking actualizado: ${h.length} estados`)}catch(v){console.error(" Error actualizando ranking:",v),s.value=v.message}},reset:()=>{e.value=[],a.value=[],o.value=null,s.value=null}}}function ix(){const e=V({}),t=V([]),s=V(!1),a=V(null),{fetchData:o}=Et(),l=(u,v)=>{if(console.log(" [processIFSData] Iniciando procesamiento manual..."),!u||u.length===0)throw new Error("No hay datos para procesar");const h=v.yearColumn,A=v.variableColumns[0],m=A.column,p=A.label;console.log(` Buscando columna de aos: "${h}"`),console.log(` Buscando columna de IFS: "${m}"`);const y=[],w=[];u.length>0&&(console.log(" [DEBUG] Claves disponibles en primera fila:",Object.keys(u[0])),console.log(" [DEBUG] Primera fila completa:",JSON.stringify(u[0],null,2)));for(let $=0;$<u.length;$++){const j=u[$];$<3&&(console.log(` [DEBUG] Fila ${$} completa:`,JSON.stringify(j,null,2)),console.log(` [DEBUG] Fila ${$} - Claves:`,Object.keys(j)));const S=j[h];if(console.log(` [DEBUG] Fila ${$} - Buscando key "${h}", encontrado:`,S,`(tipo: ${typeof S})`),!S){console.warn(` Fila ${$} no tiene ao, saltando...`);continue}const x=j[m];if(console.log(` Fila ${$}: Ao=${S}, IFS=${x}`),x!=null&&x!==""){const b=parseFloat(x);isNaN(b)?console.warn(` Valor IFS invlido en ao ${S}: "${x}"`):(y.push(S.toString()),w.push(b))}else console.warn(` Ao ${S} no tiene valor IFS`)}if(console.log(" Procesamiento completado:"),console.log(" Aos extrados:",y),console.log(" Valores IFS:",w),y.length===0||w.length===0)throw new Error("No se encontraron datos vlidos en las columnas especificadas");return{chartData:{[p]:w},years:y}},i=async()=>{try{console.log(`
 ===== [useStackedAreaData] INICIANDO CARGA =====`),s.value=!0,a.value=null;const u=Be("ifssStackedArea"),v=Ne("indicadores");console.log(" Mapping ifssStackedArea:",JSON.stringify(u,null,2)),console.log(" Nombre de hoja (sheet principal):",v),console.log(" Sheet ID que se usar: VITE_GOOGLE_SHEET_ID (principal)"),console.log(" Solicitando datos desde sheet principal...");const h=await o("indicadores",v);if(console.log(` Datos crudos recibidos: ${h.length} filas`),h.length>0&&(console.log(" Encabezados disponibles:",Object.keys(h[0])),console.log(" Primera fila completa:",h[0]),console.log(" Segunda fila completa:",h[1])),!h||h.length===0)throw new Error("No se obtuvieron datos de Google Sheets");const A=l(h,u);console.log(" Datos procesados exitosamente"),console.log(" Chart Data final:",A.chartData),console.log(" Years final:",A.years),e.value=A.chartData,t.value=A.years,console.log(` ===== CARGA COMPLETADA EXITOSAMENTE =====
`)}catch(u){console.error(" ===== ERROR EN CARGA ====="),console.error("Error completo:",u),console.error("Stack:",u.stack),a.value=u.message,console.warn(" Usando datos de fallback para IFS"),e.value={IFS:[45.2,48.7,52.1,55.8,59.3]},t.value=["2020","2021","2022","2023","2024"]}finally{s.value=!1}},r=K(()=>Object.keys(e.value).length>0&&t.value.length>0),d=K(()=>Object.keys(e.value).length),f=K(()=>t.value.length);return{chartData:e,years:t,loading:s,error:a,hasData:r,seriesCount:d,yearsCount:f,title:"Anlisis histrico del ranking de Indice de Finanzas Sostenibles (IFS)",loadIFSSData:i}}const rx={class:"filters-toggles-row"},cx={class:"filters-column"},ux={class:"map-container"},dx={key:0,class:"loading-state"},fx={key:1,class:"error-state"},vx={key:2,class:"map-content"},hx={key:0,class:"charts-section"},px={class:"charts-container"},gx={class:"ranking-chart-section",style:{height:"100%",display:"flex","flex-direction":"column"}},mx={key:0,class:"chart-card linear-chart-card"},bx={key:1,class:"chart-card linear-chart-card"},yx={class:"chart-card-body"},Ax={class:"ranking-error"},wx={key:2,class:"chart-card linear-chart-card"},Cx={class:"chart-card-header"},_x={class:"card-title"},kx={class:"chart-card-body"},$x={key:3,class:"ranking-loading"},Sx={key:4,class:"ranking-error"},xx={key:6,class:"charts-empty-state"},Ex={class:"body-ranking-panel"},Ix={__name:"HomePage",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:E,initializeData:$}=s.mapsComposable||zt(),{setChartData:j}=Pa(),{statesDataForSlider:S,selectedStateIFSS:x,handleRangeChange:b,handleFilterChange:k,initialize:M}=hl(s.mapsComposable||zt()),{rankingData:L,loading:F,error:B,loadAllStatesRanking:H,updateRankingByVariable:D}=lx(),{chartData:W,years:Q,loading:ee,error:ae,title:ve,loadIFSSData:we}=ix();Hs();const fe=V(""),te=V(null),P=V(""),N=V(0),{fetchData:O,fetchSheetNames:U}=Et(),X=V("federal"),T=V([]),se=V([]),z=V({entity:"",year:null,variable:""});be(P,(re,ke)=>{console.log(" [HomePage] selectedEntity cambi"),console.log("  - Anterior:",ke),console.log("  - Nuevo:",re)},{immediate:!0});const I=V([]),_=V(!1),R=V(null),Y=V(!1),Z=K(()=>!T.value||T.value.length===0?null:T.value.find(re=>re!=null&&re!=="")||null),J=K(()=>{const re=P.value===null,ke=te.value===null,Qe=fe.value===null,Ht=re&&ke&&Qe;return console.log(" [areAllFiltersOnTodas]:",{entity:P.value,entityIsTodas:re,year:te.value,yearIsTodos:ke,variable:fe.value,variableIsTodas:Qe,result:Ht}),Ht}),ie=K(()=>{const re=P.value===null,ke=te.value===Z.value,Qe=fe.value===null,Ht=re&&ke&&Qe;return console.log(" [areAllFiltersDefault]:",{entity:P.value,entityIsDefault:re,year:te.value,defaultYear:Z.value,yearIsDefault:ke,variable:fe.value,variableIsDefault:Qe,result:Ht}),Ht}),le=K(()=>P.value===""||fe.value===""),ue=K(()=>fe.value!==null&&fe.value!==""),ne=K(()=>Y.value?!1:J.value),me=K(()=>Y.value?!1:J.value),he=K(()=>Y.value?!1:J.value),Ae=K(()=>le.value),Ce=K(()=>Ae.value?!1:!r.value&&J.value),Ee=K(()=>Ae.value?!1:r.value||Ce.value),Pe=async()=>{try{_.value=!0,R.value=null;const re=Be("chartsPresupuestos"),ke=Ne("chartsPresupuestos"),Qe=await O("chartsPresupuestos",ke),Ht=re.stateColumn,ou=[...new Set(Qe.map($s=>$s[Ht]))].filter($s=>$s&&$s.trim()!=="").sort();I.value=ou.map($s=>({name:$s,value:null}))}catch(re){console.error(" Error cargando entidades:",re),R.value=re.message}finally{_.value=!1}},Me=async()=>{try{console.log(" [HomePage] Obteniendo aos de sheet cuantitativos...");const ke=(await U("datosCuantitativos")).filter(Qe=>/^\d{4}$/.test(Qe)).sort((Qe,Ht)=>Ht-Qe);return console.log(" [HomePage] Aos de cuantitativos:",ke),se.value=[...ke],T.value=[...ke],ke}catch(re){return console.error(" [HomePage] Error obteniendo aos:",re),[]}},et=re=>{if(console.log(" [HomePage] handleEntityChange llamado con:",re),P.value=re,re===""){E();return}if(re===null){E(),!Y.value&&!J.value&&(fe.value&&fe.value!==""&&fe.value!==null?D(fe.value):fe.value===null&&te.value!==null&&H(null));return}p(re),console.log(" [HomePage] Mapa actualizado con:",re)},tt=async re=>{console.log(" [HomePage] handleYearChange llamado con:",re),te.value=re,re&&Te(re),J.value&&await we()},At=re=>{console.log(" [HomePage] handleVariableChange llamado con:",re),fe.value=re,re!==""&&!r.value&&!J.value&&(re===null?H(null):D(re))},wt=re=>{console.log(" Filtros aplicados:",re)},fs=async re=>{if(console.log(" [HomePage] Click en estado:",re),!re){E(),P.value="",a("region-selected",null),Y.value||(fe.value&&fe.value!==""&&fe.value!==null?D(fe.value):J.value||H(null));return}if(p(re),P.value=re,await ze(),r.value===re){const ke=A(re);a("region-selected",{name:re,data:ke}),console.log(" [HomePage] Estado seleccionado y sincronizado:",re)}else a("region-selected",null)},Ma=async()=>{console.log(" [HomePage] Cambiando a vista IFS Regional"),X.value="regional",r.value&&E(),P.value=null,te.value=null,fe.value=null,await ze(),await we(),console.log(' [HomePage] Vista IFS Regional activada con filtros en "Todas..."')},it=async()=>{if(console.log(" [HomePage] Cambiando a vista Datos Federales (DEFAULT)"),X.value="federal",P.value=null,fe.value=null,T.value.length>0){const re=T.value[0];te.value=re,Te(re)}r.value&&E(),await H(null),N.value++,await ze(),console.log(" Vista Datos Federales activada (DEFAULT)")},Ct=()=>{console.log(" Toggling panel cualitativo:",!Y.value),Y.value=!Y.value},Fa=async re=>{if(console.log(" [HomePage] Aos recibidos de ambientales:",re),re&&re.length>0){T.value=re;const ke=re[0];te.value=ke,Te(ke),N.value++,await ze(),console.log(" Filtro actualizado con aos de ambientales")}},Da=async()=>{if(console.log(" [HomePage] Panel cualitativo cerrado, reseteando filtros a DEFAULT..."),P.value=null,fe.value=null,T.value=[...se.value],se.value.length>0){const re=se.value[0];te.value=re,Te(re),console.log(" Ao restaurado a DEFAULT:",re)}N.value++,await ze(),E(),await H(null),X.value="federal",console.log(" Filtros reseteados a DEFAULT, vista: Datos Federales")},su=re=>{(re.target.classList.contains("map-svg-container")||re.target.tagName==="svg"||re.target.classList.contains("map-background"))&&(E(),a("region-selected",null))},au=async()=>{if(console.log(" [HomePage] Click en overlay, cambiando a DEFAULT..."),P.value=null,fe.value=null,T.value.length>0){const re=T.value[0];te.value=re,Te(re)}E(),a("region-selected",null),await H(null),X.value="federal",N.value++,await ze(),console.log(" Cambiado a DEFAULT, vista: Datos Federales")};K(()=>!r.value);const nu=K(()=>{const re=te.value?` - ${te.value}`:"";return!fe.value||!fe.value.key?`Ranking IFSS por Estado${re}`:`Ranking ${{PS:"Presupuestos Sostenibles (PS)",IIC:"Ingresos Intensivos en Carbono (IIC)",PIC:"Presupuestos Intensivos en Carbono (PIC)",IS:"Ingresos Sostenibles (IS)"}[fe.value.key]||"IFSS"} por Estado${re}`});return be(J,async(re,ke)=>{console.log(" [areAllFiltersOnTodas] cambi de",ke,"a",re),re&&!ke&&(X.value="regional",console.log(' [HomePage] Filtros en "Todas...", activando vista IFS Regional'),await we())}),be(ie,re=>{re&&X.value!=="federal"&&(console.log(" [HomePage] Filtros en default, activando vista Datos Federales"),X.value="federal")},{immediate:!0}),be(fe,re=>{re!==""&&(J.value||r.value||(re===null?H(null):D(re)))}),be(te,async(re,ke)=>{re!==ke&&(await Pe(),J.value||(fe.value!==""&&fe.value!==null?await D(fe.value):fe.value===null&&await H(null)))}),be(r,(re,ke)=>{if(console.log(" [HomePage] Watch selectedState:",{newState:re,oldState:ke}),re&&re!==ke){P.value!==re&&(P.value=re,console.log(" [HomePage] selectedEntity sincronizado con mapa:",re));const Qe=A(re);j(Qe),a("region-selected",{name:re,data:Qe})}else!re&&ke&&(Y.value||(P.value=""),a("region-selected",null),!Y.value&&!J.value&&(fe.value&&fe.value!==""&&fe.value!==null?D(fe.value):H(null)))}),be(i,re=>{re&&a("map-error",re)}),Oe(async()=>{if(console.log(`
 ===== INICIALIZANDO HomePage =====`),await Me(),await Pe(),await M(),P.value=null,fe.value=null,T.value.length>0){const re=T.value[0];te.value=re,Te(re),console.log(" Ao inicial establecido:",re)}await H(null),z.value={entity:null,year:te.value,variable:null},console.log(" Estado inicial de filtros (DEFAULT):",z.value),console.log(" Aos iniciales guardados:",se.value),X.value="federal",console.log(" Vista inicial: Datos Federales (DEFAULT)"),console.log(" HomePage inicializado"),console.log("   areAllFiltersDefault:",ie.value),console.log("   areAllFiltersOnTodas:",J.value),console.log(`
`)}),(re,ke)=>(g(),C(ge,null,[n("div",rx,[n("div",cx,[(g(),Re(Bn,{key:N.value,entities:I.value,loading:_.value,selectedState:q(r),isLocked:he.value,availableYears:T.value,initialEntity:P.value,initialYear:te.value,initialVariable:fe.value,onEntityChange:et,onYearChange:tt,onVariableChange:At,onFiltersChange:wt},null,8,["entities","loading","selectedState","isLocked","availableYears","initialEntity","initialYear","initialVariable"]))])]),n("div",ux,[q(l)?(g(),C("div",dx,[...ke[3]||(ke[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):oe("",!0),q(i)?(g(),C("div",fx,[n("p",null,"Error: "+G(q(i)),1),n("button",{onClick:ke[0]||(ke[0]=(...Qe)=>q($)&&q($)(...Qe)),class:"retry-btn"}," Reintentar ")])):oe("",!0),!q(l)&&!q(i)?(g(),C("div",vx,[n("div",{class:pe(["map-and-charts-wrapper",{"no-gap":Y.value}]),onClick:su},[ye(qc,{geoData:q(o),selectedState:q(r),hoveredState:q(d),mapConfig:q(f),nationalIFSS:q(v),getStateColor:q(h),getStateInfo:q(A),getIFSSLabel:q(m),"show-info-card":!Y.value,"show-navigation":!Y.value,"active-view":X.value,onStateClick:fs,onStateHover:q(y),onStateLeave:q(w),onNavigateRegional:Ma,onNavigateFederal:it},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","show-info-card","show-navigation","active-view","onStateHover","onStateLeave"]),ye(gt,{name:"overlay-fade"},{default:at(()=>[me.value?(g(),C("div",{key:0,class:"map-overlay-filter",onClick:nt(au,["stop"])},[...ke[4]||(ke[4]=[n("div",{class:"overlay-message"},[n("h2",{class:"overlay-text"}," Haz click en cualquier entidad del mapa para regresar a los resultados subnacionales ")],-1)])])):oe("",!0)]),_:1}),ye(ox,{isExpanded:Y.value,selectedEntity:P.value,selectedYear:te.value,onToggle:Ct,onYearsLoaded:Fa,onPanelClosed:Da},null,8,["isExpanded","selectedEntity","selectedYear"]),Y.value?oe("",!0):(g(),C("div",hx,[n("div",px,[n("div",gx,[ne.value&&q(ee)?(g(),C("div",mx,[...ke[5]||(ke[5]=[Se('<div class="chart-card-header" data-v-2ee67b71><h4 class="card-title" data-v-2ee67b71>Evolucin IFS</h4></div><div class="chart-card-body" data-v-2ee67b71><div class="ranking-loading" data-v-2ee67b71><div class="spinner-small" data-v-2ee67b71></div><p data-v-2ee67b71>Cargando evolucin IFS...</p></div></div>',2)])])):ne.value&&q(ae)?(g(),C("div",bx,[ke[6]||(ke[6]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Evolucin IFS")],-1)),n("div",yx,[n("div",Ax,[n("p",null,"Error: "+G(q(ae)),1),n("button",{onClick:ke[1]||(ke[1]=(...Qe)=>q(we)&&q(we)(...Qe)),class:"retry-btn-small"}," Reintentar ")])])])):ne.value&&q(W)&&Object.keys(q(W)).length>0?(g(),C("div",wx,[n("div",Cx,[n("h4",_x,G(q(ve)),1)]),n("div",kx,[ye(Jc,{data:q(W),xLabels:q(Q),showCurrencySymbol:!1,width:940,height:440,hideHeader:!0,initialVisibleVariables:["IFS"],padding:{top:20,right:70,bottom:100,left:60}},null,8,["data","xLabels"])])])):q(F)?(g(),C("div",$x,[...ke[7]||(ke[7]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):q(B)?(g(),C("div",Sx,[n("p",null,"Error: "+G(q(B)),1),n("button",{onClick:ke[2]||(ke[2]=Qe=>q(H)(fe.value)),class:"retry-btn-small"}," Reintentar ")])):q(L).length>0?(g(),Re(tA,{key:5,variables:q(L),title:nu.value,showAllBars:!0,animationDelay:0,selectedState:q(r)},null,8,["variables","title","selectedState"])):(g(),C("div",xx,[...ke[8]||(ke[8]=[n("div",{class:"empty-state-icon"},"",-1),n("h4",null,"Ranking IFSS",-1),n("p",null,"No hay datos de ranking disponibles",-1)])]))])])]))],2),Ee.value&&!Y.value?(g(),C("div",{key:0,class:pe(["ranking-panel",{"historical-view":Ce.value,"variable-view":ue.value&&!Ce.value}])},[ke[9]||(ke[9]=n("div",{class:"header-ranking-panel"},[n("div",{class:"ranking-hamburger-menu"},[n("img",{src:vl,alt:"hamburger-menu",class:"hamburger-icon"})])],-1)),n("div",Ex,[Ce.value?(g(),Re(Zc,{key:0,statesData:q(S),selectedStateValue:q(x),onRangeChange:q(b),onFilterChange:q(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])):(g(),Re(Wc,{key:1,selectedState:q(r),selectedYear:te.value,selectedVariable:fe.value,ifssData:q(A)(q(r))},null,8,["selectedState","selectedYear","selectedVariable","ifssData"]))])],2)):oe("",!0)])):oe("",!0)])],64))}},Px=Ie(Ix,[["__scopeId","data-v-2ee67b71"]]),Mx={style:{padding:"40px","font-family":"monospace"}},Fx={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},Dx={key:0},Tx={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},Bx={key:0,style:{color:"red","font-weight":"bold"}},Rx={key:1,style:{color:"red","font-weight":"bold"}},Lx={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},Vx={key:0,style:{color:"orange"}},Nx={key:1,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},Ox={key:2},zx={style:{background:"white",padding:"15px","border-radius":"5px"}},jx={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},Hx={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},Yx={key:0},Gx={key:0,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},qx={style:{background:"white",padding:"10px"}},Ux={key:1},Wx={style:{background:"white",padding:"15px","border-radius":"5px"}},Xx={key:0,style:{border:"2px solid #28a745",padding:"20px",margin:"20px 0",background:"#d4edda"}},Kx={__name:"TestRanking",setup(e){const t=V(null),s=V(null),a=V(null),o=V(!1),l=V(null),{fetchData:i}=Et(),r=async()=>{o.value=!0,l.value=null,t.value=null,s.value=null,a.value=null;try{if(console.log("=== PASO 1: Variables de entorno ==="),t.value={provider:"googlesheets",apiKeyExists:!0,sheetIdExists:!0},console.log("Variables:",t.value),!t.value.apiKeyExists||!t.value.sheetIdExists){l.value="Faltan variables de entorno en el archivo .env",o.value=!1;return}console.log("=== PASO 2: Obteniendo datos ===");const d=await i("datosCuantitativos","2024");if(!d||d.length===0){l.value="El sheet est vaco o no se pudo conectar",o.value=!1;return}s.value={rowCount:d.length,columns:Object.keys(d[0]),firstRow:d[0]},console.log("Datos obtenidos:",s.value),console.log("=== PASO 3: Transformando datos ===");const f="Entidad Federativa",c="IFSS";console.log(`Buscando columnas: "${f}" y "${c}"`);const h=d.map(A=>{const m=A[f],p=A[c];console.log(`Fila: ${m} = ${p}`);const y=typeof p=="string"?p.replace(/[,.]/g,""):p,w=parseFloat(y)||0;return{key:(m==null?void 0:m.toLowerCase().replace(/\s+/g,"_"))||"unknown",label:m||"Desconocido",value:w,color:w>=2?"#22c55e":w>=1.5?"#fb923c":"#ef4444"}}).filter(A=>A.label!=="Desconocido"&&A.value>0).sort((A,m)=>m.value-A.value);a.value={count:h.length,top5:h.slice(0,5).map(A=>({estado:A.label,ifss:A.value}))},console.log("Transformacin completa:",a.value)}catch(d){console.error("Error en debug:",d),l.value=d.message}finally{o.value=!1}};return(d,f)=>{var c;return g(),C("div",Mx,[f[19]||(f[19]=n("h1",null," Debug Ranking IFSS",-1)),n("button",{onClick:r,style:{padding:"15px 30px",background:"#0F3759",color:"white",border:"none","border-radius":"8px",cursor:"pointer","font-size":"16px",margin:"20px 0"}},"  Ejecutar Debug "),n("div",Fx,[f[0]||(f[0]=n("h2",null," PASO 1: Variables de Entorno",-1)),t.value?(g(),C("div",Dx,[n("pre",Tx,G(t.value),1),t.value.apiKeyExists?oe("",!0):(g(),C("p",Bx,"  FALTA API KEY - Revisa tu archivo .env ")),t.value.sheetIdExists?oe("",!0):(g(),C("p",Rx,"  FALTA SHEET ID - Revisa tu archivo .env "))])):oe("",!0)]),n("div",Lx,[f[5]||(f[5]=n("h2",null," PASO 2: Datos del Google Sheet",-1)),o.value?(g(),C("div",Vx," Cargando...")):oe("",!0),l.value?(g(),C("div",Nx,[f[1]||(f[1]=n("strong",null," ERROR:",-1)),Vt(" "+G(l.value),1)])):oe("",!0),s.value?(g(),C("div",Ox,[n("p",null,[f[2]||(f[2]=n("strong",null,"Filas obtenidas:",-1)),Vt(" "+G(s.value.rowCount),1)]),f[3]||(f[3]=n("p",null,[n("strong",null,"Columnas detectadas:")],-1)),n("pre",zx,G(s.value.columns),1),f[4]||(f[4]=n("p",null,[n("strong",null,"Primera fila:")],-1)),n("pre",jx,G(s.value.firstRow),1)])):oe("",!0)]),n("div",Hx,[f[17]||(f[17]=n("h2",null," PASO 3: Datos Transformados",-1)),a.value?(g(),C("div",Yx,[n("p",null,[f[6]||(f[6]=n("strong",null,"Estados transformados:",-1)),Vt(" "+G(a.value.count),1)]),a.value.count===0?(g(),C("div",Gx,[f[7]||(f[7]=n("strong",null," PROBLEMA:",-1)),f[8]||(f[8]=Vt(" Los datos se transformaron pero resultaron en 0 estados. ",-1)),f[9]||(f[9]=n("br",null,null,-1)),f[10]||(f[10]=Vt("Esto significa que los nombres de columnas no coinciden. ",-1)),f[11]||(f[11]=n("br",null,null,-1)),f[12]||(f[12]=n("br",null,null,-1)),f[13]||(f[13]=n("strong",null,"Columnas que estamos buscando:",-1)),f[14]||(f[14]=n("ul",null,[n("li",null,"Entidad Federativa"),n("li",null,"IFSS")],-1)),f[15]||(f[15]=n("strong",null,"Columnas que encontramos:",-1)),n("pre",qx,G((c=s.value)==null?void 0:c.columns),1)])):oe("",!0),a.value.count>0?(g(),C("div",Ux,[f[16]||(f[16]=n("p",null,[n("strong",null," Top 5 estados:")],-1)),n("pre",Wx,G(a.value.top5),1)])):oe("",!0)])):oe("",!0)]),a.value&&a.value.count>0?(g(),C("div",Xx,[...f[18]||(f[18]=[n("h2",null," PASO 4: Grfica",-1),n("p",null,"Los datos estn listos. Usa el componente as:",-1),n("pre",{style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto","font-size":"12px"}},`<script setup>
import { useStateRanking } from '@/composables/useStateRanking'
import HorizontalRankingChart from '@/modules/charts/components/HorizontalRankingChart.vue'

const { rankingData, loadAllStatesRanking } = useStateRanking()
onMounted(() => loadAllStatesRanking())
<\/script>

<template>
  <HorizontalRankingChart
    :variables="rankingData"
    :showLabels="true"
    :showValues="true"
    :showAllBars="true"
    :valueFormatter="(v) => v.toFixed(1)"
  />
</template>`,-1)])])):oe("",!0)])}}},Qx=[{path:"/",redirect:"/finanzas/home"},{path:"/finanzas/home",name:"HomePage",component:Px,meta:{title:"Plataforma de Finanzas Sostenibles"}},{path:"/finanzas/cualitativos",name:"FinanzasCualitativos",component:jg,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/cualitativos/item",name:"FinanzasCualitativosItem",component:Um,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/ranking",name:"RankingView",component:Pb,meta:{title:"RankingView - Finanzas Sostenibles"}},{path:"/finanzas/historicos",name:"HistoricalView",component:B2,meta:{title:"HistoricalView - Finanzas Sostenibles"}},{path:"/finanzas/testRanking",name:"TestRanking",component:Kx,meta:{title:"Home- Finanzas Sostenibles"}}],eu=Mv({history:lv("/PlataformaFinanzasSostenibles/"),routes:Qx});eu.beforeEach((e,t,s)=>{e.meta.title&&(document.title=e.meta.title),s()});const tu=xf(Qv);tu.use(eu);tu.mount("#app");
