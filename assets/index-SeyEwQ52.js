(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ye={},Bs=[],Pt=()=>{},Ur=()=>!1,Sn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jo=e=>e.startsWith("onUpdate:"),Je=Object.assign,Ho=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Au=Object.prototype.hasOwnProperty,Ne=(e,t)=>Au.call(e,t),xe=Array.isArray,Vs=e=>kn(e)==="[object Map]",Wr=e=>kn(e)==="[object Set]",Ie=e=>typeof e=="function",Ue=e=>typeof e=="string",fs=e=>typeof e=="symbol",Ge=e=>e!==null&&typeof e=="object",Xr=e=>(Ge(e)||Ie(e))&&Ie(e.then)&&Ie(e.catch),Qr=Object.prototype.toString,kn=e=>Qr.call(e),Cu=e=>kn(e).slice(8,-1),Kr=e=>kn(e)==="[object Object]",Go=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,oa=Yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$n=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},wu=/-\w/g,Et=$n(e=>e.replace(wu,t=>t.slice(1).toUpperCase())),_u=/\B([A-Z])/g,ks=$n(e=>e.replace(_u,"-$1").toLowerCase()),xn=$n(e=>e.charAt(0).toUpperCase()+e.slice(1)),zn=$n(e=>e?`on${xn(e)}`:""),cs=(e,t)=>!Object.is(e,t),Ua=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Jr=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},co=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Su=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let yl;const In=()=>yl||(yl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ve(e){if(xe(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],o=Ue(a)?Iu(a):ve(a);if(o)for(const l in o)t[l]=o[l]}return t}else if(Ue(e)||Ge(e))return e}const ku=/;(?![^(]*\))/g,$u=/:([^]+)/,xu=/\/\*[^]*?\*\//g;function Iu(e){const t={};return e.replace(xu,"").split(ku).forEach(s=>{if(s){const a=s.split($u);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function ge(e){let t="";if(Ue(e))t=e;else if(xe(e))for(let s=0;s<e.length;s++){const a=ge(e[s]);a&&(t+=a+" ")}else if(Ge(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Eu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pu=Yo(Eu);function Zr(e){return!!e||e===""}const ei=e=>!!(e&&e.__v_isRef===!0),O=e=>Ue(e)?e:e==null?"":xe(e)||Ge(e)&&(e.toString===Qr||!Ie(e.toString))?ei(e)?O(e.value):JSON.stringify(e,ti,2):String(e),ti=(e,t)=>ei(t)?ti(e,t.value):Vs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,o],l)=>(s[Yn(a,l)+" =>"]=o,s),{})}:Wr(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Yn(s))}:fs(t)?Yn(t):Ge(t)&&!xe(t)&&!Kr(t)?String(t):t,Yn=(e,t="")=>{var s;return fs(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};function Fu(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vt;class Mu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vt,!t&&vt&&(this.index=(vt.scopes||(vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=vt;try{return vt=this,t()}finally{vt=s}}}on(){++this._on===1&&(this.prevScope=vt,vt=this)}off(){this._on>0&&--this._on===0&&(vt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Du(){return vt}let je;const jn=new WeakSet;class si{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vt&&vt.active&&vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jn.has(this)&&(jn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ni(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Al(this),oi(this);const t=je,s=Ft;je=this,Ft=!0;try{return this.fn()}finally{li(this),je=t,Ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wo(t);this.deps=this.depsTail=void 0,Al(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uo(this)&&this.run()}get dirty(){return uo(this)}}let ai=0,la,ra;function ni(e,t=!1){if(e.flags|=8,t){e.next=ra,ra=e;return}e.next=la,la=e}function qo(){ai++}function Uo(){if(--ai>0)return;if(ra){let t=ra;for(ra=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;la;){let t=la;for(la=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function oi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function li(e){let t,s=e.depsTail,a=s;for(;a;){const o=a.prevDep;a.version===-1?(a===s&&(s=o),Wo(a),Tu(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=o}e.deps=t,e.depsTail=s}function uo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ri(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ri(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ma)||(e.globalVersion=ma,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!uo(e))))return;e.flags|=2;const t=e.dep,s=je,a=Ft;je=e,Ft=!0;try{oi(e);const o=e.fn(e._value);(t.version===0||cs(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{je=s,Ft=a,li(e),e.flags&=-3}}function Wo(e,t=!1){const{dep:s,prevSub:a,nextSub:o}=e;if(a&&(a.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)Wo(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Tu(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ft=!0;const ii=[];function Jt(){ii.push(Ft),Ft=!1}function Zt(){const e=ii.pop();Ft=e===void 0?!0:e}function Al(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=je;je=void 0;try{t()}finally{je=s}}}let ma=0;class Ru{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!je||!Ft||je===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==je)s=this.activeLink=new Ru(je,this),je.deps?(s.prevDep=je.depsTail,je.depsTail.nextDep=s,je.depsTail=s):je.deps=je.depsTail=s,ci(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=je.depsTail,s.nextDep=void 0,je.depsTail.nextDep=s,je.depsTail=s,je.deps===s&&(je.deps=a)}return s}trigger(t){this.version++,ma++,this.notify(t)}notify(t){qo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Uo()}}}function ci(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)ci(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const fo=new WeakMap,As=Symbol(""),vo=Symbol(""),ba=Symbol("");function at(e,t,s){if(Ft&&je){let a=fo.get(e);a||fo.set(e,a=new Map);let o=a.get(s);o||(a.set(s,o=new Xo),o.map=a,o.key=s),o.track()}}function Xt(e,t,s,a,o,l){const r=fo.get(e);if(!r){ma++;return}const i=d=>{d&&d.trigger()};if(qo(),t==="clear")r.forEach(i);else{const d=xe(e),f=d&&Go(s);if(d&&s==="length"){const c=Number(a);r.forEach((u,v)=>{(v==="length"||v===ba||!fs(v)&&v>=c)&&i(u)})}else switch((s!==void 0||r.has(void 0))&&i(r.get(s)),f&&i(r.get(ba)),t){case"add":d?f&&i(r.get("length")):(i(r.get(As)),Vs(e)&&i(r.get(vo)));break;case"delete":d||(i(r.get(As)),Vs(e)&&i(r.get(vo)));break;case"set":Vs(e)&&i(r.get(As));break}}Uo()}function Ps(e){const t=Ve(e);return t===e?t:(at(t,"iterate",ba),It(e)?t:t.map(et))}function En(e){return at(e=Ve(e),"iterate",ba),e}const Bu={__proto__:null,[Symbol.iterator](){return Hn(this,Symbol.iterator,et)},concat(...e){return Ps(this).concat(...e.map(t=>xe(t)?Ps(t):t))},entries(){return Hn(this,"entries",e=>(e[1]=et(e[1]),e))},every(e,t){return Ht(this,"every",e,t,void 0,arguments)},filter(e,t){return Ht(this,"filter",e,t,s=>s.map(et),arguments)},find(e,t){return Ht(this,"find",e,t,et,arguments)},findIndex(e,t){return Ht(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ht(this,"findLast",e,t,et,arguments)},findLastIndex(e,t){return Ht(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ht(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gn(this,"includes",e)},indexOf(...e){return Gn(this,"indexOf",e)},join(e){return Ps(this).join(e)},lastIndexOf(...e){return Gn(this,"lastIndexOf",e)},map(e,t){return Ht(this,"map",e,t,void 0,arguments)},pop(){return qs(this,"pop")},push(...e){return qs(this,"push",e)},reduce(e,...t){return Cl(this,"reduce",e,t)},reduceRight(e,...t){return Cl(this,"reduceRight",e,t)},shift(){return qs(this,"shift")},some(e,t){return Ht(this,"some",e,t,void 0,arguments)},splice(...e){return qs(this,"splice",e)},toReversed(){return Ps(this).toReversed()},toSorted(e){return Ps(this).toSorted(e)},toSpliced(...e){return Ps(this).toSpliced(...e)},unshift(...e){return qs(this,"unshift",e)},values(){return Hn(this,"values",et)}};function Hn(e,t,s){const a=En(e),o=a[t]();return a!==e&&!It(e)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.value&&(l.value=s(l.value)),l}),o}const Vu=Array.prototype;function Ht(e,t,s,a,o,l){const r=En(e),i=r!==e&&!It(e),d=r[t];if(d!==Vu[t]){const u=d.apply(e,l);return i?et(u):u}let f=s;r!==e&&(i?f=function(u,v){return s.call(this,et(u),v,e)}:s.length>2&&(f=function(u,v){return s.call(this,u,v,e)}));const c=d.call(r,f,a);return i&&o?o(c):c}function Cl(e,t,s,a){const o=En(e);let l=s;return o!==e&&(It(e)?s.length>3&&(l=function(r,i,d){return s.call(this,r,i,d,e)}):l=function(r,i,d){return s.call(this,r,et(i),d,e)}),o[t](l,...a)}function Gn(e,t,s){const a=Ve(e);at(a,"iterate",ba);const o=a[t](...s);return(o===-1||o===!1)&&Jo(s[0])?(s[0]=Ve(s[0]),a[t](...s)):o}function qs(e,t,s=[]){Jt(),qo();const a=Ve(e)[t].apply(e,s);return Uo(),Zt(),a}const Lu=Yo("__proto__,__v_isRef,__isVue"),ui=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fs));function Ou(e){fs(e)||(e=String(e));const t=Ve(this);return at(t,"has",e),t.hasOwnProperty(e)}class di{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return l;if(s==="__v_raw")return a===(o?l?Xu:pi:l?hi:vi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const r=xe(t);if(!o){let d;if(r&&(d=Bu[s]))return d;if(s==="hasOwnProperty")return Ou}const i=Reflect.get(t,s,ot(t)?t:a);return(fs(s)?ui.has(s):Lu(s))||(o||at(t,"get",s),l)?i:ot(i)?r&&Go(s)?i:i.value:Ge(i)?o?mi(i):Pn(i):i}}class fi extends di{constructor(t=!1){super(!1,t)}set(t,s,a,o){let l=t[s];if(!this._isShallow){const d=us(l);if(!It(a)&&!us(a)&&(l=Ve(l),a=Ve(a)),!xe(t)&&ot(l)&&!ot(a))return d||(l.value=a),!0}const r=xe(t)&&Go(s)?Number(s)<t.length:Ne(t,s),i=Reflect.set(t,s,a,ot(t)?t:o);return t===Ve(o)&&(r?cs(a,l)&&Xt(t,"set",s,a):Xt(t,"add",s,a)),i}deleteProperty(t,s){const a=Ne(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&a&&Xt(t,"delete",s,void 0),o}has(t,s){const a=Reflect.has(t,s);return(!fs(s)||!ui.has(s))&&at(t,"has",s),a}ownKeys(t){return at(t,"iterate",xe(t)?"length":As),Reflect.ownKeys(t)}}class Nu extends di{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const zu=new fi,Yu=new Nu,ju=new fi(!0);const ho=e=>e,Va=e=>Reflect.getPrototypeOf(e);function Hu(e,t,s){return function(...a){const o=this.__v_raw,l=Ve(o),r=Vs(l),i=e==="entries"||e===Symbol.iterator&&r,d=e==="keys"&&r,f=o[e](...a),c=s?ho:t?en:et;return!t&&at(l,"iterate",d?vo:As),{next(){const{value:u,done:v}=f.next();return v?{value:u,done:v}:{value:i?[c(u[0]),c(u[1])]:c(u),done:v}},[Symbol.iterator](){return this}}}}function La(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gu(e,t){const s={get(o){const l=this.__v_raw,r=Ve(l),i=Ve(o);e||(cs(o,i)&&at(r,"get",o),at(r,"get",i));const{has:d}=Va(r),f=t?ho:e?en:et;if(d.call(r,o))return f(l.get(o));if(d.call(r,i))return f(l.get(i));l!==r&&l.get(o)},get size(){const o=this.__v_raw;return!e&&at(Ve(o),"iterate",As),o.size},has(o){const l=this.__v_raw,r=Ve(l),i=Ve(o);return e||(cs(o,i)&&at(r,"has",o),at(r,"has",i)),o===i?l.has(o):l.has(o)||l.has(i)},forEach(o,l){const r=this,i=r.__v_raw,d=Ve(i),f=t?ho:e?en:et;return!e&&at(d,"iterate",As),i.forEach((c,u)=>o.call(l,f(c),f(u),r))}};return Je(s,e?{add:La("add"),set:La("set"),delete:La("delete"),clear:La("clear")}:{add(o){!t&&!It(o)&&!us(o)&&(o=Ve(o));const l=Ve(this);return Va(l).has.call(l,o)||(l.add(o),Xt(l,"add",o,o)),this},set(o,l){!t&&!It(l)&&!us(l)&&(l=Ve(l));const r=Ve(this),{has:i,get:d}=Va(r);let f=i.call(r,o);f||(o=Ve(o),f=i.call(r,o));const c=d.call(r,o);return r.set(o,l),f?cs(l,c)&&Xt(r,"set",o,l):Xt(r,"add",o,l),this},delete(o){const l=Ve(this),{has:r,get:i}=Va(l);let d=r.call(l,o);d||(o=Ve(o),d=r.call(l,o)),i&&i.call(l,o);const f=l.delete(o);return d&&Xt(l,"delete",o,void 0),f},clear(){const o=Ve(this),l=o.size!==0,r=o.clear();return l&&Xt(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Hu(o,e,t)}),s}function Qo(e,t){const s=Gu(e,t);return(a,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?a:Reflect.get(Ne(s,o)&&o in a?s:a,o,l)}const qu={get:Qo(!1,!1)},Uu={get:Qo(!1,!0)},Wu={get:Qo(!0,!1)};const vi=new WeakMap,hi=new WeakMap,pi=new WeakMap,Xu=new WeakMap;function Qu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ku(e){return e.__v_skip||!Object.isExtensible(e)?0:Qu(Cu(e))}function Pn(e){return us(e)?e:Ko(e,!1,zu,qu,vi)}function gi(e){return Ko(e,!1,ju,Uu,hi)}function mi(e){return Ko(e,!0,Yu,Wu,pi)}function Ko(e,t,s,a,o){if(!Ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Ku(e);if(l===0)return e;const r=o.get(e);if(r)return r;const i=new Proxy(e,l===2?a:s);return o.set(e,i),i}function Ls(e){return us(e)?Ls(e.__v_raw):!!(e&&e.__v_isReactive)}function us(e){return!!(e&&e.__v_isReadonly)}function It(e){return!!(e&&e.__v_isShallow)}function Jo(e){return e?!!e.__v_raw:!1}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function Ju(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&Jr(e,"__v_skip",!0),e}const et=e=>Ge(e)?Pn(e):e,en=e=>Ge(e)?mi(e):e;function ot(e){return e?e.__v_isRef===!0:!1}function j(e){return bi(e,!1)}function Zu(e){return bi(e,!0)}function bi(e,t){return ot(e)?e:new ed(e,t)}class ed{constructor(t,s){this.dep=new Xo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ve(t),this._value=s?t:et(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||It(t)||us(t);t=a?t:Ve(t),cs(t,s)&&(this._rawValue=t,this._value=a?t:et(t),this.dep.trigger())}}function X(e){return ot(e)?e.value:e}const td={get:(e,t,s)=>t==="__v_raw"?e:X(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const o=e[t];return ot(o)&&!ot(s)?(o.value=s,!0):Reflect.set(e,t,s,a)}};function yi(e){return Ls(e)?e:new Proxy(e,td)}class sd{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Xo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ma-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return ni(this,!0),!0}get value(){const t=this.dep.track();return ri(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ad(e,t,s=!1){let a,o;return Ie(e)?a=e:(a=e.get,o=e.set),new sd(a,o,s)}const Oa={},tn=new WeakMap;let bs;function nd(e,t=!1,s=bs){if(s){let a=tn.get(s);a||tn.set(s,a=[]),a.push(e)}}function od(e,t,s=Ye){const{immediate:a,deep:o,once:l,scheduler:r,augmentJob:i,call:d}=s,f=k=>o?k:It(k)||o===!1||o===0?Qt(k,1):Qt(k);let c,u,v,h,C=!1,$=!1;if(ot(e)?(u=()=>e.value,C=It(e)):Ls(e)?(u=()=>f(e),C=!0):xe(e)?($=!0,C=e.some(k=>Ls(k)||It(k)),u=()=>e.map(k=>{if(ot(k))return k.value;if(Ls(k))return f(k);if(Ie(k))return d?d(k,2):k()})):Ie(e)?t?u=d?()=>d(e,2):e:u=()=>{if(v){Jt();try{v()}finally{Zt()}}const k=bs;bs=c;try{return d?d(e,3,[h]):e(h)}finally{bs=k}}:u=Pt,t&&o){const k=u,H=o===!0?1/0:o;u=()=>Qt(k(),H)}const g=Du(),y=()=>{c.stop(),g&&g.active&&Ho(g.effects,c)};if(l&&t){const k=t;t=(...H)=>{k(...H),y()}}let b=$?new Array(e.length).fill(Oa):Oa;const w=k=>{if(!(!(c.flags&1)||!c.dirty&&!k))if(t){const H=c.run();if(o||C||($?H.some((A,_)=>cs(A,b[_])):cs(H,b))){v&&v();const A=bs;bs=c;try{const _=[H,b===Oa?void 0:$&&b[0]===Oa?[]:b,h];b=H,d?d(t,3,_):t(..._)}finally{bs=A}}}else c.run()};return i&&i(w),c=new si(u),c.scheduler=r?()=>r(w,!1):w,h=k=>nd(k,!1,c),v=c.onStop=()=>{const k=tn.get(c);if(k){if(d)d(k,4);else for(const H of k)H();tn.delete(c)}},t?a?w(!0):b=c.run():r?r(w.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Qt(e,t=1/0,s){if(t<=0||!Ge(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,ot(e))Qt(e.value,t,s);else if(xe(e))for(let a=0;a<e.length;a++)Qt(e[a],t,s);else if(Wr(e)||Vs(e))e.forEach(a=>{Qt(a,t,s)});else if(Kr(e)){for(const a in e)Qt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Qt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ea(e,t,s,a){try{return a?e(...a):e()}catch(o){Fn(o,t,s)}}function Dt(e,t,s,a){if(Ie(e)){const o=Ea(e,t,s,a);return o&&Xr(o)&&o.catch(l=>{Fn(l,t,s)}),o}if(xe(e)){const o=[];for(let l=0;l<e.length;l++)o.push(Dt(e[l],t,s,a));return o}}function Fn(e,t,s,a=!0){const o=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Ye;if(t){let i=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,d,f)===!1)return}i=i.parent}if(l){Jt(),Ea(l,null,10,[e,d,f]),Zt();return}}ld(e,s,o,a,r)}function ld(e,t,s,a=!0,o=!1){if(o)throw e;console.error(e)}const ct=[];let Vt=-1;const Os=[];let os=null,Fs=0;const Ai=Promise.resolve();let sn=null;function ze(e){const t=sn||Ai;return e?t.then(this?e.bind(this):e):t}function rd(e){let t=Vt+1,s=ct.length;for(;t<s;){const a=t+s>>>1,o=ct[a],l=ya(o);l<e||l===e&&o.flags&2?t=a+1:s=a}return t}function Zo(e){if(!(e.flags&1)){const t=ya(e),s=ct[ct.length-1];!s||!(e.flags&2)&&t>=ya(s)?ct.push(e):ct.splice(rd(t),0,e),e.flags|=1,Ci()}}function Ci(){sn||(sn=Ai.then(Si))}function wi(e){xe(e)?Os.push(...e):os&&e.id===-1?os.splice(Fs+1,0,e):e.flags&1||(Os.push(e),e.flags|=1),Ci()}function wl(e,t,s=Vt+1){for(;s<ct.length;s++){const a=ct[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;ct.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function _i(e){if(Os.length){const t=[...new Set(Os)].sort((s,a)=>ya(s)-ya(a));if(Os.length=0,os){os.push(...t);return}for(os=t,Fs=0;Fs<os.length;Fs++){const s=os[Fs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}os=null,Fs=0}}const ya=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Si(e){try{for(Vt=0;Vt<ct.length;Vt++){const t=ct[Vt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ea(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vt<ct.length;Vt++){const t=ct[Vt];t&&(t.flags&=-2)}Vt=-1,ct.length=0,_i(),sn=null,(ct.length||Os.length)&&Si()}}let bt=null,ki=null;function an(e){const t=bt;return bt=e,ki=e&&e.type.__scopeId||null,t}function ut(e,t=bt,s){if(!t||e._n)return e;const a=(...o)=>{a._d&&ln(-1);const l=an(t);let r;try{r=e(...o)}finally{an(l),a._d&&ln(1)}return r};return a._n=!0,a._c=!0,a._d=!0,a}function Cs(e,t){if(bt===null)return e;const s=Vn(bt),a=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[l,r,i,d=Ye]=t[o];l&&(Ie(l)&&(l={mounted:l,updated:l}),l.deep&&Qt(r),a.push({dir:l,instance:s,value:r,oldValue:void 0,arg:i,modifiers:d}))}return e}function hs(e,t,s,a){const o=e.dirs,l=t&&t.dirs;for(let r=0;r<o.length;r++){const i=o[r];l&&(i.oldValue=l[r].value);let d=i.dir[a];d&&(Jt(),Dt(d,s,8,[e.el,i,e,t]),Zt())}}const $i=Symbol("_vte"),xi=e=>e.__isTeleport,ia=e=>e&&(e.disabled||e.disabled===""),_l=e=>e&&(e.defer||e.defer===""),Sl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,kl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,po=(e,t)=>{const s=e&&e.to;return Ue(s)?t?t(s):null:s},Ii={name:"Teleport",__isTeleport:!0,process(e,t,s,a,o,l,r,i,d,f){const{mc:c,pc:u,pbc:v,o:{insert:h,querySelector:C,createText:$,createComment:g}}=f,y=ia(t.props);let{shapeFlag:b,children:w,dynamicChildren:k}=t;if(e==null){const H=t.el=$(""),A=t.anchor=$("");h(H,s,a),h(A,s,a);const _=(D,M)=>{b&16&&(o&&o.isCE&&(o.ce._teleportTarget=D),c(w,D,M,o,l,r,i,d))},F=()=>{const D=t.target=po(t.props,C),M=Ei(D,t,$,h);D&&(r!=="svg"&&Sl(D)?r="svg":r!=="mathml"&&kl(D)&&(r="mathml"),y||(_(D,M),Wa(t,!1)))};y&&(_(s,A),Wa(t,!0)),_l(t.props)?(t.el.__isMounted=!1,it(()=>{F(),delete t.el.__isMounted},l)):F()}else{if(_l(t.props)&&e.el.__isMounted===!1){it(()=>{Ii.process(e,t,s,a,o,l,r,i,d,f)},l);return}t.el=e.el,t.targetStart=e.targetStart;const H=t.anchor=e.anchor,A=t.target=e.target,_=t.targetAnchor=e.targetAnchor,F=ia(e.props),D=F?s:A,M=F?H:_;if(r==="svg"||Sl(A)?r="svg":(r==="mathml"||kl(A))&&(r="mathml"),k?(v(e.dynamicChildren,k,D,o,l,r,i),nl(e,t,!0)):d||u(e,t,D,M,o,l,r,i,!1),y)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Na(t,s,H,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=po(t.props,C);E&&Na(t,E,null,f,0)}else F&&Na(t,A,_,f,1);Wa(t,y)}},remove(e,t,s,{um:a,o:{remove:o}},l){const{shapeFlag:r,children:i,anchor:d,targetStart:f,targetAnchor:c,target:u,props:v}=e;if(u&&(o(f),o(c)),l&&o(d),r&16){const h=l||!ia(v);for(let C=0;C<i.length;C++){const $=i[C];a($,t,s,h,!!$.dynamicChildren)}}},move:Na,hydrate:id};function Na(e,t,s,{o:{insert:a},m:o},l=2){l===0&&a(e.targetAnchor,t,s);const{el:r,anchor:i,shapeFlag:d,children:f,props:c}=e,u=l===2;if(u&&a(r,t,s),(!u||ia(c))&&d&16)for(let v=0;v<f.length;v++)o(f[v],t,s,2);u&&a(i,t,s)}function id(e,t,s,a,o,l,{o:{nextSibling:r,parentNode:i,querySelector:d,insert:f,createText:c}},u){function v($,g,y,b){g.anchor=u(r($),g,i($),s,a,o,l),g.targetStart=y,g.targetAnchor=b}const h=t.target=po(t.props,d),C=ia(t.props);if(h){const $=h._lpa||h.firstChild;if(t.shapeFlag&16)if(C)v(e,t,$,$&&r($));else{t.anchor=r(e);let g=$;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&r(t.targetAnchor);break}}g=r(g)}t.targetAnchor||Ei(h,t,c,f),u($&&r($),t,h,s,a,o,l)}Wa(t,C)}else C&&t.shapeFlag&16&&v(e,t,e,r(e));return t.anchor&&r(t.anchor)}const jt=Ii;function Wa(e,t){const s=e.ctx;if(s&&s.ut){let a,o;for(t?(a=e.el,o=e.anchor):(a=e.targetStart,o=e.targetAnchor);a&&a!==o;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function Ei(e,t,s,a){const o=t.targetStart=s(""),l=t.targetAnchor=s("");return o[$i]=l,e&&(a(o,e),a(l,e)),l}const Wt=Symbol("_leaveCb"),za=Symbol("_enterCb");function Pi(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Le(()=>{e.isMounted=!0}),tl(()=>{e.isUnmounting=!0}),e}const St=[Function,Array],Fi={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:St,onEnter:St,onAfterEnter:St,onEnterCancelled:St,onBeforeLeave:St,onLeave:St,onAfterLeave:St,onLeaveCancelled:St,onBeforeAppear:St,onAppear:St,onAfterAppear:St,onAppearCancelled:St},Mi=e=>{const t=e.subTree;return t.component?Mi(t.component):t},cd={name:"BaseTransition",props:Fi,setup(e,{slots:t}){const s=Bn(),a=Pi();return()=>{const o=t.default&&el(t.default(),!0);if(!o||!o.length)return;const l=Di(o),r=Ve(e),{mode:i}=r;if(a.isLeaving)return qn(l);const d=$l(l);if(!d)return qn(l);let f=Aa(d,r,a,s,u=>f=u);d.type!==dt&&ws(d,f);let c=s.subTree&&$l(s.subTree);if(c&&c.type!==dt&&!ys(c,d)&&Mi(s).type!==dt){let u=Aa(c,r,a,s);if(ws(c,u),i==="out-in"&&d.type!==dt)return a.isLeaving=!0,u.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete u.afterLeave,c=void 0},qn(l);i==="in-out"&&d.type!==dt?u.delayLeave=(v,h,C)=>{const $=Ti(a,c);$[String(c.key)]=c,v[Wt]=()=>{h(),v[Wt]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{C(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return l}}};function Di(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==dt){t=s;break}}return t}const ud=cd;function Ti(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function Aa(e,t,s,a,o){const{appear:l,mode:r,persisted:i=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:v,onLeave:h,onAfterLeave:C,onLeaveCancelled:$,onBeforeAppear:g,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,k=String(e.key),H=Ti(s,e),A=(D,M)=>{D&&Dt(D,a,9,M)},_=(D,M)=>{const E=M[1];A(D,M),xe(D)?D.every(I=>I.length<=1)&&E():D.length<=1&&E()},F={mode:r,persisted:i,beforeEnter(D){let M=d;if(!s.isMounted)if(l)M=g||d;else return;D[Wt]&&D[Wt](!0);const E=H[k];E&&ys(e,E)&&E.el[Wt]&&E.el[Wt](),A(M,[D])},enter(D){let M=f,E=c,I=u;if(!s.isMounted)if(l)M=y||f,E=b||c,I=w||u;else return;let P=!1;const B=D[za]=T=>{P||(P=!0,T?A(I,[D]):A(E,[D]),F.delayedLeave&&F.delayedLeave(),D[za]=void 0)};M?_(M,[D,B]):B()},leave(D,M){const E=String(e.key);if(D[za]&&D[za](!0),s.isUnmounting)return M();A(v,[D]);let I=!1;const P=D[Wt]=B=>{I||(I=!0,M(),B?A($,[D]):A(C,[D]),D[Wt]=void 0,H[E]===e&&delete H[E])};H[E]=e,h?_(h,[D,P]):P()},clone(D){const M=Aa(D,t,s,a,o);return o&&o(M),M}};return F}function qn(e){if(Mn(e))return e=ds(e),e.children=null,e}function $l(e){if(!Mn(e))return xi(e.type)&&e.children?Di(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Ie(s.default))return s.default()}}function ws(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ws(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function el(e,t=!1,s){let a=[],o=0;for(let l=0;l<e.length;l++){let r=e[l];const i=s==null?r.key:String(s)+String(r.key!=null?r.key:l);r.type===me?(r.patchFlag&128&&o++,a=a.concat(el(r.children,t,i))):(t||r.type!==dt)&&a.push(i!=null?ds(r,{key:i}):r)}if(o>1)for(let l=0;l<a.length;l++)a[l].patchFlag=-2;return a}function Ri(e,t){return Ie(e)?Je({name:e.name},t,{setup:e}):e}function Bi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const nn=new WeakMap;function ca(e,t,s,a,o=!1){if(xe(e)){e.forEach((C,$)=>ca(C,t&&(xe(t)?t[$]:t),s,a,o));return}if(ua(a)&&!o){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&ca(e,t,s,a.component.subTree);return}const l=a.shapeFlag&4?Vn(a.component):a.el,r=o?null:l,{i,r:d}=e,f=t&&t.r,c=i.refs===Ye?i.refs={}:i.refs,u=i.setupState,v=Ve(u),h=u===Ye?Ur:C=>Ne(v,C);if(f!=null&&f!==d){if(xl(t),Ue(f))c[f]=null,h(f)&&(u[f]=null);else if(ot(f)){f.value=null;const C=t;C.k&&(c[C.k]=null)}}if(Ie(d))Ea(d,i,12,[r,c]);else{const C=Ue(d),$=ot(d);if(C||$){const g=()=>{if(e.f){const y=C?h(d)?u[d]:c[d]:d.value;if(o)xe(y)&&Ho(y,l);else if(xe(y))y.includes(l)||y.push(l);else if(C)c[d]=[l],h(d)&&(u[d]=c[d]);else{const b=[l];d.value=b,e.k&&(c[e.k]=b)}}else C?(c[d]=r,h(d)&&(u[d]=r)):$&&(d.value=r,e.k&&(c[e.k]=r))};if(r){const y=()=>{g(),nn.delete(e)};y.id=-1,nn.set(e,y),it(y,s)}else xl(e),g()}}}function xl(e){const t=nn.get(e);t&&(t.flags|=8,nn.delete(e))}In().requestIdleCallback;In().cancelIdleCallback;const ua=e=>!!e.type.__asyncLoader,Mn=e=>e.type.__isKeepAlive;function dd(e,t){Vi(e,"a",t)}function fd(e,t){Vi(e,"da",t)}function Vi(e,t,s=nt){const a=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Dn(t,a,s),s){let o=s.parent;for(;o&&o.parent;)Mn(o.parent.vnode)&&vd(a,t,s,o),o=o.parent}}function vd(e,t,s,a){const o=Dn(t,e,a,!0);Pa(()=>{Ho(a[t],o)},s)}function Dn(e,t,s=nt,a=!1){if(s){const o=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...r)=>{Jt();const i=Fa(s),d=Dt(t,s,e,r);return i(),Zt(),d});return a?o.unshift(l):o.push(l),l}}const es=e=>(t,s=nt)=>{(!wa||e==="sp")&&Dn(e,(...a)=>t(...a),s)},hd=es("bm"),Le=es("m"),Li=es("bu"),Oi=es("u"),tl=es("bum"),Pa=es("um"),pd=es("sp"),gd=es("rtg"),md=es("rtc");function bd(e,t=nt){Dn("ec",e,t)}const Ni="components";function zi(e,t){return Hi(Ni,e,!0,t)||e}const Yi=Symbol.for("v-ndc");function ji(e){return Ue(e)?Hi(Ni,e,!1)||e:e||Yi}function Hi(e,t,s=!0,a=!1){const o=bt||nt;if(o){const l=o.type;{const i=of(l,!1);if(i&&(i===t||i===Et(t)||i===xn(Et(t))))return l}const r=Il(o[e]||l[e],t)||Il(o.appContext[e],t);return!r&&a?l:r}}function Il(e,t){return e&&(e[t]||e[Et(t)]||e[xn(Et(t))])}function _e(e,t,s,a){let o;const l=s,r=xe(e);if(r||Ue(e)){const i=r&&Ls(e);let d=!1,f=!1;i&&(d=!It(e),f=us(e),e=En(e)),o=new Array(e.length);for(let c=0,u=e.length;c<u;c++)o[c]=t(d?f?en(et(e[c])):et(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,l)}else if(Ge(e))if(e[Symbol.iterator])o=Array.from(e,(i,d)=>t(i,d,void 0,l));else{const i=Object.keys(e);o=new Array(i.length);for(let d=0,f=i.length;d<f;d++){const c=i[d];o[d]=t(e[c],c,d,l)}}else o=[];return o}const go=e=>e?cc(e)?Vn(e):go(e.parent):null,da=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>go(e.parent),$root:e=>go(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>qi(e),$forceUpdate:e=>e.f||(e.f=()=>{Zo(e.update)}),$nextTick:e=>e.n||(e.n=ze.bind(e.proxy)),$watch:e=>Od.bind(e)}),Un=(e,t)=>e!==Ye&&!e.__isScriptSetup&&Ne(e,t),yd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:o,props:l,accessCache:r,type:i,appContext:d}=e;let f;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return a[t];case 2:return o[t];case 4:return s[t];case 3:return l[t]}else{if(Un(a,t))return r[t]=1,a[t];if(o!==Ye&&Ne(o,t))return r[t]=2,o[t];if((f=e.propsOptions[0])&&Ne(f,t))return r[t]=3,l[t];if(s!==Ye&&Ne(s,t))return r[t]=4,s[t];mo&&(r[t]=0)}}const c=da[t];let u,v;if(c)return t==="$attrs"&&at(e.attrs,"get",""),c(e);if((u=i.__cssModules)&&(u=u[t]))return u;if(s!==Ye&&Ne(s,t))return r[t]=4,s[t];if(v=d.config.globalProperties,Ne(v,t))return v[t]},set({_:e},t,s){const{data:a,setupState:o,ctx:l}=e;return Un(o,t)?(o[t]=s,!0):a!==Ye&&Ne(a,t)?(a[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:o,propsOptions:l,type:r}},i){let d,f;return!!(s[i]||e!==Ye&&i[0]!=="$"&&Ne(e,i)||Un(t,i)||(d=l[0])&&Ne(d,i)||Ne(a,i)||Ne(da,i)||Ne(o.config.globalProperties,i)||(f=r.__cssModules)&&f[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function El(e){return xe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let mo=!0;function Ad(e){const t=qi(e),s=e.proxy,a=e.ctx;mo=!1,t.beforeCreate&&Pl(t.beforeCreate,e,"bc");const{data:o,computed:l,methods:r,watch:i,provide:d,inject:f,created:c,beforeMount:u,mounted:v,beforeUpdate:h,updated:C,activated:$,deactivated:g,beforeDestroy:y,beforeUnmount:b,destroyed:w,unmounted:k,render:H,renderTracked:A,renderTriggered:_,errorCaptured:F,serverPrefetch:D,expose:M,inheritAttrs:E,components:I,directives:P,filters:B}=t;if(f&&Cd(f,a,null),r)for(const Q in r){const Z=r[Q];Ie(Z)&&(a[Q]=Z.bind(s))}if(o){const Q=o.call(s,s);Ge(Q)&&(e.data=Pn(Q))}if(mo=!0,l)for(const Q in l){const Z=l[Q],re=Ie(Z)?Z.bind(s,s):Ie(Z.get)?Z.get.bind(s,s):Pt,he=!Ie(Z)&&Ie(Z.set)?Z.set.bind(s):Pt,be=N({get:re,set:he});Object.defineProperty(a,Q,{enumerable:!0,configurable:!0,get:()=>be.value,set:ne=>be.value=ne})}if(i)for(const Q in i)Gi(i[Q],a,s,Q);if(d){const Q=Ie(d)?d.call(s):d;Reflect.ownKeys(Q).forEach(Z=>{Xa(Z,Q[Z])})}c&&Pl(c,e,"c");function q(Q,Z){xe(Z)?Z.forEach(re=>Q(re.bind(s))):Z&&Q(Z.bind(s))}if(q(hd,u),q(Le,v),q(Li,h),q(Oi,C),q(dd,$),q(fd,g),q(bd,F),q(md,A),q(gd,_),q(tl,b),q(Pa,k),q(pd,D),xe(M))if(M.length){const Q=e.exposed||(e.exposed={});M.forEach(Z=>{Object.defineProperty(Q,Z,{get:()=>s[Z],set:re=>s[Z]=re,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===Pt&&(e.render=H),E!=null&&(e.inheritAttrs=E),I&&(e.components=I),P&&(e.directives=P),D&&Bi(e)}function Cd(e,t,s=Pt){xe(e)&&(e=bo(e));for(const a in e){const o=e[a];let l;Ge(o)?"default"in o?l=Mt(o.from||a,o.default,!0):l=Mt(o.from||a):l=Mt(o),ot(l)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:r=>l.value=r}):t[a]=l}}function Pl(e,t,s){Dt(xe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function Gi(e,t,s,a){let o=a.includes(".")?nc(s,a):()=>s[a];if(Ue(e)){const l=t[e];Ie(l)&&Ce(o,l)}else if(Ie(e))Ce(o,e.bind(s));else if(Ge(e))if(xe(e))e.forEach(l=>Gi(l,t,s,a));else{const l=Ie(e.handler)?e.handler.bind(s):t[e.handler];Ie(l)&&Ce(o,l,e)}}function qi(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:o,optionsCache:l,config:{optionMergeStrategies:r}}=e.appContext,i=l.get(t);let d;return i?d=i:!o.length&&!s&&!a?d=t:(d={},o.length&&o.forEach(f=>on(d,f,r,!0)),on(d,t,r)),Ge(t)&&l.set(t,d),d}function on(e,t,s,a=!1){const{mixins:o,extends:l}=t;l&&on(e,l,s,!0),o&&o.forEach(r=>on(e,r,s,!0));for(const r in t)if(!(a&&r==="expose")){const i=wd[r]||s&&s[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const wd={data:Fl,props:Ml,emits:Ml,methods:Zs,computed:Zs,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:Zs,directives:Zs,watch:Sd,provide:Fl,inject:_d};function Fl(e,t){return t?e?function(){return Je(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function _d(e,t){return Zs(bo(e),bo(t))}function bo(e){if(xe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function rt(e,t){return e?[...new Set([].concat(e,t))]:t}function Zs(e,t){return e?Je(Object.create(null),e,t):t}function Ml(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:Je(Object.create(null),El(e),El(t??{})):t}function Sd(e,t){if(!e)return t;if(!t)return e;const s=Je(Object.create(null),e);for(const a in t)s[a]=rt(e[a],t[a]);return s}function Ui(){return{app:null,config:{isNativeTag:Ur,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kd=0;function $d(e,t){return function(a,o=null){Ie(a)||(a=Je({},a)),o!=null&&!Ge(o)&&(o=null);const l=Ui(),r=new WeakSet,i=[];let d=!1;const f=l.app={_uid:kd++,_component:a,_props:o,_container:null,_context:l,_instance:null,version:rf,get config(){return l.config},set config(c){},use(c,...u){return r.has(c)||(c&&Ie(c.install)?(r.add(c),c.install(f,...u)):Ie(c)&&(r.add(c),c(f,...u))),f},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),f},component(c,u){return u?(l.components[c]=u,f):l.components[c]},directive(c,u){return u?(l.directives[c]=u,f):l.directives[c]},mount(c,u,v){if(!d){const h=f._ceVNode||Ae(a,o);return h.appContext=l,v===!0?v="svg":v===!1&&(v=void 0),e(h,c,v),d=!0,f._container=c,c.__vue_app__=f,Vn(h.component)}},onUnmount(c){i.push(c)},unmount(){d&&(Dt(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,u){return l.provides[c]=u,f},runWithContext(c){const u=Ns;Ns=f;try{return c()}finally{Ns=u}}};return f}}let Ns=null;function Xa(e,t){if(nt){let s=nt.provides;const a=nt.parent&&nt.parent.provides;a===s&&(s=nt.provides=Object.create(a)),s[e]=t}}function Mt(e,t,s=!1){const a=Bn();if(a||Ns){let o=Ns?Ns._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&Ie(t)?t.call(a&&a.proxy):t}}const Wi={},Xi=()=>Object.create(Wi),Qi=e=>Object.getPrototypeOf(e)===Wi;function xd(e,t,s,a=!1){const o={},l=Xi();e.propsDefaults=Object.create(null),Ki(e,t,o,l);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);s?e.props=a?o:gi(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function Id(e,t,s,a){const{props:o,attrs:l,vnode:{patchFlag:r}}=e,i=Ve(o),[d]=e.propsOptions;let f=!1;if((a||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let v=c[u];if(Tn(e.emitsOptions,v))continue;const h=t[v];if(d)if(Ne(l,v))h!==l[v]&&(l[v]=h,f=!0);else{const C=Et(v);o[C]=yo(d,i,C,h,e,!1)}else h!==l[v]&&(l[v]=h,f=!0)}}}else{Ki(e,t,o,l)&&(f=!0);let c;for(const u in i)(!t||!Ne(t,u)&&((c=ks(u))===u||!Ne(t,c)))&&(d?s&&(s[u]!==void 0||s[c]!==void 0)&&(o[u]=yo(d,i,u,void 0,e,!0)):delete o[u]);if(l!==i)for(const u in l)(!t||!Ne(t,u))&&(delete l[u],f=!0)}f&&Xt(e.attrs,"set","")}function Ki(e,t,s,a){const[o,l]=e.propsOptions;let r=!1,i;if(t)for(let d in t){if(oa(d))continue;const f=t[d];let c;o&&Ne(o,c=Et(d))?!l||!l.includes(c)?s[c]=f:(i||(i={}))[c]=f:Tn(e.emitsOptions,d)||(!(d in a)||f!==a[d])&&(a[d]=f,r=!0)}if(l){const d=Ve(s),f=i||Ye;for(let c=0;c<l.length;c++){const u=l[c];s[u]=yo(o,d,u,f[u],e,!Ne(f,u))}}return r}function yo(e,t,s,a,o,l){const r=e[s];if(r!=null){const i=Ne(r,"default");if(i&&a===void 0){const d=r.default;if(r.type!==Function&&!r.skipFactory&&Ie(d)){const{propsDefaults:f}=o;if(s in f)a=f[s];else{const c=Fa(o);a=f[s]=d.call(null,t),c()}}else a=d;o.ce&&o.ce._setProp(s,a)}r[0]&&(l&&!i?a=!1:r[1]&&(a===""||a===ks(s))&&(a=!0))}return a}const Ed=new WeakMap;function Ji(e,t,s=!1){const a=s?Ed:t.propsCache,o=a.get(e);if(o)return o;const l=e.props,r={},i=[];let d=!1;if(!Ie(e)){const c=u=>{d=!0;const[v,h]=Ji(u,t,!0);Je(r,v),h&&i.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!d)return Ge(e)&&a.set(e,Bs),Bs;if(xe(l))for(let c=0;c<l.length;c++){const u=Et(l[c]);Dl(u)&&(r[u]=Ye)}else if(l)for(const c in l){const u=Et(c);if(Dl(u)){const v=l[c],h=r[u]=xe(v)||Ie(v)?{type:v}:Je({},v),C=h.type;let $=!1,g=!0;if(xe(C))for(let y=0;y<C.length;++y){const b=C[y],w=Ie(b)&&b.name;if(w==="Boolean"){$=!0;break}else w==="String"&&(g=!1)}else $=Ie(C)&&C.name==="Boolean";h[0]=$,h[1]=g,($||Ne(h,"default"))&&i.push(u)}}const f=[r,i];return Ge(e)&&a.set(e,f),f}function Dl(e){return e[0]!=="$"&&!oa(e)}const sl=e=>e==="_"||e==="_ctx"||e==="$stable",al=e=>xe(e)?e.map(Ot):[Ot(e)],Pd=(e,t,s)=>{if(t._n)return t;const a=ut((...o)=>al(t(...o)),s);return a._c=!1,a},Zi=(e,t,s)=>{const a=e._ctx;for(const o in e){if(sl(o))continue;const l=e[o];if(Ie(l))t[o]=Pd(o,l,a);else if(l!=null){const r=al(l);t[o]=()=>r}}},ec=(e,t)=>{const s=al(t);e.slots.default=()=>s},tc=(e,t,s)=>{for(const a in t)(s||!sl(a))&&(e[a]=t[a])},Fd=(e,t,s)=>{const a=e.slots=Xi();if(e.vnode.shapeFlag&32){const o=t._;o?(tc(a,t,s),s&&Jr(a,"_",o,!0)):Zi(t,a)}else t&&ec(e,t)},Md=(e,t,s)=>{const{vnode:a,slots:o}=e;let l=!0,r=Ye;if(a.shapeFlag&32){const i=t._;i?s&&i===1?l=!1:tc(o,t,s):(l=!t.$stable,Zi(t,o)),r=t}else t&&(ec(e,t),r={default:1});if(l)for(const i in o)!sl(i)&&r[i]==null&&delete o[i]},it=Ud;function Dd(e){return Td(e)}function Td(e,t){const s=In();s.__VUE__=!0;const{insert:a,remove:o,patchProp:l,createElement:r,createText:i,createComment:d,setText:f,setElementText:c,parentNode:u,nextSibling:v,setScopeId:h=Pt,insertStaticContent:C}=e,$=(x,S,V,W=null,J=null,ee=null,ue=void 0,te=null,U=!!S.dynamicChildren)=>{if(x===S)return;x&&!ys(x,S)&&(W=z(x),ne(x,J,ee,!0),x=null),S.patchFlag===-2&&(U=!1,S.dynamicChildren=null);const{type:oe,ref:pe,shapeFlag:fe}=S;switch(oe){case Rn:g(x,S,V,W);break;case dt:y(x,S,V,W);break;case fa:x==null&&b(S,V,W,ue);break;case me:I(x,S,V,W,J,ee,ue,te,U);break;default:fe&1?H(x,S,V,W,J,ee,ue,te,U):fe&6?P(x,S,V,W,J,ee,ue,te,U):(fe&64||fe&128)&&oe.process(x,S,V,W,J,ee,ue,te,U,se)}pe!=null&&J?ca(pe,x&&x.ref,ee,S||x,!S):pe==null&&x&&x.ref!=null&&ca(x.ref,null,ee,x,!0)},g=(x,S,V,W)=>{if(x==null)a(S.el=i(S.children),V,W);else{const J=S.el=x.el;S.children!==x.children&&f(J,S.children)}},y=(x,S,V,W)=>{x==null?a(S.el=d(S.children||""),V,W):S.el=x.el},b=(x,S,V,W)=>{[x.el,x.anchor]=C(x.children,S,V,W,x.el,x.anchor)},w=({el:x,anchor:S},V,W)=>{let J;for(;x&&x!==S;)J=v(x),a(x,V,W),x=J;a(S,V,W)},k=({el:x,anchor:S})=>{let V;for(;x&&x!==S;)V=v(x),o(x),x=V;o(S)},H=(x,S,V,W,J,ee,ue,te,U)=>{S.type==="svg"?ue="svg":S.type==="math"&&(ue="mathml"),x==null?A(S,V,W,J,ee,ue,te,U):D(x,S,J,ee,ue,te,U)},A=(x,S,V,W,J,ee,ue,te)=>{let U,oe;const{props:pe,shapeFlag:fe,transition:ye,dirs:we}=x;if(U=x.el=r(x.type,ee,pe&&pe.is,pe),fe&8?c(U,x.children):fe&16&&F(x.children,U,null,W,J,Wn(x,ee),ue,te),we&&hs(x,null,W,"created"),_(U,x,x.scopeId,ue,W),pe){for(const Fe in pe)Fe!=="value"&&!oa(Fe)&&l(U,Fe,null,pe[Fe],ee,W);"value"in pe&&l(U,"value",null,pe.value,ee),(oe=pe.onVnodeBeforeMount)&&Rt(oe,W,x)}we&&hs(x,null,W,"beforeMount");const Se=Rd(J,ye);Se&&ye.beforeEnter(U),a(U,S,V),((oe=pe&&pe.onVnodeMounted)||Se||we)&&it(()=>{oe&&Rt(oe,W,x),Se&&ye.enter(U),we&&hs(x,null,W,"mounted")},J)},_=(x,S,V,W,J)=>{if(V&&h(x,V),W)for(let ee=0;ee<W.length;ee++)h(x,W[ee]);if(J){let ee=J.subTree;if(S===ee||lc(ee.type)&&(ee.ssContent===S||ee.ssFallback===S)){const ue=J.vnode;_(x,ue,ue.scopeId,ue.slotScopeIds,J.parent)}}},F=(x,S,V,W,J,ee,ue,te,U=0)=>{for(let oe=U;oe<x.length;oe++){const pe=x[oe]=te?ls(x[oe]):Ot(x[oe]);$(null,pe,S,V,W,J,ee,ue,te)}},D=(x,S,V,W,J,ee,ue)=>{const te=S.el=x.el;let{patchFlag:U,dynamicChildren:oe,dirs:pe}=S;U|=x.patchFlag&16;const fe=x.props||Ye,ye=S.props||Ye;let we;if(V&&ps(V,!1),(we=ye.onVnodeBeforeUpdate)&&Rt(we,V,S,x),pe&&hs(S,x,V,"beforeUpdate"),V&&ps(V,!0),(fe.innerHTML&&ye.innerHTML==null||fe.textContent&&ye.textContent==null)&&c(te,""),oe?M(x.dynamicChildren,oe,te,V,W,Wn(S,J),ee):ue||Z(x,S,te,null,V,W,Wn(S,J),ee,!1),U>0){if(U&16)E(te,fe,ye,V,J);else if(U&2&&fe.class!==ye.class&&l(te,"class",null,ye.class,J),U&4&&l(te,"style",fe.style,ye.style,J),U&8){const Se=S.dynamicProps;for(let Fe=0;Fe<Se.length;Fe++){const Me=Se[Fe],Ze=fe[Me],tt=ye[Me];(tt!==Ze||Me==="value")&&l(te,Me,Ze,tt,J,V)}}U&1&&x.children!==S.children&&c(te,S.children)}else!ue&&oe==null&&E(te,fe,ye,V,J);((we=ye.onVnodeUpdated)||pe)&&it(()=>{we&&Rt(we,V,S,x),pe&&hs(S,x,V,"updated")},W)},M=(x,S,V,W,J,ee,ue)=>{for(let te=0;te<S.length;te++){const U=x[te],oe=S[te],pe=U.el&&(U.type===me||!ys(U,oe)||U.shapeFlag&198)?u(U.el):V;$(U,oe,pe,null,W,J,ee,ue,!0)}},E=(x,S,V,W,J)=>{if(S!==V){if(S!==Ye)for(const ee in S)!oa(ee)&&!(ee in V)&&l(x,ee,S[ee],null,J,W);for(const ee in V){if(oa(ee))continue;const ue=V[ee],te=S[ee];ue!==te&&ee!=="value"&&l(x,ee,te,ue,J,W)}"value"in V&&l(x,"value",S.value,V.value,J)}},I=(x,S,V,W,J,ee,ue,te,U)=>{const oe=S.el=x?x.el:i(""),pe=S.anchor=x?x.anchor:i("");let{patchFlag:fe,dynamicChildren:ye,slotScopeIds:we}=S;we&&(te=te?te.concat(we):we),x==null?(a(oe,V,W),a(pe,V,W),F(S.children||[],V,pe,J,ee,ue,te,U)):fe>0&&fe&64&&ye&&x.dynamicChildren?(M(x.dynamicChildren,ye,V,J,ee,ue,te),(S.key!=null||J&&S===J.subTree)&&nl(x,S,!0)):Z(x,S,V,pe,J,ee,ue,te,U)},P=(x,S,V,W,J,ee,ue,te,U)=>{S.slotScopeIds=te,x==null?S.shapeFlag&512?J.ctx.activate(S,V,W,ue,U):B(S,V,W,J,ee,ue,U):T(x,S,U)},B=(x,S,V,W,J,ee,ue)=>{const te=x.component=ef(x,W,J);if(Mn(x)&&(te.ctx.renderer=se),tf(te,!1,ue),te.asyncDep){if(J&&J.registerDep(te,q,ue),!x.el){const U=te.subTree=Ae(dt);y(null,U,S,V),x.placeholder=U.el}}else q(te,x,S,V,J,ee,ue)},T=(x,S,V)=>{const W=S.component=x.component;if(Gd(x,S,V))if(W.asyncDep&&!W.asyncResolved){Q(W,S,V);return}else W.next=S,W.update();else S.el=x.el,W.vnode=S},q=(x,S,V,W,J,ee,ue)=>{const te=()=>{if(x.isMounted){let{next:fe,bu:ye,u:we,parent:Se,vnode:Fe}=x;{const wt=sc(x);if(wt){fe&&(fe.el=Fe.el,Q(x,fe,ue)),wt.asyncDep.then(()=>{x.isUnmounted||te()});return}}let Me=fe,Ze;ps(x,!1),fe?(fe.el=Fe.el,Q(x,fe,ue)):fe=Fe,ye&&Ua(ye),(Ze=fe.props&&fe.props.onVnodeBeforeUpdate)&&Rt(Ze,Se,fe,Fe),ps(x,!0);const tt=Rl(x),Ct=x.subTree;x.subTree=tt,$(Ct,tt,u(Ct.el),z(Ct),x,J,ee),fe.el=tt.el,Me===null&&qd(x,tt.el),we&&it(we,J),(Ze=fe.props&&fe.props.onVnodeUpdated)&&it(()=>Rt(Ze,Se,fe,Fe),J)}else{let fe;const{el:ye,props:we}=S,{bm:Se,m:Fe,parent:Me,root:Ze,type:tt}=x,Ct=ua(S);ps(x,!1),Se&&Ua(Se),!Ct&&(fe=we&&we.onVnodeBeforeMount)&&Rt(fe,Me,S),ps(x,!0);{Ze.ce&&Ze.ce._def.shadowRoot!==!1&&Ze.ce._injectChildStyle(tt);const wt=x.subTree=Rl(x);$(null,wt,V,W,x,J,ee),S.el=wt.el}if(Fe&&it(Fe,J),!Ct&&(fe=we&&we.onVnodeMounted)){const wt=S;it(()=>Rt(fe,Me,wt),J)}(S.shapeFlag&256||Me&&ua(Me.vnode)&&Me.vnode.shapeFlag&256)&&x.a&&it(x.a,J),x.isMounted=!0,S=V=W=null}};x.scope.on();const U=x.effect=new si(te);x.scope.off();const oe=x.update=U.run.bind(U),pe=x.job=U.runIfDirty.bind(U);pe.i=x,pe.id=x.uid,U.scheduler=()=>Zo(pe),ps(x,!0),oe()},Q=(x,S,V)=>{S.component=x;const W=x.vnode.props;x.vnode=S,x.next=null,Id(x,S.props,W,V),Md(x,S.children,V),Jt(),wl(x),Zt()},Z=(x,S,V,W,J,ee,ue,te,U=!1)=>{const oe=x&&x.children,pe=x?x.shapeFlag:0,fe=S.children,{patchFlag:ye,shapeFlag:we}=S;if(ye>0){if(ye&128){he(oe,fe,V,W,J,ee,ue,te,U);return}else if(ye&256){re(oe,fe,V,W,J,ee,ue,te,U);return}}we&8?(pe&16&&K(oe,J,ee),fe!==oe&&c(V,fe)):pe&16?we&16?he(oe,fe,V,W,J,ee,ue,te,U):K(oe,J,ee,!0):(pe&8&&c(V,""),we&16&&F(fe,V,W,J,ee,ue,te,U))},re=(x,S,V,W,J,ee,ue,te,U)=>{x=x||Bs,S=S||Bs;const oe=x.length,pe=S.length,fe=Math.min(oe,pe);let ye;for(ye=0;ye<fe;ye++){const we=S[ye]=U?ls(S[ye]):Ot(S[ye]);$(x[ye],we,V,null,J,ee,ue,te,U)}oe>pe?K(x,J,ee,!0,!1,fe):F(S,V,W,J,ee,ue,te,U,fe)},he=(x,S,V,W,J,ee,ue,te,U)=>{let oe=0;const pe=S.length;let fe=x.length-1,ye=pe-1;for(;oe<=fe&&oe<=ye;){const we=x[oe],Se=S[oe]=U?ls(S[oe]):Ot(S[oe]);if(ys(we,Se))$(we,Se,V,null,J,ee,ue,te,U);else break;oe++}for(;oe<=fe&&oe<=ye;){const we=x[fe],Se=S[ye]=U?ls(S[ye]):Ot(S[ye]);if(ys(we,Se))$(we,Se,V,null,J,ee,ue,te,U);else break;fe--,ye--}if(oe>fe){if(oe<=ye){const we=ye+1,Se=we<pe?S[we].el:W;for(;oe<=ye;)$(null,S[oe]=U?ls(S[oe]):Ot(S[oe]),V,Se,J,ee,ue,te,U),oe++}}else if(oe>ye)for(;oe<=fe;)ne(x[oe],J,ee,!0),oe++;else{const we=oe,Se=oe,Fe=new Map;for(oe=Se;oe<=ye;oe++){const lt=S[oe]=U?ls(S[oe]):Ot(S[oe]);lt.key!=null&&Fe.set(lt.key,oe)}let Me,Ze=0;const tt=ye-Se+1;let Ct=!1,wt=0;const vs=new Array(tt);for(oe=0;oe<tt;oe++)vs[oe]=0;for(oe=we;oe<=fe;oe++){const lt=x[oe];if(Ze>=tt){ne(lt,J,ee,!0);continue}let _t;if(lt.key!=null)_t=Fe.get(lt.key);else for(Me=Se;Me<=ye;Me++)if(vs[Me-Se]===0&&ys(lt,S[Me])){_t=Me;break}_t===void 0?ne(lt,J,ee,!0):(vs[_t-Se]=oe+1,_t>=wt?wt=_t:Ct=!0,$(lt,S[_t],V,null,J,ee,ue,te,U),Ze++)}const Ta=Ct?Bd(vs):Bs;for(Me=Ta.length-1,oe=tt-1;oe>=0;oe--){const lt=Se+oe,_t=S[lt],Ra=S[lt+1],Ba=lt+1<pe?Ra.el||Ra.placeholder:W;vs[oe]===0?$(null,_t,V,Ba,J,ee,ue,te,U):Ct&&(Me<0||oe!==Ta[Me]?be(_t,V,Ba,2):Me--)}}},be=(x,S,V,W,J=null)=>{const{el:ee,type:ue,transition:te,children:U,shapeFlag:oe}=x;if(oe&6){be(x.component.subTree,S,V,W);return}if(oe&128){x.suspense.move(S,V,W);return}if(oe&64){ue.move(x,S,V,se);return}if(ue===me){a(ee,S,V);for(let fe=0;fe<U.length;fe++)be(U[fe],S,V,W);a(x.anchor,S,V);return}if(ue===fa){w(x,S,V);return}if(W!==2&&oe&1&&te)if(W===0)te.beforeEnter(ee),a(ee,S,V),it(()=>te.enter(ee),J);else{const{leave:fe,delayLeave:ye,afterLeave:we}=te,Se=()=>{x.ctx.isUnmounted?o(ee):a(ee,S,V)},Fe=()=>{ee._isLeaving&&ee[Wt](!0),fe(ee,()=>{Se(),we&&we()})};ye?ye(ee,Se,Fe):Fe()}else a(ee,S,V)},ne=(x,S,V,W=!1,J=!1)=>{const{type:ee,props:ue,ref:te,children:U,dynamicChildren:oe,shapeFlag:pe,patchFlag:fe,dirs:ye,cacheIndex:we}=x;if(fe===-2&&(J=!1),te!=null&&(Jt(),ca(te,null,V,x,!0),Zt()),we!=null&&(S.renderCache[we]=void 0),pe&256){S.ctx.deactivate(x);return}const Se=pe&1&&ye,Fe=!ua(x);let Me;if(Fe&&(Me=ue&&ue.onVnodeBeforeUnmount)&&Rt(Me,S,x),pe&6)le(x.component,V,W);else{if(pe&128){x.suspense.unmount(V,W);return}Se&&hs(x,null,S,"beforeUnmount"),pe&64?x.type.remove(x,S,V,se,W):oe&&!oe.hasOnce&&(ee!==me||fe>0&&fe&64)?K(oe,S,V,!1,!0):(ee===me&&fe&384||!J&&pe&16)&&K(U,S,V),W&&ae(x)}(Fe&&(Me=ue&&ue.onVnodeUnmounted)||Se)&&it(()=>{Me&&Rt(Me,S,x),Se&&hs(x,null,S,"unmounted")},V)},ae=x=>{const{type:S,el:V,anchor:W,transition:J}=x;if(S===me){L(V,W);return}if(S===fa){k(x);return}const ee=()=>{o(V),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(x.shapeFlag&1&&J&&!J.persisted){const{leave:ue,delayLeave:te}=J,U=()=>ue(V,ee);te?te(x.el,ee,U):U()}else ee()},L=(x,S)=>{let V;for(;x!==S;)V=v(x),o(x),x=V;o(S)},le=(x,S,V)=>{const{bum:W,scope:J,job:ee,subTree:ue,um:te,m:U,a:oe}=x;Tl(U),Tl(oe),W&&Ua(W),J.stop(),ee&&(ee.flags|=8,ne(ue,x,S,V)),te&&it(te,S),it(()=>{x.isUnmounted=!0},S)},K=(x,S,V,W=!1,J=!1,ee=0)=>{for(let ue=ee;ue<x.length;ue++)ne(x[ue],S,V,W,J)},z=x=>{if(x.shapeFlag&6)return z(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const S=v(x.anchor||x.el),V=S&&S[$i];return V?v(V):S};let Y=!1;const R=(x,S,V)=>{x==null?S._vnode&&ne(S._vnode,null,null,!0):$(S._vnode||null,x,S,null,null,null,V),S._vnode=x,Y||(Y=!0,wl(),_i(),Y=!1)},se={p:$,um:ne,m:be,r:ae,mt:B,mc:F,pc:Z,pbc:M,n:z,o:e};return{render:R,hydrate:void 0,createApp:$d(R)}}function Wn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ps({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Rd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nl(e,t,s=!1){const a=e.children,o=t.children;if(xe(a)&&xe(o))for(let l=0;l<a.length;l++){const r=a[l];let i=o[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=o[l]=ls(o[l]),i.el=r.el),!s&&i.patchFlag!==-2&&nl(r,i)),i.type===Rn&&i.patchFlag!==-1&&(i.el=r.el),i.type===dt&&!i.el&&(i.el=r.el)}}function Bd(e){const t=e.slice(),s=[0];let a,o,l,r,i;const d=e.length;for(a=0;a<d;a++){const f=e[a];if(f!==0){if(o=s[s.length-1],e[o]<f){t[a]=o,s.push(a);continue}for(l=0,r=s.length-1;l<r;)i=l+r>>1,e[s[i]]<f?l=i+1:r=i;f<e[s[l]]&&(l>0&&(t[a]=s[l-1]),s[l]=a)}}for(l=s.length,r=s[l-1];l-- >0;)s[l]=r,r=t[r];return s}function sc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sc(t)}function Tl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Vd=Symbol.for("v-scx"),Ld=()=>Mt(Vd);function Ce(e,t,s){return ac(e,t,s)}function ac(e,t,s=Ye){const{immediate:a,deep:o,flush:l,once:r}=s,i=Je({},s),d=t&&a||!t&&l!=="post";let f;if(wa){if(l==="sync"){const h=Ld();f=h.__watcherHandles||(h.__watcherHandles=[])}else if(!d){const h=()=>{};return h.stop=Pt,h.resume=Pt,h.pause=Pt,h}}const c=nt;i.call=(h,C,$)=>Dt(h,c,C,$);let u=!1;l==="post"?i.scheduler=h=>{it(h,c&&c.suspense)}:l!=="sync"&&(u=!0,i.scheduler=(h,C)=>{C?h():Zo(h)}),i.augmentJob=h=>{t&&(h.flags|=4),u&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const v=od(e,t,i);return wa&&(f?f.push(v):d&&v()),v}function Od(e,t,s){const a=this.proxy,o=Ue(e)?e.includes(".")?nc(a,e):()=>a[e]:e.bind(a,a);let l;Ie(t)?l=t:(l=t.handler,s=t);const r=Fa(this),i=ac(o,l.bind(a),s);return r(),i}function nc(e,t){const s=t.split(".");return()=>{let a=e;for(let o=0;o<s.length&&a;o++)a=a[s[o]];return a}}const Nd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Et(t)}Modifiers`]||e[`${ks(t)}Modifiers`];function zd(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Ye;let o=s;const l=t.startsWith("update:"),r=l&&Nd(a,t.slice(7));r&&(r.trim&&(o=s.map(c=>Ue(c)?c.trim():c)),r.number&&(o=s.map(co)));let i,d=a[i=zn(t)]||a[i=zn(Et(t))];!d&&l&&(d=a[i=zn(ks(t))]),d&&Dt(d,e,6,o);const f=a[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Dt(f,e,6,o)}}const Yd=new WeakMap;function oc(e,t,s=!1){const a=s?Yd:t.emitsCache,o=a.get(e);if(o!==void 0)return o;const l=e.emits;let r={},i=!1;if(!Ie(e)){const d=f=>{const c=oc(f,t,!0);c&&(i=!0,Je(r,c))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!i?(Ge(e)&&a.set(e,null),null):(xe(l)?l.forEach(d=>r[d]=null):Je(r,l),Ge(e)&&a.set(e,r),r)}function Tn(e,t){return!e||!Sn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,ks(t))||Ne(e,t))}function Rl(e){const{type:t,vnode:s,proxy:a,withProxy:o,propsOptions:[l],slots:r,attrs:i,emit:d,render:f,renderCache:c,props:u,data:v,setupState:h,ctx:C,inheritAttrs:$}=e,g=an(e);let y,b;try{if(s.shapeFlag&4){const k=o||a,H=k;y=Ot(f.call(H,k,c,u,h,v,C)),b=i}else{const k=t;y=Ot(k.length>1?k(u,{attrs:i,slots:r,emit:d}):k(u,null)),b=t.props?i:jd(i)}}catch(k){va.length=0,Fn(k,e,1),y=Ae(dt)}let w=y;if(b&&$!==!1){const k=Object.keys(b),{shapeFlag:H}=w;k.length&&H&7&&(l&&k.some(jo)&&(b=Hd(b,l)),w=ds(w,b,!1,!0))}return s.dirs&&(w=ds(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&ws(w,s.transition),y=w,an(g),y}const jd=e=>{let t;for(const s in e)(s==="class"||s==="style"||Sn(s))&&((t||(t={}))[s]=e[s]);return t},Hd=(e,t)=>{const s={};for(const a in e)(!jo(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Gd(e,t,s){const{props:a,children:o,component:l}=e,{props:r,children:i,patchFlag:d}=t,f=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return a?Bl(a,r,f):!!r;if(d&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const v=c[u];if(r[v]!==a[v]&&!Tn(f,v))return!0}}}else return(o||i)&&(!i||!i.$stable)?!0:a===r?!1:a?r?Bl(a,r,f):!0:!!r;return!1}function Bl(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let o=0;o<a.length;o++){const l=a[o];if(t[l]!==e[l]&&!Tn(s,l))return!0}return!1}function qd({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const lc=e=>e.__isSuspense;function Ud(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):wi(e)}const me=Symbol.for("v-fgt"),Rn=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),fa=Symbol.for("v-stc"),va=[];let yt=null;function p(e=!1){va.push(yt=e?null:[])}function Wd(){va.pop(),yt=va[va.length-1]||null}let Ca=1;function ln(e,t=!1){Ca+=e,e<0&&yt&&t&&(yt.hasOnce=!0)}function rc(e){return e.dynamicChildren=Ca>0?yt||Bs:null,Wd(),Ca>0&&yt&&yt.push(e),e}function m(e,t,s,a,o,l){return rc(n(e,t,s,a,o,l,!0))}function Pe(e,t,s,a,o){return rc(Ae(e,t,s,a,o,!0))}function rn(e){return e?e.__v_isVNode===!0:!1}function ys(e,t){return e.type===t.type&&e.key===t.key}const ic=({key:e})=>e??null,Qa=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||ot(e)||Ie(e)?{i:bt,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,a=0,o=null,l=e===me?0:1,r=!1,i=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ic(t),ref:t&&Qa(t),scopeId:ki,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:bt};return i?(ol(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=Ue(s)?8:16),Ca>0&&!r&&yt&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&yt.push(d),d}const Ae=Xd;function Xd(e,t=null,s=null,a=0,o=null,l=!1){if((!e||e===Yi)&&(e=dt),rn(e)){const i=ds(e,t,!0);return s&&ol(i,s),Ca>0&&!l&&yt&&(i.shapeFlag&6?yt[yt.indexOf(e)]=i:yt.push(i)),i.patchFlag=-2,i}if(lf(e)&&(e=e.__vccOpts),t){t=Qd(t);let{class:i,style:d}=t;i&&!Ue(i)&&(t.class=ge(i)),Ge(d)&&(Jo(d)&&!xe(d)&&(d=Je({},d)),t.style=ve(d))}const r=Ue(e)?1:lc(e)?128:xi(e)?64:Ge(e)?4:Ie(e)?2:0;return n(e,t,s,a,o,r,l,!0)}function Qd(e){return e?Jo(e)||Qi(e)?Je({},e):e:null}function ds(e,t,s=!1,a=!1){const{props:o,ref:l,patchFlag:r,children:i,transition:d}=e,f=t?Kd(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&ic(f),ref:t&&t.ref?s&&l?xe(l)?l.concat(Qa(t)):[l,Qa(t)]:Qa(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==me?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ds(e.ssContent),ssFallback:e.ssFallback&&ds(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&a&&ws(c,d.clone(c)),c}function We(e=" ",t=0){return Ae(Rn,null,e,t)}function ke(e,t){const s=Ae(fa,null,e);return s.staticCount=t,s}function ie(e="",t=!1){return t?(p(),Pe(dt,null,e)):Ae(dt,null,e)}function Ot(e){return e==null||typeof e=="boolean"?Ae(dt):xe(e)?Ae(me,null,e.slice()):rn(e)?ls(e):Ae(Rn,null,String(e))}function ls(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ds(e)}function ol(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(xe(t))s=16;else if(typeof t=="object")if(a&65){const o=t.default;o&&(o._c&&(o._d=!1),ol(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!Qi(t)?t._ctx=bt:o===3&&bt&&(bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:bt},s=32):(t=String(t),a&64?(s=16,t=[We(t)]):s=8);e.children=t,e.shapeFlag|=s}function Kd(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const o in a)if(o==="class")t.class!==a.class&&(t.class=ge([t.class,a.class]));else if(o==="style")t.style=ve([t.style,a.style]);else if(Sn(o)){const l=t[o],r=a[o];r&&l!==r&&!(xe(l)&&l.includes(r))&&(t[o]=l?[].concat(l,r):r)}else o!==""&&(t[o]=a[o])}return t}function Rt(e,t,s,a=null){Dt(e,t,7,[s,a])}const Jd=Ui();let Zd=0;function ef(e,t,s){const a=e.type,o=(t?t.appContext:e.appContext)||Jd,l={uid:Zd++,vnode:e,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ji(a,o),emitsOptions:oc(a,o),emit:null,emitted:null,propsDefaults:Ye,inheritAttrs:a.inheritAttrs,ctx:Ye,data:Ye,props:Ye,attrs:Ye,slots:Ye,refs:Ye,setupState:Ye,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=zd.bind(null,l),e.ce&&e.ce(l),l}let nt=null;const Bn=()=>nt||bt;let cn,Ao;{const e=In(),t=(s,a)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(a),l=>{o.length>1?o.forEach(r=>r(l)):o[0](l)}};cn=t("__VUE_INSTANCE_SETTERS__",s=>nt=s),Ao=t("__VUE_SSR_SETTERS__",s=>wa=s)}const Fa=e=>{const t=nt;return cn(e),e.scope.on(),()=>{e.scope.off(),cn(t)}},Vl=()=>{nt&&nt.scope.off(),cn(null)};function cc(e){return e.vnode.shapeFlag&4}let wa=!1;function tf(e,t=!1,s=!1){t&&Ao(t);const{props:a,children:o}=e.vnode,l=cc(e);xd(e,a,l,t),Fd(e,o,s||t);const r=l?sf(e,t):void 0;return t&&Ao(!1),r}function sf(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,yd);const{setup:a}=s;if(a){Jt();const o=e.setupContext=a.length>1?nf(e):null,l=Fa(e),r=Ea(a,e,0,[e.props,o]),i=Xr(r);if(Zt(),l(),(i||e.sp)&&!ua(e)&&Bi(e),i){if(r.then(Vl,Vl),t)return r.then(d=>{Ll(e,d)}).catch(d=>{Fn(d,e,0)});e.asyncDep=r}else Ll(e,r)}else uc(e)}function Ll(e,t,s){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ge(t)&&(e.setupState=yi(t)),uc(e)}function uc(e,t,s){const a=e.type;e.render||(e.render=a.render||Pt);{const o=Fa(e);Jt();try{Ad(e)}finally{Zt(),o()}}}const af={get(e,t){return at(e,"get",""),e[t]}};function nf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,af),slots:e.slots,emit:e.emit,expose:t}}function Vn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(yi(Ju(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in da)return da[s](e)},has(t,s){return s in t||s in da}})):e.proxy}function of(e,t=!0){return Ie(e)?e.displayName||e.name:e.name||t&&e.__name}function lf(e){return Ie(e)&&"__vccOpts"in e}const N=(e,t)=>ad(e,t,wa);function de(e,t,s){const a=(l,r,i)=>{ln(-1);try{return Ae(l,r,i)}finally{ln(1)}},o=arguments.length;return o===2?Ge(t)&&!xe(t)?rn(t)?a(e,null,[t]):a(e,t):a(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&rn(s)&&(s=[s]),a(e,t,s))}const rf="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Co;const Ol=typeof window<"u"&&window.trustedTypes;if(Ol)try{Co=Ol.createPolicy("vue",{createHTML:e=>e})}catch{}const dc=Co?e=>Co.createHTML(e):e=>e,cf="http://www.w3.org/2000/svg",uf="http://www.w3.org/1998/Math/MathML",qt=typeof document<"u"?document:null,Nl=qt&&qt.createElement("template"),df={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const o=t==="svg"?qt.createElementNS(cf,e):t==="mathml"?qt.createElementNS(uf,e):s?qt.createElement(e,{is:s}):qt.createElement(e);return e==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:e=>qt.createTextNode(e),createComment:e=>qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,o,l){const r=s?s.previousSibling:t.lastChild;if(o&&(o===l||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===l||!(o=o.nextSibling)););else{Nl.innerHTML=dc(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const i=Nl.content;if(a==="svg"||a==="mathml"){const d=i.firstChild;for(;d.firstChild;)i.appendChild(d.firstChild);i.removeChild(d)}t.insertBefore(i,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ts="transition",Us="animation",zs=Symbol("_vtc"),fc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vc=Je({},Fi,fc),ff=e=>(e.displayName="Transition",e.props=vc,e),mt=ff((e,{slots:t})=>de(ud,hc(e),t)),gs=(e,t=[])=>{xe(e)?e.forEach(s=>s(...t)):e&&e(...t)},zl=e=>e?xe(e)?e.some(t=>t.length>1):e.length>1:!1;function hc(e){const t={};for(const I in e)I in fc||(t[I]=e[I]);if(e.css===!1)return t;const{name:s="v",type:a,duration:o,enterFromClass:l=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:i=`${s}-enter-to`,appearFromClass:d=l,appearActiveClass:f=r,appearToClass:c=i,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=e,C=vf(o),$=C&&C[0],g=C&&C[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:k,onLeaveCancelled:H,onBeforeAppear:A=y,onAppear:_=b,onAppearCancelled:F=w}=t,D=(I,P,B,T)=>{I._enterCancelled=T,ns(I,P?c:i),ns(I,P?f:r),B&&B()},M=(I,P)=>{I._isLeaving=!1,ns(I,u),ns(I,h),ns(I,v),P&&P()},E=I=>(P,B)=>{const T=I?_:b,q=()=>D(P,I,B);gs(T,[P,q]),Yl(()=>{ns(P,I?d:l),Bt(P,I?c:i),zl(T)||jl(P,a,$,q)})};return Je(t,{onBeforeEnter(I){gs(y,[I]),Bt(I,l),Bt(I,r)},onBeforeAppear(I){gs(A,[I]),Bt(I,d),Bt(I,f)},onEnter:E(!1),onAppear:E(!0),onLeave(I,P){I._isLeaving=!0;const B=()=>M(I,P);Bt(I,u),I._enterCancelled?(Bt(I,v),wo()):(wo(),Bt(I,v)),Yl(()=>{I._isLeaving&&(ns(I,u),Bt(I,h),zl(k)||jl(I,a,g,B))}),gs(k,[I,B])},onEnterCancelled(I){D(I,!1,void 0,!0),gs(w,[I])},onAppearCancelled(I){D(I,!0,void 0,!0),gs(F,[I])},onLeaveCancelled(I){M(I),gs(H,[I])}})}function vf(e){if(e==null)return null;if(Ge(e))return[Xn(e.enter),Xn(e.leave)];{const t=Xn(e);return[t,t]}}function Xn(e){return Su(e)}function Bt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[zs]||(e[zs]=new Set)).add(t)}function ns(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const s=e[zs];s&&(s.delete(t),s.size||(e[zs]=void 0))}function Yl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let hf=0;function jl(e,t,s,a){const o=e._endId=++hf,l=()=>{o===e._endId&&a()};if(s!=null)return setTimeout(l,s);const{type:r,timeout:i,propCount:d}=pc(e,t);if(!r)return a();const f=r+"end";let c=0;const u=()=>{e.removeEventListener(f,v),l()},v=h=>{h.target===e&&++c>=d&&u()};setTimeout(()=>{c<d&&u()},i+1),e.addEventListener(f,v)}function pc(e,t){const s=window.getComputedStyle(e),a=C=>(s[C]||"").split(", "),o=a(`${ts}Delay`),l=a(`${ts}Duration`),r=Hl(o,l),i=a(`${Us}Delay`),d=a(`${Us}Duration`),f=Hl(i,d);let c=null,u=0,v=0;t===ts?r>0&&(c=ts,u=r,v=l.length):t===Us?f>0&&(c=Us,u=f,v=d.length):(u=Math.max(r,f),c=u>0?r>f?ts:Us:null,v=c?c===ts?l.length:d.length:0);const h=c===ts&&/\b(?:transform|all)(?:,|$)/.test(a(`${ts}Property`).toString());return{type:c,timeout:u,propCount:v,hasTransform:h}}function Hl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>Gl(s)+Gl(e[a])))}function Gl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function wo(){return document.body.offsetHeight}function pf(e,t,s){const a=e[zs];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const un=Symbol("_vod"),gc=Symbol("_vsh"),mc={name:"show",beforeMount(e,{value:t},{transition:s}){e[un]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ws(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Ws(e,!0),a.enter(e)):a.leave(e,()=>{Ws(e,!1)}):Ws(e,t))},beforeUnmount(e,{value:t}){Ws(e,t)}};function Ws(e,t){e.style.display=t?e[un]:"none",e[gc]=!t}const bc=Symbol("");function ll(e){const t=Bn();if(!t)return;const s=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(l=>dn(l,o))},a=()=>{const o=e(t.proxy);t.ce?dn(t.ce,o):_o(t.subTree,o),s(o)};Li(()=>{wi(a)}),Le(()=>{Ce(a,Pt,{flush:"post"});const o=new MutationObserver(a);o.observe(t.subTree.el.parentNode,{childList:!0}),Pa(()=>o.disconnect())})}function _o(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{_o(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)dn(e.el,t);else if(e.type===me)e.children.forEach(s=>_o(s,t));else if(e.type===fa){let{el:s,anchor:a}=e;for(;s&&(dn(s,t),s!==a);)s=s.nextSibling}}function dn(e,t){if(e.nodeType===1){const s=e.style;let a="";for(const o in t){const l=Fu(t[o]);s.setProperty(`--${o}`,l),a+=`--${o}: ${l};`}s[bc]=a}}const gf=/(?:^|;)\s*display\s*:/;function mf(e,t,s){const a=e.style,o=Ue(s);let l=!1;if(s&&!o){if(t)if(Ue(t))for(const r of t.split(";")){const i=r.slice(0,r.indexOf(":")).trim();s[i]==null&&Ka(a,i,"")}else for(const r in t)s[r]==null&&Ka(a,r,"");for(const r in s)r==="display"&&(l=!0),Ka(a,r,s[r])}else if(o){if(t!==s){const r=a[bc];r&&(s+=";"+r),a.cssText=s,l=gf.test(s)}}else t&&e.removeAttribute("style");un in e&&(e[un]=l?a.display:"",e[gc]&&(a.display="none"))}const ql=/\s*!important$/;function Ka(e,t,s){if(xe(s))s.forEach(a=>Ka(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=bf(e,t);ql.test(s)?e.setProperty(ks(a),s.replace(ql,""),"important"):e[a]=s}}const Ul=["Webkit","Moz","ms"],Qn={};function bf(e,t){const s=Qn[t];if(s)return s;let a=Et(t);if(a!=="filter"&&a in e)return Qn[t]=a;a=xn(a);for(let o=0;o<Ul.length;o++){const l=Ul[o]+a;if(l in e)return Qn[t]=l}return t}const Wl="http://www.w3.org/1999/xlink";function Xl(e,t,s,a,o,l=Pu(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Wl,t.slice(6,t.length)):e.setAttributeNS(Wl,t,s):s==null||l&&!Zr(s)?e.removeAttribute(t):e.setAttribute(t,l?"":fs(s)?String(s):s)}function Ql(e,t,s,a,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?dc(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const i=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(i!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Zr(s):s==null&&i==="string"?(s="",r=!0):i==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(o||t)}function Ms(e,t,s,a){e.addEventListener(t,s,a)}function yf(e,t,s,a){e.removeEventListener(t,s,a)}const Kl=Symbol("_vei");function Af(e,t,s,a,o=null){const l=e[Kl]||(e[Kl]={}),r=l[t];if(a&&r)r.value=a;else{const[i,d]=Cf(t);if(a){const f=l[t]=Sf(a,o);Ms(e,i,f,d)}else r&&(yf(e,i,r,d),l[t]=void 0)}}const Jl=/(?:Once|Passive|Capture)$/;function Cf(e){let t;if(Jl.test(e)){t={};let a;for(;a=e.match(Jl);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ks(e.slice(2)),t]}let Kn=0;const wf=Promise.resolve(),_f=()=>Kn||(wf.then(()=>Kn=0),Kn=Date.now());function Sf(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Dt(kf(a,s.value),t,5,[a])};return s.value=e,s.attached=_f(),s}function kf(e,t){if(xe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>o=>!o._stopped&&a&&a(o))}else return t}const Zl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$f=(e,t,s,a,o,l)=>{const r=o==="svg";t==="class"?pf(e,a,r):t==="style"?mf(e,s,a):Sn(t)?jo(t)||Af(e,t,s,a,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xf(e,t,a,r))?(Ql(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Xl(e,t,a,r,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(a))?Ql(e,Et(t),a,l,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Xl(e,t,a,r))};function xf(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Zl(t)&&Ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Zl(t)&&Ue(s)?!1:t in e}const yc=new WeakMap,Ac=new WeakMap,fn=Symbol("_moveCb"),er=Symbol("_enterCb"),If=e=>(delete e.props.mode,e),Ef=If({name:"TransitionGroup",props:Je({},vc,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Bn(),a=Pi();let o,l;return Oi(()=>{if(!o.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Tf(o[0].el,s.vnode.el,r)){o=[];return}o.forEach(Ff),o.forEach(Mf);const i=o.filter(Df);wo(),i.forEach(d=>{const f=d.el,c=f.style;Bt(f,r),c.transform=c.webkitTransform=c.transitionDuration="";const u=f[fn]=v=>{v&&v.target!==f||(!v||v.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",u),f[fn]=null,ns(f,r))};f.addEventListener("transitionend",u)}),o=[]}),()=>{const r=Ve(e),i=hc(r);let d=r.tag||me;if(o=[],l)for(let f=0;f<l.length;f++){const c=l[f];c.el&&c.el instanceof Element&&(o.push(c),ws(c,Aa(c,i,a,s)),yc.set(c,c.el.getBoundingClientRect()))}l=t.default?el(t.default()):[];for(let f=0;f<l.length;f++){const c=l[f];c.key!=null&&ws(c,Aa(c,i,a,s))}return Ae(d,null,l)}}}),Pf=Ef;function Ff(e){const t=e.el;t[fn]&&t[fn](),t[er]&&t[er]()}function Mf(e){Ac.set(e,e.el.getBoundingClientRect())}function Df(e){const t=yc.get(e),s=Ac.get(e),a=t.left-s.left,o=t.top-s.top;if(a||o){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${a}px,${o}px)`,l.transitionDuration="0s",e}}function Tf(e,t,s){const a=e.cloneNode(),o=e[zs];o&&o.forEach(i=>{i.split(/\s+/).forEach(d=>d&&a.classList.remove(d))}),s.split(/\s+/).forEach(i=>i&&a.classList.add(i)),a.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(a);const{hasTransform:r}=pc(a);return l.removeChild(a),r}const tr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?s=>Ua(t,s):t};function Rf(e){e.target.composing=!0}function sr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Jn=Symbol("_assign"),ha={created(e,{modifiers:{lazy:t,trim:s,number:a}},o){e[Jn]=tr(o);const l=a||o.props&&o.props.type==="number";Ms(e,t?"change":"input",r=>{if(r.target.composing)return;let i=e.value;s&&(i=i.trim()),l&&(i=co(i)),e[Jn](i)}),s&&Ms(e,"change",()=>{e.value=e.value.trim()}),t||(Ms(e,"compositionstart",Rf),Ms(e,"compositionend",sr),Ms(e,"change",sr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:o,number:l}},r){if(e[Jn]=tr(r),e.composing)return;const i=(l||e.type==="number")&&!/^0\d/.test(e.value)?co(e.value):e.value,d=t??"";i!==d&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||o&&e.value.trim()===d)||(e.value=d))}},Bf=["ctrl","shift","alt","meta"],Vf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Bf.some(s=>e[`${s}Key`]&&!t.includes(s))},kt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(o,...l)=>{for(let r=0;r<t.length;r++){const i=Vf[t[r]];if(i&&i(o,t))return}return e(o,...l)})},Lf=Je({patchProp:$f},df);let ar;function Of(){return ar||(ar=Dd(Lf))}const Nf=(...e)=>{const t=Of().createApp(...e),{mount:s}=t;return t.mount=a=>{const o=Yf(a);if(!o)return;const l=t._component;!Ie(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=s(o,!1,zf(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function zf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Yf(e){return Ue(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ds=typeof document<"u";function Cc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Cc(e.default)}const Oe=Object.assign;function Zn(e,t){const s={};for(const a in t){const o=t[a];s[a]=Tt(o)?o.map(e):e(o)}return s}const pa=()=>{},Tt=Array.isArray,wc=/#/g,Hf=/&/g,Gf=/\//g,qf=/=/g,Uf=/\?/g,_c=/\+/g,Wf=/%5B/g,Xf=/%5D/g,Sc=/%5E/g,Qf=/%60/g,kc=/%7B/g,Kf=/%7C/g,$c=/%7D/g,Jf=/%20/g;function rl(e){return encodeURI(""+e).replace(Kf,"|").replace(Wf,"[").replace(Xf,"]")}function Zf(e){return rl(e).replace(kc,"{").replace($c,"}").replace(Sc,"^")}function So(e){return rl(e).replace(_c,"%2B").replace(Jf,"+").replace(wc,"%23").replace(Hf,"%26").replace(Qf,"`").replace(kc,"{").replace($c,"}").replace(Sc,"^")}function ev(e){return So(e).replace(qf,"%3D")}function tv(e){return rl(e).replace(wc,"%23").replace(Uf,"%3F")}function sv(e){return e==null?"":tv(e).replace(Gf,"%2F")}function _a(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const av=/\/$/,nv=e=>e.replace(av,"");function eo(e,t,s="/"){let a,o={},l="",r="";const i=t.indexOf("#");let d=t.indexOf("?");return i<d&&i>=0&&(d=-1),d>-1&&(a=t.slice(0,d),l=t.slice(d+1,i>-1?i:t.length),o=e(l)),i>-1&&(a=a||t.slice(0,i),r=t.slice(i,t.length)),a=iv(a??t,s),{fullPath:a+(l&&"?")+l+r,path:a,query:o,hash:_a(r)}}function ov(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function nr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function lv(e,t,s){const a=t.matched.length-1,o=s.matched.length-1;return a>-1&&a===o&&Ys(t.matched[a],s.matched[o])&&xc(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ys(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function xc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!rv(e[s],t[s]))return!1;return!0}function rv(e,t){return Tt(e)?or(e,t):Tt(t)?or(t,e):e===t}function or(e,t){return Tt(t)?e.length===t.length&&e.every((s,a)=>s===t[a]):e.length===1&&e[0]===t}function iv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),a=e.split("/"),o=a[a.length-1];(o===".."||o===".")&&a.push("");let l=s.length-1,r,i;for(r=0;r<a.length;r++)if(i=a[r],i!==".")if(i==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+a.slice(r).join("/")}const ss={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Sa;(function(e){e.pop="pop",e.push="push"})(Sa||(Sa={}));var ga;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ga||(ga={}));function cv(e){if(!e)if(Ds){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nv(e)}const uv=/^[^#]+#/;function dv(e,t){return e.replace(uv,"#")+t}function fv(e,t){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-s.left-(t.left||0),top:a.top-s.top-(t.top||0)}}const Ln=()=>({left:window.scrollX,top:window.scrollY});function vv(e){let t;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=fv(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lr(e,t){return(history.state?history.state.position-t:-1)+e}const ko=new Map;function hv(e,t){ko.set(e,t)}function pv(e){const t=ko.get(e);return ko.delete(e),t}let gv=()=>location.protocol+"//"+location.host;function Ic(e,t){const{pathname:s,search:a,hash:o}=t,l=e.indexOf("#");if(l>-1){let i=o.includes(e.slice(l))?e.slice(l).length:1,d=o.slice(i);return d[0]!=="/"&&(d="/"+d),nr(d,"")}return nr(s,e)+a+o}function mv(e,t,s,a){let o=[],l=[],r=null;const i=({state:v})=>{const h=Ic(e,location),C=s.value,$=t.value;let g=0;if(v){if(s.value=h,t.value=v,r&&r===C){r=null;return}g=$?v.position-$.position:0}else a(h);o.forEach(y=>{y(s.value,C,{delta:g,type:Sa.pop,direction:g?g>0?ga.forward:ga.back:ga.unknown})})};function d(){r=s.value}function f(v){o.push(v);const h=()=>{const C=o.indexOf(v);C>-1&&o.splice(C,1)};return l.push(h),h}function c(){const{history:v}=window;v.state&&v.replaceState(Oe({},v.state,{scroll:Ln()}),"")}function u(){for(const v of l)v();l=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:d,listen:f,destroy:u}}function rr(e,t,s,a=!1,o=!1){return{back:e,current:t,forward:s,replaced:a,position:window.history.length,scroll:o?Ln():null}}function bv(e){const{history:t,location:s}=window,a={value:Ic(e,s)},o={value:t.state};o.value||l(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,f,c){const u=e.indexOf("#"),v=u>-1?(s.host&&document.querySelector("base")?e:e.slice(u))+d:gv()+e+d;try{t[c?"replaceState":"pushState"](f,"",v),o.value=f}catch(h){console.error(h),s[c?"replace":"assign"](v)}}function r(d,f){const c=Oe({},t.state,rr(o.value.back,d,o.value.forward,!0),f,{position:o.value.position});l(d,c,!0),a.value=d}function i(d,f){const c=Oe({},o.value,t.state,{forward:d,scroll:Ln()});l(c.current,c,!0);const u=Oe({},rr(a.value,d,null),{position:c.position+1},f);l(d,u,!1),a.value=d}return{location:a,state:o,push:i,replace:r}}function yv(e){e=cv(e);const t=bv(e),s=mv(e,t.state,t.location,t.replace);function a(l,r=!0){r||s.pauseListeners(),history.go(l)}const o=Oe({location:"",base:e,go:a,createHref:dv.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Av(e){return typeof e=="string"||e&&typeof e=="object"}function Ec(e){return typeof e=="string"||typeof e=="symbol"}const Pc=Symbol("");var ir;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ir||(ir={}));function js(e,t){return Oe(new Error,{type:e,[Pc]:!0},t)}function Gt(e,t){return e instanceof Error&&Pc in e&&(t==null||!!(e.type&t))}const cr="[^/]+?",Cv={sensitive:!1,strict:!1,start:!0,end:!0},wv=/[.+*?^${}()[\]/\\]/g;function _v(e,t){const s=Oe({},Cv,t),a=[];let o=s.start?"^":"";const l=[];for(const f of e){const c=f.length?[]:[90];s.strict&&!f.length&&(o+="/");for(let u=0;u<f.length;u++){const v=f[u];let h=40+(s.sensitive?.25:0);if(v.type===0)u||(o+="/"),o+=v.value.replace(wv,"\\$&"),h+=40;else if(v.type===1){const{value:C,repeatable:$,optional:g,regexp:y}=v;l.push({name:C,repeatable:$,optional:g});const b=y||cr;if(b!==cr){h+=10;try{new RegExp(`(${b})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${C}" (${b}): `+k.message)}}let w=$?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;u||(w=g&&f.length<2?`(?:/${w})`:"/"+w),g&&(w+="?"),o+=w,h+=20,g&&(h+=-8),$&&(h+=-20),b===".*"&&(h+=-50)}c.push(h)}a.push(c)}if(s.strict&&s.end){const f=a.length-1;a[f][a[f].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const r=new RegExp(o,s.sensitive?"":"i");function i(f){const c=f.match(r),u={};if(!c)return null;for(let v=1;v<c.length;v++){const h=c[v]||"",C=l[v-1];u[C.name]=h&&C.repeatable?h.split("/"):h}return u}function d(f){let c="",u=!1;for(const v of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const h of v)if(h.type===0)c+=h.value;else if(h.type===1){const{value:C,repeatable:$,optional:g}=h,y=C in f?f[C]:"";if(Tt(y)&&!$)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const b=Tt(y)?y.join("/"):y;if(!b)if(g)v.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${C}"`);c+=b}}return c||"/"}return{re:r,score:a,keys:l,parse:i,stringify:d}}function Sv(e,t){let s=0;for(;s<e.length&&s<t.length;){const a=t[s]-e[s];if(a)return a;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Fc(e,t){let s=0;const a=e.score,o=t.score;for(;s<a.length&&s<o.length;){const l=Sv(a[s],o[s]);if(l)return l;s++}if(Math.abs(o.length-a.length)===1){if(ur(a))return 1;if(ur(o))return-1}return o.length-a.length}function ur(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kv={type:0,value:""},$v=/[a-zA-Z0-9_]/;function xv(e){if(!e)return[[]];if(e==="/")return[[kv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${f}": ${h}`)}let s=0,a=s;const o=[];let l;function r(){l&&o.push(l),l=[]}let i=0,d,f="",c="";function u(){f&&(s===0?l.push({type:0,value:f}):s===1||s===2||s===3?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:f,regexp:c,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=d}for(;i<e.length;){if(d=e[i++],d==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:d==="/"?(f&&u(),r()):d===":"?(u(),s=1):v();break;case 4:v(),s=a;break;case 1:d==="("?s=2:$v.test(d)?v():(u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&i--);break;case 2:d===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+d:s=3:c+=d;break;case 3:u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&i--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${f}"`),u(),r(),o}function Iv(e,t,s){const a=_v(xv(e.path),s),o=Oe(a,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Ev(e,t){const s=[],a=new Map;t=hr({strict:!1,end:!0,sensitive:!1},t);function o(u){return a.get(u)}function l(u,v,h){const C=!h,$=fr(u);$.aliasOf=h&&h.record;const g=hr(t,u),y=[$];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const H of k)y.push(fr(Oe({},$,{components:h?h.record.components:$.components,path:H,aliasOf:h?h.record:$})))}let b,w;for(const k of y){const{path:H}=k;if(v&&H[0]!=="/"){const A=v.record.path,_=A[A.length-1]==="/"?"":"/";k.path=v.record.path+(H&&_+H)}if(b=Iv(k,v,g),h?h.alias.push(b):(w=w||b,w!==b&&w.alias.push(b),C&&u.name&&!vr(b)&&r(u.name)),Mc(b)&&d(b),$.children){const A=$.children;for(let _=0;_<A.length;_++)l(A[_],b,h&&h.children[_])}h=h||b}return w?()=>{r(w)}:pa}function r(u){if(Ec(u)){const v=a.get(u);v&&(a.delete(u),s.splice(s.indexOf(v),1),v.children.forEach(r),v.alias.forEach(r))}else{const v=s.indexOf(u);v>-1&&(s.splice(v,1),u.record.name&&a.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function i(){return s}function d(u){const v=Mv(u,s);s.splice(v,0,u),u.record.name&&!vr(u)&&a.set(u.record.name,u)}function f(u,v){let h,C={},$,g;if("name"in u&&u.name){if(h=a.get(u.name),!h)throw js(1,{location:u});g=h.record.name,C=Oe(dr(v.params,h.keys.filter(w=>!w.optional).concat(h.parent?h.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),u.params&&dr(u.params,h.keys.map(w=>w.name))),$=h.stringify(C)}else if(u.path!=null)$=u.path,h=s.find(w=>w.re.test($)),h&&(C=h.parse($),g=h.record.name);else{if(h=v.name?a.get(v.name):s.find(w=>w.re.test(v.path)),!h)throw js(1,{location:u,currentLocation:v});g=h.record.name,C=Oe({},v.params,u.params),$=h.stringify(C)}const y=[];let b=h;for(;b;)y.unshift(b.record),b=b.parent;return{name:g,path:$,params:C,matched:y,meta:Fv(y)}}e.forEach(u=>l(u));function c(){s.length=0,a.clear()}return{addRoute:l,resolve:f,removeRoute:r,clearRoutes:c,getRoutes:i,getRecordMatcher:o}}function dr(e,t){const s={};for(const a of t)a in e&&(s[a]=e[a]);return s}function fr(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Pv(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const a in e.components)t[a]=typeof s=="object"?s[a]:s;return t}function vr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Fv(e){return e.reduce((t,s)=>Oe(t,s.meta),{})}function hr(e,t){const s={};for(const a in e)s[a]=a in t?t[a]:e[a];return s}function Mv(e,t){let s=0,a=t.length;for(;s!==a;){const l=s+a>>1;Fc(e,t[l])<0?a=l:s=l+1}const o=Dv(e);return o&&(a=t.lastIndexOf(o,a-1)),a}function Dv(e){let t=e;for(;t=t.parent;)if(Mc(t)&&Fc(e,t)===0)return t}function Mc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Tv(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<a.length;++o){const l=a[o].replace(_c," "),r=l.indexOf("="),i=_a(r<0?l:l.slice(0,r)),d=r<0?null:_a(l.slice(r+1));if(i in t){let f=t[i];Tt(f)||(f=t[i]=[f]),f.push(d)}else t[i]=d}return t}function pr(e){let t="";for(let s in e){const a=e[s];if(s=ev(s),a==null){a!==void 0&&(t+=(t.length?"&":"")+s);continue}(Tt(a)?a.map(l=>l&&So(l)):[a&&So(a)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function Rv(e){const t={};for(const s in e){const a=e[s];a!==void 0&&(t[s]=Tt(a)?a.map(o=>o==null?null:""+o):a==null?a:""+a)}return t}const Bv=Symbol(""),gr=Symbol(""),On=Symbol(""),il=Symbol(""),$o=Symbol("");function Xs(){let e=[];function t(a){return e.push(a),()=>{const o=e.indexOf(a);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function rs(e,t,s,a,o,l=r=>r()){const r=a&&(a.enterCallbacks[o]=a.enterCallbacks[o]||[]);return()=>new Promise((i,d)=>{const f=v=>{v===!1?d(js(4,{from:s,to:t})):v instanceof Error?d(v):Av(v)?d(js(2,{from:t,to:v})):(r&&a.enterCallbacks[o]===r&&typeof v=="function"&&r.push(v),i())},c=l(()=>e.call(a&&a.instances[o],t,s,f));let u=Promise.resolve(c);e.length<3&&(u=u.then(f)),u.catch(v=>d(v))})}function to(e,t,s,a,o=l=>l()){const l=[];for(const r of e)for(const i in r.components){let d=r.components[i];if(!(t!=="beforeRouteEnter"&&!r.instances[i]))if(Cc(d)){const c=(d.__vccOpts||d)[t];c&&l.push(rs(c,s,a,r,i,o))}else{let f=d();l.push(()=>f.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${i}" at "${r.path}"`);const u=jf(c)?c.default:c;r.mods[i]=c,r.components[i]=u;const h=(u.__vccOpts||u)[t];return h&&rs(h,s,a,r,i,o)()}))}}return l}function mr(e){const t=Mt(On),s=Mt(il),a=N(()=>{const d=X(e.to);return t.resolve(d)}),o=N(()=>{const{matched:d}=a.value,{length:f}=d,c=d[f-1],u=s.matched;if(!c||!u.length)return-1;const v=u.findIndex(Ys.bind(null,c));if(v>-1)return v;const h=br(d[f-2]);return f>1&&br(c)===h&&u[u.length-1].path!==h?u.findIndex(Ys.bind(null,d[f-2])):v}),l=N(()=>o.value>-1&&zv(s.params,a.value.params)),r=N(()=>o.value>-1&&o.value===s.matched.length-1&&xc(s.params,a.value.params));function i(d={}){if(Nv(d)){const f=t[X(e.replace)?"replace":"push"](X(e.to)).catch(pa);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:a,href:N(()=>a.value.href),isActive:l,isExactActive:r,navigate:i}}function Vv(e){return e.length===1?e[0]:e}const Lv=Ri({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mr,setup(e,{slots:t}){const s=Pn(mr(e)),{options:a}=Mt(On),o=N(()=>({[yr(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[yr(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Vv(t.default(s));return e.custom?l:de("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},l)}}}),Ov=Lv;function Nv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zv(e,t){for(const s in t){const a=t[s],o=e[s];if(typeof a=="string"){if(a!==o)return!1}else if(!Tt(o)||o.length!==a.length||a.some((l,r)=>l!==o[r]))return!1}return!0}function br(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yr=(e,t,s)=>e??t??s,Yv=Ri({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const a=Mt($o),o=N(()=>e.route||a.value),l=Mt(gr,0),r=N(()=>{let f=X(l);const{matched:c}=o.value;let u;for(;(u=c[f])&&!u.components;)f++;return f}),i=N(()=>o.value.matched[r.value]);Xa(gr,N(()=>r.value+1)),Xa(Bv,i),Xa($o,o);const d=j();return Ce(()=>[d.value,i.value,e.name],([f,c,u],[v,h,C])=>{c&&(c.instances[u]=f,h&&h!==c&&f&&f===v&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),f&&c&&(!h||!Ys(c,h)||!v)&&(c.enterCallbacks[u]||[]).forEach($=>$(f))},{flush:"post"}),()=>{const f=o.value,c=e.name,u=i.value,v=u&&u.components[c];if(!v)return Ar(s.default,{Component:v,route:f});const h=u.props[c],C=h?h===!0?f.params:typeof h=="function"?h(f):h:null,g=de(v,Oe({},C,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[c]=null)},ref:d}));return Ar(s.default,{Component:g,route:f})||g}}});function Ar(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const jv=Yv;function Hv(e){const t=Ev(e.routes,e),s=e.parseQuery||Tv,a=e.stringifyQuery||pr,o=e.history,l=Xs(),r=Xs(),i=Xs(),d=Zu(ss);let f=ss;Ds&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Zn.bind(null,z=>""+z),u=Zn.bind(null,sv),v=Zn.bind(null,_a);function h(z,Y){let R,se;return Ec(z)?(R=t.getRecordMatcher(z),se=Y):se=z,t.addRoute(se,R)}function C(z){const Y=t.getRecordMatcher(z);Y&&t.removeRoute(Y)}function $(){return t.getRoutes().map(z=>z.record)}function g(z){return!!t.getRecordMatcher(z)}function y(z,Y){if(Y=Oe({},Y||d.value),typeof z=="string"){const V=eo(s,z,Y.path),W=t.resolve({path:V.path},Y),J=o.createHref(V.fullPath);return Oe(V,W,{params:v(W.params),hash:_a(V.hash),redirectedFrom:void 0,href:J})}let R;if(z.path!=null)R=Oe({},z,{path:eo(s,z.path,Y.path).path});else{const V=Oe({},z.params);for(const W in V)V[W]==null&&delete V[W];R=Oe({},z,{params:u(V)}),Y.params=u(Y.params)}const se=t.resolve(R,Y),G=z.hash||"";se.params=c(v(se.params));const x=ov(a,Oe({},z,{hash:Zf(G),path:se.path})),S=o.createHref(x);return Oe({fullPath:x,hash:G,query:a===pr?Rv(z.query):z.query||{}},se,{redirectedFrom:void 0,href:S})}function b(z){return typeof z=="string"?eo(s,z,d.value.path):Oe({},z)}function w(z,Y){if(f!==z)return js(8,{from:Y,to:z})}function k(z){return _(z)}function H(z){return k(Oe(b(z),{replace:!0}))}function A(z){const Y=z.matched[z.matched.length-1];if(Y&&Y.redirect){const{redirect:R}=Y;let se=typeof R=="function"?R(z):R;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=b(se):{path:se},se.params={}),Oe({query:z.query,hash:z.hash,params:se.path!=null?{}:z.params},se)}}function _(z,Y){const R=f=y(z),se=d.value,G=z.state,x=z.force,S=z.replace===!0,V=A(R);if(V)return _(Oe(b(V),{state:typeof V=="object"?Oe({},G,V.state):G,force:x,replace:S}),Y||R);const W=R;W.redirectedFrom=Y;let J;return!x&&lv(a,se,R)&&(J=js(16,{to:W,from:se}),be(se,se,!0,!1)),(J?Promise.resolve(J):M(W,se)).catch(ee=>Gt(ee)?Gt(ee,2)?ee:he(ee):Z(ee,W,se)).then(ee=>{if(ee){if(Gt(ee,2))return _(Oe({replace:S},b(ee.to),{state:typeof ee.to=="object"?Oe({},G,ee.to.state):G,force:x}),Y||W)}else ee=I(W,se,!0,S,G);return E(W,se,ee),ee})}function F(z,Y){const R=w(z,Y);return R?Promise.reject(R):Promise.resolve()}function D(z){const Y=L.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(z):z()}function M(z,Y){let R;const[se,G,x]=Gv(z,Y);R=to(se.reverse(),"beforeRouteLeave",z,Y);for(const V of se)V.leaveGuards.forEach(W=>{R.push(rs(W,z,Y))});const S=F.bind(null,z,Y);return R.push(S),K(R).then(()=>{R=[];for(const V of l.list())R.push(rs(V,z,Y));return R.push(S),K(R)}).then(()=>{R=to(G,"beforeRouteUpdate",z,Y);for(const V of G)V.updateGuards.forEach(W=>{R.push(rs(W,z,Y))});return R.push(S),K(R)}).then(()=>{R=[];for(const V of x)if(V.beforeEnter)if(Tt(V.beforeEnter))for(const W of V.beforeEnter)R.push(rs(W,z,Y));else R.push(rs(V.beforeEnter,z,Y));return R.push(S),K(R)}).then(()=>(z.matched.forEach(V=>V.enterCallbacks={}),R=to(x,"beforeRouteEnter",z,Y,D),R.push(S),K(R))).then(()=>{R=[];for(const V of r.list())R.push(rs(V,z,Y));return R.push(S),K(R)}).catch(V=>Gt(V,8)?V:Promise.reject(V))}function E(z,Y,R){i.list().forEach(se=>D(()=>se(z,Y,R)))}function I(z,Y,R,se,G){const x=w(z,Y);if(x)return x;const S=Y===ss,V=Ds?history.state:{};R&&(se||S?o.replace(z.fullPath,Oe({scroll:S&&V&&V.scroll},G)):o.push(z.fullPath,G)),d.value=z,be(z,Y,R,S),he()}let P;function B(){P||(P=o.listen((z,Y,R)=>{if(!le.listening)return;const se=y(z),G=A(se);if(G){_(Oe(G,{replace:!0,force:!0}),se).catch(pa);return}f=se;const x=d.value;Ds&&hv(lr(x.fullPath,R.delta),Ln()),M(se,x).catch(S=>Gt(S,12)?S:Gt(S,2)?(_(Oe(b(S.to),{force:!0}),se).then(V=>{Gt(V,20)&&!R.delta&&R.type===Sa.pop&&o.go(-1,!1)}).catch(pa),Promise.reject()):(R.delta&&o.go(-R.delta,!1),Z(S,se,x))).then(S=>{S=S||I(se,x,!1),S&&(R.delta&&!Gt(S,8)?o.go(-R.delta,!1):R.type===Sa.pop&&Gt(S,20)&&o.go(-1,!1)),E(se,x,S)}).catch(pa)}))}let T=Xs(),q=Xs(),Q;function Z(z,Y,R){he(z);const se=q.list();return se.length?se.forEach(G=>G(z,Y,R)):console.error(z),Promise.reject(z)}function re(){return Q&&d.value!==ss?Promise.resolve():new Promise((z,Y)=>{T.add([z,Y])})}function he(z){return Q||(Q=!z,B(),T.list().forEach(([Y,R])=>z?R(z):Y()),T.reset()),z}function be(z,Y,R,se){const{scrollBehavior:G}=e;if(!Ds||!G)return Promise.resolve();const x=!R&&pv(lr(z.fullPath,0))||(se||!R)&&history.state&&history.state.scroll||null;return ze().then(()=>G(z,Y,x)).then(S=>S&&vv(S)).catch(S=>Z(S,z,Y))}const ne=z=>o.go(z);let ae;const L=new Set,le={currentRoute:d,listening:!0,addRoute:h,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:$,resolve:y,options:e,push:k,replace:H,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:l.add,beforeResolve:r.add,afterEach:i.add,onError:q.add,isReady:re,install(z){const Y=this;z.component("RouterLink",Ov),z.component("RouterView",jv),z.config.globalProperties.$router=Y,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>X(d)}),Ds&&!ae&&d.value===ss&&(ae=!0,k(o.location).catch(G=>{}));const R={};for(const G in ss)Object.defineProperty(R,G,{get:()=>d.value[G],enumerable:!0});z.provide(On,Y),z.provide(il,gi(R)),z.provide($o,d);const se=z.unmount;L.add(z),z.unmount=function(){L.delete(z),L.size<1&&(f=ss,P&&P(),P=null,d.value=ss,ae=!1,Q=!1),se()}}};function K(z){return z.reduce((Y,R)=>Y.then(()=>D(R)),Promise.resolve())}return le}function Gv(e,t){const s=[],a=[],o=[],l=Math.max(t.matched.length,e.matched.length);for(let r=0;r<l;r++){const i=t.matched[r];i&&(e.matched.find(f=>Ys(f,i))?a.push(i):s.push(i));const d=e.matched[r];d&&(t.matched.find(f=>Ys(f,d))||o.push(d))}return[s,a,o]}function Ma(){return Mt(On)}function Dc(e){return Mt(il)}const Ee=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s},qv={class:"title-bar"},Uv={class:"title-container"},Wv={class:"title-content"},Xv={class:"page-title"},Qv={class:"last-update"},Kv={__name:"TitleBarComponent",props:{title:{type:String,default:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)"},lastUpdate:{type:String,default:"24 de septiembre de 2025"}},setup(e){return(t,s)=>(p(),m("div",qv,[n("div",Uv,[n("div",Wv,[n("h1",Xv,O(e.title),1),n("p",Qv,"ltima actualizacin: "+O(e.lastUpdate),1)]),s[0]||(s[0]=n("div",{class:"action-buttons"},null,-1))])]))}},Tc=Ee(Kv,[["__scopeId","data-v-c868bc03"]]),Jv={class:"toggle-bar"},Zv={class:"toggle-bar-content"},eh={class:"toggle-section"},th={class:"toggle-buttons"},sh={class:"currency-section"},ah={class:"currency-badge"},nh={class:"currency-code"},oh={class:"currency-name"},lh={__name:"DataViewToggleBar",props:{modelValue:{type:String,default:"subnacional",validator:e=>["regional","subnacional"].includes(e)},currency:{type:String,default:"MXN"}},emits:["update:modelValue"],setup(e){const t=e,s=N(()=>t.currency==="MXN"?"Pesos Mexicanos":"Dlares USD");return(a,o)=>(p(),m("div",Jv,[n("div",Zv,[n("div",eh,[o[4]||(o[4]=n("span",{class:"toggle-label"},"Vista:",-1)),n("div",th,[n("button",{class:ge(["toggle-btn",{active:e.modelValue==="regional"}]),onClick:o[0]||(o[0]=l=>a.$emit("update:modelValue","regional"))},[...o[2]||(o[2]=[n("svg",{class:"toggle-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),We(" Datos Regionales ",-1)])],2),n("button",{class:ge(["toggle-btn",{active:e.modelValue==="subnacional"}]),onClick:o[1]||(o[1]=l=>a.$emit("update:modelValue","subnacional"))},[...o[3]||(o[3]=[n("svg",{class:"toggle-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1),We(" Datos Subnacionales ",-1)])],2)])]),n("div",sh,[o[5]||(o[5]=n("span",{class:"currency-label"},"Moneda:",-1)),n("div",ah,[n("span",nh,O(e.currency),1),n("span",oh,"("+O(s.value)+")",1)])])])]))}},Rc=Ee(lh,[["__scopeId","data-v-8709ef18"]]),rh={id:"app"},ih={class:"app-main"},ch={__name:"App",setup(e){const t=j("subnacional"),s=j("MXN");return(a,o)=>{const l=zi("router-view");return p(),m("div",rh,[Ae(Tc,{title:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)",lastUpdate:"24 de septiembre de 2025"}),Ae(Rc,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r),currency:s.value},null,8,["modelValue","currency"]),n("main",ih,[Ae(l)])])}}};console.log("API Key:","AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0");console.log("Sheet ID Principal:","1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo");console.log("Sheet ID Cuantitativos:","1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A");console.log("Sheet ID Incendios Forestales:","1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk");console.log("Sheet ID Residuos Slidos:","15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g");console.log("Sheet ID Emisiones:","1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc");console.log("Sheet ID Energa:","1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg");console.log("Sheet ID reas Naturales:","1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0");console.log("Provider:","googlesheets");let vn="2024";const ht={provider:"googlesheets",googlesheets:{apiKey:"AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",sheets:{principal:{sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Hoja 1",gastos:"Gastos",estados:"Estados"}},cuantitativos:{sheetId:"1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",files:{datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024",posicionesCuantitativos:"2024"}},cuantitativosRegional:{sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{chartsPresupuestosRegional:"Hoja 1",chartsIngresosRegional:"Hoja 1",cardIFSRegional:"Hoja 1"}},ambientales:{incendiosForestales:{sheetId:"1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk",files:{incendiosForestales:"2024"}},residuosSolidos:{sheetId:"15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g",files:{residuosSolidos:"2024"}},emisiones:{sheetId:"1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc",files:{emisiones:"2024"}},energia:{sheetId:"1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg",files:{energia:"2024"}},areasNaturales:{sheetId:"1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0",files:{areasNaturales:"2024"}}},economicos:{ingresoTotal:{sheetId:"1JbfkVJWcjB6HeslWG4c_72QsqiGazGFTkqMRFz90kwM",files:{ingresoTotal:"2024"}},egresoTotal:{sheetId:"1V_q6gPsW7NRpRfJz7sZB06b2X-fNgNcgN0UAZ8Jbw6A",files:{egresoTotal:"2024"}},pea:{sheetId:"1SLFuSyZ2oPtxedl8egYWZN40rGsN5Bt8m-wtmyKJzz8",files:{pea:"2024"}},pib:{sheetId:"15V60tJVicbTxHuc5gJeSRQ1whMykYkPRQ1qE8GgS_bo",files:{pib:"2024"}},itaee:{sheetId:"1a-JW6JWGV2IHDCHOiAEkXm-Mx9DX0SWOiEKGmoI5Klc",files:{itaee:"2024"}}},sociales:{desocupacion:{sheetId:"15a00iOynv6qhKpqI1bkYtWUmTnlEHlG6TgTkIksJEhg",files:{desocupacion:"2024"}},marginacion:{sheetId:"1LEL4tOhRC2_Vt-km43t7pqC4LKqix2V2lh4ZAiTJSAc",files:{marginacion:"2024"}},idh:{sheetId:"1vL7ythk7R15sbWu0fUq6Tfhxv8nLJtnb4eDL8_0e8QI",files:{idh:"2024"}},rezagoSocial:{sheetId:"17VuzaOXYkhLXLOVqelpO0mOSq7PXeL557t5w7v3BsZ0",files:{rezagoSocial:"2024"}},indiceGini:{sheetId:"1035e5y9y8y9fldFtijVmmQA5Og6_1ISg-PjnYikLU80",files:{indiceGini:"2024"}},poblacion:{sheetId:"1khFqaL2fxq3r8dKydaiKqaX5x3IfTUNHiz-TEmjzrDk",files:{poblacion:"2024"}}},gobernabilidad:{satisfaccionFederal:{sheetId:"1wOl0W7S859xOeScLNzMqvmJ7K46OExvTG4M9RgHeQYE",files:{satisfaccionFederal:"2024"}},satisfaccionEstatal:{sheetId:"1ADRSFL4htYoYjJ5G9PMZbZtWgQVdBw2z0f7Hqgl64kc",files:{satisfaccionEstatal:"2024"}},IGOPP:{sheetId:"1mABONqRevHO5mTfPkdy2nrRBTUS4xDeIBuUO2E3NdUk",files:{IGOPP:"2024"}},BIPE:{sheetId:"1MFvElQy-McXx0BDYI_65mfVAyK5QXwLcSTMV_tuDpJM",files:{BIPE:"2024"}},ITDIF:{sheetId:"1IlgbVnXTKPn_SxKivY8nCVMzoQ-2rj3nLPyhdMTbA18",files:{ITDIF:"2024"}},ICI:{sheetId:"17lV0T7CFL4sIdlwXHGosCSCRhYfc06K8qiUjvK9Vc4g",files:{ICI:"2024"}},PBRSED:{sheetId:"1XvVqd25zVILItNUh1lhT7H5yOrDTuClEDouz4YZgPBY",files:{PBRSED:"2024"}}},presupuestos:{presupuestoEstatal:{sheetId:"1cJmIqYcXNuUMxN_CYR80hCilTeX8fpZBTdyy1lvIKgw",files:{presupuestoEstatal:"2024"}},financiamientos:{sheetId:"17Gg_GKAF9w_SAj0uDHfg5WtddF-LPVc1LveRvmubSNU",files:{financiamientos:"2024"}},programas:{sheetId:"1RfZyCkhabT0shMHyD03u8-_GPU-jU5FZMFvizBnSV-E",files:{programas:"2024"}}}},sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Indicadores",gastos:"Gastos",estados:"Estados",datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024",posicionesCuantitativos:"2024",incendiosForestales:"2024",residuosSolidos:"2024",emisiones:"2024",energia:"2024",areasNaturales:"2024",ingresoTotal:"2024",egresoTotal:"2024",pea:"2024",pib:"2024",itaee:"2024",satisfaccionFederal:"2024",satisfaccionEstatal:"2024",IGOPP:"2024",BIPE:"2024",ITDIF:"2024",ICI:"2024",PBRSED:"2024",presupuestoEstatal:"2024",financiamientos:"2024",programas:"2024",chartsPresupuestosRegional:"Hoja 1",chartsIngresosRegional:"Hoja 1",cardIFS:"Hoja 1"}},mappings:{presupuestoEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Presupuesto Total",column:"Presupuesto Total",label:"Presupuesto Total",color:"#0F3759",order:1}]},financiamientos:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bioecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Eduambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},programas:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bio-ecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Edu-Ambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},satisfaccionFederal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},satisfaccionEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},IGOPP:{categoryColumn:"Entidad Federativa",variables:[{key:"IGOPP",column:"IGOPP",label:"IGOPP",color:"#0F3759",order:1}]},BIPE:{categoryColumn:"Entidad Federativa",variables:[{key:"BIPE",column:"BIPE",label:"BIPE",color:"#0F3759",order:1}]},ITDIF:{categoryColumn:"Entidad Federativa",variables:[{key:"ITDIF",column:"ITDIF",label:"ITDIF",color:"#0F3759",order:1}]},ICI:{categoryColumn:"Entidad Federativa",variables:[{key:"ICI",column:"ICI",label:"ICI",color:"#0F3759",order:1},{key:"Consistencia en RT",column:"Consistencia en RT",label:"Consistencia en RT",color:"#0F3759",order:2},{key:"Proyectos",column:"Proyectos",label:"Proyectos",color:"#0F3759",order:3},{key:"Indicadores",column:"Indicadores",label:"Indicadores",color:"#0F3759",order:4}]},PBRSED:{categoryColumn:"Entidad Federativa",variables:[{key:"PBRSED",column:"PBRSED",label:"PBRSED",color:"#0F3759",order:1},{key:"Diagnstico",column:"Diagnstico",label:"Diagnstico",color:"#0F3759",order:2}]},ingresoTotal:{categoryColumn:"Entidad Federativa",variables:[{key:"Ingresos",column:"Ingresos",label:"Ingresos",color:"#0F3759",colorClass:"blue",order:1},{key:"Egresos",column:"Egresos",label:"Egresos",color:"#3B5A70",colorClass:"blue",order:1}]},egresoTotal:{categoryColumn:"Entidad Federativa",valueColumn:"Egresos"},pea:{categoryColumn:"Entidad Federativa",valueColumn:"Personas"},pib:{categoryColumn:"Entidad Federativa",valueColumn:"PIBE",variables:[{key:"PIBE",column:"PIBE",label:"PIB Estatal",color:"#0F3759",order:1}]},itaee:{categoryColumn:"Entidad Federativa",variables:[{key:"variacion",column:"Variacin porcentual anual",label:"Variacin %",color:"#0F3759",colorClass:"blue",order:1}]},desocupacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Tasa de desocupacin",column:"Tasa de desocupacin",label:"Tasa de desocupacin",color:"#0F3759",order:1},{key:"Tasa de informalidad laboral",column:"Tasa de informalidad laboral",label:"Tasa de informalidad laboral",color:"#3B5A70",order:2},{key:"Tasa de participacin",column:"Tasa de participacin",label:"Tasa de participacin",color:"#4E6D82",order:3}]},marginacion:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Marginacin",column:"ndice de Marginacin",label:"ndice de Marginacin",color:"#0F3759",order:1},{key:"Grado de marginacin",column:"Grado de marginacin",label:"Grado de marginacin",color:"#3B5A70",order:2},{key:"ndice de marginacin normalizado",column:"ndice de marginacin normalizado",label:"ndice de marginacin normalizado",color:"#4E6D82",order:3}]},idh:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Desarrollo Humano",column:"ndice de Desarrollo Humano",label:"ndice de Desarrollo Humano",color:"#0F3759",order:1}]},rezagoSocial:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Rezago Social",column:"ndice de Rezago Social",label:"ndice de Rezago Social",color:"#0F3759",order:1},{key:"Grado de Rezago Social",column:"Grado de Rezago Social",label:"Grado de Rezago Social",color:"#0F3759",order:2}]},indiceGini:{categoryColumn:"Entidad Federativa",variables:[{key:"CONEVAL 2020",column:"CONEVAL 2020",label:"CONEVAL 2020",color:"#0F3759",order:1},{key:"PNUD 2022",column:"PNUD 2022",label:"PNUD 2022",color:"#0F3759",order:2}]},poblacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Personas",column:"Personas",label:"Personas",color:"#0F3759",order:1}]},incendiosForestales:{categoryColumn:"Entidad Federativa",variables:[{key:"arbolado",column:"Arbolado Adulto",label:"Arbolado Adulto",color:"#0F3759",colorClass:"blue",order:1},{key:"renuevo",column:"Renuevo",label:"Renuevo",color:"#3B5A70",colorClass:"blue",order:2},{key:"arbustivo",column:"Arbustivo",label:"Arbustivo",color:"#4E6D82",colorClass:"blue",order:3},{key:"herbaceo",column:"Herbaceo",label:"Herbaceo",color:"#D6D6D6",colorClass:"gray",order:4},{key:"hojarasca",column:"Hojarasca",label:"Hojarasca",color:"#A1A1A1",colorClass:"gray",order:5},{key:"total",column:"Total de Hectreas",label:"Total de Hectreas",color:"#B0B0B0",colorClass:"gray",order:6}]},residuosSolidos:{categoryColumn:"Entidad Federativa",valueColumn:"Slidos Urbanos"},emisiones:{categoryColumn:"Entidad Federativa",variables:[{key:"Fuentes Fijas",column:"Fuentes Fijas",label:"Fuentes Fijas",color:"#DC143C",order:1},{key:"Fuente erea",column:"Fuente erea",label:"Fuente erea",color:"#0F3759",order:2},{key:"Carreteros",column:"Carreteros",label:"Carreteros",color:"#7cb342",order:3},{key:"No Carreteros",column:"No Carreteros",label:"No Carreteros",color:"#FF9800",order:4},{key:"Naturales",column:"Naturales",label:"Naturales",color:"#9C27B0",order:5}]},energia:{categoryColumn:"Entidad Federativa",valueColumn:"Consumo Energa"},areasNaturales:{categoryColumn:"Entidad Federativa",variables:[{key:"Flora y fauna",column:"Flora y fauna",label:"Flora y fauna",color:"#0F3759",colorClass:"blue",order:1},{key:"Recursos naturales",column:"Recursos naturales",label:"Recursos naturales",color:"#3B5A70",colorClass:"blue",order:2},{key:"Monumento Natural",column:"Monumento Natural",label:"Monumento Natural",color:"#4E6D82",colorClass:"blue",order:3},{key:"Parque Nacional",column:"Parque Nacional",label:"Parque Nacional",color:"#B0B0B0",colorClass:"gray",order:4},{key:"Reserva de la bisfera",column:"Reserva de la bisfera",label:"Reserva de la bisfera",color:"#0F3759",colorClass:"blue",order:5},{key:"Santuario",column:"Santuario",label:"Santuario",color:"#3B5A70",colorClass:"gray",order:6}]},chartsPresupuestos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"presupuesto_total",column:"PT ($)",label:"Presupuesto Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"presupuesto_sostenible",column:"PS ($)",label:"Presupuesto Sostenible",colorClass:"green",color:"#7cb342",order:2},{key:"presupuesto_carbono",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsPS:[{key:"ps_desastres",column:"PS_DN",label:"Desastres Naturales",colorClass:"dark-green",color:"#558b2f"},{key:"ps_proteccion",column:"PS_PA",label:"Proteccin Ambiental",colorClass:"green",color:"#7cb342"}],donutSectorsPIC:[{key:"pic_combustible",column:"PIC_C",label:"Combustible",colorClass:"dark-red",color:"#b71c1c"},{key:"pic_mineria",column:"PIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"pic_transporte",column:"PIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"}]},posicionesCuantitativos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"is_pos",column:"POS_IS",label:"Posicion Ingresos Sostenibles",colorClass:"gray",color:"#7cb342",order:1},{key:"iic_pos",column:"POS_IIC",label:"Posicin Ingresos Intensivos en Carbono",colorClass:"green",color:"#DC143C",order:2},{key:"pic_pos",column:"POS_PIC",label:"Posicin Presupuestos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3},{key:"pic_ps",column:"POS_PS",label:"Posicin Presupuestos Sostenibles",colorClass:"red",color:"#7cb342",order:4}]},chartsIngresos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"ingresos_total",column:"IT ($)",label:"Ingreso Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"ingresos_sostenibles",column:"IS ($)",label:"Ingresos Sostenibles",colorClass:"green",color:"#7cb342",order:2},{key:"ingresos_carbono",column:"IIC ($)",label:"Ingresos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsIS:[{key:"is_ambiental",column:"IS_A",label:"Ambiental",colorClass:"dark-green",color:"#558b2f"},{key:"is_ecologico",column:"IS_E",label:"Ecolgico",colorClass:"green",color:"#7cb342"},{key:"is_movilidad",column:"IS_MS",label:"Movilidad Sustentable",colorClass:"light-green",color:"#9ccc65"}],donutSectorsIIC:[{key:"iic_hidrocarburos",column:"IIC_H",label:"Hidrocarburos",colorClass:"dark-red",color:"#b71c1c"},{key:"iic_mineria",column:"IIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"iic_transporte",column:"IIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"},{key:"iic_mns",column:"IIC_MNS",label:"Movilidad No Sustentable",colorClass:"light-red",color:"#ef5350"}]},chartsPresupuestosRegional:{stateColumn:"Ao",variableColumns:[{key:"presupuesto_total_reg",column:"PT",label:"Presupuesto Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"presupuesto_sostenible_reg",column:"PS ($)",label:"Presupuesto Sostenible",colorClass:"green",color:"#7cb342",order:2},{key:"presupuesto_carbono_reg",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsPSRegional:[{key:"ps_cambio_climatico_reg",column:"PS_CC",label:"Cambio climtico",colorClass:"dark-green",color:"#2e7d32"},{key:"ps_energia_renovable_reg",column:"PS_ER",label:"Energa Renovable",colorClass:"dark-green",color:"#43a047"},{key:"ps_eficiencia_energetica_reg",column:"PS_EE",label:"Eficiencia Energtica",colorClass:"dark-green",color:"#66bb6a"},{key:"ps_desastres_reg",column:"PS_DN",label:"Desastres Naturales",colorClass:"dark-green",color:"#1b5e20"}],donutSectorsPICRegional:[{key:"pic_hidrocarburos_reg",column:"PIC_H",label:"Hidrocarburos",colorClass:"light-red",color:"#ef5350"}]},chartsIngresosRegional:{stateColumn:"Ao",variableColumns:[{key:"ingresos_total_reg",column:"IT ($)",label:"Ingreso Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"ingresos_sostenibles_reg",column:"IS ($)",label:"Ingresos Sostenibles",colorClass:"green",color:"#7cb342",order:2},{key:"ingresos_carbono_reg",column:"IIC ($)",label:"Ingresos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsISRegional:[{key:"is_ftdcc_reg",column:"IS_FTDCC",label:"Financiamiento dedicado al cambio climtico",colorClass:"dark-green",color:"#558b2f"}],donutSectorsIICRegional:[{key:"iic_hidrocarburos_reg",column:"IIC_H",label:"Hidrocarburos",colorClass:"dark-red",color:"#b71c1c"},{key:"iic_mineria_reg",column:"IIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"iic_combustible_reg",column:"IIC_C",label:"Combustible",colorClass:"light-red",color:"#ef5350"}]},cardIFSRegional:{stateColumn:"Ao",variableColumns:[{key:"ifs_val_reg",column:"IFS",label:"IFS Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"ifs_pos_reg",column:"POS_IFS",label:"Posicion IFS Regional",colorClass:"green",color:"#7cb342",order:2},{key:"is_val_reg",column:"IS ($)",label:"IS Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"is_pos_reg",column:"POS_IS",label:"Posicion IS Regional",colorClass:"green",color:"#7cb342",order:2},{key:"iic_val_reg",column:"IIC ($)",label:"IIC Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"icc_pos_reg",column:"POS_IIC",label:"Posicion IIC Regional",colorClass:"green",color:"#7cb342",order:2},{key:"pic_val_reg",column:"PIC ($)",label:"PIC Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"pic_pos_reg",column:"POS_PIC",label:"Posicion PIC Regional",colorClass:"green",color:"#7cb342",order:2},{key:"ps_val_reg",column:"PS ($)",label:"PS Regional",colorClass:"green",color:"#7cb342",order:9},{key:"ps_pos_reg",column:"POS_PS",label:"Posicion PS Regional",colorClass:"green",color:"#7cb342",order:10}]},rankingCuantitativo:{stateColumn:"Entidad Federativa",columnsByVariable:{IFSS:"IFSS",PS:"PS (%)",IIC:"IIC (%)",PIC:"PIC (%)",IS:"IS (%)"},variableColumns:[{key:"IFSS",column:"IFSS",label:"IFSS",color:"#0F3759",colorClass:"blue",order:1}]},iicBarChart:{yearColumn:"Ao",variableColumns:[{key:"iic_c",column:"IIC_C",label:"IIC_C",color:"#0F3759",order:1},{key:"iic_h",column:"IIC_H",label:"IIC_H",color:"#3B5A70",order:2},{key:"iic_m",column:"IIC_M",label:"IIC_M",color:"#6B8FA3",order:3}]},iicStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IIC Total",column:"IIC ($)",label:"IIC Total",color:"#3B5A70"},{key:"Ingreso Total",column:"IT ($)",label:"Ingreso Total",color:"#0F3759"}]},ifssStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IFS",column:"IFS",label:"IFS",color:"#10b981"}]},presupuestoBarChart:{yearColumn:"Ao",variableColumns:[{key:"IS",column:"IS ($)",label:"IS",color:"#0F3759",order:1}]},picBarChart:{yearColumn:"Ao",variableColumns:[{key:"PIC",column:"PIC ($)",label:"PIC",color:"#0F3759",order:1}]},psBarChart:{yearColumn:"Ao",variableColumns:[{key:"PS",column:"PS ($)",label:"PS",color:"#6B8FA3",order:1}]},isLinearChart:{yearColumn:"Ao",variableColumns:[{key:"IS_Total",column:"IS ($)",label:"IS Total"},{key:"Financiemiento_Total",column:"FT ($)",label:"Financiamiento Total"}]},pspicLinearChart:{yearColumn:"Ao",variableColumns:[{key:"GT",column:"GT ($)",label:"Gasto Total"},{key:"PS",column:"PS ($)",label:"Presupuestos Sostenibles"},{key:"PIC",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono"}]},presupuestoDetalleBarChart:{yearColumn:"Ao",variableColumns:[{key:"asignado",column:"Presupuesto Asignado",label:"Asignado",color:"#4CAF50",order:1},{key:"ejecutado",column:"Presupuesto Ejecutado",label:"Ejecutado",color:"#2196F3",order:2},{key:"disponible",column:"Presupuesto Disponible",label:"Disponible",color:"#FF9800",order:3}]},roiLinearChart:{yearColumn:"Ao",variableColumns:[{key:"roi",column:"ROI (%)",label:"Retorno de Inversin"},{key:"benchmark",column:"Benchmark Industria (%)",label:"Benchmark"}]},gastosStackedArea:{yearColumn:"Ao",variableColumns:[{key:"personal",column:"Gastos Personal",label:"Personal"},{key:"operacion",column:"Gastos Operacin",label:"Operacin"},{key:"inversion",column:"Gastos Inversin",label:"Inversin"},{key:"otros",column:"Otros Gastos",label:"Otros"}]},estadosBarChart:{yearColumn:"Ao",variableColumns:[{key:"cdmx",column:"Ciudad de Mxico",label:"CDMX",color:"#FF5722",order:1},{key:"jalisco",column:"Jalisco",label:"Jalisco",color:"#00BCD4",order:2},{key:"nuevoLeon",column:"Nuevo Len",label:"Nuevo Len",color:"#8BC34A",order:3}]}},variablesConfig:{federal:{label:"Federal",color:"#0F3759",order:1},estatal:{label:"Estatal",color:"#3B5A70",order:2},municipal:{label:"Municipal",color:"#6B8FA3",order:3},asignado:{label:"Asignado",color:"#4CAF50",order:1},ejecutado:{label:"Ejecutado",color:"#2196F3",order:2},disponible:{label:"Disponible",color:"#FF9800",order:3},personal:{label:"Personal",color:"#E91E63",order:1},operacion:{label:"Operacin",color:"#9C27B0",order:2},inversion:{label:"Inversin",color:"#3F51B5",order:3},otros:{label:"Otros",color:"#607D8B",order:4}}};function Re(e){console.log(" [storageConfig] Estableciendo ao activo:",e),vn=e||"2024"}function uh(){const e=ht.provider,t=ht[e];if(!t)throw new Error(`Configuracin no encontrada para provider: ${e}`);return{provider:e,...t,mappings:ht.mappings,variablesConfig:ht.variablesConfig}}function Cr(e){const t=ht.googlesheets;if(t.sheets&&t.sheets.presupuestos){for(const[s,a]of Object.entries(t.sheets.presupuestos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en presupuestos.${s}`),a.sheetId}if(t.sheets&&t.sheets.economicos){for(const[s,a]of Object.entries(t.sheets.economicos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en economicos.${s}`),a.sheetId}if(t.sheets&&t.sheets.sociales){for(const[s,a]of Object.entries(t.sheets.sociales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en sociales.${s}`),a.sheetId}if(t.sheets&&t.sheets.ambientales){for(const[s,a]of Object.entries(t.sheets.ambientales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en ambientales.${s}`),a.sheetId}if(t.sheets&&t.sheets.gobernabilidad){for(const[s,a]of Object.entries(t.sheets.gobernabilidad))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en gobernabilidad.${s}`),a.sheetId}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?(console.log(` Archivo "${e}" encontrado en cuantitativos`),console.log(` Usando ao activo: ${vn}`),t.sheets.cuantitativos.sheetId):t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?(console.log(` Archivo "${e}" encontrado en principal`),t.sheets.principal.sheetId):(console.log(` Usando sheet principal para "${e}"`),t.sheetId)}function Be(e){const t=ht.googlesheets;if(["datosCuantitativos","chartsPresupuestos","chartsIngresos","incendiosForestales","residuosSolidos","emisiones","energia","areasNaturales","ingresoTotal","egresoTotal","pea","pibe","itaee","desocupacion","marginacion","idh","rezagoSocial","indiceGini","poblacion","presupuestoEstatal","financiamientos","programas"].includes(e))return console.log(` Nombre de hoja dinmico para "${e}": ${vn}`),vn;if(t.sheets&&t.sheets.presupuestos){for(const[a,o]of Object.entries(t.sheets.presupuestos))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.sociales){for(const[a,o]of Object.entries(t.sheets.sociales))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.economicos){for(const[a,o]of Object.entries(t.sheets.economicos))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.ambientales){for(const[a,o]of Object.entries(t.sheets.ambientales))if(o.files&&o.files[e])return o.files[e]}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?t.sheets.cuantitativos.files[e]:t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?t.sheets.principal.files[e]:t.files[e]||e}function De(e){const t=ht.mappings[e];if(!t)throw new Error(`Mapeo no encontrado: ${e}`);return t}const Ut=new Map,Bc=5*60*1e3,as=new Map,dh=3,fh=150;let Ja=0;const hn=[],Vc=async()=>{if(hn.length===0||Ja>=dh)return;const{resolve:e,reject:t,fn:s}=hn.shift();Ja++;try{const a=await s();e(a)}catch(a){t(a)}finally{Ja--,setTimeout(Vc,fh)}},wr=e=>new Promise((t,s)=>{hn.push({resolve:t,reject:s,fn:e}),Vc()}),_r=async(e,t=3,s=500)=>{for(let a=0;a<t;a++)try{const o=await fetch(e);if(o.status===429||o.status===400&&a<t-1){const l=s*Math.pow(2,a);console.warn(` [Retry] Intento ${a+1}/${t} fall (${o.status}). Reintentando en ${l}ms...`),await new Promise(r=>setTimeout(r,l));continue}return o}catch(o){const l=s*Math.pow(2,a);console.warn(` [Retry] Intento ${a+1}/${t} fall (${o.message}). Reintentando en ${l}ms...`),await new Promise(r=>setTimeout(r,l))}return console.warn(" [fetchWithRetry] Mximo de reintentos alcanzado. Retornando null silenciosamente."),null},vh=(e,t)=>`${e}__${t}`,Sr=e=>e?Date.now()-e.timestamp<Bc:!1,hh=()=>{const e=Date.now();for(const[t,s]of Ut.entries())e-s.timestamp>=Bc&&(Ut.delete(t),console.log(` [Cache] Limpiando entrada expirada: ${t}`))};setInterval(hh,2*60*1e3);function ft(){const e=uh(),t=async f=>{try{const c=Cr(f),u=e.apiKey;if(!u||!c)return console.warn(" [fetchSheetNames] Falta configuracin de API Key o Sheet ID"),[];const v=`__sheetNames__${c}`,h=Ut.get(v);if(Sr(h))return console.log(` [Cache HIT] Usando nombres de hojas en cach para: ${f}`),h.data;if(as.has(v))return console.log(` [Pending] Esperando solicitud de nombres existente para: ${f}`),await as.get(v);console.log(` [useStorageData] Obteniendo nombres de hojas para: ${f}`),console.log(`  - Sheet ID: ${c}`);const C=wr(async()=>{const $=`https://sheets.googleapis.com/v4/spreadsheets/${c}?key=${u}`,g=await _r($);if(!g)return console.warn(` [fetchSheetNames] No se pudo obtener hojas para: ${f}`),[];if(!g.ok)return console.warn(` [fetchSheetNames] Error HTTP ${g.status} para: ${f}`),[];const b=(await g.json()).sheets.map(w=>w.properties.title);return console.log(" [useStorageData] Hojas encontradas:",b),Ut.set(v,{data:b,timestamp:Date.now()}),console.log(` [Cache SAVE] Nombres de hojas guardados: ${v}`),b});as.set(v,C);try{return await C}finally{as.delete(v)}}catch(c){return console.warn(" [fetchSheetNames] Error silencioso:",c.message),[]}},s=async(f,c=null)=>{try{const u=c||Be(f),v=Cr(f),h=e.apiKey;if(!h||!v)return console.warn(" [fetchData] Falta configuracin de API Key o Sheet ID"),[];const C=vh(f,u),$=Ut.get(C);if(Sr($))return console.log(` [Cache HIT] Usando datos en cach para: ${f} - ${u}`),$.data;if(as.has(C))return console.log(` [Pending] Esperando solicitud existente para: ${f}`),await as.get(C);console.log(` [useStorageData] Obteniendo datos de: ${f}`),console.log(`  - Hoja: ${u}`),console.log(`  - Sheet ID: ${v}`);let g=u;/^\d+$/.test(String(u).trim())&&(g=`'${u}'`,console.log(`  - Nombre formateado con comillas: ${g}`));const y=`${g}!A:ZZ`,b=`https://sheets.googleapis.com/v4/spreadsheets/${v}/values/${encodeURIComponent(y)}?key=${h}`,w=wr(async()=>{const k=await _r(b);if(!k)return console.warn(` [fetchData] Max retries alcanzado para: ${f}. Retornando vaco.`),[];if(!k.ok)return console.warn(` [fetchData] Error HTTP ${k.status} para: ${f}. Retornando vaco.`),[];const A=(await k.json()).values||[];if(A.length===0)return console.warn(" [useStorageData] No se encontraron datos"),[];const _=A[0],F=A.slice(1).map(D=>{const M={};return _.forEach((E,I)=>{M[E]=D[I]||null}),M});return console.log(` [useStorageData] Datos obtenidos: ${F.length} filas`),Ut.set(C,{data:F,timestamp:Date.now()}),console.log(` [Cache SAVE] Datos guardados en cach: ${C}`),F});as.set(C,w);try{return await w}finally{as.delete(C)}}catch(u){return console.warn(` [fetchData] Error silencioso para ${f}:`,u.message),[]}},a=f=>{if(typeof f=="number")return isNaN(f)?0:f;if(!f||f===""||f===null||f===void 0)return 0;let c=String(f).trim().toUpperCase();if(c==="NA"||c==="ND"||c==="N/A"||c==="-"||(c=c.replace(/^["']+|["']+$/g,"").trim(),c===""||c==='""'||c==="''"))return 0;c=c.replace(/[$\s]/g,"");const u=(c.match(/,/g)||[]).length,v=(c.match(/\./g)||[]).length;let h;if(u===0&&v===0)h=parseFloat(c)||0;else if(u>0&&v===0)if(u===1){const C=c.split(",");C[1].length===3&&/^\d+$/.test(C[0])&&/^\d{3}$/.test(C[1])?h=parseFloat(c.replace(",",""))||0:h=parseFloat(c.replace(",","."))||0}else h=parseFloat(c.replace(/,/g,""))||0;else if(v>0&&u===0)if(v===1){const C=c.split(".");C[1].length===3&&/^\d+$/.test(C[0])&&/^\d{3}$/.test(C[1])?h=parseFloat(c.replace(".",""))||0:h=parseFloat(c)||0}else h=parseFloat(c.replace(/\./g,""))||0;else{const C=c.lastIndexOf(","),$=c.lastIndexOf(".");C>$?h=parseFloat(c.replace(/\./g,"").replace(",","."))||0:h=parseFloat(c.replace(/,/g,""))||0}return h},o=(f,c)=>{try{if(console.log(" [transformToBarChartData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToBarChartData] No hay datos para transformar"),[];const u=c.yearColumn||"Ao",v=c.variableColumns||[],h={};f.forEach($=>{const g=$[u];g&&(h[g]||(h[g]={year:g}),v.forEach(y=>{const b=$[y.column],w=a(b);h[g][y.key]||(h[g][y.key]=0),h[g][y.key]+=w}))});const C=Object.values(h).sort(($,g)=>parseInt($.year)-parseInt(g.year)).map($=>{const g=v.map(y=>({key:y.key,label:y.label,value:$[y.key]||0,color:y.color}));return{year:$.year,variables:g,total:g.reduce((y,b)=>y+b.value,0)}});return console.log(` [transformToBarChartData] Datos transformados: ${C.length} aos`),C}catch(u){return console.error(" [transformToBarChartData] Error:",u),[]}},l=(f,c)=>{try{if(console.log(" [transformToLinearChartData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToLinearChartData] No hay datos para transformar"),{data:[],labels:[]};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map($=>$[u]))].filter($=>$).sort(($,g)=>parseInt($)-parseInt(g)),C=v.map($=>{const g=h.map(y=>f.filter(k=>k[u]===y).reduce((k,H)=>k+a(H[$.column]),0));return{key:$.key,label:$.label,data:g,color:$.color||"#0F3759"}});return console.log(` [transformToLinearChartData] Datos transformados: ${h.length} aos`),{data:C,labels:h}}catch(u){return console.error(" [transformToLinearChartData] Error:",u),{data:[],labels:[]}}},r=(f,c)=>{try{if(console.log(" [transformToStackedAreaData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToStackedAreaData] No hay datos para transformar"),{};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map($=>$[u]))].filter($=>$).sort(($,g)=>parseInt($)-parseInt(g)),C={};return v.forEach($=>{C[$.label]=h.map(g=>f.filter(w=>w[u]===g).reduce((w,k)=>w+a(k[$.column]),0))}),console.log(" [transformToStackedAreaData] Datos transformados:",Object.keys(C)),C}catch(u){return console.error(" [transformToStackedAreaData] Error:",u),{}}},i=(f,c,u="horizontal",v={})=>{try{return console.log(` [useStorageData] Transformando datos para tipo: ${u}`),u==="horizontal"?d(f,c,v):u==="bar"?o(f,c):u==="linear"?l(f,c):u==="stackedArea"?r(f,c):f}catch(h){return console.error(" [useStorageData] Error transformando datos:",h),[]}},d=(f,c,u={})=>{const{selectedEntity:v}=u;if(!v)return console.warn(" [useStorageData] No hay entidad seleccionada"),[];const h=c.categoryColumn||c.stateColumn,C=f.find(g=>g[h]===v);return C?(console.log(` [useStorageData] Fila encontrada para ${v}:`,C),(c.variables||c.variableColumns).map(g=>{const y=C[g.column],b=a(y);return{key:g.key,label:g.label,value:b,color:g.color,colorClass:g.colorClass||"default",active:!0}})):(console.warn(` [useStorageData] No se encontr entidad: ${v}`),[])};return{fetchData:s,fetchSheetNames:t,transform:i,transformToBarChartData:o,transformToLinearChartData:l,transformToStackedAreaData:r,parseNumericValue:a,clearCache:()=>{Ut.clear(),console.log(" [Cache] Cach limpiado completamente")},getCacheStats:()=>({size:Ut.size,keys:Array.from(Ut.keys()),activeRequests:Ja,queueLength:hn.length})}}const Yt=()=>{const e=j(null),t=j(null),s=j(!0),a=j(null),o=j(null),l=j(null),{fetchData:r}=ft(),i=j({width:470.2,height:300.4,scale:700,center:[-106,25],projection:"geoMercator"}),d=N(()=>{if(!t.value)return null;const I=Object.values(t.value).filter(T=>T.value&&T.value>0);if(I.length===0)return null;const B=I.reduce((T,q)=>T+q.value,0)/I.length;return{value:Math.round(B*100)/100,label:M(B)}}),f=async()=>{var E,I;try{const P=await fetch("/PlataformaFinanzasSostenibles/mexicoStates.json");if(!P.ok)throw new Error("Error al cargar datos geogrficos");e.value=await P.json(),console.log(" GeoData cargado:",(I=(E=e.value)==null?void 0:E.features)==null?void 0:I.length,"estados")}catch(P){console.error(" Error cargando GeoJSON:",P),a.value=P.message}},c=async()=>{try{console.log(" [useMaps] Cargando datos de Google Sheets...");const E=Be("datosCuantitativos");console.log(` [useMaps] Cargando desde hoja: "${E}"`);const I=De("rankingCuantitativo"),P=I.stateColumn,B=I.columnsByVariable.IFSS;console.log(` [useMaps] Columnas: Estado="${P}", Valor="${B}"`);const T=await r("datosCuantitativos",E);if(!T||T.length===0){console.warn(" [useMaps] No se encontraron datos en el sheet"),t.value={};return}console.log(` [useMaps] Datos crudos obtenidos: ${T.length} filas`);const q={};T.forEach(Z=>{const re=Z[P],he=Z[B];if(!re||re.trim()==="")return;let be=he;typeof he=="string"&&(be=he.replace(/^["']+|["']+$/g,"").trim(),be===""||be==='""'||be==='"""'?be="0":be.includes(",")&&(be=be.replace(/\./g,"").replace(",",".")));const ne=parseFloat(be)||0;q[re]={region:re,value:ne,year:parseInt(E)||2024}}),t.value=q,console.log(` [useMaps] Datos procesados: ${Object.keys(q).length} estados`);const Q=Object.entries(q).slice(0,3);console.log(" [useMaps] Ejemplos de datos:",Q.map(([Z,re])=>`${Z}: ${re.value}`).join(", "))}catch(E){console.error(" [useMaps] Error cargando datos de sustentabilidad:",E),a.value=E.message,console.log(" [useMaps] Intentando fallback a JSON local..."),await u()}},u=async()=>{try{const E=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!E.ok)throw new Error("Error al cargar datos de sustentabilidad (fallback)");const I=await E.json();t.value=I.reduce((P,B)=>(P[B.region]=B,P),{}),console.log(" [useMaps] Datos cargados desde fallback JSON:",Object.keys(t.value).length,"estados")}catch(E){console.error(" [useMaps] Error en fallback:",E),a.value=E.message}},v=async E=>{console.log(` [useMaps] Recargando datos para ao: ${E}`),s.value=!0,a.value=null;try{await c()}catch(I){a.value=I.message}finally{s.value=!1}},h=async()=>{s.value=!0,a.value=null;try{await Promise.all([f(),c()])}catch(E){a.value=E.message}finally{s.value=!1}},C=E=>{if(!t.value||!t.value[E])return"#e0e0e0";const P=t.value[E].value||0;return P>=4?"#6ac952":P>=2.3?"#94d351":P>=1.9?"#bddc50":P>=1.5?"#e6a74c":P>.7?"#e67849":"#e52845"},$=E=>{if(!t.value||!t.value[E])return{region:E,value:0,year:2024,descripcion:"Sin datos IFSS disponibles"};const I=t.value[E];return{region:I.region,year:I.year,value:I.value,descripcion:`IFSS: ${I.value} - ${M(I.value).label} nivel de finanzas sostenibles.`}},g=N(()=>{var Q;if(!t.value)return null;const I=Object.values(t.value).map(Z=>Z.value||0).filter(Z=>Z>0);if(I.length===0)return null;const P=I.length,B=I.reduce((Z,re)=>Z+re,0)/P,T=Math.max(...I),q=Math.min(...I);return{totalStates:P,avgIFSS:Math.round(B*100)/100,maxIFSS:T,minIFSS:q,year:((Q=Object.values(t.value)[0])==null?void 0:Q.year)||2024}}),y=N(()=>t.value?Object.entries(t.value).sort((E,I)=>(I[1].value||0)-(E[1].value||0)).slice(0,5).map(([E,I])=>({name:E,region:I.region,year:I.year,value:I.value})):[]),b=N(()=>t.value?Object.entries(t.value).sort((E,I)=>(E[1].value||0)-(I[1].value||0)).slice(0,5).map(([E,I])=>({name:E,region:I.region,year:I.year,value:I.value})):[]),w=E=>{if(console.log(" [useMaps] handleStateClick:",E),!E){o.value=null;return}const I=E.trim();t.value&&(t.value[I]?(o.value=o.value===I?null:I,console.log(" [useMaps] selectedState:",o.value)):(console.warn(" [useMaps] Estado no encontrado:",I),console.log(" [useMaps] Estados disponibles:",Object.keys(t.value))))},k=E=>{l.value=E},H=()=>{l.value=null},A=()=>{o.value=null,l.value=null},_=(E,I)=>{i.value={...i.value,width:E,height:I}},F=E=>{if(!t.value||!E)return[];const I=E.toLowerCase();return Object.keys(t.value).filter(P=>P.toLowerCase().includes(I)).map(P=>({name:P,region:t.value[P].region,year:t.value[P].year,value:t.value[P].value}))},D=(E=0,I=5)=>t.value?Object.entries(t.value).filter(([P,B])=>{const T=B.value||0;return T>=E&&T<=I}).map(([P,B])=>({name:P,region:B.region,year:B.year,value:B.value})):[],M=E=>E>=4?{label:"Alto",color:"#6ac952"}:E>=2.3?{label:"Medio Alto",color:"#94d351"}:E>=1.9?{label:"Medio",color:"#bddc50"}:E>=1.5?{label:"Medio Bajo",color:"#e6a74c"}:E>.7?{label:"Bajo",color:"#e67849"}:{label:"Muy Bajo",color:"#e52845"};return Le(()=>{h()}),{geoData:e,sustainabilityData:t,loading:s,error:a,selectedState:o,hoveredState:l,mapConfig:i,generalStats:g,topPerformingStates:y,worstPerformingStates:b,nationalIFSS:d,getStateColor:C,getStateInfo:$,getIFSSLabel:M,handleStateClick:w,handleStateHover:k,handleStateLeave:H,resetSelection:A,setMapSize:_,searchState:F,filterByRange:D,initializeData:h,reloadDataForYear:v}},Da=()=>{const e=j("donut"),t=j(null),s=j(!1),a=j(null),o=j([{id:"donut",name:"Grficas de Dona",description:"Visualizacin circular de porcentajes"},{id:"bar",name:"Grficas de Barras",description:"Comparacin visual de valores"},{id:"line",name:"Grficas de Lnea",description:"Tendencias temporales"},{id:"area",name:"Grficas de rea",description:"Evolucin de datos en el tiempo"}]),l=($,g="")=>{const y=Math.round($/2.9*100);return[{label:`IFSS ${g}`,value:y,color:"#DC143C",rawValue:$},{label:"Restante",value:100-y,color:"#E8E8E8",rawValue:2.9-$}]},r=($,g=8,y="Indicador")=>[{label:y,value:$,maxValue:g,percentage:$/g*100}],i=$=>{if(!$||!$.value)return d();const g=$.value;return $.region,{donuts:[{id:"q1",title:"Q1",subtitle:`${Math.round(g*.9*10)/10}`,data:l(g*.9,"Q1")},{id:"q2",title:"Q2",subtitle:`${Math.round(g*.8*10)/10}`,data:l(g*.8,"Q2")},{id:"q3",title:"Q3",subtitle:`${Math.round(g*1.1*10)/10}`,data:l(g*1.1,"Q3")},{id:"q4",title:"Q4",subtitle:`${Math.round(g*.7*10)/10}`,data:l(g*.7,"Q4")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:r(Math.min(8,Math.round(g*2.8)),8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:r(Math.min(8,Math.round(g*2.5)),8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:r(Math.min(8,Math.round(g*3)),8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:r(Math.min(8,Math.round(g*2.2)),8,"Innovacin")}]}},d=()=>({donuts:[{id:"q1",title:"Q1",subtitle:"35%",data:l(1,"Nacional")},{id:"q2",title:"Q2",subtitle:"30%",data:l(.9,"Nacional")},{id:"q3",title:"Q3",subtitle:"35%",data:l(1,"Nacional")},{id:"q4",title:"Q4",subtitle:"30%",data:l(.9,"Nacional")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:r(6,8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:r(5,8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:r(7,8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:r(4,8,"Innovacin")}]}),f=N(()=>t.value||d());return{selectedChartType:e,chartData:t,loading:s,error:a,availableChartTypes:o,currentChartsData:f,setChartData:$=>{t.value=i($)},setChartType:$=>{e.value=$},resetCharts:()=>{t.value=null,e.value="donut",a.value=null},generateDonutData:l,generateBarData:r,getStateChartsData:i,getDefaultChartsData:d,exportChartsData:($="Mexico")=>{const g=f.value,y=["Tipo","Indicador","Valor","Estado"],b=[];g.donuts.forEach(_=>{b.push(["Dona",_.title,_.subtitle,$])}),g.bars.forEach(_=>{var D;const F=((D=_.data[0])==null?void 0:D.value)||0;b.push(["Barra",_.title,F,$])});const w=[y.join(","),...b.map(_=>_.join(","))].join(`
`),k=new Blob([w],{type:"text/csv"}),H=window.URL.createObjectURL(k),A=document.createElement("a");A.href=H,A.download=`IFSS_Charts_${$}_${new Date().toISOString().split("T")[0]}.csv`,A.click(),window.URL.revokeObjectURL(H)},getIFSSColor:$=>$>=2.4?"#6ac952":$>=2?"#94d351":$>=1.8?"#bddc50":$>=1.6?"#e6d64f":$>=1.2?"#e6a74c":$>=.8?"#e67849":"#e52845"}};class _s{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const s=this._partials;let a=0;for(let o=0;o<this._n&&o<32;o++){const l=s[o],r=t+l,i=Math.abs(t)<Math.abs(l)?t-(r-l):l-(r-t);i&&(s[a++]=i),t=r}return s[a]=t,this._n=a+1,this}valueOf(){const t=this._partials;let s=this._n,a,o,l,r=0;if(s>0){for(r=t[--s];s>0&&(a=r,o=t[--s],r=a+o,l=o-(r-a),!l););s>0&&(l<0&&t[s-1]<0||l>0&&t[s-1]>0)&&(o=l*2,a=r+o,o==a-r&&(r=a))}return r}}function*ph(e){for(const t of e)yield*t}function Lc(e){return Array.from(ph(e))}var He=1e-6,Te=Math.PI,pt=Te/2,kr=Te/4,At=Te*2,gt=180/Te,Ke=Te/180,qe=Math.abs,Oc=Math.atan,ka=Math.atan2,Xe=Math.cos,gh=Math.exp,mh=Math.log,Qe=Math.sin,bh=Math.sign||function(e){return e>0?1:e<0?-1:0},$s=Math.sqrt,yh=Math.tan;function Ah(e){return e>1?0:e<-1?Te:Math.acos(e)}function $a(e){return e>1?pt:e<-1?-pt:Math.asin(e)}function xt(){}function pn(e,t){e&&xr.hasOwnProperty(e.type)&&xr[e.type](e,t)}var $r={Feature:function(e,t){pn(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,a=-1,o=s.length;++a<o;)pn(s[a].geometry,t)}},xr={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)e=s[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){xo(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)xo(s[a],t,0)},Polygon:function(e,t){Ir(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)Ir(s[a],t)},GeometryCollection:function(e,t){for(var s=e.geometries,a=-1,o=s.length;++a<o;)pn(s[a],t)}};function xo(e,t,s){var a=-1,o=e.length-s,l;for(t.lineStart();++a<o;)l=e[a],t.point(l[0],l[1],l[2]);t.lineEnd()}function Ir(e,t){var s=-1,a=e.length;for(t.polygonStart();++s<a;)xo(e[s],t,1);t.polygonEnd()}function Ts(e,t){e&&$r.hasOwnProperty(e.type)?$r[e.type](e,t):pn(e,t)}function Io(e){return[ka(e[1],e[0]),$a(e[2])]}function Hs(e){var t=e[0],s=e[1],a=Xe(s);return[a*Xe(t),a*Qe(t),Qe(s)]}function Ya(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function so(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ja(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Eo(e){var t=$s(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Po(e,t){function s(a,o){return a=e(a,o),t(a[0],a[1])}return e.invert&&t.invert&&(s.invert=function(a,o){return a=t.invert(a,o),a&&e.invert(a[0],a[1])}),s}function Fo(e,t){return qe(e)>Te&&(e-=Math.round(e/At)*At),[e,t]}Fo.invert=Fo;function Nc(e,t,s){return(e%=At)?t||s?Po(Pr(e),Fr(t,s)):Pr(e):t||s?Fr(t,s):Fo}function Er(e){return function(t,s){return t+=e,qe(t)>Te&&(t-=Math.round(t/At)*At),[t,s]}}function Pr(e){var t=Er(e);return t.invert=Er(-e),t}function Fr(e,t){var s=Xe(e),a=Qe(e),o=Xe(t),l=Qe(t);function r(i,d){var f=Xe(d),c=Xe(i)*f,u=Qe(i)*f,v=Qe(d),h=v*s+c*a;return[ka(u*o-h*l,c*s-v*a),$a(h*o+u*l)]}return r.invert=function(i,d){var f=Xe(d),c=Xe(i)*f,u=Qe(i)*f,v=Qe(d),h=v*o-u*l;return[ka(u*o+v*l,c*s+h*a),$a(h*s-c*a)]},r}function Ch(e){e=Nc(e[0]*Ke,e[1]*Ke,e.length>2?e[2]*Ke:0);function t(s){return s=e(s[0]*Ke,s[1]*Ke),s[0]*=gt,s[1]*=gt,s}return t.invert=function(s){return s=e.invert(s[0]*Ke,s[1]*Ke),s[0]*=gt,s[1]*=gt,s},t}function wh(e,t,s,a,o,l){if(s){var r=Xe(t),i=Qe(t),d=a*s;o==null?(o=t+a*At,l=t-d/2):(o=Mr(r,o),l=Mr(r,l),(a>0?o<l:o>l)&&(o+=a*At));for(var f,c=o;a>0?c>l:c<l;c-=d)f=Io([r,-i*Xe(c),-i*Qe(c)]),e.point(f[0],f[1])}}function Mr(e,t){t=Hs(t),t[0]-=e,Eo(t);var s=Ah(-t[1]);return((-t[2]<0?-s:s)+At-He)%At}function zc(){var e=[],t;return{point:function(s,a,o){t.push([s,a,o])},lineStart:function(){e.push(t=[])},lineEnd:xt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function Za(e,t){return qe(e[0]-t[0])<He&&qe(e[1]-t[1])<He}function Ha(e,t,s,a){this.x=e,this.z=t,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Yc(e,t,s,a,o){var l=[],r=[],i,d;if(e.forEach(function(C){if(!(($=C.length-1)<=0)){var $,g=C[0],y=C[$],b;if(Za(g,y)){if(!g[2]&&!y[2]){for(o.lineStart(),i=0;i<$;++i)o.point((g=C[i])[0],g[1]);o.lineEnd();return}y[0]+=2*He}l.push(b=new Ha(g,C,null,!0)),r.push(b.o=new Ha(g,null,b,!1)),l.push(b=new Ha(y,C,null,!1)),r.push(b.o=new Ha(y,null,b,!0))}}),!!l.length){for(r.sort(t),Dr(l),Dr(r),i=0,d=r.length;i<d;++i)r[i].e=s=!s;for(var f=l[0],c,u;;){for(var v=f,h=!0;v.v;)if((v=v.n)===f)return;c=v.z,o.lineStart();do{if(v.v=v.o.v=!0,v.e){if(h)for(i=0,d=c.length;i<d;++i)o.point((u=c[i])[0],u[1]);else a(v.x,v.n.x,1,o);v=v.n}else{if(h)for(c=v.p.z,i=c.length-1;i>=0;--i)o.point((u=c[i])[0],u[1]);else a(v.x,v.p.x,-1,o);v=v.p}v=v.o,c=v.z,h=!h}while(!v.v);o.lineEnd()}}}function Dr(e){if(t=e.length){for(var t,s=0,a=e[0],o;++s<t;)a.n=o=e[s],o.p=a,a=o;a.n=o=e[0],o.p=a}}function ao(e){return qe(e[0])<=Te?e[0]:bh(e[0])*((qe(e[0])+Te)%At-Te)}function _h(e,t){var s=ao(t),a=t[1],o=Qe(a),l=[Qe(s),-Xe(s),0],r=0,i=0,d=new _s;o===1?a=pt+He:o===-1&&(a=-pt-He);for(var f=0,c=e.length;f<c;++f)if(v=(u=e[f]).length)for(var u,v,h=u[v-1],C=ao(h),$=h[1]/2+kr,g=Qe($),y=Xe($),b=0;b<v;++b,C=k,g=A,y=_,h=w){var w=u[b],k=ao(w),H=w[1]/2+kr,A=Qe(H),_=Xe(H),F=k-C,D=F>=0?1:-1,M=D*F,E=M>Te,I=g*A;if(d.add(ka(I*D*Qe(M),y*_+I*Xe(M))),r+=E?F+D*At:F,E^C>=s^k>=s){var P=gn(Hs(h),Hs(w));Eo(P);var B=gn(l,P);Eo(B);var T=(E^F>=0?-1:1)*$a(B[2]);(a>T||a===T&&(P[0]||P[1]))&&(i+=E^F>=0?1:-1)}}return(r<-He||r<He&&d<-1e-12)^i&1}function jc(e,t,s,a){return function(o){var l=t(o),r=zc(),i=t(r),d=!1,f,c,u,v={point:h,lineStart:$,lineEnd:g,polygonStart:function(){v.point=y,v.lineStart=b,v.lineEnd=w,c=[],f=[]},polygonEnd:function(){v.point=h,v.lineStart=$,v.lineEnd=g,c=Lc(c);var k=_h(f,a);c.length?(d||(o.polygonStart(),d=!0),Yc(c,kh,k,s,o)):k&&(d||(o.polygonStart(),d=!0),o.lineStart(),s(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),c=f=null},sphere:function(){o.polygonStart(),o.lineStart(),s(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(k,H){e(k,H)&&o.point(k,H)}function C(k,H){l.point(k,H)}function $(){v.point=C,l.lineStart()}function g(){v.point=h,l.lineEnd()}function y(k,H){u.push([k,H]),i.point(k,H)}function b(){i.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),i.lineEnd();var k=i.clean(),H=r.result(),A,_=H.length,F,D,M;if(u.pop(),f.push(u),u=null,!!_){if(k&1){if(D=H[0],(F=D.length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),A=0;A<F;++A)o.point((M=D[A])[0],M[1]);o.lineEnd()}return}_>1&&k&2&&H.push(H.pop().concat(H.shift())),c.push(H.filter(Sh))}}return v}}function Sh(e){return e.length>1}function kh(e,t){return((e=e.x)[0]<0?e[1]-pt-He:pt-e[1])-((t=t.x)[0]<0?t[1]-pt-He:pt-t[1])}const Tr=jc(function(){return!0},$h,Ih,[-Te,-pt]);function $h(e){var t=NaN,s=NaN,a=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(l,r){var i=l>0?Te:-Te,d=qe(l-t);qe(d-Te)<He?(e.point(t,s=(s+r)/2>0?pt:-pt),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(i,s),e.point(l,s),o=0):a!==i&&d>=Te&&(qe(t-a)<He&&(t-=a*He),qe(l-i)<He&&(l-=i*He),s=xh(t,s,l,r),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(i,s),o=0),e.point(t=l,s=r),a=i},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-o}}}function xh(e,t,s,a){var o,l,r=Qe(e-s);return qe(r)>He?Oc((Qe(t)*(l=Xe(a))*Qe(s)-Qe(a)*(o=Xe(t))*Qe(e))/(o*l*r)):(t+a)/2}function Ih(e,t,s,a){var o;if(e==null)o=s*pt,a.point(-Te,o),a.point(0,o),a.point(Te,o),a.point(Te,0),a.point(Te,-o),a.point(0,-o),a.point(-Te,-o),a.point(-Te,0),a.point(-Te,o);else if(qe(e[0]-t[0])>He){var l=e[0]<t[0]?Te:-Te;o=s*l/2,a.point(-l,o),a.point(0,o),a.point(l,o)}else a.point(t[0],t[1])}function Eh(e){var t=Xe(e),s=2*Ke,a=t>0,o=qe(t)>He;function l(c,u,v,h){wh(h,e,s,v,c,u)}function r(c,u){return Xe(c)*Xe(u)>t}function i(c){var u,v,h,C,$;return{lineStart:function(){C=h=!1,$=1},point:function(g,y){var b=[g,y],w,k=r(g,y),H=a?k?0:f(g,y):k?f(g+(g<0?Te:-Te),y):0;if(!u&&(C=h=k)&&c.lineStart(),k!==h&&(w=d(u,b),(!w||Za(u,w)||Za(b,w))&&(b[2]=1)),k!==h)$=0,k?(c.lineStart(),w=d(b,u),c.point(w[0],w[1])):(w=d(u,b),c.point(w[0],w[1],2),c.lineEnd()),u=w;else if(o&&u&&a^k){var A;!(H&v)&&(A=d(b,u,!0))&&($=0,a?(c.lineStart(),c.point(A[0][0],A[0][1]),c.point(A[1][0],A[1][1]),c.lineEnd()):(c.point(A[1][0],A[1][1]),c.lineEnd(),c.lineStart(),c.point(A[0][0],A[0][1],3)))}k&&(!u||!Za(u,b))&&c.point(b[0],b[1]),u=b,h=k,v=H},lineEnd:function(){h&&c.lineEnd(),u=null},clean:function(){return $|(C&&h)<<1}}}function d(c,u,v){var h=Hs(c),C=Hs(u),$=[1,0,0],g=gn(h,C),y=Ya(g,g),b=g[0],w=y-b*b;if(!w)return!v&&c;var k=t*y/w,H=-t*b/w,A=gn($,g),_=ja($,k),F=ja(g,H);so(_,F);var D=A,M=Ya(_,D),E=Ya(D,D),I=M*M-E*(Ya(_,_)-1);if(!(I<0)){var P=$s(I),B=ja(D,(-M-P)/E);if(so(B,_),B=Io(B),!v)return B;var T=c[0],q=u[0],Q=c[1],Z=u[1],re;q<T&&(re=T,T=q,q=re);var he=q-T,be=qe(he-Te)<He,ne=be||he<He;if(!be&&Z<Q&&(re=Q,Q=Z,Z=re),ne?be?Q+Z>0^B[1]<(qe(B[0]-T)<He?Q:Z):Q<=B[1]&&B[1]<=Z:he>Te^(T<=B[0]&&B[0]<=q)){var ae=ja(D,(-M+P)/E);return so(ae,_),[B,Io(ae)]}}}function f(c,u){var v=a?e:Te-e,h=0;return c<-v?h|=1:c>v&&(h|=2),u<-v?h|=4:u>v&&(h|=8),h}return jc(r,i,l,a?[0,-e]:[-Te,e-Te])}function Ph(e,t,s,a,o,l){var r=e[0],i=e[1],d=t[0],f=t[1],c=0,u=1,v=d-r,h=f-i,C;if(C=s-r,!(!v&&C>0)){if(C/=v,v<0){if(C<c)return;C<u&&(u=C)}else if(v>0){if(C>u)return;C>c&&(c=C)}if(C=o-r,!(!v&&C<0)){if(C/=v,v<0){if(C>u)return;C>c&&(c=C)}else if(v>0){if(C<c)return;C<u&&(u=C)}if(C=a-i,!(!h&&C>0)){if(C/=h,h<0){if(C<c)return;C<u&&(u=C)}else if(h>0){if(C>u)return;C>c&&(c=C)}if(C=l-i,!(!h&&C<0)){if(C/=h,h<0){if(C>u)return;C>c&&(c=C)}else if(h>0){if(C<c)return;C<u&&(u=C)}return c>0&&(e[0]=r+c*v,e[1]=i+c*h),u<1&&(t[0]=r+u*v,t[1]=i+u*h),!0}}}}}var ea=1e9,Ga=-ea;function Fh(e,t,s,a){function o(f,c){return e<=f&&f<=s&&t<=c&&c<=a}function l(f,c,u,v){var h=0,C=0;if(f==null||(h=r(f,u))!==(C=r(c,u))||d(f,c)<0^u>0)do v.point(h===0||h===3?e:s,h>1?a:t);while((h=(h+u+4)%4)!==C);else v.point(c[0],c[1])}function r(f,c){return qe(f[0]-e)<He?c>0?0:3:qe(f[0]-s)<He?c>0?2:1:qe(f[1]-t)<He?c>0?1:0:c>0?3:2}function i(f,c){return d(f.x,c.x)}function d(f,c){var u=r(f,1),v=r(c,1);return u!==v?u-v:u===0?c[1]-f[1]:u===1?f[0]-c[0]:u===2?f[1]-c[1]:c[0]-f[0]}return function(f){var c=f,u=zc(),v,h,C,$,g,y,b,w,k,H,A,_={point:F,lineStart:I,lineEnd:P,polygonStart:M,polygonEnd:E};function F(T,q){o(T,q)&&c.point(T,q)}function D(){for(var T=0,q=0,Q=h.length;q<Q;++q)for(var Z=h[q],re=1,he=Z.length,be=Z[0],ne,ae,L=be[0],le=be[1];re<he;++re)ne=L,ae=le,be=Z[re],L=be[0],le=be[1],ae<=a?le>a&&(L-ne)*(a-ae)>(le-ae)*(e-ne)&&++T:le<=a&&(L-ne)*(a-ae)<(le-ae)*(e-ne)&&--T;return T}function M(){c=u,v=[],h=[],A=!0}function E(){var T=D(),q=A&&T,Q=(v=Lc(v)).length;(q||Q)&&(f.polygonStart(),q&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),Q&&Yc(v,i,T,l,f),f.polygonEnd()),c=f,v=h=C=null}function I(){_.point=B,h&&h.push(C=[]),H=!0,k=!1,b=w=NaN}function P(){v&&(B($,g),y&&k&&u.rejoin(),v.push(u.result())),_.point=F,k&&c.lineEnd()}function B(T,q){var Q=o(T,q);if(h&&C.push([T,q]),H)$=T,g=q,y=Q,H=!1,Q&&(c.lineStart(),c.point(T,q));else if(Q&&k)c.point(T,q);else{var Z=[b=Math.max(Ga,Math.min(ea,b)),w=Math.max(Ga,Math.min(ea,w))],re=[T=Math.max(Ga,Math.min(ea,T)),q=Math.max(Ga,Math.min(ea,q))];Ph(Z,re,e,t,s,a)?(k||(c.lineStart(),c.point(Z[0],Z[1])),c.point(re[0],re[1]),Q||c.lineEnd(),A=!1):Q&&(c.lineStart(),c.point(T,q),A=!1)}b=T,w=q,k=Q}return _}}const Mo=e=>e;var no=new _s,Do=new _s,Hc,Gc,To,Ro,Kt={point:xt,lineStart:xt,lineEnd:xt,polygonStart:function(){Kt.lineStart=Mh,Kt.lineEnd=Th},polygonEnd:function(){Kt.lineStart=Kt.lineEnd=Kt.point=xt,no.add(qe(Do)),Do=new _s},result:function(){var e=no/2;return no=new _s,e}};function Mh(){Kt.point=Dh}function Dh(e,t){Kt.point=qc,Hc=To=e,Gc=Ro=t}function qc(e,t){Do.add(Ro*e-To*t),To=e,Ro=t}function Th(){qc(Hc,Gc)}var Gs=1/0,mn=Gs,xa=-Gs,bn=xa,yn={point:Rh,lineStart:xt,lineEnd:xt,polygonStart:xt,polygonEnd:xt,result:function(){var e=[[Gs,mn],[xa,bn]];return xa=bn=-(mn=Gs=1/0),e}};function Rh(e,t){e<Gs&&(Gs=e),e>xa&&(xa=e),t<mn&&(mn=t),t>bn&&(bn=t)}var Bo=0,Vo=0,ta=0,An=0,Cn=0,Rs=0,Lo=0,Oo=0,sa=0,Uc,Wc,Nt,zt,$t={point:Ss,lineStart:Rr,lineEnd:Br,polygonStart:function(){$t.lineStart=Lh,$t.lineEnd=Oh},polygonEnd:function(){$t.point=Ss,$t.lineStart=Rr,$t.lineEnd=Br},result:function(){var e=sa?[Lo/sa,Oo/sa]:Rs?[An/Rs,Cn/Rs]:ta?[Bo/ta,Vo/ta]:[NaN,NaN];return Bo=Vo=ta=An=Cn=Rs=Lo=Oo=sa=0,e}};function Ss(e,t){Bo+=e,Vo+=t,++ta}function Rr(){$t.point=Bh}function Bh(e,t){$t.point=Vh,Ss(Nt=e,zt=t)}function Vh(e,t){var s=e-Nt,a=t-zt,o=$s(s*s+a*a);An+=o*(Nt+e)/2,Cn+=o*(zt+t)/2,Rs+=o,Ss(Nt=e,zt=t)}function Br(){$t.point=Ss}function Lh(){$t.point=Nh}function Oh(){Xc(Uc,Wc)}function Nh(e,t){$t.point=Xc,Ss(Uc=Nt=e,Wc=zt=t)}function Xc(e,t){var s=e-Nt,a=t-zt,o=$s(s*s+a*a);An+=o*(Nt+e)/2,Cn+=o*(zt+t)/2,Rs+=o,o=zt*e-Nt*t,Lo+=o*(Nt+e),Oo+=o*(zt+t),sa+=o*3,Ss(Nt=e,zt=t)}function Qc(e){this._context=e}Qc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,At);break}}},result:xt};var No=new _s,oo,Kc,Jc,aa,na,Ia={point:xt,lineStart:function(){Ia.point=zh},lineEnd:function(){oo&&Zc(Kc,Jc),Ia.point=xt},polygonStart:function(){oo=!0},polygonEnd:function(){oo=null},result:function(){var e=+No;return No=new _s,e}};function zh(e,t){Ia.point=Zc,Kc=aa=e,Jc=na=t}function Zc(e,t){aa-=e,na-=t,No.add($s(aa*aa+na*na)),aa=e,na=t}let Vr,wn,Lr,Or;class Nr{constructor(t){this._append=t==null?eu:Yh(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,s){switch(this._point){case 0:{this._append`M${t},${s}`,this._point=1;break}case 1:{this._append`L${t},${s}`;break}default:{if(this._append`M${t},${s}`,this._radius!==Lr||this._append!==wn){const a=this._radius,o=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,Lr=a,wn=this._append,Or=this._,this._=o}this._+=Or;break}}}result(){const t=this._;return this._="",t.length?t:null}}function eu(e){let t=1;this._+=e[0];for(const s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function Yh(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return eu;if(t!==Vr){const s=10**t;Vr=t,wn=function(o){let l=1;this._+=o[0];for(const r=o.length;l<r;++l)this._+=Math.round(arguments[l]*s)/s+o[l]}}return wn}function cl(e,t){let s=3,a=4.5,o,l;function r(i){return i&&(typeof a=="function"&&l.pointRadius(+a.apply(this,arguments)),Ts(i,o(l))),l.result()}return r.area=function(i){return Ts(i,o(Kt)),Kt.result()},r.measure=function(i){return Ts(i,o(Ia)),Ia.result()},r.bounds=function(i){return Ts(i,o(yn)),yn.result()},r.centroid=function(i){return Ts(i,o($t)),$t.result()},r.projection=function(i){return arguments.length?(o=i==null?(e=null,Mo):(e=i).stream,r):e},r.context=function(i){return arguments.length?(l=i==null?(t=null,new Nr(s)):new Qc(t=i),typeof a!="function"&&l.pointRadius(a),r):t},r.pointRadius=function(i){return arguments.length?(a=typeof i=="function"?i:(l.pointRadius(+i),+i),r):a},r.digits=function(i){if(!arguments.length)return s;if(i==null)s=null;else{const d=Math.floor(i);if(!(d>=0))throw new RangeError(`invalid digits: ${i}`);s=d}return t===null&&(l=new Nr(s)),r},r.projection(e).digits(s).context(t)}function ul(e){return function(t){var s=new zo;for(var a in e)s[a]=e[a];return s.stream=t,s}}function zo(){}zo.prototype={constructor:zo,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dl(e,t,s){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),Ts(s,e.stream(yn)),t(yn.result()),a!=null&&e.clipExtent(a),e}function tu(e,t,s){return dl(e,function(a){var o=t[1][0]-t[0][0],l=t[1][1]-t[0][1],r=Math.min(o/(a[1][0]-a[0][0]),l/(a[1][1]-a[0][1])),i=+t[0][0]+(o-r*(a[1][0]+a[0][0]))/2,d=+t[0][1]+(l-r*(a[1][1]+a[0][1]))/2;e.scale(150*r).translate([i,d])},s)}function jh(e,t,s){return tu(e,[[0,0],t],s)}function Hh(e,t,s){return dl(e,function(a){var o=+t,l=o/(a[1][0]-a[0][0]),r=(o-l*(a[1][0]+a[0][0]))/2,i=-l*a[0][1];e.scale(150*l).translate([r,i])},s)}function Gh(e,t,s){return dl(e,function(a){var o=+t,l=o/(a[1][1]-a[0][1]),r=-l*a[0][0],i=(o-l*(a[1][1]+a[0][1]))/2;e.scale(150*l).translate([r,i])},s)}var zr=16,qh=Xe(30*Ke);function Yr(e,t){return+t?Wh(e,t):Uh(e)}function Uh(e){return ul({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function Wh(e,t){function s(a,o,l,r,i,d,f,c,u,v,h,C,$,g){var y=f-a,b=c-o,w=y*y+b*b;if(w>4*t&&$--){var k=r+v,H=i+h,A=d+C,_=$s(k*k+H*H+A*A),F=$a(A/=_),D=qe(qe(A)-1)<He||qe(l-u)<He?(l+u)/2:ka(H,k),M=e(D,F),E=M[0],I=M[1],P=E-a,B=I-o,T=b*P-y*B;(T*T/w>t||qe((y*P+b*B)/w-.5)>.3||r*v+i*h+d*C<qh)&&(s(a,o,l,r,i,d,E,I,D,k/=_,H/=_,A,$,g),g.point(E,I),s(E,I,D,k,H,A,f,c,u,v,h,C,$,g))}}return function(a){var o,l,r,i,d,f,c,u,v,h,C,$,g={point:y,lineStart:b,lineEnd:k,polygonStart:function(){a.polygonStart(),g.lineStart=H},polygonEnd:function(){a.polygonEnd(),g.lineStart=b}};function y(F,D){F=e(F,D),a.point(F[0],F[1])}function b(){u=NaN,g.point=w,a.lineStart()}function w(F,D){var M=Hs([F,D]),E=e(F,D);s(u,v,c,h,C,$,u=E[0],v=E[1],c=F,h=M[0],C=M[1],$=M[2],zr,a),a.point(u,v)}function k(){g.point=y,a.lineEnd()}function H(){b(),g.point=A,g.lineEnd=_}function A(F,D){w(o=F,D),l=u,r=v,i=h,d=C,f=$,g.point=w}function _(){s(u,v,c,h,C,$,l,r,o,i,d,f,zr,a),g.lineEnd=k,k()}return g}}var Xh=ul({point:function(e,t){this.stream.point(e*Ke,t*Ke)}});function Qh(e){return ul({point:function(t,s){var a=e(t,s);return this.stream.point(a[0],a[1])}})}function Kh(e,t,s,a,o){function l(r,i){return r*=a,i*=o,[t+e*r,s-e*i]}return l.invert=function(r,i){return[(r-t)/e*a,(s-i)/e*o]},l}function jr(e,t,s,a,o,l){if(!l)return Kh(e,t,s,a,o);var r=Xe(l),i=Qe(l),d=r*e,f=i*e,c=r/e,u=i/e,v=(i*s-r*t)/e,h=(i*t+r*s)/e;function C($,g){return $*=a,g*=o,[d*$-f*g+t,s-f*$-d*g]}return C.invert=function($,g){return[a*(c*$-u*g+v),o*(h-u*$-c*g)]},C}function Jh(e){return Zh(function(){return e})()}function Zh(e){var t,s=150,a=480,o=250,l=0,r=0,i=0,d=0,f=0,c,u=0,v=1,h=1,C=null,$=Tr,g=null,y,b,w,k=Mo,H=.5,A,_,F,D,M;function E(T){return F(T[0]*Ke,T[1]*Ke)}function I(T){return T=F.invert(T[0],T[1]),T&&[T[0]*gt,T[1]*gt]}E.stream=function(T){return D&&M===T?D:D=Xh(Qh(c)($(A(k(M=T)))))},E.preclip=function(T){return arguments.length?($=T,C=void 0,B()):$},E.postclip=function(T){return arguments.length?(k=T,g=y=b=w=null,B()):k},E.clipAngle=function(T){return arguments.length?($=+T?Eh(C=T*Ke):(C=null,Tr),B()):C*gt},E.clipExtent=function(T){return arguments.length?(k=T==null?(g=y=b=w=null,Mo):Fh(g=+T[0][0],y=+T[0][1],b=+T[1][0],w=+T[1][1]),B()):g==null?null:[[g,y],[b,w]]},E.scale=function(T){return arguments.length?(s=+T,P()):s},E.translate=function(T){return arguments.length?(a=+T[0],o=+T[1],P()):[a,o]},E.center=function(T){return arguments.length?(l=T[0]%360*Ke,r=T[1]%360*Ke,P()):[l*gt,r*gt]},E.rotate=function(T){return arguments.length?(i=T[0]%360*Ke,d=T[1]%360*Ke,f=T.length>2?T[2]%360*Ke:0,P()):[i*gt,d*gt,f*gt]},E.angle=function(T){return arguments.length?(u=T%360*Ke,P()):u*gt},E.reflectX=function(T){return arguments.length?(v=T?-1:1,P()):v<0},E.reflectY=function(T){return arguments.length?(h=T?-1:1,P()):h<0},E.precision=function(T){return arguments.length?(A=Yr(_,H=T*T),B()):$s(H)},E.fitExtent=function(T,q){return tu(E,T,q)},E.fitSize=function(T,q){return jh(E,T,q)},E.fitWidth=function(T,q){return Hh(E,T,q)},E.fitHeight=function(T,q){return Gh(E,T,q)};function P(){var T=jr(s,0,0,v,h,u).apply(null,t(l,r)),q=jr(s,a-T[0],o-T[1],v,h,u);return c=Nc(i,d,f),_=Po(t,q),F=Po(c,_),A=Yr(_,H),B()}function B(){return D=M=null,E}return function(){return t=e.apply(this,arguments),E.invert=t.invert&&I,P()}}function fl(e,t){return[e,mh(yh((pt+t)/2))]}fl.invert=function(e,t){return[e,2*Oc(gh(t))-pt]};function vl(){return e0(fl).scale(961/At)}function e0(e){var t=Jh(e),s=t.center,a=t.scale,o=t.translate,l=t.clipExtent,r=null,i,d,f;t.scale=function(u){return arguments.length?(a(u),c()):a()},t.translate=function(u){return arguments.length?(o(u),c()):o()},t.center=function(u){return arguments.length?(s(u),c()):s()},t.clipExtent=function(u){return arguments.length?(u==null?r=i=d=f=null:(r=+u[0][0],i=+u[0][1],d=+u[1][0],f=+u[1][1]),c()):r==null?null:[[r,i],[d,f]]};function c(){var u=Te*a(),v=t(Ch(t.rotate()).invert([0,0]));return l(r==null?[[v[0]-u,v[1]-u],[v[0]+u,v[1]+u]]:e===fl?[[Math.max(v[0]-u,r),i],[Math.min(v[0]+u,d),f]]:[[r,Math.max(v[1]-u,i)],[d,Math.min(v[1]+u,f)]])}return c()}const t0={class:"card-content"},s0={class:"card-position-title"},a0={class:"card-top-row"},n0={class:"card-position-number"},o0={class:"card-ifss-info"},l0={class:"ifss-value-text"},r0={key:0,class:"card-bottom-stack"},i0={class:"hover-info-box"},c0={key:0,class:"info-content"},u0={class:"location-label"},d0={class:"value-display"},f0={key:1,class:"info-content"},v0={class:"location-label"},h0={class:"value-display"},p0={key:2,class:"info-content"},g0={class:"value-display"},m0={class:"color-legend"},b0={key:0,class:"legend-items-horizontal"},y0={key:1,class:"legend-selected-state"},A0={class:"selected-state-label"},C0={class:"selected-state-value"},w0=["width","height"],_0=["d","fill","stroke","stroke-width","onClick","onMouseenter"],S0={class:"tooltip-info"},k0={class:"tooltip-state-name"},$0={class:"tooltip-stats"},x0={class:"tooltip-stat"},I0={class:"tooltip-stat-value"},E0={class:"tooltip-stat"},P0={class:"tooltip-stat-value"},F0={__name:"MexicoMapSVG",props:{geoData:{type:Object,required:!0},selectedState:{type:String,default:null},hoveredState:{type:String,default:null},mapConfig:{type:Object,required:!0},nationalIFSS:{type:Object,default:null},getStateColor:{type:Function,required:!0},getStateInfo:{type:Function,required:!0},getIFSSLabel:{type:Function,required:!0},showNavigation:{type:Boolean,default:!0},showInfoCard:{type:Boolean,default:!0},activeView:{type:String,default:null}},emits:["state-click","state-hover","state-leave","navigate-regional","view-change"],setup(e,{emit:t}){const s=e,a=t,o=j({x:0,y:0}),l=N(()=>vl().scale(s.mapConfig.scale).center(s.mapConfig.center).translate([s.mapConfig.width/2,s.mapConfig.height/2])),r=N(()=>cl().projection(l.value)),i=P=>r.value(P),d=P=>{const B=["state-path"];return s.selectedState===P?B.push("state-selected"):s.hoveredState===P&&B.push("state-hovered"),s.selectedState&&s.selectedState!==P&&B.push("state-dimmed"),B.join(" ")},f=P=>s.selectedState===P?"#1a202c":(s.hoveredState===P,"#555555"),c=P=>s.selectedState===P?3:s.hoveredState===P?2:1,u=()=>{var P;return s.selectedState?s.getStateInfo(s.selectedState).value||0:((P=s.nationalIFSS)==null?void 0:P.value)||0},v=()=>{const P=u();return s.getIFSSLabel(P).label},h=()=>{const P=u();return s.getIFSSLabel(P).color||"#ddb891"},C=()=>s.selectedState?"--":"15",$=()=>{const P=s.selectedState||s.hoveredState;return P?s.getStateColor(P):"#cccccc"},g=()=>{const P=s.selectedState||s.hoveredState;if(!P)return"";const T=s.getStateInfo(P).value||0;return s.getIFSSLabel(T).label},y=()=>{const P=s.selectedState||s.hoveredState;return P?s.getStateInfo(P).value||0:"0"},b=()=>{if(!s.hoveredState)return"#718096";const B=s.getStateInfo(s.hoveredState).value||0;return s.getIFSSLabel(B).color||"#718096"},w=()=>{const P=b();return`linear-gradient(135deg, ${P} 0%, ${k(P,-20)} 100%)`},k=(P,B)=>{const T=P.replace("#",""),q=Math.max(0,Math.min(255,parseInt(T.substring(0,2),16)+B)),Q=Math.max(0,Math.min(255,parseInt(T.substring(2,4),16)+B)),Z=Math.max(0,Math.min(255,parseInt(T.substring(4,6),16)+B));return`rgb(${q}, ${Q}, ${Z})`},H=(P,B)=>{o.value={x:B.clientX,y:B.clientY},a("state-hover",P)},A=()=>{a("state-leave")},_=P=>{a("state-click",P)},F=P=>{P.target.classList.contains("map-wrapper")&&a("state-click",null)},D=P=>{(P.target.tagName==="svg"||P.target.tagName==="g")&&a("state-click",null)},M=()=>{a("view-change","regional"),a("navigate-regional")},E=()=>{a("view-change","federal"),window.open("https://plataformafinanzassostenibles.gflac.org/ranking","_blank")},I=N(()=>s.hoveredState?{position:"fixed",left:`${o.value.x+28}px`,top:`${o.value.y-75}px`,pointerEvents:"none",zIndex:99999,transform:"translate(0, 0)"}:{display:"none"});return(P,B)=>{var T;return p(),m("div",{class:"map-wrapper",onClick:F},[e.showInfoCard?(p(),m("div",{key:0,class:ge(["map-info-card",{"state-selected":e.selectedState}])},[n("div",t0,[n("div",s0,O(e.selectedState?`Estado: ${e.selectedState}`:"Posicin del pas en el ndice de Finanzas Sostenibles (IFS) en 2024"),1),n("div",a0,[n("div",n0,O(C()),1),n("div",o0,[n("div",l0,O(e.selectedState?"IFSS":"IFS")+": "+O(u()),1),n("div",{class:"ifss-classification",style:ve({color:h()})},O(v()),5)])]),e.showNavigation?(p(),m("div",r0,[n("div",{class:ge(["card-label-pill",{active:e.activeView==="regional"}]),onClick:kt(M,["stop"])}," Datos Regionales ",2),n("div",{class:ge(["card-label-pill",{active:e.activeView==="federal"}]),onClick:kt(E,["stop"])}," Plataforma de Finanzas Sostenibles ",2)])):ie("",!0)])],2)):ie("",!0),n("div",i0,[e.selectedState?(p(),m("div",c0,[n("div",u0,O(e.selectedState),1),n("div",d0,"IFSS: "+O(e.getStateInfo(e.selectedState).value||0),1)])):e.hoveredState?(p(),m("div",f0,[n("div",v0,O(e.hoveredState),1),n("div",h0,"IFSS: "+O(e.getStateInfo(e.hoveredState).value||0),1)])):e.nationalIFSS?(p(),m("div",p0,[B[0]||(B[0]=n("div",{class:"location-label"},"Mxico",-1)),n("div",g0,"IFS: "+O(e.nationalIFSS.value),1)])):ie("",!0)]),n("div",m0,[!e.selectedState&&!e.hoveredState?(p(),m("div",b0,[...B[1]||(B[1]=[ke('<div class="legend-item-horizontal" data-v-656f80d1><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-656f80d1></div><span class="legend-label" data-v-656f80d1>Alto</span><span class="legend-range" data-v-656f80d1> a 4</span></div><div class="legend-item-horizontal" data-v-656f80d1><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-656f80d1></div><span class="legend-label" data-v-656f80d1>Medio Alto</span><span class="legend-range" data-v-656f80d1>2.3 - 3.9</span></div><div class="legend-item-horizontal" data-v-656f80d1><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-656f80d1></div><span class="legend-label" data-v-656f80d1>Medio</span><span class="legend-range" data-v-656f80d1>1.9 - 2.2</span></div><div class="legend-item-horizontal" data-v-656f80d1><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-656f80d1></div><span class="legend-label" data-v-656f80d1>Medio Bajo</span><span class="legend-range" data-v-656f80d1>1.5 - 1.8</span></div><div class="legend-item-horizontal" data-v-656f80d1><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-656f80d1></div><span class="legend-label" data-v-656f80d1>Bajo</span><span class="legend-range" data-v-656f80d1>0.6 - 1.4</span></div><div class="legend-item-horizontal" data-v-656f80d1><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-656f80d1></div><span class="legend-label" data-v-656f80d1>Muy Bajo</span><span class="legend-range" data-v-656f80d1> 0.7</span></div>',6)])])):(p(),m("div",y0,[n("div",{class:"selected-state-bar",style:ve({backgroundColor:$()})},[n("span",A0,[We(O(g())+" ",1),n("span",C0,"("+O(y())+")",1)])],4)]))]),(p(),m("svg",{width:e.mapConfig.width,height:e.mapConfig.height,class:"mexico-map",viewBox:"55 32 485 275",preserveAspectRatio:"xMidYMid meet",onClick:D},[n("g",null,[(p(!0),m(me,null,_e(((T=e.geoData)==null?void 0:T.features)||[],q=>(p(),m("path",{key:q.properties.state_name,d:i(q),fill:e.getStateColor(q.properties.state_name),stroke:f(q.properties.state_name),"stroke-width":c(q.properties.state_name),class:ge(d(q.properties.state_name)),onClick:kt(Q=>_(q.properties.state_name),["stop"]),onMouseenter:Q=>H(q.properties.state_name,Q),onMouseleave:A},null,42,_0))),128))])],8,w0)),(p(),Pe(jt,{to:"body"},[e.hoveredState?(p(),m("div",{key:0,class:"mexico-map-tooltip",style:ve(I.value)},[n("div",{class:"tooltip-icon-circle",style:ve({background:w()})},[...B[2]||(B[2]=[n("svg",{viewBox:"0 0 24 24"},[n("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})],-1)])],4),n("div",S0,[n("div",k0,O(e.hoveredState),1),n("div",{class:"tooltip-classification",style:ve({color:b()})},O(e.getIFSSLabel(e.getStateInfo(e.hoveredState).value||0).label),5),n("div",$0,[n("div",x0,[n("div",I0,O(e.getStateInfo(e.hoveredState).value||0),1),B[3]||(B[3]=n("div",{class:"tooltip-stat-label"},"IFSS",-1))]),n("div",E0,[n("div",P0,O(e.getStateInfo(e.hoveredState).year||"-"),1),B[4]||(B[4]=n("div",{class:"tooltip-stat-label"},"Ao",-1))])])])],4)):ie("",!0)]))])}}},su=Ee(F0,[["__scopeId","data-v-656f80d1"]]),M0={class:"vertical-bar-chart"},D0={class:"bar-header-dark"},T0={class:"bar-header-text"},R0={class:"bar-header-title"},B0={class:"bar-header-subtitle"},V0={class:"kpi-cards-row"},L0=["onClick","onMouseenter"],O0={class:"kpi-value"},N0={class:"kpi-label"},z0={class:"currency-legend"},Y0={class:"chart-area"},j0={class:"y-axis"},H0={class:"tick-label"},G0={class:"grid-lines"},q0={class:"bar-wrapper-vertical"},U0=["onMouseenter"],W0={key:0,class:"bar-percentage"},X0={key:0,class:"empty-state"},Q0={class:"tooltip-content"},K0={class:"tooltip-item"},J0={class:"tooltip-variable-name"},Z0={class:"tooltip-variable-value"},ep={key:0,class:"tooltip-item"},tp={class:"tooltip-variable-value"},sp={key:1,class:"tooltip-item"},ap={class:"tooltip-variable-value"},np={__name:"BarChart",props:{data:{type:[Object,Array],required:!0,default:()=>[]},title:{type:String,default:"Presupuestos"},headerTitle:{type:String,default:"Anlisis Presupuestario"},selectedState:{type:String,default:""},selectedYear:{type:String,default:""},currency:{type:String,default:"MXN"}},setup(e){const t=e,s=j([{key:"presupuesto_total",label:"Presupuesto Total",shortLabel:"Presupuesto Total",colorClass:"gray",color:"#9ca3af",value:0,change:0,position:null,percentage:null,active:!1},{key:"presupuesto_sostenible",label:"Presupuesto Sostenible",shortLabel:"Presupuesto Sostenible",colorClass:"green",color:"#7cb342",value:0,change:0,position:null,percentage:null,active:!1},{key:"presupuesto_carbono",label:"Presupuesto Intensivo en Carbono",shortLabel:"Presupuesto Intensivo en Carbono",colorClass:"red",color:"#DC143C",value:0,change:0,position:null,percentage:null,active:!1}]),a=j(null),o=j(300),l=j(null),r=j(null),i=j({x:0,y:0}),d=j(!1),f=()=>{t.data&&t.data.variables&&Array.isArray(t.data.variables)?s.value=t.data.variables.map(M=>({key:M.key,label:M.label||M.key,shortLabel:c(M.label||M.key),colorClass:M.colorClass||"gray",color:M.color||"#9ca3af",value:M.value||0,change:M.change!==void 0?M.change:u(),position:M.position!==void 0?M.position:null,percentage:M.percentage!==void 0?M.percentage:null,active:!1})):Array.isArray(t.data)&&t.data.length>0&&t.data[0].variables&&(s.value=t.data[0].variables.map(M=>({key:M.key,label:M.label||M.key,shortLabel:c(M.label||M.key),colorClass:M.colorClass||"gray",color:M.color||"#9ca3af",value:M.value||0,change:M.change!==void 0?M.change:u(),position:M.position!==void 0?M.position:null,percentage:M.percentage!==void 0?M.percentage:null,active:!1})))},c=M=>({"Presupuesto Total":"Presupuesto Total","Presupuestos Sostenibles":"Presupuestos Sostenibles","Presupuestos Intensivos en Carbono":"Presupuestos Intensivos en Carbono","Ingreso Total":"Total","Ingresos Sostenibles":"Ingresos Sostenibles","Ingresos Intensivos en Carbono":"Ingresos Intensivos en Carbono",PT:"Presupuesto Total",PS:"Presupuestos Sostenibles","Presupuestos Intensivos en Carbono":"Presupuestos Intensivos en Carbono",IT:"Ingreso Total",IS:"Ingresos Sostenibles",IIC:"Ingresos Intensivos en Carbono","Ingreso Total":"Ingreso Total","Presupuestos Intensivos en Carbono":"Presupuestos Intensivos en Carbono"})[M]||M,u=()=>parseFloat((Math.random()*20-5).toFixed(1)),v=M=>{const E=s.value[0];return!E||E.value===0?"0.00":(M/E.value*100).toFixed(2)},h=M=>M==null?"0.00":parseFloat(M).toFixed(2),C=(M,E)=>{const I=M.active,P=r.value===E;return{background:I?`linear-gradient(135deg, ${M.color}08 0%, ${M.color}15 100%)`:"#f8fafc",borderColor:I?M.color:"#e2e8f0",opacity:I?1:.5,transform:P?"translateY(-2px)":"translateY(0)",boxShadow:P?`0 4px 12px ${M.color}25`:"none"}};f(),Ce(()=>t.data,()=>{f(),d.value?ze(()=>{s.value.forEach(M=>M.active=!0)}):ze(()=>{F(),d.value=!0})},{deep:!0});const $=N(()=>s.value.filter(M=>M.active)),g=N(()=>{const M=$.value.map(E=>E.value);return Math.max(...M,1)*1.25}),y=N(()=>{const M=g.value,E=M/4;return[{value:0,position:0},{value:E,position:25},{value:E*2,position:50},{value:E*3,position:75},{value:M,position:100}]}),b=M=>{const E=M.target.getBoundingClientRect();i.value={x:E.left+E.width/2,y:E.top-10}},w=M=>{const E=s.value.find(I=>I.key===M);E&&(E.active=!E.active)},k=M=>{var E;return((E=s.value.find(I=>I.key===M))==null?void 0:E.active)||!1},H=N(()=>t.currency==="USD"?"* Cifras en dlares estadounidenses (USD)":"* Cifras en pesos mexicanos (MXN)"),A=M=>g.value===0?0:o.value*(M/g.value)*100/100,_=M=>Math.abs(M)>=1e9?`$${(M/1e9).toFixed(2)} B`:Math.abs(M)>=1e6?`$${(M/1e6).toFixed(2)} M`:Math.abs(M)>=1e3?`$${(M/1e3).toFixed(2)} K`:`$${M.toFixed(0)}`,F=()=>{setTimeout(()=>{s.value.forEach((M,E)=>{setTimeout(()=>{M.active=!0},E*600)})},300)},D=()=>{if(a.value){const M=a.value.clientHeight-35;M>0&&(o.value=M)}};return Le(async()=>{await ze(),D(),a.value&&new ResizeObserver(()=>D()).observe(a.value),!d.value&&s.value.length>0&&(await ze(),F(),d.value=!0)}),Ce(()=>t.data,()=>{ze(()=>D())},{deep:!0}),(M,E)=>(p(),m(me,null,[n("div",M0,[n("div",D0,[E[2]||(E[2]=ke('<div class="bar-header-icon" data-v-78d5b449><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-78d5b449><line x1="12" y1="20" x2="12" y2="10" data-v-78d5b449></line><line x1="18" y1="20" x2="18" y2="4" data-v-78d5b449></line><line x1="6" y1="20" x2="6" y2="16" data-v-78d5b449></line></svg></div>',1)),n("div",T0,[n("span",R0,O(e.headerTitle),1),n("span",B0,O(e.selectedState)+"  "+O(e.selectedYear),1)])]),n("div",V0,[(p(!0),m(me,null,_e(s.value,(I,P)=>(p(),m("div",{key:I.key,class:ge(["kpi-card",[I.colorClass,{active:k(I.key),hovered:r.value===P}]]),style:ve(C(I,P)),onClick:B=>w(I.key),onMouseenter:B=>r.value=P,onMouseleave:E[0]||(E[0]=B=>r.value=null)},[n("span",{class:ge(["kpi-dot",I.colorClass])},null,2),n("div",O0,O(_(I.value)),1),I.percentage!==void 0&&I.percentage!==null?(p(),m("div",{key:0,class:ge(["kpi-percentage",I.colorClass])},O(h(I.percentage))+"% ",3)):ie("",!0),I.position!==void 0&&I.position!==null?(p(),m("div",{key:1,class:ge(["kpi-position",I.colorClass])}," Posicin: No. "+O(I.position),3)):ie("",!0),n("div",N0,O(I.shortLabel||I.label),1)],46,L0))),128))]),n("div",z0,O(H.value),1),n("div",Y0,[n("div",j0,[(p(!0),m(me,null,_e(y.value,I=>(p(),m("div",{key:I.value,class:"y-tick",style:ve({bottom:`${I.position}%`})},[n("span",H0,O(_(I.value)),1)],4))),128))]),n("div",G0,[(p(!0),m(me,null,_e(y.value,I=>(p(),m("div",{key:"grid-"+I.value,class:"grid-line",style:ve({bottom:`${I.position}%`})},null,4))),128))]),n("div",{class:ge(["bars-container",`bars-count-${$.value.length}`]),ref_key:"barsContainerRef",ref:a},[(p(!0),m(me,null,_e($.value,I=>{var P;return p(),m("div",{key:I.key,class:"bar-column"},[Cs(n("div",{class:ge(["bar-value-label",I.colorClass])},O(_(I.value)),3),[[mc,((P=l.value)==null?void 0:P.key)!==I.key]]),n("div",q0,[n("div",{class:ge(["bar-vertical",I.colorClass]),style:ve({height:A(I.value)+"px"}),onMouseenter:B=>{l.value=I,b(B)},onMousemove:b,onMouseleave:E[1]||(E[1]=B=>l.value=null)},[A(I.value)>30?(p(),m("span",W0,O(v(I.value))+"% ",1)):ie("",!0)],46,U0)])])}),128)),$.value.length===0?(p(),m("div",X0,[...E[3]||(E[3]=[n("p",null,"Selecciona al menos una variable para visualizar",-1)])])):ie("",!0)],2)])]),(p(),Pe(jt,{to:"body"},[l.value?(p(),m("div",{key:0,class:"tooltip-container",style:ve({left:`${i.value.x}px`,top:`${i.value.y}px`})},[n("div",Q0,[n("div",K0,[n("span",{class:ge(["tooltip-color-indicator",l.value.colorClass])},null,2),n("span",J0,O(l.value.label)+":",1),n("span",Z0,O(_(l.value.value)),1)]),l.value.percentage?(p(),m("div",ep,[E[4]||(E[4]=n("span",{class:"tooltip-variable-name"},"Porcentaje:",-1)),n("span",tp,O(h(l.value.percentage))+"%",1)])):ie("",!0),l.value.position?(p(),m("div",sp,[E[5]||(E[5]=n("span",{class:"tooltip-variable-name"},"Posicin:",-1)),n("span",ap,"#"+O(l.value.position),1)])):ie("",!0)])],4)):ie("",!0)]))],64))}},_n=Ee(np,[["__scopeId","data-v-78d5b449"]]),op={class:"donut-item-vertical"},lp={class:"distribution-bar-section"},rp={class:"distribution-header"},ip={class:"distribution-bar"},cp=["onMouseenter","onClick"],up={class:"currency-legend"},dp={class:"donut-main-area"},fp={class:"donut-svg-container"},vp={class:"donut-svg",viewBox:"0 0 200 200"},hp=["stroke","onMouseenter","onClick"],pp=["d","stroke","onMouseenter","onClick"],gp=["x","y","transform"],mp={class:"donut-center"},bp={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},yp={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},Ap={class:"badge-text"},Cp={class:"data-list-section"},wp=["onClick","onMouseenter"],_p={class:"data-item-left"},Sp={class:"data-item-label"},kp={class:"data-item-right"},$p={class:"data-item-value"},xp={__name:"DonutChart",props:{data:{type:Array,default:()=>[]},title:{type:String,default:""},subtitle:{type:String,default:""},size:{type:Number,default:220},variables:{type:Array,default:()=>[]},sectors:{type:Array,default:()=>[]},currency:{type:String,default:"MXN"}},setup(e){const t=e,s=j([]),a=j(null),o=N(()=>t.title==="IS"||t.title==="PS"?"green":"red"),l=N(()=>t.title==="IS"?`Ingresos
Sostenibles`:t.title==="IIC"?`Ingresos
Int. Carbono`:t.title==="PS"?`Presupuestos
Sostenibles`:t.title==="PIC"?`Presupuestos
Int. Carbono`:t.title),r=N(()=>t.sectors.map(g=>{let y=g.label;return g.label==="Movilidad Sustentable"&&(y="Movilidad Sustentable"),g.label==="Proteccin Ambiental"&&(y="Proteccin Ambiental"),g.label==="Desastres Naturales"&&(y="Desastres Naturales"),{...g,shortLabel:y}}));Ce(()=>t.sectors,g=>{g&&g.length>0&&(s.value=g.map(()=>!0))},{immediate:!0});const i=N(()=>t.sectors.reduce((g,y)=>g+(y.value||0),0)),d=N(()=>t.currency==="USD"?"* Cifras en dlares estadounidenses (USD)":"* Cifras en pesos mexicanos (MXN)");function f(g){return!t.sectors[g]||i.value===0?"0.00":(t.sectors[g].value/i.value*100).toFixed(2)}N(()=>{var y;if(a.value!==null&&r.value[a.value])return r.value[a.value].label;const g=s.value.map((b,w)=>b?w:-1).filter(b=>b!==-1);return g.length===t.sectors.length||g.length===0?t.title==="IS"?"Ingresos Sostenibles":t.title==="IIC"?"Ingresos Int. Carbono":t.title==="PS"?"Presupuestos Sostenibles":t.title==="PIC"?"Presupuestos Int. Carbono":t.title:g.length===1?((y=r.value[g[0]])==null?void 0:y.label)||"":g.map(b=>{var w,k;return((w=r.value[b])==null?void 0:w.shortLabel)||((k=r.value[b])==null?void 0:k.label)}).join(" + ")});const c=N(()=>{if(a.value!==null&&r.value[a.value])return $(r.value[a.value].value);const g=s.value.reduce((y,b,w)=>b&&t.sectors[w]?y+t.sectors[w].value:y,0);return $(g)});N(()=>{const g=s.value.filter(Boolean).length;return g>0&&g<t.sectors.length});const u=N(()=>{if(!t.sectors||t.sectors.length===0)return[];const g=100,y=100,b=72,w=i.value;let k=-90;return t.sectors.map((H,A)=>{const _=w>0?H.value/w*100:0,F=_/100*360,D=k,M=k+F,E=F>=359.9,I=D*Math.PI/180,P=M*Math.PI/180,B=g+b*Math.cos(I),T=y+b*Math.sin(I),q=g+b*Math.cos(P),Q=y+b*Math.sin(P),Z=F>180?1:0,re=D+F/2,he=re*Math.PI/180,be=g+b*Math.cos(he),ne=y+b*Math.sin(he),ae=E?0:re+90,L=E?g:be,le=E?y-b:ne;k=M;let K="";return!E&&F>0&&(K=`M ${B} ${T} A ${b} ${b} 0 ${Z} 1 ${q} ${Q}`),{...H,path:K,isFullCircle:E,percentX:L,percentY:le,textRotation:ae,displayPercent:_.toFixed(2)}})});function v(g){s.value[g]=!s.value[g],s.value.some(Boolean)||(s.value=s.value.map(()=>!0))}function h(g){s.value[g]&&(a.value=g)}function C(){a.value=null}function $(g){if(!g||g===0)return"$0.00";const y=g/1e6;return y>=1e3?"$"+(y/1e3).toFixed(2)+" B":y>=1||y>=.01?"$"+y.toFixed(2)+" M":"$"+(g/1e3).toFixed(2)+" K"}return(g,y)=>(p(),m("div",op,[n("div",lp,[n("div",rp,[y[0]||(y[0]=n("span",{class:"distribution-label"},"Distribucin",-1)),n("span",{class:ge(["distribution-value",o.value])},O(c.value),3)]),n("div",ip,[(p(!0),m(me,null,_e(u.value,(b,w)=>(p(),m("div",{key:"bar-"+w,class:ge(["distribution-segment",{dimmed:!s.value[w],highlighted:a.value===w}]),style:ve({width:b.displayPercent+"%",background:b.color}),onMouseenter:k=>h(w),onMouseleave:C,onClick:k=>v(w)},null,46,cp))),128))]),n("div",up,O(d.value),1)]),n("div",dp,[n("div",fp,[(p(),m("svg",vp,[y[1]||(y[1]=n("circle",{cx:"100",cy:"100",r:"72",fill:"none",stroke:"#e2e8f0","stroke-width":"25"},null,-1)),(p(!0),m(me,null,_e(u.value,(b,w)=>(p(),m(me,{key:w},[b.isFullCircle?(p(),m("circle",{key:0,class:ge(["donut-ring",{dimmed:!s.value[w]||a.value!==null&&a.value!==w,highlighted:a.value===w}]),cx:"100",cy:"100",r:"72",fill:"none",stroke:b.color,"stroke-width":"25",onMouseenter:k=>h(w),onMouseleave:C,onClick:k=>v(w)},null,42,hp)):(p(),m("path",{key:1,class:ge(["donut-ring",{dimmed:!s.value[w]||a.value!==null&&a.value!==w,highlighted:a.value===w}]),d:b.path,fill:"none",stroke:b.color,"stroke-width":"25",onMouseenter:k=>h(w),onMouseleave:C,onClick:k=>v(w)},null,42,pp))],64))),128)),(p(!0),m(me,null,_e(u.value,(b,w)=>Cs((p(),m("text",{key:"pct-"+w,class:ge(["sector-percent",{dimmed:!s.value[w]||a.value!==null&&a.value!==w}]),x:b.percentX,y:b.percentY,"text-anchor":"middle","dominant-baseline":"middle",transform:`rotate(${b.textRotation}, ${b.percentX}, ${b.percentY})`},O(b.displayPercent)+" % ",11,gp)),[[mc,parseFloat(b.displayPercent)>=5]])),128))])),n("div",mp,[n("div",{class:ge(["center-value",o.value])},O(c.value),3)])]),n("div",{class:ge(["badge-indicator",o.value])},[n("div",{class:ge(["badge-icon-circle",o.value])},[o.value==="green"?(p(),m("svg",bp,[...y[2]||(y[2]=[n("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},null,-1)])])):(p(),m("svg",yp,[...y[3]||(y[3]=[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"},null,-1),n("path",{d:"M2 17l10 5 10-5"},null,-1),n("path",{d:"M2 12l10 5 10-5"},null,-1)])]))],2),n("span",Ap,O(l.value),1)],2)]),n("div",Cp,[(p(!0),m(me,null,_e(r.value,(b,w)=>(p(),m("div",{key:w,class:ge(["data-list-item",{active:s.value[w],dimmed:!s.value[w],highlighted:a.value===w}]),onClick:k=>v(w),onMouseenter:k=>h(w),onMouseleave:C},[n("div",_p,[n("span",{class:"data-color-dot",style:ve({background:b.color,boxShadow:"0 2px 6px "+b.color+"40"})},null,4),n("span",Sp,O(b.shortLabel||b.label),1)]),n("div",kp,[n("span",$p,O($(b.value)),1),n("span",{class:"data-item-percent",style:ve({background:b.color})},O(f(w))+" % ",5)])],42,wp))),128))])]))}},is=Ee(xp,[["__scopeId","data-v-15d4308f"]]),Ip={key:0,class:"chart-card"},Ep={class:"chart-card-header"},Pp={class:"card-title"},Fp={class:"chart-card-body"},Mp={key:0,class:"loading-container"},Dp={key:1,class:"error-container"},Tp={key:2,class:"chart-col-bar"},Rp={key:0,class:"donut-item"},Bp={key:1,class:"no-data-message"},Vp={key:1,class:"donut-item"},Lp={key:1,class:"no-data-message"},Op={key:1,class:"chart-card"},Np={class:"chart-card-header"},zp={class:"card-title"},Yp={class:"chart-card-body"},jp={key:0,class:"loading-container"},Hp={key:1,class:"error-container"},Gp={key:2,class:"chart-col-bar"},qp={key:0,class:"donut-item"},Up={key:1,class:"no-data-message"},Wp={key:1,class:"donut-item"},Xp={key:1,class:"no-data-message"},Qp={__name:"ChartsComponent",props:{selectedState:{type:String,default:null},selectedYear:{type:String,default:null},selectedVariable:{type:Object,default:null},ifssData:{type:Object,default:()=>({})}},setup(e){const t=e,s=N(()=>!!t.selectedVariable),a=N(()=>t.selectedVariable&&(t.selectedVariable.key==="PS"||t.selectedVariable.key==="PIC")),o=N(()=>t.selectedVariable&&(t.selectedVariable.key==="IS"||t.selectedVariable.key==="IIC")),{fetchData:l,loading:r,error:i}=ft(),d=j(!1),f=j([]),c=j([]),u=De("chartsPresupuestos"),v=De("chartsIngresos"),h={presupuesto_total:null,presupuesto_sostenible:"POS_PS",presupuesto_carbono:"POS_PIC",ingresos_total:null,ingresos_sostenibles:"POS_IS",ingresos_carbono:"POS_IIC"},C={presupuesto_total:null,presupuesto_sostenible:"PS (%)",presupuesto_carbono:"PIC (%)",ingresos_total:null,ingresos_sostenibles:"IS (%)",ingresos_carbono:"IIC (%)"},$=async()=>{try{const z=Be("chartsPresupuestos"),Y=Be("chartsIngresos");f.value=await l("chartsPresupuestos",z),c.value=await l("chartsIngresos",Y),d.value=!0}catch(z){console.error("Error cargando datos:",z)}};Le(()=>$()),Ce(()=>t.selectedYear,async(z,Y)=>{z!==Y&&(d.value=!1,await $())});const g=N(()=>!d.value||!t.selectedState||!f.value.length?[]:f.value.filter(z=>z[u.stateColumn]===t.selectedState)),y=N(()=>!d.value||!t.selectedState||!c.value.length?[]:c.value.filter(z=>z[v.stateColumn]===t.selectedState)),b=(z,Y)=>{if(!z||!Y)return 0;const R=z[Y];if(R==null)return 0;if(typeof R=="number")return R;if(typeof R=="string"){let se=R.replace(/^["']+|["']+$/g,"").trim();return se===""||se==='""'?0:(se=se.replace(/\./g,""),se=se.replace(",","."),parseFloat(se)||0)}return parseFloat(R)||0},w=(z,Y)=>{if(!z)return{variables:[]};const R=Y.variableColumns.map(se=>{const G=b(z,se.column),x=h[se.key],S=x?b(z,x):null,V=C[se.key],W=V?b(z,V):null;return{key:se.key,label:se.label,value:G,color:se.color,colorClass:se.colorClass,order:se.order||0,position:S||null,percentage:W||null}});return R.sort((se,G)=>se.order-G.order),{variables:R}},k=N(()=>{if(!g.value.length)return{variables:[]};const z=w(g.value[0],u);return t.selectedVariable&&z.variables.length>=3&&(t.selectedVariable.key==="PS"?z.variables=[z.variables[0],z.variables[1]].filter(Y=>Y):t.selectedVariable.key==="PIC"&&(z.variables=[z.variables[0],z.variables[2]].filter(Y=>Y))),z}),H=N(()=>{if(!y.value.length)return{variables:[]};const z=w(y.value[0],v);return t.selectedVariable&&z.variables.length>=3&&(t.selectedVariable.key==="IS"?z.variables=[z.variables[0],z.variables[1]].filter(Y=>Y):t.selectedVariable.key==="IIC"&&(z.variables=[z.variables[0],z.variables[2]].filter(Y=>Y))),z}),A=(z,Y,R)=>{if(!z||!Y||!R)return{mainPercentage:0,sectors:[]};let se=0;const G=Y.map(x=>{const S=b(z,x.column);return se+=S,{key:x.key,label:x.label,value:S,color:x.color,colorClass:x.colorClass}});return{mainPercentage:R>0?Math.round(se/R*100):0,sectors:G}},_=N(()=>{if(!g.value.length)return[{label:"PS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}];const z=g.value[0],Y=b(z,"PT ($)"),R=A(z,u.donutSectorsPS||[],Y);return[{label:"PS",value:R.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-R.mainPercentage,color:"#E8E8E8"}]}),F=N(()=>{if(!g.value.length)return[];const z=g.value[0];return A(z,u.donutSectorsPS||[],b(z,"PT ($)")).sectors}),D=N(()=>`${_.value[0].value}%`),M=N(()=>{if(!g.value.length)return[{label:"PIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}];const z=g.value[0],Y=b(z,"PT ($)"),R=A(z,u.donutSectorsPIC||[],Y);return[{label:"PIC",value:R.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-R.mainPercentage,color:"#E8E8E8"}]}),E=N(()=>{if(!g.value.length)return[];const z=g.value[0];return A(z,u.donutSectorsPIC||[],b(z,"PT ($)")).sectors}),I=N(()=>`${M.value[0].value}%`),P=N(()=>{if(!y.value.length)return[{label:"IS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}];const z=y.value[0],Y=b(z,"IT ($)"),R=A(z,v.donutSectorsIS||[],Y);return[{label:"IS",value:R.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-R.mainPercentage,color:"#E8E8E8"}]}),B=N(()=>{if(!y.value.length)return[];const z=y.value[0];return A(z,v.donutSectorsIS||[],b(z,"IT ($)")).sectors}),T=N(()=>`${P.value[0].value}%`),q=N(()=>{if(!y.value.length)return[{label:"IIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}];const z=y.value[0],Y=b(z,"IT ($)"),R=A(z,v.donutSectorsIIC||[],Y);return[{label:"IIC",value:R.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-R.mainPercentage,color:"#E8E8E8"}]}),Q=N(()=>{if(!y.value.length)return[];const z=y.value[0];return A(z,v.donutSectorsIIC||[],b(z,"IT ($)")).sectors}),Z=N(()=>`${q.value[0].value}%`),re=N(()=>{var Y,R;const z=t.selectedYear?` en ${t.selectedYear}`:"";return((Y=t.selectedVariable)==null?void 0:Y.key)==="PS"?`Presupuestos Sostenibles (PS) con respecto al Presupuesto Total (PT)${z}`:((R=t.selectedVariable)==null?void 0:R.key)==="PIC"?`Presupuestos Intensivos en Carbono (PIC) con respecto al Presupuesto Total (PT)${z}`:`Presupuestos Intensivos en Carbono (PIC) y Presupuestos Sostenibles (PS) con respecto del gasto total${z}`}),he=N(()=>{var Y,R;const z=t.selectedYear?` en ${t.selectedYear}`:"";return((Y=t.selectedVariable)==null?void 0:Y.key)==="IS"?`Ingresos Sostenibles (IS) con respecto al Ingreso Total (IT)${z}`:((R=t.selectedVariable)==null?void 0:R.key)==="IIC"?`Ingresos Intensivos en Carbono (IIC) con respecto al Ingreso Total (IT)${z}`:`Proporcin del gasto asignado a Ingresos${z}`}),be=N(()=>t.selectedState?`Presupuestos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),ne=N(()=>t.selectedState?`Ingresos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),ae=N(()=>((u==null?void 0:u.donutSectorsPS)||[]).map(Y=>({key:Y.key,label:Y.label,colorClass:Y.colorClass,active:!0}))),L=N(()=>((u==null?void 0:u.donutSectorsPIC)||[]).map(Y=>({key:Y.key,label:Y.label,colorClass:Y.colorClass,active:!0}))),le=N(()=>((v==null?void 0:v.donutSectorsIS)||[]).map(Y=>({key:Y.key,label:Y.label,colorClass:Y.colorClass,active:!0}))),K=N(()=>((v==null?void 0:v.donutSectorsIIC)||[]).map(Y=>({key:Y.key,label:Y.label,colorClass:Y.colorClass,active:!0})));return(z,Y)=>(p(),m("div",{class:ge(["charts-wrapper",{"single-card":s.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"||e.selectedVariable.key==="IIC"?(p(),m("div",Ip,[n("div",Ep,[n("h4",Pp,O(ne.value),1)]),n("div",Fp,[X(r)?(p(),m("div",Mp,[...Y[0]||(Y[0]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):X(i)?(p(),m("div",Dp,[n("p",null,"Error: "+O(X(i)),1)])):(p(),m("div",Tp,[Ae(_n,{data:H.value,title:he.value,headerTitle:"Anlisis de Ingresos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!X(r)&&!X(i)?(p(),m("div",{key:3,class:ge(["chart-col-donuts",{"single-donut":o.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"?(p(),m("div",Rp,[Y[1]||(Y[1]=ke('<div class="donut-header-dark" data-v-e77fa42a><div class="donut-header-icon green" data-v-e77fa42a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e77fa42a><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-e77fa42a></path></svg></div><span class="donut-header-title" data-v-e77fa42a>Componentes de Ingresos Sostenibles</span></div>',1)),B.value.length>0?(p(),Pe(is,{key:`is-${t.selectedState}-${B.value.length}`,data:P.value,title:"IS",subtitle:T.value,size:220,variables:le.value,sectors:B.value},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",Bp,"Sin datos disponibles"))])):ie("",!0),!e.selectedVariable||e.selectedVariable.key==="IIC"?(p(),m("div",Vp,[Y[2]||(Y[2]=ke('<div class="donut-header-dark" data-v-e77fa42a><div class="donut-header-icon red" data-v-e77fa42a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e77fa42a><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-e77fa42a></path><path d="M2 17l10 5 10-5" data-v-e77fa42a></path><path d="M2 12l10 5 10-5" data-v-e77fa42a></path></svg></div><span class="donut-header-title" data-v-e77fa42a>Componentes de Ingresos Intensivos en Carbono</span></div>',1)),Q.value.length>0?(p(),Pe(is,{key:`iic-${t.selectedState}-${Q.value.length}`,data:q.value,title:"IIC",subtitle:Z.value,size:220,variables:K.value,sectors:Q.value},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",Lp,"Sin datos disponibles"))])):ie("",!0)],2)):ie("",!0)])])):ie("",!0),!e.selectedVariable||e.selectedVariable.key==="PS"||e.selectedVariable.key==="PIC"?(p(),m("div",Op,[n("div",Np,[n("h4",zp,O(be.value),1)]),n("div",Yp,[X(r)?(p(),m("div",jp,[...Y[3]||(Y[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):X(i)?(p(),m("div",Hp,[n("p",null,"Error: "+O(X(i)),1)])):(p(),m("div",Gp,[Ae(_n,{data:k.value,title:re.value,headerTitle:"Anlisis de Presupuestos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!X(r)&&!X(i)?(p(),m("div",{key:3,class:ge(["chart-col-donuts",{"single-donut":a.value}])},[!e.selectedVariable||e.selectedVariable.key==="PS"?(p(),m("div",qp,[Y[4]||(Y[4]=ke('<div class="donut-header-dark" data-v-e77fa42a><div class="donut-header-icon green" data-v-e77fa42a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e77fa42a><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-e77fa42a></path></svg></div><span class="donut-header-title" data-v-e77fa42a>Componentes de Presupuestos Sostenibles</span></div>',1)),F.value.length>0?(p(),Pe(is,{key:`ps-${t.selectedState}-${F.value.length}`,data:_.value,title:"PS",subtitle:D.value,size:220,variables:ae.value,sectors:F.value},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",Up,"Sin datos disponibles"))])):ie("",!0),!e.selectedVariable||e.selectedVariable.key==="PIC"?(p(),m("div",Wp,[Y[5]||(Y[5]=ke('<div class="donut-header-dark" data-v-e77fa42a><div class="donut-header-icon red" data-v-e77fa42a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e77fa42a><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-e77fa42a></path><path d="M2 17l10 5 10-5" data-v-e77fa42a></path><path d="M2 12l10 5 10-5" data-v-e77fa42a></path></svg></div><span class="donut-header-title" data-v-e77fa42a>Componentes de Presupuestos Intensivos en Carbono</span></div>',1)),E.value.length>0?(p(),Pe(is,{key:`pic-${t.selectedState}-${E.value.length}`,data:M.value,title:"PIC",subtitle:I.value,size:220,variables:L.value,sectors:E.value},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",Xp,"Sin datos disponibles"))])):ie("",!0)],2)):ie("",!0)])])):ie("",!0)],2))}},au=Ee(Qp,[["__scopeId","data-v-e77fa42a"]]),Qs=j(null),Ks=j([]),lo=j(!1),ro=j(null);function Kp(){const e=async()=>{try{console.log(" Obteniendo aos disponibles desde Google Sheets..."),lo.value=!0,ro.value=null;const o="AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",l="1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",r=`https://sheets.googleapis.com/v4/spreadsheets/${l}?key=${o}`,i=await fetch(r);if(!i.ok)throw new Error(`Error al obtener metadatos: ${i.status}`);const f=(await i.json()).sheets.map(c=>c.properties.title).filter(c=>/^\d{4}$/.test(c)).sort((c,u)=>u.localeCompare(c));return Ks.value=f,console.log(" Aos disponibles:",f),f}catch(o){return console.error(" Error obteniendo aos:",o),ro.value=o.message,Ks.value=["2024","2023","2022","2021","2020"],Ks.value}finally{lo.value=!1}},t=o=>{console.log(" Estableciendo ao seleccionado:",o),Qs.value=o},s=N(()=>Qs.value!==null?Qs.value:Ks.value[0]||"2024");return{selectedYear:Qs,availableYears:Ks,loadingYears:lo,yearsError:ro,activeYear:s,fetchAvailableYears:e,setSelectedYear:t,resetYear:()=>{Qs.value=null}}}const Jp={class:"filter-content"},Zp={class:"filter-group"},eg={class:"filter-dropdown"},tg={class:"dropdown-text"},sg={key:0,class:"dropdown-menu"},ag={class:"dropdown-search"},ng={class:"dropdown-options"},og=["onClick"],lg={class:"filter-group"},rg={class:"filter-dropdown"},ig=["disabled"],cg={class:"dropdown-text"},ug={key:0,class:"dropdown-menu"},dg={class:"dropdown-search"},fg={class:"dropdown-options"},vg=["onClick"],hg={key:1,class:"dropdown-no-results"},pg={class:"filter-group"},gg={class:"filter-dropdown"},mg={class:"dropdown-text"},bg={key:0,class:"dropdown-menu variable-menu"},yg={class:"dropdown-search"},Ag={class:"dropdown-options"},Cg=["onClick"],wg={key:1,class:"dropdown-no-results"},_g={__name:"RetractableFilterBar",props:{entities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},selectedState:{type:String,default:null},isLocked:{type:Boolean,default:!1},availableYears:{type:Array,default:()=>[]},initialEntity:{type:[String,null],default:""},initialYear:{type:[String,Number,null],default:null},initialVariable:{type:[Object,String,null],default:null}},emits:["entity-change","year-change","variable-change","filters-change"],setup(e,{emit:t}){const s=e,a=t,{selectedYear:o,availableYears:l,loadingYears:r,fetchAvailableYears:i,setSelectedYear:d,activeYear:f}=Kp(),c=N(()=>s.availableYears&&s.availableYears.length>0?(console.log(" Usando aos de props.availableYears:",s.availableYears),s.availableYears):(console.log(" Usando aos de composable:",l.value),l.value)),u=j(!1),v=j(null),h=j(null),C=j(null),$=j(!1),g=j(""),y=j(""),b=j(""),w=j(""),k=j(null),H={PS:{key:"PS",label:"Presupuestos Sostenibles (PS)",description:"Presupuestos Sostenibles",category:"presupuestos",barVariables:["PS","PT"],donutType:"PS"},IIC:{key:"IIC",label:"Ingresos Intensivos en Carbono (IIC)",description:"Ingresos Intensivos en Carbono",category:"ingresos",barVariables:["IIC","IT"],donutType:"IIC"},PIC:{key:"PIC",label:"Presupuestos Intensivos en Carbono (PIC)",description:"Presupuestos Intensivos en Carbono",category:"presupuestos",barVariables:["PIC","PT"],donutType:"PIC"},IS:{key:"IS",label:"Ingresos Sostenibles (IS)",description:"Ingresos Sostenibles",category:"ingresos",barVariables:["IS","IT"],donutType:"IS"}},A=N(()=>Object.values(H)),_=N(()=>{if(!g.value)return s.entities;const ne=g.value.toLowerCase();return s.entities.filter(ae=>ae.name.toLowerCase().includes(ne))}),F=N(()=>{if(!y.value)return c.value;const ne=y.value.toLowerCase();return c.value.filter(ae=>String(ae).toLowerCase().includes(ne))}),D=N(()=>{if(!b.value)return A.value;const ne=b.value.toLowerCase();return A.value.filter(ae=>ae.label.toLowerCase().includes(ne)||ae.key.toLowerCase().includes(ne)||ae.description.toLowerCase().includes(ne))}),M=()=>w.value===""?"-":!w.value||w.value===null?"Datos regionales":w.value,E=()=>o.value===null?"Todos los aos":o.value,I=()=>!k.value||k.value===null?"IFSS":k.value.key,P=()=>{h.value&&(clearTimeout(h.value),h.value=null),u.value=!0},B=()=>{if(s.isLocked){console.log(" Barra bloqueada, no se contrae al salir del mouse");return}!v.value&&!w.value&&(h.value=setTimeout(()=>{u.value=!1},300))},T=ne=>{console.log(" Toggle dropdown:",ne),u.value=!0,h.value&&(clearTimeout(h.value),h.value=null),v.value!==ne&&(g.value="",y.value="",b.value=""),v.value=v.value===ne?null:ne,console.log(" Dropdown activo:",v.value)},q=()=>{if(console.log(" Cerrando todos los dropdowns"),v.value=null,g.value="",y.value="",b.value="",s.isLocked){console.log(" Barra bloqueada, permanece expandida");return}h.value=setTimeout(()=>{u.value=!1},300)},Q=ne=>{C.value&&(C.value.contains(ne.target)||v.value&&(console.log(" Click fuera detectado, cerrando dropdown"),q()))},Z=ne=>{console.log("=== FILTRO: Entidad seleccionada ===",ne);const ae=w.value;if(w.value=ne,a("entity-change",ne),ae===null&&ne!==null&&ne!==""&&o.value===null&&c.value.length>0){const L=c.value[0];console.log(" Auto-seteando ao al primero disponible:",L),d(L),Re(L),a("year-change",L)}be(),g.value="",q()},re=ne=>{if(console.log("=== FILTRO: Ao seleccionado ===",ne),d(ne),ne!==null)Re(ne),console.log(" Ao activo establecido:",ne);else{const ae=c.value[0]||"2024";Re(ae),console.log(" Ao activo establecido (fallback):",ae)}a("year-change",ne),be(),y.value="",q()},he=ne=>{console.log("=== FILTRO: Variable seleccionada ===",ne),k.value=ne,a("variable-change",ne),be(),b.value="",q()},be=()=>{const ne={entity:w.value,year:o.value,variable:k.value};console.log("=== FILTRO: Emitiendo filters-change ===",ne),a("filters-change",ne)};return Ce(()=>s.initialEntity,ne=>{console.log(" [FilterBar] initialEntity cambi a:",ne),ne!==w.value&&(w.value=ne,console.log(" [FilterBar] selectedEntity sincronizado:",w.value))},{immediate:!0}),Ce(()=>s.initialYear,ne=>{console.log(" [FilterBar] initialYear cambi a:",ne),ne!==o.value&&(d(ne),console.log(" [FilterBar] selectedYear sincronizado:",o.value))},{immediate:!0}),Ce(()=>s.initialVariable,ne=>{console.log(" [FilterBar] initialVariable cambi a:",ne),ne!==k.value&&(k.value=ne,console.log(" [FilterBar] selectedVariable sincronizado:",k.value))},{immediate:!0}),Ce(()=>s.isLocked,(ne,ae)=>{console.log(" isLocked cambi de",ae,"a",ne),ne?(u.value=!0,$.value=!1,h.value&&(clearTimeout(h.value),h.value=null)):ae===!0&&ne===!1&&(console.log(" Iniciando animacin de bajada..."),$.value=!0,setTimeout(()=>{$.value=!1,!w.value&&!v.value&&(u.value=!1),console.log(" Animacin de bajada completada")},600))}),Ce(()=>s.selectedState,ne=>{console.log(" Sincronizando filtro con mapa. Estado:",ne),(ne!=null||ne===null&&w.value!=="")&&(w.value=ne)}),Ce(c,ne=>{console.log(" [RetractableFilterBar] Computed years cambi a:",ne)},{immediate:!0}),Ce(()=>s.availableYears,(ne,ae)=>{console.log(" [RetractableFilterBar] props.availableYears cambi"),console.log("  - Anterior:",ae),console.log("  - Nuevo:",ne)},{deep:!0}),Le(async()=>{if(console.log(" RetractableFilterBar montado"),console.log(" Entidades recibidas:",s.entities.length),console.log(" Aos en props:",s.availableYears),console.log(" initialEntity:",s.initialEntity),console.log(" initialYear:",s.initialYear),console.log(" initialVariable:",s.initialVariable),s.initialEntity!==void 0&&(w.value=s.initialEntity),s.initialVariable!==void 0&&(k.value=s.initialVariable),console.log(" Cargando aos desde composable..."),await i(),console.log(" Aos del composable cargados:",l.value),s.initialYear!==null&&s.initialYear!==void 0)d(s.initialYear),s.initialYear!==""&&Re(s.initialYear),console.log(" Usando ao de props:",s.initialYear);else if(c.value.length>0){const ne=c.value[0];d(ne),Re(ne),console.log(" Ao por defecto establecido:",ne),a("year-change",ne)}else Re(f.value),console.log(" Ao activo inicial (fallback):",f.value);be(),document.addEventListener("click",Q)}),tl(()=>{console.log(" RetractableFilterBar desmontndose"),document.removeEventListener("click",Q),h.value&&clearTimeout(h.value)}),(ne,ae)=>(p(),m("div",{class:"filter-bar-container",style:ve({overflow:v.value!==null?"visible":"hidden"})},[n("div",{ref_key:"filterBarRef",ref:C,class:ge(["filter-bar",{expanded:u.value||v.value,"has-entity-selected":w.value,"locked-expanded":s.isLocked,"animating-down":$.value}]),onMouseenter:P,onMouseleave:B},[n("div",Jp,[n("div",Zp,[ae[16]||(ae[16]=n("label",{class:"filter-label"},"Entidad",-1)),n("div",eg,[n("button",{onClick:ae[0]||(ae[0]=L=>T("entidad")),class:ge(["dropdown-button",{active:v.value==="entidad","has-selection":w.value}])},[n("span",tg,O(M()),1),ae[13]||(ae[13]=n("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="entidad"?(p(),m("div",sg,[n("div",ag,[Cs(n("input",{"onUpdate:modelValue":ae[1]||(ae[1]=L=>g.value=L),placeholder:"Buscar entidad...",class:"search-input",onClick:ae[2]||(ae[2]=kt(()=>{},["stop"]))},null,512),[[ha,g.value]])]),n("div",ng,[g.value?ie("",!0):(p(),m("div",{key:0,onClick:ae[3]||(ae[3]=L=>Z(null)),class:ge(["dropdown-option",{selected:w.value===null}])},[...ae[14]||(ae[14]=[n("span",null,"Datos Regionales",-1)])],2)),(p(!0),m(me,null,_e(_.value,L=>(p(),m("div",{key:L.name,onClick:le=>Z(L.name),class:ge(["dropdown-option",{selected:w.value===L.name&&w.value!==""&&w.value!==null}])},[n("span",null,O(L.name),1)],10,og))),128)),g.value?ie("",!0):(p(),m("div",{key:1,onClick:ae[4]||(ae[4]=L=>Z("")),class:ge(["dropdown-option blank-option-row",{selected:w.value===""}])},[...ae[15]||(ae[15]=[n("span",{class:"blank-option"},"-",-1)])],2))])])):ie("",!0)])]),n("div",lg,[ae[19]||(ae[19]=n("label",{class:"filter-label"},"Ao",-1)),n("div",rg,[n("button",{onClick:ae[5]||(ae[5]=L=>T("ao")),class:ge(["dropdown-button",{active:v.value==="ao","has-selection":X(o)!==null}]),disabled:X(r)},[n("span",cg,O(X(r)?"Cargando...":E()),1),ae[17]||(ae[17]=n("span",{class:"dropdown-arrow"},"",-1))],10,ig),v.value==="ao"?(p(),m("div",ug,[n("div",dg,[Cs(n("input",{"onUpdate:modelValue":ae[6]||(ae[6]=L=>y.value=L),placeholder:"Buscar ao...",class:"search-input",onClick:ae[7]||(ae[7]=kt(()=>{},["stop"]))},null,512),[[ha,y.value]])]),n("div",fg,[!y.value&&w.value!==""?(p(),m("div",{key:0,onClick:ae[8]||(ae[8]=L=>re(null)),class:ge(["dropdown-option",{selected:X(o)===null}])},[...ae[18]||(ae[18]=[n("span",null,"Todos los aos",-1)])],2)):ie("",!0),(p(!0),m(me,null,_e(F.value,L=>(p(),m("div",{key:L,onClick:le=>re(L),class:ge(["dropdown-option",{selected:X(o)===L}])},[n("span",null,O(L),1)],10,vg))),128)),F.value.length===0&&y.value?(p(),m("div",hg," No se encontraron aos ")):ie("",!0)])])):ie("",!0)])]),n("div",pg,[ae[22]||(ae[22]=n("label",{class:"filter-label"},"Variable",-1)),n("div",gg,[n("button",{onClick:ae[9]||(ae[9]=L=>T("variable")),class:ge(["dropdown-button",{active:v.value==="variable","has-selection":k.value!==null}])},[n("span",mg,O(I()),1),ae[20]||(ae[20]=n("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="variable"?(p(),m("div",bg,[n("div",yg,[Cs(n("input",{"onUpdate:modelValue":ae[10]||(ae[10]=L=>b.value=L),placeholder:"Buscar variable...",class:"search-input",onClick:ae[11]||(ae[11]=kt(()=>{},["stop"]))},null,512),[[ha,b.value]])]),n("div",Ag,[b.value?ie("",!0):(p(),m("div",{key:0,onClick:ae[12]||(ae[12]=L=>he(null)),class:ge(["dropdown-option",{selected:k.value===null}])},[...ae[21]||(ae[21]=[n("span",null,"IFSS",-1)])],2)),(p(!0),m(me,null,_e(D.value,L=>{var le;return p(),m("div",{key:L.key,onClick:K=>he(L),class:ge(["dropdown-option",{selected:((le=k.value)==null?void 0:le.key)===L.key}])},[n("span",null,O(L.label),1)],10,Cg)}),128)),D.value.length===0&&b.value?(p(),m("div",wg," No se encontraron variables ")):ie("",!0)])])):ie("",!0)])])])],34)],4))}},Nn=Ee(_g,[["__scopeId","data-v-40c843fe"]]),Sg={id:"app"},kg={class:"app-main"},hl={__name:"DataToggleComponent",setup(e){const t=j("subnacional"),s=j("MXN");return(a,o)=>{const l=zi("router-view");return p(),m("div",Sg,[Ae(Tc,{title:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)",lastUpdate:"24 de septiembre de 2025"}),Ae(Rc,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r),currency:s.value},null,8,["modelValue","currency"]),n("main",kg,[Ae(l)])])}}},pl=()=>{const e=j(null),t=j("2023"),s=j(null),a=j(null),o=j(!1),l=j(null),r=j(["2023","2022","2021","2020","2019"]),i=j([{key:"ifss_total",label:"IFSS Total",description:"ndice completo de finanzas sostenibles",field:"value"}]),d=async()=>{o.value=!0,l.value=null;try{const A=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!A.ok)throw new Error("Error al cargar datos de filtros");const _=await A.json();a.value=_.reduce((F,D)=>(F[D.region]=D,F),{}),console.log("Datos de filtros cargados:",a.value)}catch(A){console.error("Error cargando datos de filtros:",A),l.value=A.message}finally{o.value=!1}},f=N(()=>a.value?Object.entries(a.value).map(([A,_])=>({name:A,value:v(_),region:_.region,year:_.year})).sort((A,_)=>A.name.localeCompare(_.name)):[]),c=N(()=>{if(!a.value)return{};let A={...a.value};return e.value&&(A={[e.value]:a.value[e.value]}),t.value!=="2023"&&console.log("Filtrando por ao:",t.value),A}),u=N(()=>{var I;const A=Object.values(c.value);if(A.length===0)return null;const _=A.map(P=>v(P)).filter(P=>P>0),F=_.length,D=_.reduce((P,B)=>P+B,0)/F,M=Math.max(..._),E=Math.min(..._);return{total:F,average:Math.round(D*100)/100,max:M,min:E,selectedVariable:((I=s.value)==null?void 0:I.label)||"IFSS Total"}}),v=A=>{if(!s.value)return A.value||0;const _=s.value.field;return A[_]||A.value||0},h=A=>{e.value=A,console.log("Filtro de entidad aplicado:",A)},C=A=>{t.value=A,console.log("Filtro de ao aplicado:",A)},$=A=>{s.value=A,console.log("Filtro de variable aplicado:",A)},g=A=>{A.entity!==void 0&&(e.value=A.entity),A.year!==void 0&&(t.value=A.year),A.variable!==void 0&&(s.value=A.variable)},y=()=>{e.value=null,t.value="2023",s.value=i.value[0]},b=A=>{if(!A||!a.value)return[];const _=A.toLowerCase();return f.value.filter(F=>F.name.toLowerCase().includes(_)).slice(0,10)},w=()=>{var B;const A=c.value,_=((B=s.value)==null?void 0:B.label)||"IFSS Total",F=["Entidad",_,"Ao"],D=Object.entries(A).map(([T,q])=>[T,v(q),t.value]),M=[F.join(","),...D.map(T=>T.join(","))].join(`
`),E=new Blob([M],{type:"text/csv"}),I=window.URL.createObjectURL(E),P=document.createElement("a");P.href=I,P.download=`IFSS_${_}_${t.value}.csv`,P.click(),window.URL.revokeObjectURL(I)},k=()=>{var F;const A={ifss_total:{scale:[.5,2.9],colors:["#e52845","#e67849","#e6a74c","#e6d64f","#bddc50","#94d351","#6ac952"]}},_=((F=s.value)==null?void 0:F.key)||"ifss_total";return A[_]||A.ifss_total};return Ce([e,t,s],()=>{var A;console.log("Filtros cambiados:",{entity:e.value,year:t.value,variable:(A=s.value)==null?void 0:A.label})}),{selectedEntity:e,selectedYear:t,selectedVariable:s,loading:o,error:l,availableYears:r,availableVariables:i,entitiesData:f,filteredData:c,filterStats:u,loadFilterData:d,setEntityFilter:h,setYearFilter:C,setVariableFilter:$,applyFilters:g,resetFilters:y,searchEntities:b,exportFilteredData:w,getCurrentVariableValue:v,getVariableColorConfig:k,initializeFilters:()=>{i.value.length>0&&(s.value=i.value[0])}}},gl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAVFJREFUeJzt27FqFFEYhuH3m9bKIhoQyyBegoWkXsLiFSQ2gXglySUoWhlvYElWvIP0WqTRZiGB3U27lns+mx0IXsD8xXxPNeULM8yBc/4DERExXgKw/YrWjoG94p6hrOm6S0m/ZfsQ+zvwpLpqYH+RJnJrN8Cb6poiN3JrG8b39nubDlhUVxRadEgXgKtLChjpvF8FptgfgOfFUUNZIn2SNK8OiYiIiIiIiCig/sH2S+BZYcuQVpLuAGT7KfY34Kg4amhzpBN5u/2CdFpdU8L+LLe2ZjwHIv976KoLirUOe1ZdUcae9T/Br8C0umdgV0jvHy+DL4D9wqAhLSXdV0dEREREREREFOnH5N5hnzGebfE10kdJ17J9stsRGh/pWG7tFnhd3VLkNsPSwK/qikI/Zfst9g/G9xVskCb9KnCwuzIzlmHp1e7KzJ/qkIiIqPQPkdV4tN3EmJgAAAAASUVORK5CYII=",$g={class:"map-container"},xg={key:0,class:"loading-state"},Ig={key:1,class:"error-state"},Eg={key:2,class:"map-content"},Pg={class:"map-and-charts-wrapper"},Fg={class:"map-wrapper"},Mg={class:"hover-info-box"},Dg={key:0,class:"info-content"},Tg={class:"location-label"},Rg={class:"value-display"},Bg={key:1,class:"info-content"},Vg={class:"value-display"},Lg=["width","height"],Og=["d","fill","stroke","stroke-width","onClick","onMouseenter"],Ng={class:"tooltip-content"},zg={class:"tooltip-data"},Yg={key:0,class:"collapsed-view"},jg={key:1,class:"expanded-view"},Hg={key:0,class:"details-panel"},Gg={class:"details-header"},qg={class:"details-content"},Ug={class:"metric-card"},Wg={class:"metric-value"},Xg={class:"metric-card"},Qg={class:"metric-value"},Kg={class:"description"},Jg={__name:"QualitativeIndicatorPanel",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:$,handleStateClick:g,handleStateHover:y,handleStateLeave:b,resetSelection:w,initializeData:k}=s.mapsComposable||Yt(),{setChartData:H}=Da(),A=j({x:0,y:0}),_=(ae,L)=>{A.value={x:L.clientX,y:L.clientY},y(ae)},F=async ae=>{if(g(ae),await ze(),i.value===ae){const L=C(ae);a("region-selected",{name:ae,data:L})}else a("region-selected",null)},D=N(()=>vl().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),M=N(()=>cl().projection(D.value)),E=ae=>M.value(ae),I=ae=>i.value===ae?"#FfFFFF":(d.value===ae,"#555555"),P=ae=>i.value===ae?3:d.value===ae?2:1,B=N(()=>d.value?{position:"fixed",left:`${A.value.x+20}px`,top:`${A.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),T=Dc(),q=Ma(),Q=N(()=>T.path.includes("/cualitativos")),Z=()=>{q.push("/finanzas/cualitativos")},re=()=>{q.push("/finanzas/mapas")},he=()=>{q.push("/finanzas/cualitativos/item")},be=()=>{console.log("Navegando a datos regionales...")},ne=()=>{console.log("Navegando a federales...")};return Ce(i,(ae,L)=>{if(ae&&ae!==L){const le=C(ae);H(le),a("region-selected",{name:ae,data:le})}else!ae&&L&&a("region-selected",null)}),Ce(r,ae=>{ae&&a("map-error",ae)}),(ae,L)=>{var le;return p(),m("div",$g,[X(l)?(p(),m("div",xg,[...L[3]||(L[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):ie("",!0),X(r)?(p(),m("div",Ig,[n("p",null,"Error: "+O(X(r)),1),n("button",{onClick:L[0]||(L[0]=(...K)=>X(k)&&X(k)(...K)),class:"retry-btn"}," Reintentar ")])):ie("",!0),!X(l)&&!X(r)?(p(),m("div",Eg,[n("div",Pg,[n("div",Fg,[n("div",{class:ge(["map-info-card",{"state-selected":X(i)}])},[n("div",{class:"card-content"},[L[4]||(L[4]=ke('<div class="card-position-title" data-v-9b52fd2a> Posicin del pas en el ndice<br data-v-9b52fd2a> de Finanzas Sostenibles<br data-v-9b52fd2a> (IFS) en 2024 </div><div class="card-top-row" data-v-9b52fd2a><div class="card-position-number" data-v-9b52fd2a> 15 </div><div class="card-ifss-info" data-v-9b52fd2a><div class="ifss-value-text" data-v-9b52fd2a>IFS: 1.3</div><div class="ifss-classification" data-v-9b52fd2a>Medio bajo</div></div></div>',2)),n("div",{class:"card-bottom-stack"},[n("div",{class:"card-label-pill",onClick:be},"IFS Regional"),n("div",{class:"card-label-pill",onClick:ne},"Datos federales")])])],2),n("div",Mg,[X(d)?(p(),m("div",Dg,[n("div",Tg,O(X(d)),1),n("div",Rg,O(X(C)(X(d)).value||0)+"%",1)])):X(v)?(p(),m("div",Bg,[L[5]||(L[5]=n("div",{class:"location-label"},"Mxico",-1)),n("div",Vg,O(X(v).value)+"%",1)])):ie("",!0)]),L[6]||(L[6]=ke('<div class="color-legend" data-v-9b52fd2a><div class="legend-items-horizontal" data-v-9b52fd2a><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Bajo</span></div></div></div>',1)),(p(),m("svg",{width:X(f).width,height:X(f).height,class:"mexico-map"},[n("g",null,[(p(!0),m(me,null,_e(((le=X(o))==null?void 0:le.features)||[],K=>(p(),m("path",{key:K.properties.state_name,d:E(K),fill:X(h)(K.properties.state_name),stroke:I(K.properties.state_name),"stroke-width":P(K.properties.state_name),class:"state-path",onClick:z=>F(K.properties.state_name),onMouseenter:z=>_(K.properties.state_name,z),onMouseleave:L[1]||(L[1]=(...z)=>X(b)&&X(b)(...z))},null,40,Og))),128))])],8,Lg)),X(d)?(p(),m("div",{key:0,class:"tooltip",style:ve(B.value)},[n("div",Ng,[n("h4",null,O(X(d)),1),n("div",zg,[n("p",null,"IFSS: "+O(X(C)(X(d)).value||0),1),n("p",null,"Clasificacin: "+O(X($)(X(C)(X(d)).value||0).label),1),n("p",null,"Ao: "+O(X(C)(X(d)).year),1)])])],4)):ie("",!0)]),n("div",{class:ge(["qualitative-panel",{expanded:Q.value}])},[Q.value?(p(),m("div",jg,[n("div",{class:"header-retractable-view"},[n("div",{class:"hamburger-menu",onClick:re},[...L[7]||(L[7]=[n("img",{src:gl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),L[8]||(L[8]=n("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),n("div",{class:"expand-retractable-btn",onClick:re}," - ")]),n("div",{class:"buttons-container"},[n("div",{class:"qualitative-btn",onClick:he},[...L[9]||(L[9]=[n("span",{class:"title-btn"},"Ambientales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...L[10]||(L[10]=[n("span",{class:"title-btn"},"Econmicos",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...L[11]||(L[11]=[n("span",{class:"title-btn"},"Sociables",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...L[12]||(L[12]=[n("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...L[13]||(L[13]=[n("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),n("span",{class:"plus-btn"},"+",-1)])])])])):(p(),m("div",Yg,[n("div",{class:"expand-retractable-btn",onClick:Z}," + ")]))],2)]),X(i)?(p(),m("div",Hg,[n("div",Gg,[n("h3",null,O(X(i)),1),n("button",{onClick:L[2]||(L[2]=(...K)=>X(w)&&X(w)(...K)),class:"close-btn"},"")]),n("div",qg,[n("div",Ug,[n("div",Wg,O(X(C)(X(i)).value||0),1),L[14]||(L[14]=n("div",{class:"metric-label"},"IFSS",-1)),n("div",{class:"metric-classification",style:ve({color:X($)(X(C)(X(i)).value||0).color})},O(X($)(X(C)(X(i)).value||0).label),5)]),n("div",Xg,[n("div",Qg,O(X(C)(X(i)).year),1),L[15]||(L[15]=n("div",{class:"metric-label"},"Ao de datos",-1))])]),n("div",Kg,[n("p",null,O(X(C)(X(i)).descripcion),1)])])):ie("",!0)])):ie("",!0)])}}},Zg=Ee(Jg,[["__scopeId","data-v-9b52fd2a"]]),e1={class:"maps-page"},t1={class:"filters-toggles-row"},s1={class:"filters-column"},a1={class:"toggles-column"},n1={class:"qualitativeIndicatorPanel"},o1={key:0,class:"error-panel"},l1={__name:"QualitativePanel",setup(e){const t=j(!1),s=Yt(),{selectedEntity:a,loading:o,error:l,loadFilterData:r,setEntityFilter:i,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=pl(),{loading:u,error:v,selectedState:h,getStateInfo:C,getIFSSLabel:$,handleStateClick:g,resetSelection:y,initializeData:b}=s,w=N(()=>o.value||u.value),k=N(()=>l.value||v.value);Ce(h,M=>{console.log("Estado seleccionado en el mapa:",M),M&&M!==a.value?(i(M),t.value=!0):M||(i(null),t.value=!1)});const H=M=>{i(M),t.value=!0,M?g(M):y()},A=M=>{d(M)},_=M=>{f(M)},F=M=>{M.year!==void 0&&d(M.year),M.variable!==void 0&&f(M.variable),t.value=!0},D=()=>{c(),b(),r()};return Le(async()=>{try{c(),await r()}catch(M){console.error("Error inicializando MapsPage:",M)}}),(M,E)=>(p(),m("div",e1,[n("div",t1,[n("div",s1,[Ae(Nn,{entities:M.entitiesData,loading:w.value,onEntityChange:H,onYearChange:A,onVariableChange:_,onFiltersChange:F},null,8,["entities","loading"])]),n("div",a1,[Ae(hl)])]),n("div",n1,[Ae(Zg)]),k.value?(p(),m("div",o1,[E[0]||(E[0]=n("h3",null,"Error en el sistema",-1)),n("p",null,O(k.value),1),n("button",{onClick:D,class:"retry-btn"}," Reintentar ")])):ie("",!0)]))}},r1=Ee(l1,[["__scopeId","data-v-04ce9b6f"]]),i1={class:"gauge-chart",ref:"chartContainer"},c1=["viewBox"],u1=["d","stroke","stroke-width"],d1=["d","stroke","stroke-width"],f1=["d","fill"],v1=["cx","cy","r","fill"],h1=["cx","cy","r","fill"],Js=150,ms=-90,io=90,p1={__name:"GaugeChart",props:{value:{type:Number,default:0},strokeWidth:{type:Number,default:12},backgroundColor:{type:String,default:"#CDCDCD"},progressColor:{type:String,default:"#0F3759"},needleColor:{type:String,default:"#0F3759"},needleWidth:{type:Number,default:3}},setup(e){const t=e,s=N(()=>7),a=j(0),o=j(!1),l=N(()=>Js/2),r=N(()=>Js*.6),i=N(()=>Js/2-t.strokeWidth/2-10),d=N(()=>{const $=t.value;return $==null||typeof $!="number"||isNaN($)?0:Math.max(0,Math.min(100,$))});Le(()=>{console.log(" [GaugeChart] Montado con valor:",t.value,"-> safe:",d.value),setTimeout(()=>{d.value>0&&f(0,d.value)},200)}),Ce(()=>t.value,($,g)=>{const y=Math.max(0,Math.min(100,$||0)),b=Math.max(0,Math.min(100,g||0));console.log(" [GaugeChart] Valor cambi:",b,"->",y),Math.abs(y-b)>.1&&f(a.value,y)});const f=($,g)=>{if(o.value)return;console.log(" [GaugeChart] Animando de",$,"a",g),o.value=!0;const y=1500,b=$,w=g,k=Date.now(),H=()=>{const A=Date.now(),_=Math.min((A-k)/y,1),F=1-Math.pow(1-_,3);a.value=b+(w-b)*F,_<1?requestAnimationFrame(H):(o.value=!1,console.log(" [GaugeChart] Animacin completada:",a.value))};requestAnimationFrame(H)},c=$=>{const g=($-90)*Math.PI/180;return{x:l.value+i.value*Math.cos(g),y:r.value+i.value*Math.sin(g)}},u=N(()=>{const $=c(ms),g=c(io);return`M ${$.x} ${$.y} A ${i.value} ${i.value} 0 0 1 ${g.x} ${g.y}`}),v=N(()=>{if(a.value<.1)return"";const $=ms+(io-ms)*(a.value/100),g=c(ms),y=c($),b=Math.abs($-ms)>180?1:0;return`M ${g.x} ${g.y} A ${i.value} ${i.value} 0 ${b} 1 ${y.x} ${y.y}`}),h=N(()=>ms+(io-ms)*(a.value/100)),C=N(()=>{const g=(h.value-90)*Math.PI/180,y=l.value+(i.value-10)*Math.cos(g),b=r.value+(i.value-10)*Math.sin(g),w=g+Math.PI/2,k=s.value,H=l.value+k*Math.cos(w),A=r.value+k*Math.sin(w),_=l.value-k*Math.cos(w),F=r.value-k*Math.sin(w),D=-1,M=y-D*Math.cos(w)-D*.3*Math.cos(g),E=b-D*Math.sin(w)-D*.3*Math.sin(g),I=y+D*Math.cos(w)-D*.3*Math.cos(g),P=b+D*Math.sin(w)-D*.3*Math.sin(g);return`
    M ${H} ${A} 
    L ${M} ${E}
    Q ${y} ${b} ${I} ${P}
    L ${_} ${F}
    Z
  `});return($,g)=>(p(),m("div",i1,[(p(),m("svg",{width:"100%",height:"40%",viewBox:`0 0 ${Js} ${Js*.65}`,preserveAspectRatio:"xMidYMid meet"},[n("path",{d:u.value,fill:"none",stroke:e.backgroundColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,u1),a.value>.1?(p(),m("path",{key:0,d:v.value,fill:"none",stroke:e.progressColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,d1)):ie("",!0),n("path",{d:C.value,fill:e.needleColor,class:"needle"},null,8,f1),n("circle",{cx:l.value,cy:r.value,r:s.value,fill:e.needleColor,class:"needle"},null,8,v1),n("circle",{cx:l.value,cy:r.value,r:e.needleWidth*1.5,fill:e.needleColor},null,8,h1)],8,c1))],512))}},nu=Ee(p1,[["__scopeId","data-v-16a38344"]]),g1={class:"bottle-chart"},m1={class:"bottles-container"},b1={class:"bottle-svg",viewBox:"0 0 24 55",preserveAspectRatio:"xMidYMax meet"},y1=["id"],A1=["id"],C1=["id"],w1=["id"],_1=["fill"],S1=["fill"],k1=["fill","filter"],$1=["y","height","fill","clip-path"],x1=["y","height","clip-path"],Hr=30,I1={__name:"BottleChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=j([0,0,0,0,0,0,0,0,0,0]),a=l=>{const r=[];for(let f=0;f<10;f++){const c=f*10,u=(f+1)*10;if(l<=c)r.push(0);else if(l>=u)r.push(Hr);else{const v=(l-c)/10;r.push(v*Hr)}}return r},o=l=>{s.value=[0,0,0,0,0,0,0,0,0,0];const r=80;l.forEach((i,d)=>{i>0&&setTimeout(()=>{s.value[d]=i,s.value=[...s.value]},r*(d+1))})};return Ce(()=>t.value,l=>{const r=a(l);o(r)},{immediate:!1}),Le(()=>{setTimeout(()=>{const l=a(t.value);o(l)},150)}),(l,r)=>(p(),m("div",g1,[n("div",m1,[(p(),m(me,null,_e(10,i=>n("div",{key:i,class:"bottle-wrapper"},[(p(),m("svg",b1,[n("defs",null,[n("linearGradient",{id:"emptyGradient-"+i,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...r[0]||(r[0]=[n("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),n("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),n("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,y1),n("linearGradient",{id:"liquidGradient-"+i,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...r[1]||(r[1]=[n("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),n("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),n("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,A1),n("clipPath",{id:"bodyClip-"+i},[...r[2]||(r[2]=[n("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2"},null,-1)])],8,C1),n("filter",{id:"shadow-"+i,x:"-10%",y:"-10%",width:"120%",height:"120%"},[...r[3]||(r[3]=[n("feDropShadow",{dx:"0.5",dy:"1",stdDeviation:"1","flood-opacity":"0.12"},null,-1)])],8,w1)]),n("rect",{x:"7",y:"0",width:"10",height:"7",rx:"3",fill:"url(#emptyGradient-"+i+")"},null,8,_1),n("path",{d:"M6 9 Q6 7 7 7 L17 7 Q18 7 18 9 L18 13 Q18 16 21 19 L21 21 L3 21 L3 19 Q6 16 6 13 Z",fill:"url(#emptyGradient-"+i+")"},null,8,S1),n("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2",fill:"url(#emptyGradient-"+i+")",filter:"url(#shadow-"+i+")"},null,8,k1),r[4]||(r[4]=n("rect",{x:"3",y:"20",width:"18",height:"2",fill:"#bfc3c9"},null,-1)),n("rect",{x:"3",y:52-s.value[i-1],width:"18",height:s.value[i-1],fill:"url(#liquidGradient-"+i+")","clip-path":"url(#bodyClip-"+i+")",class:"liquid-fill"},null,8,$1),s.value[i-1]>4?(p(),m("rect",{key:0,x:"5",y:53-s.value[i-1],width:"2",height:Math.max(0,s.value[i-1]-3),rx:"1",fill:"rgba(255,255,255,0.4)","clip-path":"url(#bodyClip-"+i+")",class:"liquid-shine"},null,8,x1)):ie("",!0)]))])),64))])]))}},ou=Ee(I1,[["__scopeId","data-v-2728fdf4"]]),E1={class:"area-chart-cont"},P1={key:0,class:"legend"},F1={class:"legend-label"},M1={class:"chart-container"},D1=["viewBox"],T1=["cx","cy","r"],R1=["cx","cy","r"],B1=["d","fill","onMouseenter"],V1=["x1","y1","x2","y2"],L1={class:"tooltip-content"},O1={class:"tooltip-info"},N1={class:"tooltip-label"},z1={class:"tooltip-value"},Y1={__name:"AreaChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#FF6B9D","#4ECDC4","#FFE66D","#95A5A6","#3498DB"]},size:{type:Number,default:400},innerRadius:{type:Number,default:0},title:{type:String,default:""},showLegend:{type:Boolean,default:!0}},setup(e){const t=e,s=[{label:"Red",value:11},{label:"Green",value:16},{label:"Yellow",value:7},{label:"Grey",value:3},{label:"Blue",value:14}],a=N(()=>t.excelData||s),o=N(()=>t.size/2),l=N(()=>t.size/2),r=N(()=>t.size/2-20),i=j(0),d=j(null),f=j(0),c=j({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=_=>_?new Intl.NumberFormat("es-MX").format(_):"0";Le(()=>{setTimeout(()=>{v()},800)}),Ce(()=>a.value,()=>{f.value=0,i.value=0,v()});const v=()=>{const F=Date.now(),D=()=>{const M=Date.now(),E=Math.min((M-F)/1500,1);i.value=1-Math.pow(1-E,6),f.value=1-Math.pow(1-E,5),E<1&&requestAnimationFrame(D)};requestAnimationFrame(D)},h=N(()=>Math.max(...a.value.map(_=>_.value))),C=N(()=>{const F=(r.value-t.innerRadius)/4;return Array.from({length:4},(D,M)=>t.innerRadius+F*(M+1))}),$=N(()=>2*Math.PI/a.value.length),g=N(()=>a.value.map((_,F)=>{const D=F*$.value-Math.PI/2,M=D+$.value,E=t.innerRadius+(r.value-t.innerRadius)*(_.value/h.value);return{startAngle:D,endAngle:M,radius:E,color:t.colors[F%t.colors.length],label:_.label,value:_.value}})),y=N(()=>{const _=-Math.PI*(1-i.value);return g.value.map(F=>{const D=t.innerRadius+(F.radius-t.innerRadius)*f.value,M=F.startAngle+_,E=F.endAngle+_,I=o.value+t.innerRadius*Math.cos(M),P=l.value+t.innerRadius*Math.sin(M),B=o.value+t.innerRadius*Math.cos(E),T=l.value+t.innerRadius*Math.sin(E),q=o.value+D*Math.cos(M),Q=l.value+D*Math.sin(M),Z=o.value+D*Math.cos(E),re=l.value+D*Math.sin(E),he=0;return{path:`
      M ${I} ${P}
      L ${q} ${Q}
      A ${D} ${D} 0 ${he} 1 ${Z} ${re}
      L ${B} ${T}
      A ${t.innerRadius} ${t.innerRadius} 0 ${he} 0 ${I} ${P}
      Z
    `,color:F.color,label:F.label,value:F.value}})}),b=N(()=>{const _=-Math.PI*(1-i.value);return a.value.map((F,D)=>{const M=D*$.value-Math.PI/2+_;return{x:o.value+r.value*Math.cos(M),y:l.value+r.value*Math.sin(M)}})}),w=(_,F,D)=>{d.value=_,c.value={visible:!0,x:D.clientX,y:D.clientY,label:F.label,value:F.value,color:F.color}},k=_=>{c.value.visible&&(c.value.x=_.clientX,c.value.y=_.clientY)},H=()=>{d.value=null,c.value.visible=!1},A=N(()=>({left:`${c.value.x+15}px`,top:`${c.value.y-50}px`}));return(_,F)=>(p(),m("div",E1,[e.showLegend?(p(),m("div",P1,[(p(!0),m(me,null,_e(a.value,(D,M)=>(p(),m("div",{key:M,class:"legend-item"},[n("div",{class:"legend-color",style:ve({backgroundColor:e.colors[M%e.colors.length]})},null,4),n("span",F1,O(D.label),1)]))),128))])):ie("",!0),n("div",M1,[(p(),m("svg",{width:"100%",height:"100%",viewBox:`0 0 ${e.size} ${e.size}`,preserveAspectRatio:"xMidYMid meet"},[(p(!0),m(me,null,_e(C.value,D=>(p(),m("circle",{key:D,cx:o.value,cy:l.value,r:D,fill:"none",stroke:"#d0d5dd","stroke-width":"1.5","stroke-dasharray":"4 2"},null,8,T1))),128)),n("circle",{cx:o.value,cy:l.value,r:r.value,fill:"none",stroke:"#b0b8c4","stroke-width":"2"},null,8,R1),(p(!0),m(me,null,_e(y.value,(D,M)=>(p(),m("path",{key:M,d:D.path,fill:D.color,class:ge(["segment",{hovered:d.value===M}]),onMouseenter:E=>w(M,D,E),onMousemove:F[0]||(F[0]=E=>k(E)),onMouseleave:H},[n("title",null,O(D.label)+": "+O(D.value),1)],42,B1))),128)),(p(!0),m(me,null,_e(b.value,(D,M)=>(p(),m("line",{key:`line-${M}`,x1:o.value,y1:l.value,x2:D.x,y2:D.y,stroke:"#ffffff","stroke-width":"2","pointer-events":"none"},null,8,V1))),128))],8,D1))]),(p(),Pe(jt,{to:"body"},[c.value.visible?(p(),m("div",{key:0,class:"tooltip",style:ve(A.value)},[n("div",L1,[n("div",{class:"tooltip-color",style:ve({backgroundColor:c.value.color})},null,4),n("div",O1,[n("div",N1,O(c.value.label),1),n("div",z1,"Valor: "+O(u(c.value.value)),1)])])],4)):ie("",!0)]))]))}},j1=Ee(Y1,[["__scopeId","data-v-cfde8302"]]),H1={key:0,class:"chart-header"},G1={class:"chart-title"},q1={key:1,class:"variable-filters"},U1=["onClick"],W1={class:"filter-label"},X1=["onMouseenter"],Q1={class:"bar-wrapper-horizontal"},K1={key:0,class:"empty-state"},J1={class:"tooltip-content"},Z1={class:"tooltip-info"},em={class:"tooltip-label"},tm={class:"tooltip-value"},sm={__name:"HorizontalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},barHeight:{type:String,default:"30px"},barGap:{type:String,default:"10px"},useGradients:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){ll(w=>({"5c24dd99":f.value}));const t=e,s=j(null),a=j({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=j([]),l=j({}),r=()=>{o.value=t.variables.map(w=>({key:w.key,label:w.label||w.key,value:w.value||0,colorClass:w.colorClass||"default",color:w.color||null,active:!1})),l.value={},t.variables.forEach(w=>{l.value[w.key]=0})},i=async()=>{await new Promise(k=>setTimeout(k,t.animationDelay));const w=Math.min(4,o.value.length);for(let k=0;k<w;k++){o.value[k].active=!0,await new Promise(A=>setTimeout(A,50));const H=g(o.value[k].value);l.value[o.value[k].key]=H,await new Promise(A=>setTimeout(A,200))}};Ce(()=>t.variables,()=>{r(),i()},{immediate:!0,deep:!0}),Le(()=>{i()});const d=N(()=>o.value.filter(w=>w.active)),f=N(()=>{const w=d.value.length;return w===0?"100%":`${100/w}%`}),c=N(()=>{const w=d.value.map(k=>k.value);return Math.max(...w,1)}),u=N(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=w=>{const k=o.value.find(H=>H.key===w);k&&(k.active=!k.active,k.active?setTimeout(()=>{l.value[w]=g(k.value)},50):l.value[w]=0)},h=(w,k)=>{s.value=w.key,a.value={visible:!0,x:k.clientX,y:k.clientY,label:w.label,value:w.value,color:b(w)}},C=w=>{a.value.visible&&(a.value.x=w.clientX,a.value.y=w.clientY)},$=()=>{s.value=null,a.value.visible=!1},g=w=>{const k=w/c.value*100;return Math.min(k,100)},y=w=>l.value[w.key]||0,b=w=>{if(w.color)return w.color;const k={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return k[w.colorClass]||k.default};return(w,k)=>(p(),m("div",{class:"horizontal-bar-chart",style:ve({width:e.width,height:e.height})},[e.title?(p(),m("div",H1,[n("h3",G1,O(e.title),1)])):ie("",!0),e.showFilters?(p(),m("div",q1,[(p(!0),m(me,null,_e(o.value,H=>(p(),m("button",{key:H.key,onClick:A=>v(H.key),class:ge(["filter-btn",{active:H.active,[H.colorClass]:!0}])},[n("span",{class:"filter-dot",style:ve({backgroundColor:b(H)})},null,4),n("span",W1,O(H.label),1)],10,U1))),128))])):ie("",!0),n("div",{class:ge(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(p(!0),m(me,null,_e(d.value,H=>(p(),m("div",{key:H.key,class:ge(["bar-row",{"is-hovered":s.value===H.key,"is-dimmed":s.value!==null&&s.value!==H.key}]),onMouseenter:A=>h(H,A),onMousemove:k[0]||(k[0]=A=>C(A)),onMouseleave:$},[n("div",Q1,[n("div",{class:ge(["bar-horizontal",H.colorClass]),style:ve({width:y(H)+"%",background:b(H)})},null,6)])],42,X1))),128)),d.value.length===0?(p(),m("div",K1,[n("p",null,O(e.emptyMessage),1)])):ie("",!0)],2),(p(),Pe(jt,{to:"body"},[a.value.visible?(p(),m("div",{key:0,class:"tooltip",style:ve(u.value)},[n("div",J1,[n("div",{class:"tooltip-color",style:ve({backgroundColor:a.value.color})},null,4),n("div",Z1,[n("div",em,O(a.value.label),1),n("div",tm,O(a.value.value),1)])])],4)):ie("",!0)]))],4))}},ml=Ee(sm,[["__scopeId","data-v-bf2ebdb1"]]),am={key:0,class:"chart-header"},nm={class:"chart-title"},om={key:1,class:"variable-filters"},lm=["onClick"],rm={class:"filter-label"},im=["onMouseenter"],cm={class:"bar-wrapper-vertical"},um={key:0,class:"empty-state"},dm={class:"tooltip-content"},fm={class:"tooltip-info"},vm={class:"tooltip-label"},hm={class:"tooltip-value"},pm={__name:"VerticalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},useGradients:{type:Boolean,default:!0},showValues:{type:Boolean,default:!0},showLabels:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){ll(w=>({c240488c:f.value}));const t=e,s=j(null),a=j({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=j([]),l=j({}),r=()=>{o.value=t.variables.map(w=>({key:w.key,label:w.label||w.key,value:w.value||0,colorClass:w.colorClass||"default",color:w.color||null,active:!1})),l.value={},t.variables.forEach(w=>{l.value[w.key]=0})},i=async()=>{await new Promise(k=>setTimeout(k,t.animationDelay));const w=Math.min(4,o.value.length);for(let k=0;k<w;k++){o.value[k].active=!0,await new Promise(A=>setTimeout(A,50));const H=g(o.value[k].value);l.value[o.value[k].key]=H,await new Promise(A=>setTimeout(A,200))}};Ce(()=>t.variables,()=>{r(),i()},{immediate:!0,deep:!0}),Le(()=>{i()});const d=N(()=>o.value.filter(w=>w.active)),f=N(()=>{const w=d.value.length;return w===0?"100%":`${100/w}%`}),c=N(()=>{const w=d.value.map(k=>k.value);return Math.max(...w,1)}),u=N(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=w=>{const k=o.value.find(H=>H.key===w);k&&(k.active=!k.active,k.active?setTimeout(()=>{l.value[w]=g(k.value)},50):l.value[w]=0)},h=(w,k)=>{s.value=w.key,a.value={visible:!0,x:k.clientX,y:k.clientY,label:w.label,value:w.value,color:b(w)}},C=w=>{a.value.visible&&(a.value.x=w.clientX,a.value.y=w.clientY)},$=()=>{s.value=null,a.value.visible=!1},g=w=>{const k=w/c.value*100;return Math.min(k,100)},y=w=>l.value[w.key]||0,b=w=>{if(w.color)return w.color;const k={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return k[w.colorClass]||k.default};return(w,k)=>(p(),m("div",{class:"vertical-bar-chart",style:ve({width:e.width,height:e.height})},[e.title?(p(),m("div",am,[n("h3",nm,O(e.title),1)])):ie("",!0),e.showFilters?(p(),m("div",om,[(p(!0),m(me,null,_e(o.value,H=>(p(),m("button",{key:H.key,onClick:A=>v(H.key),class:ge(["filter-btn",{active:H.active,[H.colorClass]:!0}])},[n("span",{class:"filter-dot",style:ve({backgroundColor:b(H)})},null,4),n("span",rm,O(H.label),1)],10,lm))),128))])):ie("",!0),n("div",{class:ge(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(p(!0),m(me,null,_e(d.value,H=>(p(),m("div",{key:H.key,class:ge(["bar-column",{"is-hovered":s.value===H.key,"is-dimmed":s.value!==null&&s.value!==H.key}]),onMouseenter:A=>h(H,A),onMousemove:k[0]||(k[0]=A=>C(A)),onMouseleave:$},[n("div",cm,[n("div",{class:ge(["bar-vertical",H.colorClass]),style:ve({height:y(H)+"%",background:b(H)})},null,6)])],42,im))),128)),d.value.length===0?(p(),m("div",um,[n("p",null,O(e.emptyMessage),1)])):ie("",!0)],2),(p(),Pe(jt,{to:"body"},[a.value.visible?(p(),m("div",{key:0,class:"tooltip",style:ve(u.value)},[n("div",dm,[n("div",{class:"tooltip-color",style:ve({backgroundColor:a.value.color})},null,4),n("div",fm,[n("div",vm,O(a.value.label),1),n("div",hm,O(a.value.value),1)])])],4)):ie("",!0)]))],4))}},lu=Ee(pm,[["__scopeId","data-v-d0e28cdb"]]),gm={class:"map-container"},mm={key:0,class:"loading-state"},bm={key:1,class:"error-state"},ym={key:2,class:"map-content"},Am={class:"map-and-charts-wrapper"},Cm={class:"map-wrapper"},wm={class:"hover-info-box"},_m={key:0,class:"info-content"},Sm={class:"location-label"},km={class:"value-display"},$m={key:1,class:"info-content"},xm={class:"value-display"},Im=["width","height"],Em=["d","fill","stroke","stroke-width","onClick","onMouseenter"],Pm={class:"tooltip-content"},Fm={class:"tooltip-data"},Mm={key:0,class:"collapsed-view"},Dm={key:1,class:"expanded-view"},Tm={class:"inner-card"},Rm={class:"card-body"},Bm={class:"left-card-container"},Vm={class:"bar-graph card"},Lm={class:"bottle-graphs card"},Om={class:"body-bottle"},Nm={class:"bottle-graph"},zm={class:"right-card-container"},Ym={class:"top-right-card-container"},jm={class:"area-chart card"},Hm={class:"area-chart-container"},Gm={class:"gauge-container card"},qm={class:"gauge-graph"},Um={class:"bottom-right-card-container"},Wm={class:"bottom-bar-graph card"},Xm={key:0,class:"details-panel"},Qm={class:"details-header"},Km={class:"details-content"},Jm={class:"metric-card"},Zm={class:"metric-value"},eb={class:"metric-card"},tb={class:"metric-value"},sb={class:"description"},ab={__name:"IndicatorDetailView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){N(()=>!s.ifssData||!s.ifssData.is_amount?{is_amount:10,iic_amount:5}:{is_amount:s.ifssData.is_amount||0,iic_amount:s.ifssData.iic_amount||0}),N(()=>{var le,K;return{is_amount:(le=s.ifssData)!=null&&le.is_amount?s.ifssData.is_amount*.8:0,iic_amount:(K=s.ifssData)!=null&&K.iic_amount?s.ifssData.iic_amount*1.2:0}});const s=e,a=t,{geoData:o,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:$,handleStateClick:g,handleStateHover:y,handleStateLeave:b,resetSelection:w,initializeData:k}=s.mapsComposable||Yt(),{setChartData:H}=Da(),A=j({x:0,y:0}),_=(le,K)=>{A.value={x:K.clientX,y:K.clientY},y(le)},F=async le=>{if(g(le),await ze(),i.value===le){const K=C(le);a("region-selected",{name:le,data:K})}else a("region-selected",null)},D=N(()=>vl().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),M=N(()=>cl().projection(D.value)),E=le=>M.value(le),I=le=>i.value===le?"#FfFFFF":(d.value===le,"#555555"),P=le=>i.value===le?3:d.value===le?2:1,B=N(()=>d.value?{position:"fixed",left:`${A.value.x+20}px`,top:`${A.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),T=Dc(),q=Ma(),Q=N(()=>T.path.includes("/cualitativos")),Z=()=>{q.push("/finanzas/cualitativos")},re=()=>{q.push("/finanzas/mapas")},he=()=>{console.log("Navegando a datos regionales...")},be=()=>{console.log("Navegando a federales...")};Ce(i,(le,K)=>{if(le&&le!==K){const z=C(le);H(z),a("region-selected",{name:le,data:z})}else!le&&K&&a("region-selected",null)}),Ce(r,le=>{le&&a("map-error",le)});const ne=[{label:"Arboles",value:25},{label:"Ballenas",value:30},{label:"Coco",value:15},{label:"Delfin",value:30},{label:"Escalera",value:15}],ae=[{key:"incendios",label:"Total (hectreas)",value:1200,color:"#0F3759",active:!0},{key:"residuos",label:"Arbolado Adulto",value:3500,color:"#3B5A70",active:!0},{key:"emisiones",label:"Renuevo",value:850,color:"#4E6D82",active:!1},{key:"Arbustivo",label:"Arbustivo",value:3500,color:"#D6D6D6",active:!0},{key:"Herbaceo",label:"Herbaceo",value:250,color:"#A1A1A1",active:!1},{key:"Hojarasca",label:"Hojarasca",value:1050,color:"#B0B0B0",active:!1}],L=[{key:"Total",label:"Total",value:1200,color:"#0F3759",active:!0},{key:"Area",label:"rea de proteccin de flora y fauna",value:3500,color:"#3B5A70",active:!0},{key:"Reserva de la biosfera",label:"Reserva de la biosfera",value:850,color:"#4E6D82",active:!1},{key:"Santuario",label:"Santuario",value:1050,color:"#B0B0B0",active:!1}];return(le,K)=>{var z;return p(),m("div",gm,[X(l)?(p(),m("div",mm,[...K[3]||(K[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):ie("",!0),X(r)?(p(),m("div",bm,[n("p",null,"Error: "+O(X(r)),1),n("button",{onClick:K[0]||(K[0]=(...Y)=>X(k)&&X(k)(...Y)),class:"retry-btn"}," Reintentar ")])):ie("",!0),!X(l)&&!X(r)?(p(),m("div",ym,[n("div",Am,[n("div",Cm,[n("div",{class:ge(["map-info-card",{"state-selected":X(i)}])},[n("div",{class:"card-content"},[K[4]||(K[4]=ke('<div class="card-position-title" data-v-fd4f7876> Posicin del pas en el ndice<br data-v-fd4f7876> de Finanzas Sostenibles<br data-v-fd4f7876> (IFS) en 2024 </div><div class="card-top-row" data-v-fd4f7876><div class="card-position-number" data-v-fd4f7876> 15 </div><div class="card-ifss-info" data-v-fd4f7876><div class="ifss-value-text" data-v-fd4f7876>IFS: 1.3</div><div class="ifss-classification" data-v-fd4f7876>Medio bajo</div></div></div>',2)),n("div",{class:"card-bottom-stack"},[n("div",{class:"card-label-pill",onClick:he},"IFS Regional"),n("div",{class:"card-label-pill",onClick:be},"Datos federales")])])],2),n("div",wm,[X(d)?(p(),m("div",_m,[n("div",Sm,O(X(d)),1),n("div",km,O(X(C)(X(d)).value||0)+"%",1)])):X(v)?(p(),m("div",$m,[K[5]||(K[5]=n("div",{class:"location-label"},"Mxico",-1)),n("div",xm,O(X(v).value)+"%",1)])):ie("",!0)]),K[6]||(K[6]=ke('<div class="color-legend" data-v-fd4f7876><div class="legend-items-horizontal" data-v-fd4f7876><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-fd4f7876></div><span data-v-fd4f7876>Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-fd4f7876></div><span data-v-fd4f7876>Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Bajo</span></div></div></div>',1)),(p(),m("svg",{width:X(f).width,height:X(f).height,class:"mexico-map"},[n("g",null,[(p(!0),m(me,null,_e(((z=X(o))==null?void 0:z.features)||[],Y=>(p(),m("path",{key:Y.properties.state_name,d:E(Y),fill:X(h)(Y.properties.state_name),stroke:I(Y.properties.state_name),"stroke-width":P(Y.properties.state_name),class:"state-path",onClick:R=>F(Y.properties.state_name),onMouseenter:R=>_(Y.properties.state_name,R),onMouseleave:K[1]||(K[1]=(...R)=>X(b)&&X(b)(...R))},null,40,Em))),128))])],8,Im)),X(d)?(p(),m("div",{key:0,class:"tooltip",style:ve(B.value)},[n("div",Pm,[n("h4",null,O(X(d)),1),n("div",Fm,[n("p",null,"IFSS: "+O(X(C)(X(d)).value||0),1),n("p",null,"Clasificacin: "+O(X($)(X(C)(X(d)).value||0).label),1),n("p",null,"Ao: "+O(X(C)(X(d)).year),1)])])],4)):ie("",!0)]),n("div",{class:ge(["qualitative-panel",{expanded:Q.value}])},[Q.value?(p(),m("div",Dm,[n("div",{class:"header-retractable-view"},[n("div",{class:"hamburger-menu",onClick:re},[...K[7]||(K[7]=[n("img",{src:gl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),K[8]||(K[8]=n("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),n("div",{class:"expand-retractable-btn",onClick:re}," - ")]),n("div",Tm,[K[14]||(K[14]=n("div",{class:"card-header"},[n("h1",{class:"card-header-title"},"Ambientales")],-1)),n("div",Rm,[n("div",Bm,[n("div",Vm,[Ae(ml,{variables:ae,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})]),n("div",Lm,[K[10]||(K[10]=n("div",{class:"title-bottle"},[n("h2",null,"Promedio diario de residuos slidos urbanos recolectados")],-1)),n("div",Om,[n("div",Nm,[Ae(ou,{value:75})]),K[9]||(K[9]=n("div",{class:"bottle-number number"},"3,249,683 kg",-1))])])]),n("div",zm,[n("div",Ym,[n("div",jm,[K[11]||(K[11]=n("div",{class:"title-area-chart"},[n("h3",null,"Emisiones de contaminantes atmosfricos por fuente en toneladas.")],-1)),n("div",Hm,[Ae(j1,{excelData:ne,title:"Datos de Excel"})])]),n("div",Gm,[K[12]||(K[12]=n("div",{class:"title-gauge"},[n("h3",null,"Consumo de energa elctrica")],-1)),n("div",qm,[Ae(nu,{value:67})]),K[13]||(K[13]=n("div",{class:"gauge-number number"},"2,013.80 GWh",-1))])]),n("div",Um,[n("div",Wm,[Ae(lu,{variables:L,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})])])])])])])):(p(),m("div",Mm,[n("div",{class:"expand-retractable-btn",onClick:Z}," + ")]))],2)]),X(i)?(p(),m("div",Xm,[n("div",Qm,[n("h3",null,O(X(i)),1),n("button",{onClick:K[2]||(K[2]=(...Y)=>X(w)&&X(w)(...Y)),class:"close-btn"},"")]),n("div",Km,[n("div",Jm,[n("div",Zm,O(X(C)(X(i)).value||0),1),K[15]||(K[15]=n("div",{class:"metric-label"},"IFSS",-1)),n("div",{class:"metric-classification",style:ve({color:X($)(X(C)(X(i)).value||0).color})},O(X($)(X(C)(X(i)).value||0).label),5)]),n("div",eb,[n("div",tb,O(X(C)(X(i)).year),1),K[16]||(K[16]=n("div",{class:"metric-label"},"Ao de datos",-1))])]),n("div",sb,[n("p",null,O(X(C)(X(i)).descripcion),1)])])):ie("",!0)])):ie("",!0)])}}},nb=Ee(ab,[["__scopeId","data-v-fd4f7876"]]),ob={class:"maps-page"},lb={class:"filters-toggles-row"},rb={class:"filters-column"},ib={class:"toggles-column"},cb={class:"qualitativeIndicatorPanel"},ub={key:0,class:"error-panel"},db={__name:"IndicatorView",setup(e){const t=j(!1),s=Yt(),{selectedEntity:a,loading:o,error:l,loadFilterData:r,setEntityFilter:i,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=pl(),{loading:u,error:v,selectedState:h,getStateInfo:C,getIFSSLabel:$,handleStateClick:g,resetSelection:y,initializeData:b}=s,w=N(()=>o.value||u.value),k=N(()=>l.value||v.value);Ce(h,M=>{console.log("Estado seleccionado en el mapa:",M),M&&M!==a.value?(i(M),t.value=!0):M||(i(null),t.value=!1)});const H=M=>{i(M),t.value=!0,M?g(M):y()},A=M=>{d(M)},_=M=>{f(M)},F=M=>{M.year!==void 0&&d(M.year),M.variable!==void 0&&f(M.variable),t.value=!0},D=()=>{c(),b(),r()};return Le(async()=>{try{c(),await r()}catch(M){console.error("Error inicializando MapsPage:",M)}}),(M,E)=>(p(),m("div",ob,[n("div",lb,[n("div",rb,[Ae(Nn,{entities:M.entitiesData,loading:w.value,onEntityChange:H,onYearChange:A,onVariableChange:_,onFiltersChange:F},null,8,["entities","loading"])]),n("div",ib,[Ae(hl)])]),n("div",cb,[Ae(nb)]),k.value?(p(),m("div",ub,[E[0]||(E[0]=n("h3",null,"Error en el sistema",-1)),n("p",null,O(k.value),1),n("button",{onClick:D,class:"retry-btn"}," Reintentar ")])):ie("",!0)]))}},fb=Ee(db,[["__scopeId","data-v-a847f395"]]),ru="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADqdJREFUeJzt3Wms51V9x/H3/AfQgizKIkorUmUoYlHcohYR1Lq0Lg1twe1RKzEmRn3QtHZJmjQ2tUm1rVsarX2iFBsNbd1pa0AxVltFxWEqA7YuYFEWAQHLItMHv7l453LvzN3+v7/3zuv1ZOb+lvP7PDvf//md3zkFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBuW9a5vUOrp1enVNuq46qDq8PX+TkAsJndUt1RXVvtrK6oPlf9cL0esB4FwM9VL6/Orp5QHbAObQIAe7qn+lJ1YXVB9Z21NLaWAuCM6o3V86rJWkIAACtyb/XJ6s+rz6ymgdUUAI+r3tZQAAAAs/Xp6nXV5Su5aSW/3B9YvbX6Yjp/APhp8cyGVwNvqR6w3JuWOwKwrfqH6vErzwUAjOTL1bnVVfu6cDkFwBnVhzOTHwA2gpurl7SPuQH7egXw4uqidP4AsFEc0dB3v3hvF+1tBOCs6uMN7/4BgI3lruqF1b8udnKpAuDU6tLqsCmFAgCm75bq9Gr7whOLFQCHNMz0/4UphwIApu+q6oktWEVw6yIXvrt6zhiJAICpO7I6pmFC/30WjgA8o2FBgfXeIwAAmJ1dDXP7Pj13YH5Hv7X6asNGPgDA5nJ5w549P649PwM8N50/AGxWpzZs3FftOQJwWXXa6HEAgLF8taGv3zU3AnB6On8A2OweVz21fvIK4BWzywIAjOgVNbwCmFTfq46aaRwAYAzfr46dNEwK0PkDwP7hmOqUScM+wgDA/uOsuREAAGD/8YuTatusUwAAo9o2qY6fdQoAYFSPnGTLXwDY3xy2pbq7OmDWSQCA0dwzqe6ZdQoAYFR3T6rbZp0CABjVDyfVjbNOAQCM6sZJdfWsUwAAo7pqUl056xQAwKh2TqovzDoFADCqz29p2BTguoadAQGAzW1XdcykYVvAy2YcBgAYxxerGya7/7hglkkAgNGcXz8Z9n9Y9a3qwJnFAQCm7a6GPYCumxsB+N+MAgDAZvf+hnl/e0z8e0z1tWqy2B0AwIb24+qUdn/+P7+z31G9dxaJAICpe3fz1v5Z+OnfQ3afPGrMRADAVN1UnVTdMHdg4XD/TdVrxkwEAEzdec3r/Ku2LnLRjurY6kljJAIApuod1VsXHlxq9b+Dqo9Uz51mIgBgqi6uXlDdufDE3pb/Pay6pDptOpkAgCn6cnVmdetiJ/f2yd+t1bOrz65/JgBgir7QMIq/aOdf+/7m/wfV86oL1zEUADA9H6rOasGkv4WWs+jPHdWvV69ukXcIAMBPhTurN1TnVD/a18WLfQWwlC9V/9SwitAjV5MMAJiKS6pfa5jAvywrXfZ3e8Owwkt3/x8AmJ3t1bnVs6orVnLj3r4CWM69L6peVT0/OwkCwBjuqi6q3lN9tNq1mkbWUgDMd1T1wobRgWc0vCJYr7YBYH+2q/qf6tKG7/o/Wt241kan1UkfXG2rHl4dUj14Ss8BgM3oB9Xt1bXVVQ0T8gEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPYnW6bQ5tHVKdWJ1XHVwdXhU3gOAGxWt1R3VNdWO6srqhvW8wHrUQBsrc6qzq7OrE5ehzYBgD3tqC6pLqwuru5dS2NrKQCOrl5X/Vb18LWEAABW5Nrq76q3V9evpoHVFACHV39cvbpheB8AmI07qr+p/qThtcGyrbQAeEX1luqhK7wPAJie66rfqc5f7g3LLQAOrd5VvXIVoQCAcXyoelXLGA1YTgFwfPWJTO4DgI1gR/WC6tt7u2hfBcAp1UUNn/MBABvDNdXzGz4fXNTeCoBHVZ+tjl3nUADA9F1fnd6wjsD9LFUAPLT6XPXzUwoFAEzfN6qnV99feGKyyMWT6n3p/AFgo3tU9YGGRfv2cL8D1R9U5007EQAwihOqHzW81r/PwlcAJ1Zfqx4wUigAYPruqk6trpw7sPAVwDvT+QPAZnNQ9ZfzD8wfAXhW9alR4wAAYzqjurT2HAF442yyAAAj+f25/8yNAJzcsHIQALB57Wro86+cGwGwxj8AbH5bGjb2u28E4L8bPhMAADa3q6sTtzQsEnD1jMMAAOM5YVKdNesUAMCozpxUp806BQAwqidMqpNmnQIAGNVJk2z6AwD7m0dNqsNnnQIAGNXhW6o7G9YIBgD2D3cu3AwIANgPTKrbZh0CABjVDyfVzbNOAQCM6pZJwzLAAMD+4+pJtXPWKQCAUe2cVJfNOgUAMKrLbAYEAPufEybVNzIPAAD2F1dV35xbB+CCWSYBAEZzQdWW3X+cXO2YXRYAYAS7Gvr8K+dGAP6r+pfZ5QEARvCJ6soaVgKc8+bZZAEARvJnc/+ZXwBcXF00fhYAYAQfqz4798eWBScfXW2vHjBmIgBgqu6sTm3e4n9bF1xwU3Vv9ewRQwEA0/VH1YfnH1g4AlDDa4FPVr88RiIAYKouqn6l4Qf+fRYrAKqOqT7XsEogALAxXV09vbp+4YnJ/a+t6vvVc6vrphgKAJie6xt++d+v86+lC4Aalgd+TnXNFEIBANNzTXVWw7K/i9pbAVB1RfVLWSUQADaK7Q3D/lfs7aJ9FQBV366eVL1tHUIBANPzvupp1Xf2deHCzwCXck/DlwFXNowIHLrqaADAevtudV71puqu5dyw3AJgzvbqPdUB1eOrg1Z4PwCwfm6r/qo6p7psJTcu9RngchxVvbb67epn19AOALAy11Tvrd5e3biaBtZSAMyZVM+szm6YcfiYdWoXABjsapjUd3F1YfWZFizss1LT6KiPbCgCtlXHVYdUR0zhOQCwWd1c3V5d27B+/45W+UsfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgg9oypXYfVJ1YHVcdXB0xpecAwGZ0c3VHdW21s7p9vR+wXgXA0dWLqjOrM6rj16ldAKC+WV1aXVx9pLphrQ2upQCYNHT651XPrQ5caxgAYJ/uri6q3tNQDOxaTSOrKQC2VC+r/rB6zGoeCgCsix3Vm6oPtMJCYKUFwKnVO6vTV3gfADA9l1avrS5f7g1bl3ndlur11QerE1aeCwCYouMbXslvrT7TMkYDljMCcHD199VL1hQNABjDP1avbPiKYEn7KgAeXH04Q/4AsJH8R/Wr7eVrgb0VAIc3fG5w2jqHAgCm78sNn+ffutjJyRI3HdTwvl/nDwAb02nVP1cPXOzkUpMA31WdM61EAMAoHlk9pPr4whOLFQC/Wb15yoEAgHE8uWE54e3zDy6cA3Bk9fXqqJFCAQDTd1N1UvMmBS4cAXh7ZvwDwGbzM9Vh1cfmDswfATilYQWhpSYGAgAb170Nff3Xa8/O/vfS+QPAZjWpfnfuj7kRgIc3bDVoRz8A2Lzurh5RXTf3i//l6fwBYLM7sHpp/WTI/2WzywIAjOjlNbwCOKa6rpVvDQwAbDy7qmMn1Vnp/AFgf7GlesakesqskwAAo3rqpGFlIABg/7FtUj161ikAgFGdOGlY/x8A2H8cOakeNOsUAMCoDp1UB8w6BQAwqgMn1e2zTgEAjOqHk+rWWacAAEZ166T61qxTAACj+uak2jnrFADAqHZOqq/OOgUAMKrLJ9WnZ50CABjVJVsatgS+rjp6xmEAgOn7XvWwSXVv9aEZhwEAxvHBatdk9x/nzzIJADCa82vYE3jOl6onzCYLADCCrzT09feNAFT9xYzCAADj+NNqV+05ArC1oTJ47CwSAQBT9ZXqiQ1z/5o/AvDj6jXtrgwAgE1jV/WGdnf+Nfzqn+/b1SOq00YMBQBM199W75h/YMsiFx1S/Wd18hiJAICp2lE9ubpj/sHJIhfeXp2TXQIBYKO7paFPv2PhicUKgKrt1Uuq/5tiKABgeu6qfqO6YrGTSxUAVZdU56YIAICN5kcNnf+/LXXBYnMAFnpq9dHqyHUKBQBMzw8aRvEv3dtFexsBmPP56km7/wUAfnpdVj2lfXT+df/PAJdyc/X+6oG7G15O4QAAjOPu6q3VK6vrl3PDcl4BLPTY6q+rZ63iXgBgfX2qen1LTPZbymp+yW+vnl2d3jA34N69Xw4ArLN7G/rg06vntMLOv1Y3ArDQcdXLqrMbFho4YB3aBAD2dHfDQn0XVh+orl1LY+tRAMz3oOpp1SnVtobi4JDqiHV+DgBsZjdXt1XfrXY2/ML/993HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYX/8P84yf0a8WqFgAAAAASUVORK5CYII=",vb={class:"ifss-slider-container"},hb={class:"slider-wrapper"},pb={class:"thumb-label"},gb={class:"thumb-label"},mb={class:"chart-container"},bb={class:"bars-wrapper"},yb=["onClick","onMouseenter"],Ab={class:"bar-label"},Cb={class:"tooltip-content"},wb={class:"color-label"},_b={class:"tooltip-info"},Sb={class:"tooltip-label"},kb={class:"tooltip-value"},$b={key:0,class:"selected-info"},xb={class:"info-content"},Ib={class:"info-label"},Eb={class:"info-value"},Pb={class:"info-position"},Fb={__name:"RankinSlider",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null},selectedStateName:{type:String,default:null}},emits:["range-change","filter-change","state-click"],setup(e,{emit:t}){const s=j(null),a=j(1200),o=j({min:0,max:5}),l=j("none"),r=N(()=>l.value==="min"?"bar-slide-min":l.value==="max-left"?"bar-slide-max-left":l.value==="max-right"?"bar-slide-max-right":"bar-slide-min"),i=e,d=t,f=j(null),c=j({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=N(()=>({left:`${c.value.x}px`,top:`${c.value.y-100}px`,transform:"translateX(-50%)"})),v=(Q,Z)=>{f.value=Q.region;const he=Z.currentTarget.querySelector(".bar").getBoundingClientRect();c.value={visible:!0,x:he.left+he.width/2,y:he.top,label:E(Q.region),value:`IFSS: ${Q.value}`,color:F(Q.value),classification:_(Q.value),barHeight:he.height}},h=()=>{f.value=null,c.value.visible=!1},C=["Muy alto","Alto","Medio alto","Medio","Medio bajo","Bajo","Muy bajo"],$=[{min:2.5,max:3,label:"Muy alto"},{min:2,max:2.4,label:"Alto"},{min:1.7,max:1.9,label:"Medio alto"},{min:1.3,max:1.6,label:"Medio"},{min:1,max:1.2,label:"Medio bajo"},{min:.7,max:.9,label:"Bajo"},{min:0,max:.6,label:"Muy bajo"}],g={"Muy alto":"#6ac952",Alto:"#94d351","Medio alto":"#bddc50",Medio:"#e6d64f","Medio bajo":"#e6a74c",Bajo:"#e67849","Muy bajo":"#e52845"},y=j(0),b=j(5),w=N(()=>[...i.statesData].sort((Q,Z)=>Z.value-Q.value)),k=N(()=>w.value.filter(Q=>M(Q)));Le(()=>{s.value&&(a.value=s.value.offsetWidth)});const H=N(()=>{const Q=k.value.length;if(Q===0)return"30px";const re=(Q-1)*1;return`${((a.value-re)/Q).toFixed(3)}px`});N(()=>i.statesData.length===0?3:Math.max(...i.statesData.map(Q=>Q.value||0)));const A=N(()=>{const Q=y.value/5*100,Z=(b.value-y.value)/5*100;return{left:`${Q}%`,width:`${Z}%`}}),_=Q=>{for(let Z of $)if(Q>=Z.min&&Q<=Z.max)return Z.label;return Q>$[0].max?"Muy alto":"Muy bajo"},F=Q=>{const Z=_(Q);return g[Z]||"#e0e0e0"},D=Q=>{const Z=Q/3*100;return Math.max(Z,10)},M=Q=>{const Z=_(Q.value),re=C.indexOf(Z);return re>=y.value&&re<=b.value},E=Q=>({Aguascalientes:"AGS","Baja California":"BC","Baja California Sur":"BCS",Campeche:"CAMP",Chiapas:"CHIS",Chihuahua:"CHIH","Ciudad de Mxico":"CDMX",Coahuila:"COAH",Colima:"COL",Durango:"DGO","Estado de Mxico":"MEX",Guanajuato:"GTO",Guerrero:"GRO",Hidalgo:"HGO",Jalisco:"JAL",Michoacn:"MICH",Morelos:"MOR",Nayarit:"NAY","Nuevo Len":"NL",Oaxaca:"OAX",Puebla:"PUE",Quertaro:"QRO","Quintana Roo":"QROO","San Luis Potos":"SLP",Sinaloa:"SIN",Sonora:"SON",Tabasco:"TAB",Tamaulipas:"TAMPS",Tlaxcala:"TLAX",Veracruz:"VER",Yucatn:"YUC",Zacatecas:"ZAC"})[Q]||Q.substring(0,3).toUpperCase(),I=Q=>{const Z=w.value.findIndex(re=>re.region===Q);return Z!==-1?Z+1:"-"},P=()=>{y.value>b.value&&(y.value=b.value),l.value="min",q()},B=()=>{b.value<y.value&&(b.value=y.value),b.value<o.value.max?l.value="max-left":b.value>o.value.max&&(l.value="max-right"),q()},T=Q=>{d("state-click",Q)},q=()=>{const Q={min:$[y.value].min,max:$[b.value].max,minLabel:C[y.value],maxLabel:C[b.value],minIndex:y.value,maxIndex:b.value};d("range-change",Q);const Z=i.statesData.filter(re=>{const he=re.value||0;return he>=Q.min&&he<=Q.max});d("filter-change",Z),o.value={min:y.value,max:b.value}};return Ce(()=>i.statesData,()=>{i.statesData.length>0&&q()},{immediate:!0}),(Q,Z)=>(p(),m("div",vb,[n("div",hb,[n("div",{class:"active-range",style:ve(A.value)},null,4),Cs(n("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":Z[0]||(Z[0]=re=>y.value=re),class:ge(["slider-input slider-min",{"z-top":y.value>=b.value-5}]),onInput:P},null,34),[[ha,y.value,void 0,{number:!0}]]),Cs(n("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":Z[1]||(Z[1]=re=>b.value=re),class:ge(["slider-input slider-max",{"z-top":b.value<=y.value+5}]),onInput:B},null,34),[[ha,b.value,void 0,{number:!0}]]),n("div",{class:"custom-thumb thumb-min",style:ve({left:`${y.value/5*100}%`})},[Z[2]||(Z[2]=n("div",{class:"thumb-circle"},null,-1)),n("div",pb,O(C[y.value]),1)],4),n("div",{class:"custom-thumb thumb-max",style:ve({left:`${b.value/5*100}%`})},[Z[3]||(Z[3]=n("div",{class:"thumb-circle"},null,-1)),n("div",gb,O(C[b.value]),1)],4)]),n("div",mb,[n("div",bb,[Ae(Pf,{name:r.value},{default:ut(()=>[(p(!0),m(me,null,_e(k.value,(re,he)=>(p(),m("div",{key:re.region,class:ge(["bar-item",{"is-selected":re.region===e.selectedStateName,"is-dimmed":e.selectedStateName&&re.region!==e.selectedStateName}]),style:ve({width:H.value}),onClick:be=>T(re.region),onMouseenter:be=>v(re,be),onMouseleave:h},[n("div",{class:"bar",style:ve({height:`${D(re.value)}%`,backgroundColor:F(re.value)})},null,4),n("span",Ab,O(E(re.region)),1)],46,yb))),128))]),_:1},8,["name"])])]),(p(),Pe(jt,{to:"body"},[c.value.visible?(p(),m("div",{key:0,class:"tooltip",style:ve(u.value)},[n("div",Cb,[n("div",{class:"tooltip-color",style:ve({backgroundColor:c.value.color})},[n("span",wb,O(c.value.classification),1)],4),n("div",_b,[n("div",Sb,O(c.value.label),1),n("div",kb,O(c.value.value),1)])])],4)):ie("",!0)])),e.selectedStateName?(p(),m("div",$b,[n("div",xb,[n("span",Ib,O(e.selectedStateName),1),n("span",Eb,"IFSS: "+O(Q.selectedStateIFSS),1),n("span",Pb,"Posicin: #"+O(I(e.selectedStateName)),1)])])):ie("",!0)]))}},Mb=Ee(Fb,[["__scopeId","data-v-7f887adf"]]);function bl(e){const{entitiesData:t,loading:s,loadFilterData:a,initializeFilters:o}=pl(),l=j({min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"}),r=j([]),i=j(!1),d=N(()=>t.value.map(k=>({region:k.name,value:k.value||0,year:k.year||2023,...k}))),f=N(()=>{if(!e)return null;const{selectedState:k,getStateInfo:H}=e;return k.value?H(k.value).value||0:null}),c=N(()=>e?e.selectedState.value:null),u=k=>(l.value=k,i.value=!0,console.log(" Rango IFSS seleccionado:",{min:k.min,max:k.max,minLabel:k.minLabel,maxLabel:k.maxLabel}),k),v=k=>(r.value=k,console.log(" Estados filtrados por rango IFSS:",{total:k.length,estados:k.map(H=>`${H.region}: ${H.value}`)}),k),h=()=>{l.value={min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"},r.value=[],i.value=!1},C=k=>{const H=d.value.find(_=>_.region===k);if(!H)return null;const A=H.value;return A>=2.5?{label:"Muy alto",color:"#6ac952"}:A>=2?{label:"Alto",color:"#94d351"}:A>=1.7?{label:"Medio alto",color:"#bddc50"}:A>=1.3?{label:"Medio",color:"#e6d64f"}:A>=1?{label:"Medio bajo",color:"#e6a74c"}:A>=.7?{label:"Bajo",color:"#e67849"}:{label:"Muy bajo",color:"#e52845"}},$=N(()=>{if(!i.value||r.value.length===0)return{count:d.value.length,average:0,min:0,max:0};const k=r.value.map(A=>A.value),H=k.reduce((A,_)=>A+_,0);return{count:k.length,average:(H/k.length).toFixed(2),min:Math.min(...k).toFixed(1),max:Math.max(...k).toFixed(1)}}),g=k=>r.value.some(H=>H.region===k),y=N(()=>[...d.value].sort((H,A)=>A.value-H.value).map((H,A)=>({...H,position:A+1,classification:C(H.region)})));return{entitiesData:t,statesDataForSlider:d,selectedStateIFSS:f,selectedStateName:c,selectedRange:l,filteredStates:r,isSliderActive:i,filtersLoading:s,getRangeStats:$,getStatesRanking:y,handleRangeChange:u,handleFilterChange:v,resetSlider:h,getStateClassification:C,isStateInRange:g,getStatePosition:k=>{const A=y.value.find(_=>_.region===k);return A?A.position:null},initialize:async()=>{try{o(),await a(),console.log(" Slider inicializado con",d.value.length,"estados")}catch(k){console.error(" Error inicializando slider:",k)}},loadFilterData:a,initializeFilters:o}}const Db={class:"filters-toggles-row"},Tb={class:"filters-column"},Rb={class:"toggles-column"},Bb={class:"map-container"},Vb={key:0,class:"loading-state"},Lb={key:1,class:"error-state"},Ob={key:2,class:"map-content"},Nb={class:"map-and-charts-wrapper"},zb={class:"charts-section"},Yb={class:"charts-container"},jb={key:0,class:"charts-empty-state"},Hb={key:0,class:"ranking-panel"},Gb={class:"header-ranking-panel"},qb={class:"body-ranking-panel"},Ub={class:"slider-ranking-panel"},Wb={__name:"RankingView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:$,handleStateClick:g,handleStateHover:y,handleStateLeave:b,resetSelection:w,initializeData:k}=s.mapsComposable||Yt(),{setChartData:H}=Da(),{statesDataForSlider:A,selectedStateIFSS:_,handleRangeChange:F,handleFilterChange:D,initialize:M}=bl(s.mapsComposable||Yt()),E=Ma(),I=async q=>{if(g(q),await ze(),i.value===q){const Q=C(q);a("region-selected",{name:q,data:Q})}else a("region-selected",null)},P=()=>{console.log("Navegando a datos regionales..."),i.value&&w()},B=()=>{console.log("Navegando a federales...")},T=()=>{console.log("Navegando a cualitativos..."),E.push("/finanzas/cualitativos")};return Ce(i,(q,Q)=>{if(q&&q!==Q){const Z=C(q);H(Z),a("region-selected",{name:q,data:Z})}else!q&&Q&&a("region-selected",null)}),Ce(r,q=>{q&&a("map-error",q)}),Le(async()=>{await M()}),(q,Q)=>(p(),m(me,null,[n("div",Db,[n("div",Tb,[Ae(Nn,{entities:q.entitiesData,loading:X(l),onEntityChange:q.handleEntityChange,onYearChange:q.handleYearChange,onVariableChange:q.handleVariableChange,onFiltersChange:q.handleFiltersChange},null,8,["entities","loading","onEntityChange","onYearChange","onVariableChange","onFiltersChange"])]),n("div",Rb,[Ae(hl)])]),n("div",Bb,[X(l)?(p(),m("div",Vb,[...Q[1]||(Q[1]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):ie("",!0),X(r)?(p(),m("div",Lb,[n("p",null,"Error: "+O(X(r)),1),n("button",{onClick:Q[0]||(Q[0]=(...Z)=>X(k)&&X(k)(...Z)),class:"retry-btn"}," Reintentar ")])):ie("",!0),!X(l)&&!X(r)?(p(),m("div",Ob,[n("div",Nb,[Ae(su,{geoData:X(o),selectedState:X(i),hoveredState:X(d),mapConfig:X(f),nationalIFSS:X(v),getStateColor:X(h),getStateInfo:X(C),getIFSSLabel:X($),onStateClick:I,onStateHover:X(y),onStateLeave:X(b),onNavigateRegional:P,onNavigateFederal:B},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","onStateHover","onStateLeave"]),n("div",{class:"retractable-view"},[n("div",{class:"expand-retractable-btn",onClick:T},"+")]),n("div",zb,[n("div",Yb,[X(i)?(p(),Pe(au,{key:1,selectedState:X(i),ifssData:X(C)(X(i))},null,8,["selectedState","ifssData"])):(p(),m("div",jb,[...Q[2]||(Q[2]=[n("div",{class:"empty-state-icon"},"",-1),n("h4",null,"Anlisis de Estado",-1),n("p",null,"Haz clic en cualquier estado del mapa para ver sus grficas detalladas",-1)])]))])])]),X(i)?(p(),m("div",Hb,[n("div",Gb,[n("h2",null,"Posiciones de las entidades en el ranking del ndice de Finanzas Sostenibles Subnacional "+O(X(i)),1),Q[3]||(Q[3]=n("div",{class:"ranking-hamburger-menu"},[n("img",{src:ru,alt:"hamburger-menu",class:"hamburger-icon"})],-1))]),n("div",qb,[n("div",Ub,[Ae(Mb,{statesData:X(A),selectedStateValue:X(_),onRangeChange:X(F),onFilterChange:X(D)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])):ie("",!0)])):ie("",!0)])],64))}},Xb=Ee(Wb,[["__scopeId","data-v-941e133a"]]),Qb={class:"linear-chart-container"},Kb={key:0,class:"chart-header"},Jb={class:"header-content"},Zb={class:"chart-title"},e2={key:0,class:"chart-subtitle"},t2={key:1,class:"variable-filters"},s2=["onClick"],a2={key:2,class:"no-data"},n2=["width","height"],o2={class:"grid"},l2=["x1","y1","x2","y2"],r2={class:"y-axis-labels"},i2=["x","y"],c2=["x1","y1","x2","y2"],u2={class:"lines"},d2=["d","stroke"],f2={class:"animated-data-points"},v2=["cx","cy","fill"],h2={class:"permanent-data-points"},p2=["cx","cy","fill"],g2={class:"data-points"},m2=["cx","cy","r","fill"],b2={class:"tooltip-header"},y2={class:"tooltip-year-label"},A2={class:"tooltip-content"},C2={class:"tooltip-variable-name"},w2={class:"tooltip-variable-value"},_2={key:4,class:"x-axis-container"},S2={__name:"LinearChart",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},width:{type:Number,default:800},height:{type:Number,default:400},padding:{type:Object,default:()=>({top:30,right:40,bottom:90,left:60})},hideHeader:{type:Boolean,default:!1},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,o=j(null),l=j({width:s.width,height:s.height}),r=j({visible:!1,x:0,index:-1,label:"",previousIndex:-1}),i=j({}),d=N(()=>s.padding),f=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],c={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E",IFS:"#9E9E9E"," IFS":"#9E9E9E"},u=N(()=>Object.keys(s.data)),v=j([]),h=j({}),C=j(new Set);Ce(()=>s.data,(L,le)=>{const K=Object.keys(L),z=le?Object.keys(le):[];K.forEach(se=>{h.value[se]||(h.value[se]=[...L[se]||[]])});const Y=z.length===0,R=K.length>0;Y&&R&&v.value.length===0&&be(K),ze(()=>{ae()})},{deep:!0}),Ce(u,()=>{ze(()=>{ae()})}),Ce([()=>s.width,()=>s.height],()=>{ae()});const $=N(()=>l.value.height-d.value.top-d.value.bottom),g=N(()=>l.value.width-d.value.left-d.value.right),y=N(()=>$.value/(s.gridLines-1)),b=N(()=>{const L=[];return v.value.forEach(le=>{s.data[le]&&Array.isArray(s.data[le])&&L.push(...s.data[le].filter(K=>K!=null&&!isNaN(K)))}),L.length>0?L:[0]}),w=N(()=>{if(b.value.length===0)return 100;const L=Math.max(...b.value),le=Math.min(...b.value);if(L===le)return L>0?L*1.2:L+10;const K=L-le;return L+K*.2}),k=N(()=>{if(b.value.length===0)return 0;const L=Math.max(...b.value),le=Math.min(...b.value);if(L===le)return le>0?le*.8:le-10;const K=L-le;return le-K*.2});N(()=>{const L=w.value-k.value;return L>0?$.value/L:1});const H=N(()=>v.value.length>0&&v.value.some(L=>s.data[L]&&s.data[L].length>0)),A=L=>s.data[L]||[],_=L=>{if(c[L])return c[L];const le=L.toLowerCase();if(le.includes("sostenible")||le.includes(" is")||le==="is"||le.includes("ps"))return"#7cb342";if(le.includes("carbono")||le.includes("iic")||le.includes("pic"))return"#DC143C";if(le.includes("total")||le.includes("gt")||le.includes("it")||le.includes("pt")||le.includes("ifs"))return"#9E9E9E";const K=u.value.indexOf(L);return f[K%f.length]},F=L=>{const K=_(L).replace("#",""),z=Math.max(0,parseInt(K.substr(0,2),16)-30),Y=Math.max(0,parseInt(K.substr(2,2),16)-30),R=Math.max(0,parseInt(K.substr(4,2),16)-30);return`rgb(${z}, ${Y}, ${R})`},D=L=>{const le=s.xLabels.length;if(le<=1)return d.value.left+g.value/2;const z=(l.value.width-d.value.left-d.value.right)/(le-1);return d.value.left+L*z},M=L=>{if(L==null||isNaN(L))return l.value.height-d.value.bottom;const le=w.value-k.value;if(le===0)return d.value.top+$.value/2;const z=(L-k.value)/le,Y=d.value.top+$.value*(1-z);return Math.max(d.value.top,Math.min(l.value.height-d.value.bottom,Y))},E=(L,le)=>{var z;const K=(z=h.value[L])==null?void 0:z[le];return M(K)},I=L=>{const K=(w.value-k.value)/(s.gridLines-1);return w.value-K*L},P=L=>{if(s.valueFormatter)return s.valueFormatter(L);const le=s.showCurrencySymbol?"$":s.valuePrefix,K=s.valueSuffix;return s.decimalPlaces!==null?`${le}${L.toFixed(s.decimalPlaces)}${K}`:s.showCurrencySymbol?Math.abs(L)>=1e9?`$${(L/1e9).toFixed(1)}B`:Math.abs(L)>=1e6?`$${(L/1e6).toFixed(1)}M`:Math.abs(L)>=1e3?`$${(L/1e3).toFixed(1)}K`:`$${Math.round(L)}`:Math.abs(L)>=1e9?`${le}${(L/1e9).toFixed(1)}B${K}`:Math.abs(L)>=1e6?`${le}${(L/1e6).toFixed(1)}M${K}`:Math.abs(L)>=1e3?`${le}${(L/1e3).toFixed(1)}K${K}`:Math.abs(L)<10?`${le}${L.toFixed(2)}${K}`:`${le}${Math.round(L)}${K}`},B=L=>{if(L==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(L);const le=s.showCurrencySymbol?"$":s.valuePrefix,K=s.valueSuffix;return s.decimalPlaces!==null?`${le}${L.toFixed(s.decimalPlaces)}${K}`:s.showCurrencySymbol?Math.abs(L)>=1e9?`$${(L/1e9).toFixed(1)}B`:Math.abs(L)>=1e6?`$${(L/1e6).toFixed(1)}M`:Math.abs(L)>=1e3?`$${(L/1e3).toFixed(1)}K`:`$${L.toFixed(0)}`:Math.abs(L)>=1e9?`${le}${(L/1e9).toFixed(1)}B${K}`:Math.abs(L)>=1e6?`${le}${(L/1e6).toFixed(1)}M${K}`:Math.abs(L)>=1e3?`${le}${(L/1e3).toFixed(1)}K${K}`:Math.abs(L)<10?`${le}${L.toFixed(2)}${K}`:`${le}${L.toFixed(0)}${K}`},T=L=>{const le=h.value[L];return!le||le.length===0?"":le.map((K,z)=>{const Y=D(z),R=M(K);return z===0?`M ${Y} ${R}`:`L ${Y} ${R}`}).join(" ")},q=L=>{if(v.value.indexOf(L)>-1){C.value.add(L);const K=s.data[L];if(K){const z=[...h.value[L]],Y=w.value-k.value,R=k.value-Y*.5,se=500,G=se+300,x=Date.now(),S=()=>{const V=Date.now()-x,W=Math.min(V/G,1);if(V<se){const J=V/se,ee=1-Math.pow(1-J,3);h.value[L]=z.map(ue=>ue-(ue-R)*ee)}else h.value[L]=new Array(K.length).fill(R);W<1?requestAnimationFrame(S):(v.value.splice(v.value.indexOf(L),1),C.value.delete(L))};S()}}else{v.value.push(L),C.value.add(L);const K=s.data[L];if(K){const z=w.value-k.value,Y=k.value-z*.5;h.value[L]=new Array(K.length).fill(Y);const R=800,se=Date.now(),G=()=>{const x=Date.now()-se,S=Math.min(x/R,1),V=1-Math.pow(1-S,3);h.value[L]=K.map((W,J)=>{const ee=Y;return ee+(W-ee)*V}),S<1?requestAnimationFrame(G):(h.value[L]=[...K],C.value.delete(L))};G()}}a("variable-toggle",L,v.value.includes(L))},Q=L=>i.value[`${L}-x`]||0,Z=L=>i.value[`${L}-y`]||0,re=L=>{const K=L.currentTarget.getBoundingClientRect(),z=L.clientX-K.left,Y=s.xLabels.length;let R=0;if(Y===1)R=0;else{const x=[];for(let S=0;S<Y-1;S++){const V=D(S),J=D(S+1)-V;x.push(V+J*.05)}if(z<x[0])R=0;else if(z>=x[x.length-1])R=Y-1;else for(let S=0;S<x.length-1;S++)if(z>=x[S]&&z<x[S+1]){R=S+1;break}}const se=r.value.index,G=D(R);r.value={visible:!0,x:G,index:R,label:s.xLabels[R],previousIndex:se},se!==R&&se!==-1&&he(se,R)},he=(L,le)=>{v.value.forEach(K=>{const z=D(L),Y=D(le),R=E(K,L),se=E(K,le),G=200,x=Date.now(),S=()=>{const V=Date.now()-x,W=Math.min(V/G,1),J=1-Math.pow(1-W,3);i.value[`${K}-x`]=z+(Y-z)*J,i.value[`${K}-y`]=R+(se-R)*J,W<1?requestAnimationFrame(S):(delete i.value[`${K}-x`],delete i.value[`${K}-y`])};S()})},be=L=>{console.log(" [LinearChart] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",L),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((le,K)=>{const z=L.find(Y=>Y===le||Y.trim()===le.trim());z?(console.log(`   Activando "${z}" en ${100+K*400}ms`),setTimeout(()=>{q(z)},100+K*400)):console.log(`   Variable "${le}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),L[0]&&setTimeout(()=>{q(L[0])},100),L[1]&&setTimeout(()=>{q(L[1])},900))},ne=()=>{r.value={visible:!1,x:0,index:-1,label:"",previousIndex:-1},i.value={}},ae=()=>{l.value={width:s.width,height:s.height}};return Le(async()=>{await ze(),ae(),setTimeout(()=>{const L=Object.keys(s.data);L.length>0&&v.value.length===0&&(console.log(" [LinearChart] onMounted (despus de delay) - Datos disponibles:",L),L.forEach(le=>{h.value[le]||(h.value[le]=[...s.data[le]||[]])}),be(L))},100)}),Pa(()=>{}),(L,le)=>(p(),m("div",Qb,[e.hideHeader?ie("",!0):(p(),m("div",Kb,[n("div",Jb,[n("h3",Zb,O(e.title),1),e.subtitle?(p(),m("p",e2,O(e.subtitle),1)):ie("",!0)])])),u.value.length>0?(p(),m("div",t2,[(p(!0),m(me,null,_e(u.value,K=>(p(),m("button",{key:K,onClick:z=>q(K),class:ge(["filter-btn",{"filter-active":v.value.includes(K),"filter-inactive":!v.value.includes(K)}])},[n("span",{class:"btn-color-dot",style:ve({backgroundColor:_(K)})},null,4),We(" "+O(K),1)],10,s2))),128))])):ie("",!0),H.value?(p(),m("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:o},[(p(),m("svg",{width:l.value.width,height:l.value.height,class:"line-chart",onMousemove:re,onMouseleave:ne},[n("g",o2,[(p(!0),m(me,null,_e(e.gridLines,K=>(p(),m("line",{key:`grid-${K}`,x1:d.value.left,y1:d.value.top+(K-1)*y.value,x2:l.value.width-d.value.right,y2:d.value.top+(K-1)*y.value,class:"grid-line"},null,8,l2))),128))]),n("g",r2,[(p(!0),m(me,null,_e(e.gridLines,K=>(p(),m("text",{key:`y-label-${K}`,x:d.value.left-10,y:d.value.top+(K-1)*y.value+4,class:"y-axis-label","text-anchor":"end"},O(P(I(K-1))),9,i2))),128))]),r.value.visible?(p(),m("line",{key:0,x1:r.value.x,y1:d.value.top,x2:r.value.x,y2:l.value.height-d.value.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,c2)):ie("",!0),n("g",u2,[(p(!0),m(me,null,_e(v.value,(K,z)=>(p(),m("g",{key:`line-${K}`},[n("path",{d:T(K),stroke:_(K),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:ge(["line-path",{"line-exit":C.value.has(K)}]),style:ve({animationDelay:C.value.has(K)?"400ms":`${z*.1}s`,animationDuration:C.value.has(K)?"300ms":"1.5s"})},null,14,d2),n("g",f2,[r.value.visible&&i.value[`${K}-x`]!==void 0?(p(),m("circle",{key:0,cx:Q(K),cy:Z(K),r:5,fill:F(K),class:"data-point animated-point",style:ve({filter:`drop-shadow(0 0 8px ${F(K)})`,opacity:1})},null,12,v2)):ie("",!0)]),n("g",h2,[(p(!0),m(me,null,_e(A(K),(Y,R)=>(p(),m("circle",{key:`permanent-point-${K}-${R}`,cx:D(R),cy:E(K,R),r:2,fill:_(K),class:"data-point-permanent"},null,8,p2))),128))]),n("g",g2,[(p(!0),m(me,null,_e(A(K),(Y,R)=>(p(),m("circle",{key:`point-${K}-${R}`,cx:D(R),cy:E(K,R),r:r.value.visible&&r.value.index===R&&i.value[`${K}-x`]===void 0?5:0,fill:_(K),class:ge(["data-point",{"is-hovered":r.value.visible&&r.value.index===R}]),style:ve({filter:`drop-shadow(0 0 8px ${_(K)})`})},null,14,m2))),128))])]))),128))])],40,n2)),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[r.value.visible?(p(),m("div",{key:0,class:"tooltip-container",style:ve({left:`${r.value.x}px`})},[n("div",b2,[n("span",y2,O(r.value.label),1)]),n("div",A2,[(p(!0),m(me,null,_e(v.value,K=>(p(),m("div",{key:`tooltip-${K}`,class:"tooltip-item"},[n("span",{class:"tooltip-color-indicator",style:ve({backgroundColor:_(K)})},null,4),n("span",C2,O(K)+":",1),n("span",w2,O(B(A(K)[r.value.index])),1)]))),128))])],4)):ie("",!0)]),_:1})],512)):(p(),m("div",a2,[...le[0]||(le[0]=[ke('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-30a2d0a8><path d="M3 3v18h18" data-v-30a2d0a8></path><path d="M18 17V9" data-v-30a2d0a8></path><path d="M13 17V5" data-v-30a2d0a8></path><path d="M8 17v-3" data-v-30a2d0a8></path></svg><p data-v-30a2d0a8>No hay datos disponibles</p>',2)])])),H.value?(p(),m("div",_2,[(p(!0),m(me,null,_e(s.xLabels,(K,z)=>(p(),m("div",{key:`x-label-external-${z}`,class:"x-axis-label",style:ve({left:`${D(z)}px`})},O(K),5))),128))])):ie("",!0)]))}},iu=Ee(S2,[["__scopeId","data-v-30a2d0a8"]]),k2={key:0,class:"chart-header"},$2={class:"header-content"},x2={class:"chart-title"},I2={key:0,class:"chart-subtitle"},E2={key:1,class:"variable-filters"},P2=["onClick"],F2={key:2,class:"no-data"},M2=["width","height"],D2={class:"grid"},T2=["x1","y1","x2","y2"],R2={class:"y-axis-labels"},B2=["x","y"],V2={class:"x-axis-labels"},L2=["x","y"],O2=["id"],N2=["stop-color"],z2=["stop-color"],Y2=["x1","y1","x2","y2"],j2=["x1","y1","x2","y2"],H2={class:"areas"},G2=["d","fill"],q2=["d","stroke"],U2={class:"animated-data-points"},W2=["cx","cy","fill"],X2={class:"data-points"},Q2=["cx","cy","r","fill"],K2={class:"tooltip-header"},J2={class:"tooltip-year-label"},Z2={class:"tooltip-content"},ey={class:"tooltip-variable-name"},ty={class:"tooltip-variable-value"},sy={__name:"StackedArea",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},hideHeader:{type:Boolean,default:!1},width:{type:Number,default:null},height:{type:Number,default:null},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,o=j(null),l=j(null),r=j(null),i=j({width:800,height:300});let d=null;const f=j({visible:!1,x:0,index:-1,label:"",yValue:null,yPosition:0,previousIndex:-1}),c=j({}),u={top:10,right:15,bottom:25,left:40},v=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],h={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},C=N(()=>Object.keys(s.data)),$=j([]),g=j({});Ce(()=>s.data,(G,x)=>{const S=Object.keys(G),V=x?Object.keys(x):[];console.log(" [StackedArea] Watch data ejecutado"),console.log("  - Variables anteriores:",V.length),console.log("  - Variables nuevas:",S),S.forEach(ee=>{g.value[ee]||(g.value[ee]=new Array(s.xLabels.length).fill(0))});const W=V.length===0,J=S.length>0;W&&J&&$.value.length===0&&y(S)},{deep:!0});const y=G=>{console.log(" [StackedArea] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",G),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((x,S)=>{const V=G.find(W=>W===x||W.trim()===x.trim());V?(console.log(`   Activando "${V}" en ${100+S*400}ms`),setTimeout(()=>{E(V)},100+S*400)):console.log(`   Variable "${x}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),G[0]&&setTimeout(()=>{E(G[0])},100),G[1]&&setTimeout(()=>{E(G[1])},500))},b=N(()=>$.value.length>0&&$.value.some(G=>s.data[G]&&s.data[G].length>0));Ce(b,async G=>{G&&(await ze(),await ze(),await ze(),se(),o.value&&(d?d.disconnect():d=new ResizeObserver(()=>{requestAnimationFrame(()=>{se()})}),d.observe(o.value)))},{immediate:!0}),Ce(C,async()=>{await ze(),b.value&&se()}),Ce([()=>s.width,()=>s.height],()=>{se()});const w=N(()=>{if(!b.value)return 100;let G=0;for(let x=0;x<s.xLabels.length;x++){let S=0;$.value.forEach(V=>{var J;const W=((J=g.value[V])==null?void 0:J[x])||0;S+=W}),G=Math.max(G,S)}return G*1.1||100}),k=G=>{const x=w.value/(s.gridLines-1);return w.value-G*x},H=G=>{if(s.valueFormatter)return s.valueFormatter(G);const x=s.showCurrencySymbol?"$":s.valuePrefix,S=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${x}${G.toFixed(s.decimalPlaces)}${S}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(G)>=1e6?`$${(G/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(G)>=1e3?`$${(G/1e3).toFixed(s.decimalPlaces)}K`:`$${G.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(1)}B`:G>=1e6?`$${(G/1e6).toFixed(1)}M`:G>=1e3?`$${(G/1e3).toFixed(0)}K`:`$${G.toFixed(0)}`:Math.abs(G)>=1e9?`${x}${(G/1e9).toFixed(1)}B${S}`:Math.abs(G)>=1e6?`${x}${(G/1e6).toFixed(1)}M${S}`:Math.abs(G)>=1e3?`${x}${(G/1e3).toFixed(1)}K${S}`:Math.abs(G)<10?`${x}${G.toFixed(2)}${S}`:`${x}${G.toFixed(0)}${S}`},A=N(()=>(i.value.height-u.top-u.bottom)/(s.gridLines-1)),_=G=>g.value[G]||[],F=G=>{if(h[G])return h[G];const x=G.toLowerCase();if(x.includes("sostenible")||x.includes(" is")||x==="is"||x.includes("ps"))return"#7cb342";if(x.includes("carbono")||x.includes("iic")||x.includes("pic"))return"#DC143C";if(x.includes("total")||x.includes("gt")||x.includes("it")||x.includes("pt"))return"#9E9E9E";const S=C.value.indexOf(G);return v[S%v.length]},D=G=>{const S=F(G).replace("#",""),V=Math.max(0,parseInt(S.substr(0,2),16)-40),W=Math.max(0,parseInt(S.substr(2,2),16)-40),J=Math.max(0,parseInt(S.substr(4,2),16)-40);return`rgb(${V}, ${W}, ${J})`},M=G=>G.replace(/[^a-zA-Z0-9]/g,"-"),E=G=>{const x=$.value.indexOf(G);x>-1?($.value.splice(x,1),P(G)):($.value.push(G),I(G)),a("variable-toggle",{variable:G,visible:x===-1})},I=G=>{const S=Date.now(),V=s.data[G];g.value[G]||(g.value[G]=new Array(V.length).fill(0));const W=()=>{const J=Date.now()-S,ee=Math.min(J/1e3,1),ue=B(ee);g.value[G]=V.map(te=>te*ue),ee<1&&requestAnimationFrame(W)};W()},P=G=>{const S=Date.now(),V=[...g.value[G]||[]],W=()=>{const J=Date.now()-S,ee=Math.min(J/500,1),ue=T(ee);g.value[G]=V.map(te=>te*(1-ue)),ee<1?requestAnimationFrame(W):g.value[G]=new Array(V.length).fill(0)};W()},B=G=>1-Math.pow(1-G,3),T=G=>G*G*G,q=G=>{const S=(i.value.width-u.left-u.right)/(s.xLabels.length-1);return u.left+G*S},Q=G=>{const x=i.value.height-u.top-u.bottom,S=G/w.value;return i.value.height-u.bottom-S*x},Z=(G,x,S)=>{let V=0;for(let W=0;W<=S;W++){const J=$.value[W],ee=_(J);V+=ee[x]||0}return Q(V)},re=(G,x)=>{let S=0;for(let V=0;V<G;V++){const W=$.value[V],J=_(W);S+=J[x]||0}return S},he=(G,x)=>{const S=_(G);if(!S||S.length===0)return"";const V=S.map((ee,ue)=>{const te=q(ue),U=re(x,ue)+ee,oe=Q(U);return{x:te,y:oe}}),W=S.map((ee,ue)=>{const te=q(ue),U=re(x,ue),oe=Q(U);return{x:te,y:oe}}).reverse();let J=be(V);return W.length>0&&(J+=" L "+W.map(ee=>`${ee.x} ${ee.y}`).join(" L ")),J+=" Z",J},be=G=>{if(G.length<2)return"";let x=`M ${G[0].x} ${G[0].y}`;if(G.length===2)return x+=` L ${G[1].x} ${G[1].y}`,x;for(let S=0;S<G.length-1;S++){const V=G[S],W=G[S+1],J=Math.abs(W.y-V.y);Math.abs(W.x-V.x);let ee=.2;J>50&&(ee=.1),J<5&&(ee=.05);let ue,te,U,oe;if(S===0)ue=V.x+(W.x-V.x)*ee,te=V.y,U=W.x-(W.x-V.x)*ee,oe=W.y;else{const pe=G[S-1],fe=Math.abs(V.y-pe.y);S<G.length-2&&Math.abs(G[S+2].y-W.y);let ye=ee;if(fe>30&&J<10&&(ye=.05),fe<5&&J<5&&(ye=.02),ue=V.x+(W.x-pe.x)*ye*.5,te=V.y+(W.y-pe.y)*ye*.3,S<G.length-2){const Me=G[S+2];U=W.x-(Me.x-V.x)*ye*.5,oe=W.y-(Me.y-V.y)*ye*.3}else U=W.x-(W.x-V.x)*ye,oe=W.y;const we=Math.min(V.y,W.y),Se=Math.max(V.y,W.y),Fe=(Se-we)*.1;te=Math.max(we-Fe,Math.min(Se+Fe,te)),oe=Math.max(we-Fe,Math.min(Se+Fe,oe))}x+=` C ${ue} ${te}, ${U} ${oe}, ${W.x} ${W.y}`}return x},ne=(G,x)=>{const S=_(G);if(!S||S.length===0)return"";const V=S.map((W,J)=>{const ee=q(J),ue=re(x,J)+W,te=Q(ue);return{x:ee,y:te}});return be(V)},ae=G=>{const S=G.currentTarget.getBoundingClientRect(),V=i.value.width/S.width,W=(G.clientX-S.left)*V,J=s.xLabels.length;let ee=0;if(J===1)ee=0;else{const oe=[];for(let pe=0;pe<J-1;pe++){const fe=q(pe),we=q(pe+1)-fe;oe.push(fe+we*.05)}if(W<oe[0])ee=0;else if(W>=oe[oe.length-1])ee=J-1;else for(let pe=0;pe<oe.length-1;pe++)if(W>=oe[pe]&&W<oe[pe+1]){ee=pe+1;break}}const ue=q(ee);let te=0;$.value.forEach((oe,pe)=>{const fe=_(oe);te+=fe[ee]||0});const U=Q(te);ee!==f.value.index&&L(ee),f.value={visible:!0,x:ue,index:ee,label:s.xLabels[ee],yValue:te,yPosition:U,previousIndex:f.value.index}},L=G=>{const S=Date.now();$.value.forEach((V,W)=>{const J=f.value.index>=0?f.value.index:G,ee=q(J),ue=q(G),te=J>=0?re(W,J)+(_(V)[J]||0):0,U=re(W,G)+(_(V)[G]||0),oe=Q(te),pe=Q(U),fe=()=>{const ye=Date.now()-S,we=Math.min(ye/200,1),Se=B(we);c.value[`${V}-x`]=ee+(ue-ee)*Se,c.value[`${V}-y`]=oe+(pe-oe)*Se,we<1?requestAnimationFrame(fe):(delete c.value[`${V}-x`],delete c.value[`${V}-y`])};fe()})},le=G=>c.value[`${G}-x`]||0,K=G=>c.value[`${G}-y`]||0,z=()=>{f.value.visible=!1,c.value={}},Y=N(()=>{if(!l.value||!f.value.visible)return{};const x=l.value.getScreenCTM();if(!x)return{};const S=f.value.x,V=f.value.yPosition,W=x.a*S+x.c*V+x.e,J=x.b*S+x.d*V+x.f;return{left:`${W}px`,top:`${J}px`}}),R=G=>{if(G==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(G);const x=s.showCurrencySymbol?"$":s.valuePrefix,S=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${x}${G.toFixed(s.decimalPlaces)}${S}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(G)>=1e6?`$${(G/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(G)>=1e3?`$${(G/1e3).toFixed(s.decimalPlaces)}K`:`$${G.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(2)}B`:G>=1e6?`$${(G/1e6).toFixed(2)}M`:G>=1e3?`$${(G/1e3).toFixed(2)}K`:`$${G.toFixed(2)}`:Math.abs(G)>=1e9?`${x}${(G/1e9).toFixed(2)}B${S}`:Math.abs(G)>=1e6?`${x}${(G/1e6).toFixed(2)}M${S}`:Math.abs(G)>=1e3?`${x}${(G/1e3).toFixed(2)}K${S}`:Math.abs(G)<10?`${x}${G.toFixed(2)}${S}`:`${x}${G.toFixed(2)}${S}`},se=()=>{if(s.width!==null&&s.height!==null){i.value={width:s.width,height:s.height};return}if(s.width!==null&&o.value){const G=o.value.getBoundingClientRect();i.value={width:s.width,height:G.height>0?Math.floor(G.height):300};return}if(s.height!==null&&o.value){const G=o.value.getBoundingClientRect();i.value={width:G.width>0?Math.floor(G.width):800,height:s.height};return}if(o.value){const G=o.value.getBoundingClientRect();G.width>0&&G.height>0&&(i.value={width:Math.floor(G.width),height:Math.floor(G.height)})}};return Le(async()=>{await ze(),await ze(),setTimeout(()=>{se();const G=Object.keys(s.data);G.length>0&&$.value.length===0&&(console.log(" [StackedArea] onMounted (despus de delay) - Datos disponibles:",G),G.forEach(x=>{g.value[x]||(g.value[x]=new Array(s.xLabels.length).fill(0))}),y(G)),o.value&&(d=new ResizeObserver(()=>{requestAnimationFrame(()=>{se()})}),d.observe(o.value))},100),window.addEventListener("resize",se)}),Pa(()=>{window.removeEventListener("resize",se),d&&(d.disconnect(),d=null)}),(G,x)=>(p(),m("div",{class:"area-chart-container",ref_key:"containerRef",ref:r},[s.hideHeader?ie("",!0):(p(),m("div",k2,[n("div",$2,[n("h3",x2,O(e.title),1),e.subtitle?(p(),m("p",I2,O(e.subtitle),1)):ie("",!0)])])),C.value.length>0?(p(),m("div",E2,[(p(!0),m(me,null,_e(C.value,S=>(p(),m("button",{key:S,onClick:V=>E(S),class:ge(["filter-btn",{"filter-active":$.value.includes(S),"filter-inactive":!$.value.includes(S)}])},[n("span",{class:"btn-color-dot",style:ve({backgroundColor:F(S)})},null,4),We(" "+O(S),1)],10,P2))),128))])):ie("",!0),b.value?(p(),m("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:o},[(p(),m("svg",{ref_key:"svgRef",ref:l,width:i.value.width,height:i.value.height,class:"area-chart",onMousemove:ae,onMouseleave:z},[n("g",D2,[(p(!0),m(me,null,_e(e.gridLines,S=>(p(),m("line",{key:`grid-${S}`,x1:u.left,y1:u.top+(S-1)*A.value,x2:i.value.width-u.right,y2:u.top+(S-1)*A.value,class:"grid-line"},null,8,T2))),128))]),n("g",R2,[(p(!0),m(me,null,_e(e.gridLines,S=>(p(),m("text",{key:`y-label-${S}`,x:u.left-5,y:u.top+(S-1)*A.value+3,class:"y-axis-label","text-anchor":"end"},O(H(k(S-1))),9,B2))),128))]),n("g",V2,[(p(!0),m(me,null,_e(s.xLabels,(S,V)=>(p(),m("text",{key:`x-label-${V}`,x:q(V),y:i.value.height-u.bottom+15,class:"x-axis-label-svg","text-anchor":"middle"},O(S),9,L2))),128))]),n("defs",null,[(p(!0),m(me,null,_e($.value,S=>(p(),m("linearGradient",{key:`gradient-${S}`,id:`gradient-${M(S)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[n("stop",{offset:"0%","stop-color":F(S),"stop-opacity":"0.8"},null,8,N2),n("stop",{offset:"100%","stop-color":F(S),"stop-opacity":"0.2"},null,8,z2)],8,O2))),128))]),f.value.visible?(p(),m("line",{key:0,x1:f.value.x,y1:u.top,x2:f.value.x,y2:i.value.height-u.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,Y2)):ie("",!0),f.value.visible&&f.value.yValue!==null?(p(),m("line",{key:1,x1:u.left,y1:f.value.yPosition,x2:i.value.width-u.right,y2:f.value.yPosition,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.8"},null,8,j2)):ie("",!0),n("g",H2,[(p(!0),m(me,null,_e($.value,(S,V)=>(p(),m("g",{key:`area-${S}`},[n("path",{d:he(S,V),fill:`url(#gradient-${M(S)})`,class:"area-path",style:ve({animationDelay:`${V*.1}s`})},null,12,G2),n("path",{d:ne(S,V),stroke:F(S),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"line-path",style:ve({animationDelay:`${V*.1}s`})},null,12,q2),n("g",U2,[f.value.visible&&c.value[`${S}-x`]!==void 0?(p(),m("circle",{key:0,cx:le(S),cy:K(S),r:3,fill:D(S),class:"data-point animated-point",style:ve({filter:`drop-shadow(0 0 8px ${D(S)})`,opacity:1})},null,12,W2)):ie("",!0)]),n("g",X2,[(p(!0),m(me,null,_e(_(S),(W,J)=>(p(),m("circle",{key:`point-${S}-${J}`,cx:q(J),cy:Z(S,J,V),r:f.value.visible&&f.value.index===J&&c.value[`${S}-x`]===void 0?3:0,fill:F(S),class:ge(["data-point",{"is-hovered":f.value.visible&&f.value.index===J}]),style:ve({filter:`drop-shadow(0 0 8px ${F(S)})`})},null,14,Q2))),128))])]))),128))])],40,M2))],512)):(p(),m("div",F2,[...x[0]||(x[0]=[ke('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-32f5b5f0><path d="M3 3v18h18" data-v-32f5b5f0></path><path d="M18 17V9" data-v-32f5b5f0></path><path d="M13 17V5" data-v-32f5b5f0></path><path d="M8 17v-3" data-v-32f5b5f0></path></svg><p data-v-32f5b5f0>No hay datos disponibles</p>',2)])])),(p(),Pe(jt,{to:"body"},[Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[f.value.visible?(p(),m("div",{key:0,class:"tooltip-container",style:ve(Y.value)},[n("div",K2,[n("span",J2,O(f.value.label),1)]),n("div",Z2,[(p(!0),m(me,null,_e($.value,S=>(p(),m("div",{key:`tooltip-${S}`,class:"tooltip-item"},[n("span",{class:"tooltip-color-indicator",style:ve({backgroundColor:F(S)})},null,4),n("span",ey,O(S)+":",1),n("span",ty,O(R(_(S)[f.value.index])),1)]))),128))])],4)):ie("",!0)]),_:1})]))],512))}},Gr=Ee(sy,[["__scopeId","data-v-32f5b5f0"]]),ay={class:"bar-chart-container"},ny={key:0,class:"chart-title-section"},oy={class:"chart-title"},ly={key:1,class:"filters-wrapper"},ry={class:"filters-section"},iy=["onClick"],cy={class:"chart-area"},uy={class:"y-axis"},dy={class:"tick-label"},fy={class:"grid-lines"},vy={class:"bars-wrapper"},hy={key:0,class:"bar-item"},py=["onMouseenter"],gy={class:"x-axis-labels-container"},my={class:"x-axis-labels"},by={class:"tooltip-header"},yy={class:"tooltip-year-label"},Ay={class:"tooltip-content"},Cy={class:"tooltip-item"},wy={class:"tooltip-variable-name"},_y={class:"tooltip-variable-value"},Sy={__name:"HistoricBarChart",props:{title:{type:String,default:"Grfico de Barras"},data:{type:Array,required:!0},showFilters:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},visibleVariableKeys:{type:Array,default:null},variablesConfig:{type:Object,default:null},initialActiveVariables:{type:Array,default:null}},setup(e){const t=e,s=j(null),a=j({}),o=j({x:0,y:0}),l=j(null),r=j(200),i={IS:"#7cb342","IS Total":"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342",IIC:"#DC143C","IIC Total":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_T:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},d=(A,_,F)=>{if(i[A])return i[A];if(i[_])return i[_];const D=(A||"").toLowerCase();if(D==="is"||D.includes("is_")||D.includes("sostenible")||D==="ps")return"#7cb342";if(D==="iic_h")return"#8B0000";if(D==="iic_m")return"#DC143C";if(D==="iic_t")return"#FF6B6B";if(D==="iic"||D.includes("iic")||D==="pic"||D.includes("carbono"))return"#DC143C";if(D.includes("total")||D.includes("gt")||D.includes("it")||D.includes("pt"))return"#9E9E9E";const M=(_||"").toLowerCase();return M.includes("sostenible")||M.includes(" is")?"#7cb342":M.includes("carbono")||M.includes("iic")||M.includes("pic")?"#DC143C":M.includes("total")?"#9E9E9E":F},f=A=>{const _=A.target.getBoundingClientRect();o.value={x:_.left+_.width/2,y:_.top-10}},c=N(()=>{if(!t.data||t.data.length===0)return[];const A=new Map;t.data.forEach(F=>{F.variables&&Array.isArray(F.variables)&&F.variables.forEach(D=>{if(!A.has(D.key))if(t.variablesConfig&&t.variablesConfig[D.key]){const M=t.variablesConfig[D.key],E=M.color||D.color;A.set(D.key,{key:D.key,label:M.label||D.label,color:d(D.key,M.label||D.label,E),order:M.order||0})}else A.set(D.key,{key:D.key,label:D.label,color:d(D.key,D.label,D.color),order:0})})});const _=Array.from(A.values());return _.sort((F,D)=>(F.order||0)-(D.order||0)),_}),u=N(()=>!t.visibleVariableKeys||t.visibleVariableKeys.length===0?c.value:c.value.filter(A=>t.visibleVariableKeys.includes(A.key))),v=A=>{if(!A.variables||!Array.isArray(A.variables))return[];if(t.visibleVariableKeys&&t.visibleVariableKeys.length>0){const _=A.variables.filter(F=>t.visibleVariableKeys.includes(F.key));return t.variablesConfig?_.map(F=>{var E,I,P;const D=((E=t.variablesConfig[F.key])==null?void 0:E.label)||F.label,M=((I=t.variablesConfig[F.key])==null?void 0:I.color)||F.color;return{...F,label:D,color:d(F.key,D,M),order:((P=t.variablesConfig[F.key])==null?void 0:P.order)||0}}).sort((F,D)=>(F.order||0)-(D.order||0)):_.map(F=>({...F,color:d(F.key,F.label,F.color)}))}return t.variablesConfig?A.variables.map(_=>{var M,E,I;const F=((M=t.variablesConfig[_.key])==null?void 0:M.label)||_.label,D=((E=t.variablesConfig[_.key])==null?void 0:E.color)||_.color;return{..._,label:F,color:d(_.key,F,D),order:((I=t.variablesConfig[_.key])==null?void 0:I.order)||0}}).sort((_,F)=>(_.order||0)-(F.order||0)):A.variables.map(_=>({..._,color:d(_.key,_.label,_.color)}))},h=j(!1);Ce(u,A=>{A.forEach(_=>{_.key in a.value||(t.initialActiveVariables&&Array.isArray(t.initialActiveVariables)?a.value[_.key]=t.initialActiveVariables.includes(_.key):a.value[_.key]=!1)}),!h.value&&A.length>0&&(h.value=!0,A[0]&&setTimeout(()=>{a.value[A[0].key]=!0},100),A[1]&&setTimeout(()=>{a.value[A[1].key]=!0},400))},{immediate:!0});const C=N(()=>{if(!t.data||t.data.length===0)return 100;let A=0;return t.data.forEach(_=>{_.variables&&Array.isArray(_.variables)&&v(_).forEach(D=>{a.value[D.key]!==!1&&D.value&&D.value>A&&(A=D.value)})}),A>0?A*.8:100}),$=A=>{if(C.value===0)return 0;const _=A/C.value*100;return r.value*_/100},g=N(()=>{const A=C.value,_=A/4;return[{value:0,position:0},{value:_,position:25},{value:_*2,position:50},{value:_*3,position:75},{value:A,position:100}]}),y=N(()=>{var E;const A=Object.values(a.value).filter(I=>I!==!1).length;if((E=t.data)!=null&&E.length,A===0)return 50;if(A===1)return 120;if(A===2)return 55;if(A===3)return 38;const _=70,F=25,D=120,M=_/Math.sqrt(A*.6);return Math.max(F,Math.min(D,M))}),b=N(()=>{const A=Object.values(a.value).filter(F=>F!==!1).length,_=u.value.length;return A===_&&_>0?"2px":"1px"}),w=A=>{a.value[A]=!a.value[A]},k=A=>Math.abs(A)>=1e9?`$${(A/1e9).toFixed(1)}B`:Math.abs(A)>=1e6?`$${(A/1e6).toFixed(1)}M`:Math.abs(A)>=1e3?`$${(A/1e3).toFixed(1)}K`:`$${A.toFixed(0)}`,H=()=>{if(l.value){const A=l.value.clientHeight-30;A>0&&(r.value=A)}};return Le(async()=>{await ze(),H(),l.value&&new ResizeObserver(()=>{H()}).observe(l.value)}),Ce(()=>t.data,()=>{ze(()=>{H()})},{deep:!0}),(A,_)=>(p(),m("div",ay,[e.hideHeader?ie("",!0):(p(),m("div",ny,[n("h3",oy,O(e.title),1)])),e.showFilters?(p(),m("div",ly,[n("div",ry,[(p(!0),m(me,null,_e(u.value,F=>(p(),m("button",{key:F.key,onClick:D=>w(F.key),class:ge(["filter-btn",{"filter-active":a.value[F.key]!==!1,"filter-inactive":a.value[F.key]===!1}])},[n("span",{class:"btn-color-dot",style:ve({backgroundColor:F.color})},null,4),We(" "+O(F.label),1)],10,iy))),128))])])):ie("",!0),n("div",cy,[n("div",uy,[(p(!0),m(me,null,_e(g.value,F=>(p(),m("div",{key:F.value,class:"y-tick",style:ve({bottom:`${F.position}%`})},[n("span",dy,O(k(F.value)),1)],4))),128))]),n("div",fy,[(p(!0),m(me,null,_e(g.value,F=>(p(),m("div",{key:F.value,class:"grid-line",style:ve({bottom:`${F.position}%`})},null,4))),128))]),n("div",{class:"bars-container",ref_key:"barsContainerRef",ref:l},[(p(!0),m(me,null,_e(e.data,F=>(p(),m("div",{key:F.year,class:"year-group",style:ve({marginRight:b.value})},[n("div",vy,[(p(!0),m(me,null,_e(v(F),D=>(p(),m(me,{key:D.key},[a.value[D.key]!==!1?(p(),m("div",hy,[n("div",{class:"bar",style:ve({height:`${$(D.value)}px`,backgroundColor:D.color,width:`${y.value}px`}),onMouseenter:M=>{s.value={year:F.year,variable:D},f(M)},onMousemove:f,onMouseleave:_[0]||(_[0]=M=>s.value=null)},null,44,py)])):ie("",!0)],64))),128))])],4))),128))],512)]),n("div",gy,[_[1]||(_[1]=n("div",{class:"x-axis-spacer"},null,-1)),n("div",my,[(p(!0),m(me,null,_e(e.data,F=>(p(),m("div",{key:F.year,class:"year-label"},O(F.year),1))),128))])]),(p(),Pe(jt,{to:"body"},[s.value?(p(),m("div",{key:0,class:"tooltip-container",style:ve({left:`${o.value.x}px`,top:`${o.value.y}px`})},[n("div",by,[n("span",yy,O(s.value.year),1)]),n("div",Ay,[n("div",Cy,[n("span",{class:"tooltip-color-indicator",style:ve({backgroundColor:s.value.variable.color})},null,4),n("span",wy,O(s.value.variable.label)+":",1),n("span",_y,O(k(s.value.variable.value)),1)])])],4)):ie("",!0)]))]))}},qa=Ee(Sy,[["__scopeId","data-v-e1a0fd98"]]),ky={class:"ifss-slider-container"},$y={class:"historic-table"},xy={class:"row-1"},Iy={class:"chart-card IS-anual-linear-chart"},Ey={class:"chart-card-body"},Py={class:"chart-card IIC-anual-linear-chart"},Fy={class:"chart-card-body"},My={class:"row-2"},Dy={class:"chart-card IIC-anual-bar-chart"},Ty={class:"chart-card-body"},Ry={class:"chart-card IS-anual-bar-chart"},By={class:"chart-card-body"},Vy={class:"row-3"},Ly={class:"chart-card PS-PIC-anual-linear-chart"},Oy={class:"chart-card-body"},Ny={class:"row-4"},zy={class:"chart-card PIC-anual-bar-chart"},Yy={class:"chart-card-body"},jy={class:"chart-card PS-anual-bar-chart"},Hy={class:"chart-card-body"},Gy={__name:"HistoricalCard",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null}},setup(e){const{fetchData:t,transformToBarChartData:s,transformToLinearChartData:a,transformToStackedAreaData:o}=ft(),l=j([]),r=j([]),i=j([]),d=j([]),f=j({}),c=j({}),u=j({}),v=j(["2020","2021","2022","2023","2024"]),h=async()=>{var C,$,g,y;try{console.log(" Cargando datos de Google Sheets...");const b=await t("datosFinancieros","Hoja 1");if(console.log(" Datos raw obtenidos:",{numFilas:(b==null?void 0:b.length)||0,primeraFila:(b==null?void 0:b[0])||"No hay datos",columnas:b!=null&&b[0]?Object.keys(b[0]):[]}),!b||b.length===0){console.error(" No se obtuvieron datos del Google Sheet");return}const w=ht.mappings.iicBarChart;l.value=s(b,w);const k=ht.mappings.presupuestoBarChart;r.value=s(b,k);const H=ht.mappings.picBarChart;i.value=s(b,H);const A=ht.mappings.psBarChart;d.value=s(b,A);const _=ht.mappings.isLinearChart,F=a(b,_),D=ht.mappings.iicStackedArea;u.value=o(b,D);const M={};F.data.forEach(B=>{M[B.label]=B.data}),f.value=M,v.value=F.labels;const E=ht.mappings.pspicLinearChart;console.log(" mappingPSPIC:",E),console.log(" Valor de GT ($) en primera fila:",b[0]["GT ($)"]),console.log(" Tipo de GT ($):",typeof b[0]["GT ($)"]);const I=a(b,E);console.log(" linearResultPSPIC:",I);const P={};I.data.forEach(B=>{P[B.label]=B.data,console.log(` Serie "${B.label}":`,B.data)}),c.value=P,console.log(" Datos transformados para IIC BarChart:",((C=l.value)==null?void 0:C.length)||0,"aos"),console.log(" Datos transformados para IS BarChart:",(($=r.value)==null?void 0:$.length)||0,"aos"),console.log(" Datos transformados para PIC BarChart:",((g=i.value)==null?void 0:g.length)||0,"aos"),console.log(" Datos transformados para PS BarChart:",((y=d.value)==null?void 0:y.length)||0,"aos"),console.log(" Datos transformados para LinearChart IS:",f.value),console.log(" Datos transformados para LinearChart PS-PIC:",c.value)}catch(b){console.error(" Error cargando datos:",b),console.error("Error completo:",b.message),l.value=[],r.value=[],i.value=[],d.value=[],f.value={},c.value={},u.value={}}};return Le(async()=>{console.log(" Componente HistoricalCard montado"),setTimeout(async()=>{console.log(" Iniciando carga despus de 2 segundos..."),await h()},2e3)}),(C,$)=>(p(),m("div",ky,[n("div",$y,[n("div",xy,[n("div",Iy,[$[0]||($[0]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis histrico de los Ingresos Sostenibles (IS)")],-1)),n("div",Ey,[Ae(Gr,{data:f.value,xLabels:v.value,showCurrencySymbol:!1,decimalPlaces:1,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])]),n("div",Py,[$[1]||($[1]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis de IIC e Ingreso Total")],-1)),n("div",Fy,[Ae(Gr,{data:u.value,xLabels:v.value,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])])]),n("div",My,[n("div",Dy,[$[2]||($[2]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Ingresos de Inversin en Contribucin (IIC)")],-1)),n("div",Ty,[Ae(qa,{data:l.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),n("div",Ry,[$[3]||($[3]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Ingresos Sostenibles (IS) por Ao")],-1)),n("div",By,[Ae(qa,{data:r.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])]),n("div",Vy,[n("div",Ly,[$[4]||($[4]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis histrico de los Intensivos en Carbono y Presupuestos Sostenibles (PS-PIC)")],-1)),n("div",Oy,[Ae(iu,{data:c.value,xLabels:v.value,width:1900,height:340,hideHeader:!0,padding:{top:20,right:0,bottom:100,left:100}},null,8,["data","xLabels"])])])]),n("div",Ny,[n("div",zy,[$[5]||($[5]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Presupuestos Intensivos en Carbono (PIC)")],-1)),n("div",Yy,[Ae(qa,{data:i.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),n("div",jy,[$[6]||($[6]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Presupuestos Sostenibles (PS)")],-1)),n("div",Hy,[Ae(qa,{data:d.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])])])]))}},cu=Ee(Gy,[["__scopeId","data-v-42787392"]]),qy={class:"map-container"},Uy={key:0,class:"loading-state"},Wy={key:1,class:"error-state"},Xy={key:2,class:"map-content"},Qy={class:"ranking-panel"},Ky={class:"body-ranking-panel"},Jy={class:"slider-ranking-panel"},Zy={__name:"HistoricalView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:$,handleStateClick:g,handleStateHover:y,handleStateLeave:b,resetSelection:w,initializeData:k}=s.mapsComposable||Yt(),{setChartData:H}=Da(),{statesDataForSlider:A,selectedStateIFSS:_,handleRangeChange:F,handleFilterChange:D,initialize:M}=bl(s.mapsComposable||Yt());return Ma(),Ce(i,(E,I)=>{if(E&&E!==I){const P=C(E);H(P),a("region-selected",{name:E,data:P})}else!E&&I&&a("region-selected",null)}),Ce(r,E=>{E&&a("map-error",E)}),Le(async()=>{await M()}),(E,I)=>(p(),m(me,null,[I[3]||(I[3]=n("div",{class:"filters-toggles-row"},null,-1)),n("div",qy,[X(l)?(p(),m("div",Uy,[...I[1]||(I[1]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):ie("",!0),X(r)?(p(),m("div",Wy,[n("p",null,"Error: "+O(X(r)),1),n("button",{onClick:I[0]||(I[0]=(...P)=>X(k)&&X(k)(...P)),class:"retry-btn"}," Reintentar ")])):ie("",!0),!X(l)&&!X(r)?(p(),m("div",Xy,[n("div",Qy,[I[2]||(I[2]=n("div",{class:"header-ranking-panel"},[n("h2",null,"Ingresos"),n("div",{class:"ranking-hamburger-menu"},[n("img",{src:ru,alt:"hamburger-menu",class:"hamburger-icon"})])],-1)),n("div",Ky,[n("div",Jy,[Ae(cu,{statesData:X(A),selectedStateValue:X(_),onRangeChange:X(F),onFilterChange:X(D)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])])):ie("",!0)])],64))}},eA=Ee(Zy,[["__scopeId","data-v-21a3f982"]]);function tA(e,t=!1){if(e==null)return 0;if(typeof e=="number")return isNaN(e)?0:e;let s=String(e).trim();if(s=s.replace(/^["']+|["']+$/g,"").trim(),s===""||s==='""'||s==="''")return 0;s=s.replace(/[$]/g,"").trim();const a=(s.match(/,/g)||[]).length,o=(s.match(/\./g)||[]).length;t&&(console.log(` parseNumber input: "${e}"  cleaned: "${s}"`),console.log(`   Comas: ${a}, Puntos: ${o}`));let l;if(a===0&&o===0)l=parseFloat(s)||0;else if(a>0&&o===0)if(a===1){const r=s.split(",");r[1].length===3&&/^\d+$/.test(r[0])&&/^\d{3}$/.test(r[1])?l=parseFloat(s.replace(",",""))||0:l=parseFloat(s.replace(",","."))||0}else l=parseFloat(s.replace(/,/g,""))||0;else if(o>0&&a===0)if(o===1){const r=s.split(".");r[1].length===3&&/^\d+$/.test(r[0])&&/^\d{3}$/.test(r[1])?l=parseFloat(s.replace(".",""))||0:l=parseFloat(s)||0}else l=parseFloat(s.replace(/\./g,""))||0;else{const r=s.lastIndexOf(","),i=s.lastIndexOf(".");r>i?l=parseFloat(s.replace(/\./g,"").replace(",","."))||0:l=parseFloat(s.replace(/,/g,""))||0}return t&&console.log(`   Resultado: ${l}`),l}function Lt(e,t,s=!1){if(!e||!t)return 0;const a=e[t];return a==null?(s&&console.log(` Columna '${t}' no existe. Disponibles:`,Object.keys(e)),0):tA(a,s)}const sA={key:0,class:"chart-card"},aA={class:"chart-card-header"},nA={class:"card-title"},oA={class:"chart-card-body"},lA={key:0,class:"loading-container"},rA={key:1,class:"error-container"},iA={key:2,class:"chart-col-bar"},cA={key:0,class:"donut-item"},uA={key:0,class:"no-data-state green"},dA={class:"no-data-text"},fA={key:2,class:"no-data-message"},vA={key:1,class:"donut-item"},hA={key:0,class:"no-data-state red"},pA={class:"no-data-text"},gA={key:2,class:"no-data-message"},mA={key:1,class:"chart-card"},bA={class:"chart-card-header"},yA={class:"card-title"},AA={class:"chart-card-body"},CA={key:0,class:"loading-container"},wA={key:1,class:"error-container"},_A={key:2,class:"chart-col-bar"},SA={key:0,class:"donut-item"},kA={key:0,class:"no-data-state green"},$A={class:"no-data-text"},xA={key:2,class:"no-data-message"},IA={key:1,class:"donut-item"},EA={key:0,class:"no-data-state red"},PA={class:"no-data-text"},FA={key:2,class:"no-data-message"},MA={__name:"RegionalChartsComponent",props:{selectedYear:{type:String,default:null},selectedVariable:{type:Object,default:null},ifssData:{type:Object,default:()=>({})}},emits:["years-loaded"],setup(e,{emit:t}){const s=e,a=t,o=N(()=>!!s.selectedVariable),l=N(()=>s.selectedVariable&&(s.selectedVariable.key==="PS"||s.selectedVariable.key==="PIC")),r=N(()=>s.selectedVariable&&(s.selectedVariable.key==="IS"||s.selectedVariable.key==="IIC")),{fetchData:i,loading:d,error:f}=ft(),c=j(!1),u=j([]),v=De("chartsPresupuestosRegional"),h=De("chartsIngresosRegional");De("cardIFSRegional");const C={presupuesto_total_reg:null,presupuesto_sostenible_reg:"POS_PS",presupuesto_carbono_reg:"POS_PIC",ingresos_total_reg:null,ingresos_sostenibles_reg:"POS_IS",ingresos_carbono_reg:"POS_IIC"},$={presupuesto_total_reg:null,presupuesto_sostenible_reg:"PS (%)",presupuesto_carbono_reg:"PIC (%)",ingresos_total_reg:null,ingresos_sostenibles_reg:"IS (%)",ingresos_carbono_reg:"IIC (%)"},g=te=>{if(!te||te.length===0)return[];const U="Ao",oe=[...new Set(te.map(pe=>pe[U]).filter(pe=>pe!=null&&pe!=="").map(pe=>String(pe).trim()))];return oe.sort((pe,fe)=>Number(fe)-Number(pe)),console.log(" [Regional] Aos extrados:",oe),oe},y=async()=>{try{console.log(" [Regional] Cargando datos regionales...");const te=Be("chartsPresupuestosRegional"),U=await i("chartsPresupuestosRegional",te);if(console.log(" [Regional] Datos cargados:",U==null?void 0:U.length,"filas"),U&&U.length>0){const oe=g(U);oe.length>0&&a("years-loaded",oe)}u.value=U||[],c.value=!0}catch(te){console.error(" [Regional] Error cargando datos:",te)}};Le(()=>y()),Ce(()=>s.selectedYear,async(te,U)=>{te!==U&&console.log(" [Regional] Ao cambi:",U,"->",te)});const b=N(()=>{if(!c.value||!u.value.length)return[];const te="Ao";return s.selectedYear?u.value.filter(U=>{const oe=String(U[te]).trim(),pe=String(s.selectedYear).trim();return oe===pe}):u.value}),w=N(()=>b.value),k=N(()=>b.value),H=(te,U,oe)=>{if(!te||!U||!oe)return{mainPercentage:0,sectors:[],totalSectorsValue:0};let pe=0;const fe=U.map(we=>{const Se=Lt(te,we.column);return pe+=Se,{key:we.key,label:we.label,value:Se,color:we.color,colorClass:we.colorClass}});return{mainPercentage:oe>0?Math.round(pe/oe*100):0,sectors:fe,totalSectorsValue:pe}},A=(te,U,oe=!0)=>{if(!te||!(U!=null&&U.variableColumns))return{variables:[]};const pe=U.variableColumns.map(fe=>{const ye=Lt(te,fe.column),we=C[fe.key],Se=we?Lt(te,we):null,Fe=$[fe.key],Me=Fe?Lt(te,Fe):null;return{key:fe.key,label:fe.label,value:ye,color:fe.color,colorClass:fe.colorClass,order:fe.order||0,position:Se||null,percentage:Me||null}});return pe.sort((fe,ye)=>fe.order-ye.order),{variables:pe}},_=N(()=>{if(!w.value.length)return{variables:[]};const te=A(w.value[0],v,!0);return s.selectedVariable&&te.variables.length>=3&&(s.selectedVariable.key==="PS"?te.variables=[te.variables[0],te.variables[1]].filter(U=>U):s.selectedVariable.key==="PIC"&&(te.variables=[te.variables[0],te.variables[2]].filter(U=>U))),te}),F=N(()=>{if(!k.value.length)return{variables:[]};const te=A(k.value[0],h,!1);return s.selectedVariable&&te.variables.length>=3&&(s.selectedVariable.key==="IS"?te.variables=[te.variables[0],te.variables[1]].filter(U=>U):s.selectedVariable.key==="IIC"&&(te.variables=[te.variables[0],te.variables[2]].filter(U=>U))),te}),D=N(()=>{var U;const te=(U=v==null?void 0:v.variableColumns)==null?void 0:U.find(oe=>oe.key==="presupuesto_total_reg"||oe.column==="PT"||oe.column==="PT ($)");return(te==null?void 0:te.column)||"PT"}),M=N(()=>{var U;const te=(U=h==null?void 0:h.variableColumns)==null?void 0:U.find(oe=>oe.key==="ingresos_total_reg"||oe.column==="IT"||oe.column==="IT ($)");return(te==null?void 0:te.column)||"IT ($)"}),E=N(()=>{if(!w.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const te=w.value[0],U=Lt(te,D.value),oe=(v==null?void 0:v.donutSectorsPSRegional)||[];return H(te,oe,U)}),I=N(()=>E.value.totalSectorsValue===0),P=N(()=>{if(!w.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const te=w.value[0],U=Lt(te,D.value),oe=(v==null?void 0:v.donutSectorsPICRegional)||[];return H(te,oe,U)}),B=N(()=>P.value.totalSectorsValue===0),T=N(()=>{if(!k.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const te=k.value[0],U=Lt(te,M.value),oe=(h==null?void 0:h.donutSectorsISRegional)||[];return H(te,oe,U)}),q=N(()=>T.value.totalSectorsValue===0),Q=N(()=>{if(!k.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const te=k.value[0],U=Lt(te,M.value),oe=(h==null?void 0:h.donutSectorsIICRegional)||[];return H(te,oe,U)}),Z=N(()=>Q.value.totalSectorsValue===0),re=N(()=>!w.value.length||I.value?[{label:"PS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"PS",value:E.value.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-E.value.mainPercentage,color:"#E8E8E8"}]),he=N(()=>I.value?[]:E.value.sectors),be=N(()=>`${re.value[0].value}%`),ne=N(()=>!w.value.length||B.value?[{label:"PIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"PIC",value:P.value.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-P.value.mainPercentage,color:"#E8E8E8"}]),ae=N(()=>B.value?[]:P.value.sectors),L=N(()=>`${ne.value[0].value}%`),le=N(()=>!k.value.length||q.value?[{label:"IS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"IS",value:T.value.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-T.value.mainPercentage,color:"#E8E8E8"}]),K=N(()=>q.value?[]:T.value.sectors),z=N(()=>`${le.value[0].value}%`),Y=N(()=>!k.value.length||Z.value?[{label:"IIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"IIC",value:Q.value.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-Q.value.mainPercentage,color:"#E8E8E8"}]),R=N(()=>Z.value?[]:Q.value.sectors),se=N(()=>`${Y.value[0].value}%`),G=N(()=>{var U,oe;const te=s.selectedYear?` en ${s.selectedYear}`:"";return((U=s.selectedVariable)==null?void 0:U.key)==="PS"?`Presupuestos Sostenibles (PS) con respecto al Presupuesto Total (PT)${te}`:((oe=s.selectedVariable)==null?void 0:oe.key)==="PIC"?`Presupuestos Intensivos en Carbono (PIC) con respecto al Presupuesto Total (PT)${te}`:`Presupuestos Intensivos en Carbono (PIC) y Presupuestos Sostenibles (PS) con respecto del gasto total${te}`}),x=N(()=>{var U,oe;const te=s.selectedYear?` en ${s.selectedYear}`:"";return((U=s.selectedVariable)==null?void 0:U.key)==="IS"?`Ingresos Sostenibles (IS) con respecto al Ingreso Total (IT)${te}`:((oe=s.selectedVariable)==null?void 0:oe.key)==="IIC"?`Ingresos Intensivos en Carbono (IIC) con respecto al Ingreso Total (IT)${te}`:`Proporcin del gasto asignado a Ingresos${te}`}),S=N(()=>`Presupuestos - Regional${s.selectedYear?` - ${s.selectedYear}`:""}`),V=N(()=>`Ingresos - Regional${s.selectedYear?` - ${s.selectedYear}`:""}`),W=N(()=>((v==null?void 0:v.donutSectorsPSRegional)||[]).map(U=>({key:U.key,label:U.label,colorClass:U.colorClass,active:!0}))),J=N(()=>((v==null?void 0:v.donutSectorsPICRegional)||[]).map(U=>({key:U.key,label:U.label,colorClass:U.colorClass,active:!0}))),ee=N(()=>((h==null?void 0:h.donutSectorsISRegional)||[]).map(U=>({key:U.key,label:U.label,colorClass:U.colorClass,active:!0}))),ue=N(()=>((h==null?void 0:h.donutSectorsIICRegional)||[]).map(U=>({key:U.key,label:U.label,colorClass:U.colorClass,active:!0})));return(te,U)=>(p(),m("div",{class:ge(["charts-wrapper",{"single-card":o.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"||e.selectedVariable.key==="IIC"?(p(),m("div",sA,[n("div",aA,[n("h4",nA,O(V.value),1)]),n("div",oA,[X(d)?(p(),m("div",lA,[...U[0]||(U[0]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):X(f)?(p(),m("div",rA,[n("p",null,"Error: "+O(X(f)),1)])):(p(),m("div",iA,[Ae(_n,{data:F.value,title:x.value,headerTitle:"Anlisis de Ingresos Regionales",selectedState:"Regional",selectedYear:e.selectedYear,currency:"USD"},null,8,["data","title","selectedYear"])])),!X(d)&&!X(f)?(p(),m("div",{key:3,class:ge(["chart-col-donuts",{"single-donut":r.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"?(p(),m("div",cA,[U[5]||(U[5]=ke('<div class="donut-header-dark" data-v-c275062a><div class="donut-header-icon green" data-v-c275062a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c275062a><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-c275062a></path></svg></div><span class="donut-header-title" data-v-c275062a>Sectores de Ingresos Sostenibles</span></div>',1)),q.value?(p(),m("div",uA,[U[4]||(U[4]=ke('<div class="no-data-icon" data-v-c275062a><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-c275062a><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-c275062a></circle><path d="M12 8v4M12 16h.01" data-v-c275062a></path></svg></div><h3 class="no-data-title" data-v-c275062a>Sin datos disponibles</h3>',2)),n("p",dA,[U[1]||(U[1]=We(" No se registraron ingresos en los sectores de ",-1)),U[2]||(U[2]=n("strong",null,"Ingresos Sostenibles",-1)),U[3]||(U[3]=We(" para el ao ",-1)),n("strong",null,O(e.selectedYear||"seleccionado"),1)])])):K.value.length>0?(p(),Pe(is,{key:`is-regional-${s.selectedYear}-${K.value.length}`,data:le.value,title:"IS",subtitle:z.value,size:220,variables:ee.value,sectors:K.value,currency:"USD"},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",fA,"Sin datos disponibles"))])):ie("",!0),!e.selectedVariable||e.selectedVariable.key==="IIC"?(p(),m("div",vA,[U[10]||(U[10]=ke('<div class="donut-header-dark" data-v-c275062a><div class="donut-header-icon red" data-v-c275062a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c275062a><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-c275062a></path><path d="M2 17l10 5 10-5" data-v-c275062a></path><path d="M2 12l10 5 10-5" data-v-c275062a></path></svg></div><span class="donut-header-title" data-v-c275062a>Sectores de Ingresos Int. en Carbono</span></div>',1)),Z.value?(p(),m("div",hA,[U[9]||(U[9]=ke('<div class="no-data-icon" data-v-c275062a><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-c275062a><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-c275062a></circle><path d="M12 8v4M12 16h.01" data-v-c275062a></path></svg></div><h3 class="no-data-title" data-v-c275062a>Sin datos disponibles</h3>',2)),n("p",pA,[U[6]||(U[6]=We(" No se registraron ingresos en los sectores de ",-1)),U[7]||(U[7]=n("strong",null,"Ingresos Intensivos en Carbono",-1)),U[8]||(U[8]=We(" para el ao ",-1)),n("strong",null,O(e.selectedYear||"seleccionado"),1)])])):R.value.length>0?(p(),Pe(is,{key:`iic-regional-${s.selectedYear}-${R.value.length}`,data:Y.value,title:"IIC",subtitle:se.value,size:220,variables:ue.value,sectors:R.value,currency:"USD"},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",gA,"Sin datos disponibles"))])):ie("",!0)],2)):ie("",!0)])])):ie("",!0),!e.selectedVariable||e.selectedVariable.key==="PS"||e.selectedVariable.key==="PIC"?(p(),m("div",mA,[n("div",bA,[n("h4",yA,O(S.value),1)]),n("div",AA,[X(d)?(p(),m("div",CA,[...U[11]||(U[11]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):X(f)?(p(),m("div",wA,[n("p",null,"Error: "+O(X(f)),1)])):(p(),m("div",_A,[Ae(_n,{data:_.value,title:G.value,headerTitle:"Anlisis de Presupuestos Regionales",selectedState:"Regional",selectedYear:e.selectedYear,currency:"USD"},null,8,["data","title","selectedYear"])])),!X(d)&&!X(f)?(p(),m("div",{key:3,class:ge(["chart-col-donuts",{"single-donut":l.value}])},[!e.selectedVariable||e.selectedVariable.key==="PS"?(p(),m("div",SA,[U[16]||(U[16]=ke('<div class="donut-header-dark" data-v-c275062a><div class="donut-header-icon green" data-v-c275062a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c275062a><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-c275062a></path></svg></div><span class="donut-header-title" data-v-c275062a>Sectores de Presupuestos Sostenibles</span></div>',1)),I.value?(p(),m("div",kA,[U[15]||(U[15]=ke('<div class="no-data-icon" data-v-c275062a><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-c275062a><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-c275062a></circle><path d="M12 8v4M12 16h.01" data-v-c275062a></path></svg></div><h3 class="no-data-title" data-v-c275062a>Sin datos disponibles</h3>',2)),n("p",$A,[U[12]||(U[12]=We(" No se registraron egresos en los sectores de ",-1)),U[13]||(U[13]=n("strong",null,"Presupuestos Sostenibles",-1)),U[14]||(U[14]=We(" para el ao ",-1)),n("strong",null,O(e.selectedYear||"seleccionado"),1)])])):he.value.length>0?(p(),Pe(is,{key:`ps-regional-${s.selectedYear}-${he.value.length}`,data:re.value,title:"PS",subtitle:be.value,size:220,variables:W.value,sectors:he.value,currency:"USD"},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",xA,"Sin datos disponibles"))])):ie("",!0),!e.selectedVariable||e.selectedVariable.key==="PIC"?(p(),m("div",IA,[U[21]||(U[21]=ke('<div class="donut-header-dark" data-v-c275062a><div class="donut-header-icon red" data-v-c275062a><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c275062a><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-c275062a></path><path d="M2 17l10 5 10-5" data-v-c275062a></path><path d="M2 12l10 5 10-5" data-v-c275062a></path></svg></div><span class="donut-header-title" data-v-c275062a>Sectores de Presupuestos Int. en Carbono</span></div>',1)),B.value?(p(),m("div",EA,[U[20]||(U[20]=ke('<div class="no-data-icon" data-v-c275062a><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-c275062a><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-c275062a></circle><path d="M12 8v4M12 16h.01" data-v-c275062a></path></svg></div><h3 class="no-data-title" data-v-c275062a>Sin datos disponibles</h3>',2)),n("p",PA,[U[17]||(U[17]=We(" No se registraron egresos en los sectores de ",-1)),U[18]||(U[18]=n("strong",null,"Presupuestos Intensivos en Carbono",-1)),U[19]||(U[19]=We(" para el ao ",-1)),n("strong",null,O(e.selectedYear||"seleccionado"),1)])])):ae.value.length>0?(p(),Pe(is,{key:`pic-regional-${s.selectedYear}-${ae.value.length}`,data:ne.value,title:"PIC",subtitle:L.value,size:220,variables:J.value,sectors:ae.value,currency:"USD"},null,8,["data","subtitle","variables","sectors"])):(p(),m("div",FA,"Sin datos disponibles"))])):ie("",!0)],2)):ie("",!0)])])):ie("",!0)],2))}},DA=Ee(MA,[["__scopeId","data-v-c275062a"]]),TA={class:"ifs-regional-card"},RA={class:"header-icon"},BA={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},VA={key:1,class:"icon-dollar"},LA={class:"header-text"},OA={class:"header-title"},NA={class:"year-badge"},zA={class:"card-body"},YA={key:0,class:"loading-state"},jA={key:1,class:"error-state"},HA={key:2,class:"content-wrapper content-ifs"},GA={class:"metrics-section"},qA={class:"metrics-title"},UA={class:"title-main"},WA={class:"title-sub"},XA={class:"metrics-row"},QA={class:"metric-card ifs-metric"},KA={class:"metric-gauge"},JA={viewBox:"0 0 140 140",class:"gauge-svg"},ZA=["stroke","stroke-dasharray"],eC={class:"gauge-center"},tC={class:"gauge-value"},sC={class:"metric-card position-metric"},aC={class:"position-badge position-green"},nC={class:"position-value-wrapper"},oC={class:"position-value"},lC={class:"legend-section"},rC={class:"legend-header"},iC=["innerHTML"],cC={class:"legend-scale"},uC={class:"scale-bar"},dC={class:"scale-labels"},fC={class:"label-text"},vC={class:"label-name"},hC={class:"label-range"},pC={key:3,class:"content-wrapper content-monetary"},gC={class:"content-center"},mC={class:"monetary-row"},bC={class:"monetary-label"},yC={class:"monetary-value-row"},AC={class:"monetary-amount"},CC={class:"monetary-unit"},wC={class:"position-value-monetary"},_C={class:"legend-section"},SC={class:"legend-header"},kC=["innerHTML"],$C={__name:"IFSRegionalCard",props:{selectedYear:{type:String,default:null},selectedVariable:{type:[Object,String],default:null}},setup(e){const t=e,{fetchData:s,loading:a,error:o}=ft(),l=j(0),r=j(null),i={IFS:{key:"IFS",headerTitle:"ndice de Finanzas Sostenibles",title:"Valor IFS",subtitle:"ndice de Finanzas Sostenibles",legendTitle:"Qu es el IFS?",legendDescription:"El <strong>ndice de Finanzas Sostenibles (IFS)</strong> mide el grado de sostenibilidad fiscal de Mxico, considerando la proporcin de ingresos y egresos destinados a actividades ambientalmente sostenibles versus aquellas intensivas en carbono.",valueColumn:"IFS",positionColumn:"POS_IFS",isMonetary:!1,headerClass:"header-default",colorTheme:"green"},PS:{key:"PS",headerTitle:"Presupuestos Sostenibles",title:"Valor Total PS",subtitle:"Presupuestos Sostenibles",legendTitle:"Qu son los Presupuestos Sostenibles?",legendDescription:"Los <strong>Presupuestos Sostenibles (PS)</strong> representan el monto del presupuesto federal destinado a actividades que promueven la sostenibilidad ambiental.",valueColumn:"PS ($)",positionColumn:"POS_PS",isMonetary:!0,headerClass:"header-green",colorTheme:"green"},IS:{key:"IS",headerTitle:"Ingresos Sostenibles",title:"Valor Total IS",subtitle:"Ingresos Sostenibles",legendTitle:"Qu son los Ingresos Sostenibles?",legendDescription:"Los <strong>Ingresos Sostenibles (IS)</strong> representan el monto de los ingresos federales provenientes de fuentes que promueven la sostenibilidad ambiental.",valueColumn:"IS ($)",positionColumn:"POS_IS",isMonetary:!0,headerClass:"header-green",colorTheme:"green"},PIC:{key:"PIC",headerTitle:"Presupuestos Intensivos en Carbono",title:"Valor Total PIC",subtitle:"Presupuestos Intensivos en Carbono",legendTitle:"Qu son los PIC?",legendDescription:"Los <strong>Presupuestos Intensivos en Carbono (PIC)</strong> representan el monto destinado a actividades con alta generacin de emisiones de carbono.",valueColumn:"PIC ($)",positionColumn:"POS_PIC",isMonetary:!0,headerClass:"header-red",colorTheme:"red"},IIC:{key:"IIC",headerTitle:"Ingresos Intensivos en Carbono",title:"Valor Total IIC",subtitle:"Ingresos Intensivos en Carbono",legendTitle:"Qu son los IIC?",legendDescription:"Los <strong>Ingresos Intensivos en Carbono (IIC)</strong> representan el monto de los ingresos provenientes de actividades relacionadas con combustibles fsiles.",valueColumn:"IIC ($)",positionColumn:"POS_IIC",isMonetary:!0,headerClass:"header-red",colorTheme:"red"}},d=[{range:"0.00 - 0.25",label:"Bajo",color:"#ef4444"},{range:"0.26 - 0.50",label:"Medio",color:"#f59e0b"},{range:"0.51 - 0.75",label:"Alto",color:"#7cb342"},{range:"0.76 - 1.00",label:"ptimo",color:"#22c55e"}],f=N(()=>{var A;return t.selectedVariable?typeof t.selectedVariable=="string"?t.selectedVariable:((A=t.selectedVariable)==null?void 0:A.key)||"IFS":"IFS"}),c=N(()=>i[f.value]||i.IFS),u=N(()=>f.value==="IFS"),v=N(()=>c.value.headerClass),h=N(()=>l.value===null||l.value===void 0?"":l.value.toFixed(2)),C=N(()=>{if(l.value===null||l.value===void 0)return"";const A=l.value;return A>=1e12?(A/1e12).toFixed(2):A>=1e9?(A/1e9).toFixed(2):A>=1e6?(A/1e6).toFixed(2):A>=1e3?(A/1e3).toFixed(2):A.toFixed(2)}),$=N(()=>{const A=l.value;return A>=1e12||A>=1e9?"Billones de dlares (USD)":A>=1e6?"Millones de dlares (USD)":A>=1e3?"Miles de dlares (USD)":"Dlares (USD)"}),g=N(()=>Math.min(l.value,1)*365),y=N(()=>{const A=l.value;return A<=.25?0:A<=.5?1:A<=.75?2:3}),b=N(()=>{var A;return((A=d[y.value])==null?void 0:A.color)||"#94a3b8"}),w=N(()=>{var A;return((A=d[y.value])==null?void 0:A.label)||""}),k=A=>y.value===A,H=async()=>{try{console.log(" [IFSRegionalCard] Cargando datos para:",f.value,"ao:",t.selectedYear);const A=Be("chartsPresupuestosRegional"),_=await s("chartsPresupuestosRegional",A);if(!_||_.length===0){console.warn(" [IFSRegionalCard] No hay datos");return}let F=_[0];if(t.selectedYear){const I=_.find(P=>String(P.Ao).trim()===String(t.selectedYear).trim());I&&(F=I)}console.log(" [IFSRegionalCard] Fila encontrada:",F);const D=c.value,M=D.valueColumn,E=D.positionColumn;console.log(" [IFSRegionalCard] Columnas - Valor:",M,"Posicin:",E),F.hasOwnProperty(M)?l.value=Lt(F,M):(console.warn(" [IFSRegionalCard] Columna no encontrada:",M),l.value=0),F.hasOwnProperty(E)?r.value=Math.round(Lt(F,E)):(console.warn(" [IFSRegionalCard] Columna no encontrada:",E),r.value=null),console.log(" [IFSRegionalCard] Valor:",l.value,"Posicin:",r.value)}catch(A){console.error(" [IFSRegionalCard] Error:",A)}};return Ce([()=>t.selectedYear,()=>t.selectedVariable],()=>{H()},{immediate:!1}),Le(()=>{H()}),(A,_)=>(p(),m("div",TA,[n("div",{class:ge(["card-header",v.value])},[n("div",RA,[u.value?(p(),m("svg",BA,[..._[0]||(_[0]=[n("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"},null,-1)])])):(p(),m("span",VA,"$"))]),n("div",LA,[n("h3",OA,O(c.value.headerTitle),1),_[1]||(_[1]=n("p",{class:"header-subtitle"},"Datos Federales Consolidados",-1))]),n("span",NA,O(e.selectedYear||""),1)],2),n("div",zA,[X(a)?(p(),m("div",YA,[..._[2]||(_[2]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):X(o)?(p(),m("div",jA,[n("p",null,O(X(o)),1)])):u.value?(p(),m("div",HA,[n("div",GA,[n("div",qA,[n("span",UA,O(c.value.title),1),n("span",WA,O(c.value.subtitle),1)]),n("div",XA,[n("div",QA,[n("div",KA,[(p(),m("svg",JA,[_[3]||(_[3]=n("circle",{cx:"70",cy:"70",r:"58",fill:"none",stroke:"#e5e7eb","stroke-width":"10"},null,-1)),n("circle",{cx:"70",cy:"70",r:"58",fill:"none",stroke:b.value,"stroke-width":"10","stroke-linecap":"round","stroke-dasharray":`${g.value} 365`,class:"gauge-progress"},null,8,ZA)])),n("div",eC,[n("span",tC,O(h.value),1),n("span",{class:"gauge-label",style:ve({color:b.value})},O(w.value),5)])])]),_[6]||(_[6]=n("div",{class:"metrics-divider"},null,-1)),n("div",sC,[n("div",aC,[_[5]||(_[5]=n("span",{class:"position-label"},"Posicin Internacional",-1)),n("div",nC,[_[4]||(_[4]=n("span",{class:"position-hash"},"#",-1)),n("span",oC,O(r.value||""),1)])])])])]),n("div",lC,[n("div",rC,[_[7]||(_[7]=n("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("path",{d:"M12 16v-4M12 8h.01"})],-1)),n("span",null,O(c.value.legendTitle),1)]),n("p",{class:"legend-description",innerHTML:c.value.legendDescription},null,8,iC),n("div",cC,[n("div",uC,[(p(),m(me,null,_e(d,(F,D)=>n("div",{key:D,class:"scale-segment",style:ve({background:F.color})},null,4)),64))]),n("div",dC,[(p(),m(me,null,_e(d,(F,D)=>n("div",{key:D,class:ge(["scale-label",{active:k(D)}])},[n("div",{class:"label-indicator",style:ve({background:F.color})},null,4),n("div",fC,[n("span",vC,O(F.label),1),n("span",hC,O(F.range),1)])],2)),64))])])])])):(p(),m("div",pC,[n("div",gC,[n("div",mC,[n("div",{class:ge(["monetary-main",c.value.colorTheme])},[n("div",bC,O(c.value.title),1),n("div",yC,[_[8]||(_[8]=n("span",{class:"monetary-currency"},"$",-1)),n("span",AC,O(C.value),1)]),n("div",CC,O($.value),1)],2),n("div",{class:ge(["position-card",c.value.colorTheme])},[_[9]||(_[9]=n("div",{class:"position-label-monetary"},"Posicin Internacional",-1)),n("div",wC,[n("span",{class:ge(["position-hash-monetary",c.value.colorTheme])},"#",2),We(O(r.value||""),1)])],2)])]),n("div",_C,[n("div",SC,[_[10]||(_[10]=n("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("path",{d:"M12 16v-4M12 8h.01"})],-1)),n("span",null,O(c.value.legendTitle),1)]),n("p",{class:"legend-description",innerHTML:c.value.legendDescription},null,8,kC)])]))])]))}},xC=Ee($C,[["__scopeId","data-v-90579705"]]),IC={key:0,class:"chart-header"},EC={class:"chart-title"},PC={class:"chart-content"},FC=["onMouseenter"],MC={class:"state-label"},DC={class:"bar-chart-area"},TC={class:"grid-lines"},RC={class:"bar-wrapper-horizontal"},BC={class:"bar-value"},VC={key:0,class:"empty-state"},LC={class:"x-axis"},OC={class:"x-axis-labels"},NC={class:"tick-label"},zC={class:"tooltip-content"},YC={class:"tooltip-info"},jC={class:"tooltip-label"},HC={class:"tooltip-value"},GC={class:"tooltip-classification"},qC={__name:"HorizontalRankingChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"100%"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},animationDelay:{type:Number,default:800},showAllBars:{type:Boolean,default:!1},initialBarsCount:{type:Number,default:4},valueFormatter:{type:Function,default:null},selectedState:{type:String,default:null}},setup(e){ll(A=>({"5ca00ab8":v.value}));const t=e,s=j(null),a=j({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=j([]),l=j({}),r=A=>{const _=parseFloat(A)||0;return _>=4?"#6ac952":_>=2.3?"#94d351":_>=1.9?"#bddc50":_>=1.5?"#e6a74c":_>.7?"#e67849":"#e52845"},i=A=>{const _=parseFloat(A)||0;return _>=4?"Alto":_>=2.3?"Medio Alto":_>=1.9?"Medio":_>=1.5?"Medio Bajo":_>.7?"Bajo":"Muy Bajo"},d=()=>{o.value=t.variables.map(A=>({key:A.key,label:A.label||A.key,value:A.value||0,colorClass:A.colorClass||"default",color:r(A.value),active:!1})),l.value={},t.variables.forEach(A=>{l.value[A.key]=0})},f=async()=>{await new Promise(_=>setTimeout(_,t.animationDelay));const A=t.showAllBars?o.value.length:Math.min(t.initialBarsCount,o.value.length);for(let _=0;_<A;_++){o.value[_].active=!0,await new Promise(M=>setTimeout(M,50));const F=w(o.value[_].value);l.value[o.value[_].key]=F;const D=t.showAllBars&&A>10?20:200;await new Promise(M=>setTimeout(M,D))}};Ce(()=>t.variables,()=>{d(),f()},{immediate:!0,deep:!0}),Le(()=>{f()});const c=N(()=>o.value.filter(A=>A.active)),u=A=>t.selectedState?A.label===t.selectedState||A.key===t.selectedState:!1,v=N(()=>{const A=c.value.length;if(A===0)return"100%";const _=30,F=36,M=(A-1)*3;return`calc((100% - ${_}px - ${F}px - ${M}px) / ${A})`}),h=N(()=>{const A=c.value.map(_=>_.value);return Math.max(...A,1)}),C=N(()=>{const A=h.value,_=A/5,F=[];for(let D=0;D<=5;D++){const M=_*D,E=M/A*100;F.push({value:M,label:M.toFixed(1),position:E})}return F}),$=N(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-60}px`})),g=(A,_)=>{s.value=A.key,a.value={visible:!0,x:_.clientX,y:_.clientY,label:A.label,value:A.value,color:A.color}},y=A=>{a.value.visible&&(a.value.x=A.clientX,a.value.y=A.clientY)},b=()=>{s.value=null,a.value.visible=!1},w=A=>{const _=A/h.value*100;return Math.min(_,100)},k=A=>l.value[A.key]||0,H=A=>t.valueFormatter?t.valueFormatter(A):typeof A=="number"?A.toFixed(1):A;return(A,_)=>(p(),m("div",{class:"horizontal-bar-chart",style:ve({width:e.width,height:e.height})},[e.title?(p(),m("div",IC,[n("h3",EC,O(e.title),1)])):ie("",!0),n("div",PC,[n("div",{class:ge(["bars-container",{"has-hover":s.value!==null||e.selectedState!==null}])},[(p(!0),m(me,null,_e(c.value,F=>(p(),m("div",{key:F.key,class:ge(["bar-row",{"is-hovered":s.value===F.key||u(F),"is-dimmed":s.value!==null&&s.value!==F.key||e.selectedState!==null&&!u(F)}]),onMouseenter:D=>g(F,D),onMousemove:_[0]||(_[0]=D=>y(D)),onMouseleave:b},[n("div",MC,O(F.label),1),n("div",DC,[n("div",TC,[(p(!0),m(me,null,_e(C.value,D=>(p(),m("div",{key:D.value,class:"grid-line",style:ve({left:D.position+"%"})},null,4))),128))]),n("div",RC,[n("div",{class:ge(["bar-horizontal",F.colorClass]),style:ve({width:k(F)+"%",background:F.color})},[n("span",BC,O(H(F.value)),1)],6)])])],42,FC))),128)),c.value.length===0?(p(),m("div",VC,[n("p",null,O(e.emptyMessage),1)])):ie("",!0)],2),n("div",LC,[_[1]||(_[1]=n("div",{class:"x-axis-spacer"},null,-1)),n("div",OC,[(p(!0),m(me,null,_e(C.value,F=>(p(),m("div",{key:F.value,class:"x-axis-tick",style:ve({left:F.position+"%"})},[n("span",NC,O(F.label),1)],4))),128))])])]),(p(),Pe(jt,{to:"body"},[a.value.visible?(p(),m("div",{key:0,class:"tooltip",style:ve($.value)},[n("div",zC,[n("div",{class:"tooltip-color",style:ve({backgroundColor:a.value.color})},null,4),n("div",YC,[n("div",jC,O(a.value.label),1),n("div",HC,"IFS: "+O(H(a.value.value)),1),n("div",GC,O(i(a.value.value)),1)])])],4)):ie("",!0)]))],4))}},UC=Ee(qC,[["__scopeId","data-v-e06f524c"]]),WC={class:"emisiones-chart-container"},XC={class:"chart-content"},QC=["onMouseenter"],KC={class:"bar-label"},JC={class:"bar-track"},ZC={class:"bar-value"},ew={class:"tooltip-body"},tw={class:"tooltip-value"},sw={class:"tooltip-percentage"},aw={__name:"EmisionesBarChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#0F3759","#1E5A8A","#2D7BB8","#5A9BD4","#8BBDE8"]},title:{type:String,default:""}},setup(e){const t=e,s=[{label:"Fuentes Fijas",value:3},{label:"Fuente Area",value:77},{label:"Carreteros",value:101},{label:"No Carreteros",value:5},{label:"Naturales",value:124}],a=N(()=>t.excelData||s),o=N(()=>a.value.length===0?1:Math.max(...a.value.map(h=>h.value))),l=N(()=>a.value.reduce((h,C)=>h+C.value,0)),r=h=>o.value===0?0:h/o.value*100,i=h=>h?new Intl.NumberFormat("es-MX").format(Math.round(h)):"0",d=j({visible:!1,x:0,y:0,label:"",value:0,color:"",percentage:0}),f=(h,C,$)=>{const g=l.value>0?(C.value/l.value*100).toFixed(1):0;d.value={visible:!0,x:$.clientX,y:$.clientY,label:C.label,value:C.value,color:t.colors[h%t.colors.length],percentage:g}},c=h=>{d.value.visible&&(d.value.x=h.clientX,d.value.y=h.clientY)},u=()=>{d.value.visible=!1},v=N(()=>({left:`${d.value.x+15}px`,top:`${d.value.y-60}px`}));return(h,C)=>(p(),m("div",WC,[n("div",XC,[(p(!0),m(me,null,_e(a.value,($,g)=>(p(),m("div",{key:g,class:"bar-row",onMouseenter:y=>f(g,$,y),onMousemove:C[0]||(C[0]=y=>c(y)),onMouseleave:u},[n("div",KC,[n("div",{class:"bar-color-dot",style:ve({backgroundColor:e.colors[g%e.colors.length]})},null,4),n("span",null,O($.label),1)]),n("div",JC,[n("div",{class:"bar-fill",style:ve({width:r($.value)+"%",backgroundColor:e.colors[g%e.colors.length]})},null,4)]),n("div",ZC,O(i($.value)),1)],40,QC))),128))]),(p(),Pe(jt,{to:"body"},[d.value.visible?(p(),m("div",{key:0,class:"chart-tooltip",style:ve(v.value)},[n("div",{class:"tooltip-header",style:ve({borderLeftColor:d.value.color})},O(d.value.label),5),n("div",ew,[n("span",tw,O(i(d.value.value)),1),C[1]||(C[1]=n("span",{class:"tooltip-unit"},"toneladas",-1))]),n("div",sw,O(d.value.percentage)+"% del total ",1)],4)):ie("",!0)]))]))}},nw=Ee(aw,[["__scopeId","data-v-366f5e5f"]]),ow={class:"ambientales-container"},lw={key:0,class:"global-empty-state"},rw={key:1,class:"card-body"},iw={class:"left-card-container"},cw={class:"incendios-card"},uw={class:"incendios-body"},dw={key:0,class:"loading-state"},fw={key:1,class:"error-state"},vw={class:"bottle-card"},hw={class:"bottle-body"},pw={key:0,class:"loading-state-small"},gw={key:1,class:"error-state-small"},mw={class:"bottle-graph-container"},bw={class:"bottle-values"},yw={class:"bottle-value-item"},Aw={class:"bottle-value-number"},Cw={class:"right-card-container"},ww={class:"top-right-card-container"},_w={class:"emisiones-card"},Sw={class:"emisiones-body"},kw={key:0,class:"loading-state-small"},$w={key:1,class:"error-state-small"},xw={class:"energia-card"},Iw={class:"energia-body"},Ew={key:0,class:"loading-state-small"},Pw={key:1,class:"error-state-small"},Fw={class:"gauge-graph"},Mw={class:"gauge-number"},Dw={class:"bottom-right-card-container"},Tw={class:"areas-card"},Rw={class:"areas-body"},Bw={key:0,class:"loading-state"},Vw={key:1,class:"error-state"},Lw={__name:"AmbientalesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=ft(),o=j([]),l=j(!1),r=j(null),i=async(E=null,I=null)=>{try{if(l.value=!0,r.value=null,!E){o.value=[],l.value=!1;return}I&&Re(I);const P=De("incendiosForestales"),B=Be("incendiosForestales"),T=await a("incendiosForestales",B);if(T.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const q=T.find(Z=>Z[P.categoryColumn]===E);if(!q){o.value=[],l.value=!1;return}const Q=P.variables.sort((Z,re)=>Z.order-re.order).map(Z=>({key:Z.key,label:Z.label,value:parseFloat(q[Z.column])||0,color:Z.color,colorClass:Z.colorClass||"default",active:!0}));o.value=Q}catch(P){console.error(" [Incendios] Error:",P),r.value=P.message}finally{l.value=!1}},d=j(0),f=j(0),c=j(!1),u=j(null),v=async(E=null,I=null)=>{try{if(c.value=!0,u.value=null,!E){d.value=0,f.value=0,c.value=!1;return}I&&Re(I);const P=De("residuosSolidos"),B=Be("residuosSolidos"),T=await a("residuosSolidos",B);if(T.length===0)throw new Error("No se obtuvieron datos");const q=T.reduce((Z,re)=>{const he=parseFloat(re[P.valueColumn])||0;return he>Z?he:Z},0),Q=T.find(Z=>Z[P.categoryColumn]===E);if(Q){const Z=parseFloat(Q[P.valueColumn])||0;if(d.value=Z,q>0){const re=Z/q*100*100;f.value=Math.min(re,100)}else f.value=0;console.log(` [Residuos] ${E}: ${Z.toLocaleString()} kg (${f.value.toFixed(1)}% botellas)`)}else d.value=0,f.value=0}catch(P){console.error(" [Residuos] Error:",P),u.value=P.message}finally{c.value=!1}},h=j([]),C=j(!1),$=j(null),g=async(E=null,I=null)=>{try{if(C.value=!0,$.value=null,!E){h.value=[],C.value=!1;return}I&&Re(I);const P=De("emisiones"),B=Be("emisiones"),T=await a("emisiones",B);if(T.length===0)throw new Error("No se obtuvieron datos");const q=T.find(Q=>Q[P.categoryColumn]===E);q?h.value=P.variables.map(Q=>({label:Q.label,value:parseFloat(q[Q.column])||0})):h.value=[]}catch(P){console.error(" [Emisiones] Error:",P),$.value=P.message}finally{C.value=!1}},y=j(0),b=j(0),w=j(!1),k=j(null),H=async(E=null,I=null)=>{console.log(" [Energa] ========== INICIANDO CARGA =========="),console.log(" [Energa] Entity:",E,"| Year:",I);try{if(w.value=!0,k.value=null,!E){console.log(" [Energa] Sin entidad, saliendo..."),y.value=0,b.value=0,w.value=!1;return}const P=De("energia");console.log(" [Energa] Mapping:",P);const B="2024";console.log(" [Energa] Sheet name:",B);const T=await a("energia",B);if(console.log(" [Energa] Datos obtenidos:",T.length,"filas"),T.length>0&&(console.log(" [Energa] Primera fila:",T[0]),console.log(" [Energa] Columnas disponibles:",Object.keys(T[0]))),T.length===0)throw new Error("No se obtuvieron datos");const q=T.reduce((Z,re)=>{const he=parseFloat(re[P.valueColumn])||0;return he>Z?he:Z},0);console.log(" [Energa] Valor mximo encontrado:",q);const Q=T.find(Z=>Z[P.categoryColumn]===E);if(console.log(" [Energa] Buscando entidad:",E),console.log(" [Energa] Fila encontrada:",Q),Q){const Z=parseFloat(Q[P.valueColumn])||0;y.value=Z,q>0?b.value=Z/q*100:b.value=0,console.log(` [Energa] ${E}: ${Z.toLocaleString()} GWh (${b.value.toFixed(1)}%)`)}else console.log(" [Energa]  No se encontr la entidad en los datos"),y.value=0,b.value=0}catch(P){console.error(" [Energa] Error:",P),k.value=P.message}finally{w.value=!1,console.log(" [Energa] ========== CARGA FINALIZADA =========="),console.log(" [Energa] Valor final:",y.value),console.log(" [Energa] Porcentaje final:",b.value)}},A=j([]),_=j(!1),F=j(null),D=async(E=null,I=null)=>{try{if(_.value=!0,F.value=null,!E){A.value=[],_.value=!1;return}I&&Re(I);const P=De("areasNaturales"),B=Be("areasNaturales"),T=await a("areasNaturales",B);if(T.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const q=T.find(Z=>Z[P.categoryColumn]===E);if(!q){A.value=[],_.value=!1;return}const Q=P.variables.map(Z=>({key:Z.key,label:Z.label,value:parseFloat(q[Z.column])||0,color:Z.color,colorClass:Z.colorClass||"default",active:!1}));A.value=Q}catch(P){console.error(" [reas Naturales] Error:",P),F.value=P.message}finally{_.value=!1}},M=E=>E?new Intl.NumberFormat("es-MX").format(E):"0";return Ce(()=>s.selectedEntity,E=>{console.log(" [AmbientalesView] Entity cambi a:",E),i(E,s.selectedYear),v(E,s.selectedYear),g(E,s.selectedYear),H(E,s.selectedYear),D(E,s.selectedYear)},{immediate:!1}),Ce(()=>s.selectedYear,E=>{console.log(" [AmbientalesView] Year cambi a:",E),s.selectedEntity&&(i(s.selectedEntity,E),v(s.selectedEntity,E),g(s.selectedEntity,E),H(s.selectedEntity,E),D(s.selectedEntity,E))},{immediate:!1}),Le(async()=>{console.log(" [AmbientalesView] Montado"),console.log(" [AmbientalesView] selectedEntity:",s.selectedEntity),console.log(" [AmbientalesView] selectedYear:",s.selectedYear),s.selectedEntity&&await Promise.all([i(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),g(s.selectedEntity,s.selectedYear),H(s.selectedEntity,s.selectedYear),D(s.selectedEntity,s.selectedYear)])}),(E,I)=>(p(),m("div",ow,[e.selectedEntity?(p(),m("div",rw,[n("div",iw,[n("div",cw,[I[4]||(I[4]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Incendios forestales en hectreas</span></div>',1)),n("div",uw,[l.value?(p(),m("div",dw,[...I[3]||(I[3]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):r.value?(p(),m("div",fw,[n("p",null,"Error: "+O(r.value),1),n("button",{onClick:I[0]||(I[0]=P=>i(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(ml,{key:2,variables:o.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])]),n("div",vw,[I[8]||(I[8]=ke('<div class="bottle-header" data-v-75645f7d><div class="bottle-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M3 6h18" data-v-75645f7d></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-75645f7d></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-75645f7d></path><line x1="10" y1="11" x2="10" y2="17" data-v-75645f7d></line><line x1="14" y1="11" x2="14" y2="17" data-v-75645f7d></line></svg></div><span class="bottle-header-title" data-v-75645f7d>Promedio diario de residuos slidos urbanos recolectados</span></div>',1)),n("div",hw,[c.value?(p(),m("div",pw,[...I[5]||(I[5]=[n("div",{class:"spinner-small"},null,-1)])])):u.value?(p(),m("div",gw,[...I[6]||(I[6]=[n("p",null,"Error cargando datos",-1)])])):(p(),m(me,{key:2},[n("div",mw,[Ae(ou,{value:f.value},null,8,["value"])]),n("div",bw,[n("div",yw,[n("span",Aw,O(M(d.value)),1),I[7]||(I[7]=n("span",{class:"bottle-value-unit"},"kg",-1))])])],64))])])]),n("div",Cw,[n("div",ww,[n("div",_w,[I[11]||(I[11]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z" data-v-75645f7d></path><path d="M22 10a3 3 0 0 0-3-3h-2.207a5.502 5.502 0 0 0-10.702.5" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Emisiones de contaminantes atmosfricos por fuente en toneladas</span></div>',1)),n("div",Sw,[C.value?(p(),m("div",kw,[...I[9]||(I[9]=[n("div",{class:"spinner-small"},null,-1)])])):$.value?(p(),m("div",$w,[...I[10]||(I[10]=[n("p",null,"Error cargando datos",-1)])])):(p(),Pe(nw,{key:2,excelData:h.value},null,8,["excelData"]))])]),n("div",xw,[I[14]||(I[14]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" data-v-75645f7d></polygon></svg></div><span class="card-header-title" data-v-75645f7d>Consumo de energa elctrica</span></div>',1)),n("div",Iw,[w.value?(p(),m("div",Ew,[...I[12]||(I[12]=[n("div",{class:"spinner-small"},null,-1)])])):k.value?(p(),m("div",Pw,[...I[13]||(I[13]=[n("p",null,"Error cargando datos",-1)])])):(p(),m(me,{key:2},[n("div",Fw,[Ae(nu,{value:b.value},null,8,["value"])]),n("div",Mw,O(M(y.value))+" GWh",1)],64))])])]),n("div",Dw,[n("div",Tw,[I[16]||(I[16]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path><path d="M7 16v6" data-v-75645f7d></path><path d="M13 19v3" data-v-75645f7d></path><path d="M18 10v.2A3 3 0 0 1 16.9 16v0H13v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>reas naturales protegidas</span></div>',1)),n("div",Rw,[_.value?(p(),m("div",Bw,[...I[15]||(I[15]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):F.value?(p(),m("div",Vw,[n("p",null,"Error: "+O(F.value),1),n("button",{onClick:I[1]||(I[1]=P=>D(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(lu,{key:2,variables:A.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(p(),m("div",lw,[...I[2]||(I[2]=[ke('<div class="empty-state-content" data-v-75645f7d><div class="empty-state-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-75645f7d></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-75645f7d></line><line x1="16" y1="6" x2="16" y2="22" data-v-75645f7d></line></svg></div><h2 class="empty-state-title" data-v-75645f7d>Selecciona una entidad</h2><p class="empty-state-description" data-v-75645f7d> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores ambientales. </p></div>',1)])]))]))}},Ow=Ee(Lw,[["__scopeId","data-v-75645f7d"]]),Nw={class:"person-chart"},zw={class:"persons-container"},Yw={class:"person-svg",viewBox:"0 0 32 44",preserveAspectRatio:"xMidYMid meet"},jw=["id"],Hw=["id"],Gw=["id"],qw=["fill"],Uw=["fill"],Ww=["clip-path"],Xw=["y","height","fill"],Qw={key:0,cx:"13",cy:"7",r:"2",fill:"rgba(255,255,255,0.35)",class:"shine"},Kw={__name:"PersonChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=j([0,0,0,0,0,0,0,0,0,0]),a=r=>{const i=[];for(let c=0;c<10;c++){const u=c*10,v=(c+1)*10;if(r<=u)i.push(0);else if(r>=v)i.push(100);else{const h=(r-u)/10*100;i.push(h)}}return i},o=r=>{s.value=[0,0,0,0,0,0,0,0,0,0];const i=120;r.forEach((d,f)=>{d>0&&setTimeout(()=>{l(f,d)},i*(f+1))})},l=(r,i)=>{const f=Date.now(),c=s.value[r],u=()=>{const v=Date.now()-f,h=Math.min(v/350,1),C=1-Math.pow(1-h,3);s.value[r]=c+(i-c)*C,s.value=[...s.value],h<1&&requestAnimationFrame(u)};requestAnimationFrame(u)};return Ce(()=>t.value,r=>{const i=a(r);o(i)},{immediate:!1}),Le(()=>{setTimeout(()=>{const r=a(t.value);o(r)},200)}),(r,i)=>(p(),m("div",Nw,[n("div",zw,[(p(),m(me,null,_e(10,d=>n("div",{key:d,class:"person-wrapper"},[(p(),m("svg",Yw,[n("defs",null,[n("linearGradient",{id:"emptyPersonGradient-"+d,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...i[0]||(i[0]=[n("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),n("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),n("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,jw),n("linearGradient",{id:"filledPersonGradient-"+d,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...i[1]||(i[1]=[n("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),n("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),n("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,Hw),n("clipPath",{id:"personClip-"+d},[...i[2]||(i[2]=[n("circle",{cx:"16",cy:"10",r:"8"},null,-1),n("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z"},null,-1)])],8,Gw)]),n("circle",{cx:"16",cy:"10",r:"8",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,qw),n("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,Uw),n("g",{"clip-path":"url(#personClip-"+d+")"},[n("rect",{x:"0",y:44-s.value[d-1]/100*44,width:"32",height:s.value[d-1]/100*44,fill:"url(#filledPersonGradient-"+d+")",class:"fill-rect"},null,8,Xw)],8,Ww),s.value[d-1]>=90?(p(),m("circle",Qw)):ie("",!0)]))])),64))])]))}},Jw=Ee(Kw,[["__scopeId","data-v-75983bbd"]]),Zw={class:"left-panel"},e_={class:"donut-container"},t_={class:"donut-svg",viewBox:"0 0 100 100"},s_=["stroke-dasharray","stroke-dashoffset"],a_={class:"donut-inner"},n_=["src","alt"],o_={key:1,class:"donut-icon-placeholder"},l_={class:"donut-percent"},r_={class:"right-panel"},i_={class:"main-value-section"},c_={class:"main-label"},u_={class:"main-value-row"},d_={key:0,class:"currency-symbol"},f_={class:"main-value"},v_={key:1,class:"value-unit"},h_={class:"info-grid"},p_={class:"info-item"},g_={class:"info-value"},m_={class:"info-item"},b_={class:"info-value"},y_={__name:"IconPercentageChart",props:{iconPath:{type:String,default:""},value:{type:Number,default:0,validator:e=>e>=0&&e<=100},fillColor:{type:String,default:"#1e3a5f"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},showPercentage:{type:Boolean,default:!0},altText:{type:String,default:"Icono"},animated:{type:Boolean,default:!0},animationDuration:{type:Number,default:1.5},progressiveAnimation:{type:Boolean,default:!0},startDelay:{type:Number,default:300},mainValue:{type:Number,default:0},mainLabel:{type:String,default:"PIB Estatal"},currencySymbol:{type:String,default:"$"},valueUnit:{type:String,default:"MDP"},entity:{type:String,default:""},period:{type:[String,Number],default:""}},setup(e){const t=e,s=j(0),a=j(0),o=j(!1),l=j(!1),r=N(()=>2*Math.PI*46),i=N(()=>{const u=s.value/100;return r.value*(1-u)}),d=N(()=>({width:typeof t.width=="number"?`${t.width}px`:t.width,height:typeof t.height=="number"?`${t.height}px`:t.height})),f=N(()=>t.mainValue?new Intl.NumberFormat("es-MX").format(t.mainValue):"0"),c=u=>{if(!t.progressiveAnimation||!t.animated){s.value=u,a.value=Math.round(u*100)/100;return}o.value=!0;const v=t.animationDuration*1e3,h=v*.33,C=v*.33,$=v*.34,g=Date.now(),y=()=>{const b=Date.now()-g;if(b<h){const w=b/h,k=1-Math.pow(1-w,3);s.value=k*100,a.value=Math.round(k*100*100)/100,requestAnimationFrame(y)}else if(b<h+C){const k=(b-h)/C,H=1-Math.pow(1-k,3);s.value=100-H*100,a.value=Math.round((100-H*100)*100)/100,requestAnimationFrame(y)}else if(b<v){const k=(b-h-C)/$,H=1-Math.pow(1-k,3);s.value=H*u,a.value=Math.round(H*u*100)/100,requestAnimationFrame(y)}else s.value=u,a.value=Math.round(u*100)/100,o.value=!1};requestAnimationFrame(y)};return Ce(()=>t.value,u=>{t.startDelay>0?setTimeout(()=>c(u),t.startDelay):c(u)}),Ce(()=>t.iconPath,()=>{l.value=!1}),Le(()=>{t.startDelay>0?setTimeout(()=>c(t.value),t.startDelay):c(t.value)}),(u,v)=>(p(),m("div",{class:"icon-percentage-container",style:ve(d.value)},[n("div",Zw,[n("div",e_,[(p(),m("svg",t_,[v[1]||(v[1]=n("circle",{class:"donut-bg",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#e2e8f0","stroke-width":"5"},null,-1)),n("circle",{class:"donut-progress",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#1e3a5f","stroke-width":"5","stroke-linecap":"round","stroke-dasharray":r.value,"stroke-dashoffset":i.value,transform:"rotate(-90 50 50)"},null,8,s_)])),n("div",a_,[e.iconPath&&!l.value?(p(),m("img",{key:0,src:e.iconPath,alt:e.altText,class:"donut-icon",onError:v[0]||(v[0]=h=>l.value=!0)},null,40,n_)):(p(),m("div",o_,[...v[2]||(v[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("path",{d:"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})],-1)])]))])]),n("div",l_,O(a.value)+"%",1)]),n("div",r_,[n("div",i_,[n("span",c_,O(e.mainLabel),1),n("div",u_,[e.currencySymbol?(p(),m("span",d_,O(e.currencySymbol),1)):ie("",!0),n("span",f_,O(f.value),1),e.valueUnit?(p(),m("span",v_,O(e.valueUnit),1)):ie("",!0)])]),n("div",h_,[n("div",p_,[v[3]||(v[3]=n("span",{class:"info-label"},"Entidad",-1)),n("span",g_,O(e.entity),1)]),n("div",m_,[v[4]||(v[4]=n("span",{class:"info-label"},"Periodo",-1)),n("span",b_,O(e.period),1)])])])],4))}},A_=Ee(y_,[["__scopeId","data-v-5b6394c5"]]),C_={class:"bullet-chart-container"},w_={key:0,class:"chart-header"},__={class:"chart-title"},S_={class:"bullet-label"},k_={class:"bullet-bar-container"},$_={key:1,class:"chart-legend"},x_={__name:"BulletChart",props:{variables:{type:Array,required:!0,default:()=>[]},title:{type:String,default:""},highlightState:{type:String,default:null},showLegend:{type:Boolean,default:!1},maxValue:{type:Number,default:20}},setup(e){const t=e,s=j(null),a=j(!1),o=N(()=>!t.variables||t.variables.length===0?[]:[...t.variables].sort((c,u)=>u.value-c.value)),l=()=>new Promise(c=>{if(!t.highlightState||!s.value){c();return}ze(()=>{setTimeout(()=>{const u=s.value,v=u==null?void 0:u.querySelector(".bullet-row.highlight");if(v&&u){const h=v.offsetTop,C=v.offsetHeight,$=u.clientHeight,g=h-$/2+C/2;u.scrollTo({top:Math.max(0,g),behavior:"smooth"}),setTimeout(()=>{c()},500)}else c()},100)})}),r=()=>{a.value=!0};Ce(()=>t.highlightState,async c=>{c&&(a.value=!1,await l(),r())},{immediate:!1}),Ce(()=>[t.variables,t.highlightState],async([c,u])=>{c&&c.length>0&&(a.value=!1,await ze(),u?(await l(),r()):setTimeout(()=>{r()},200))},{immediate:!0,deep:!0});const i=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),C=u*.05;return a.value?c>=0?{left:"50%",width:`${h}%`,transitionDelay:`${C}s`}:{right:"50%",width:`${h}%`,transitionDelay:`${C}s`}:{left:"50%",width:"0%",transitionDelay:`${C}s`}},d=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),C=u*.05;return a.value?c>=0?{left:`${50+h}%`,transform:"translateX(-50%)",transitionDelay:`${C}s`}:{left:`${50-h}%`,transform:"translateX(-50%)",transitionDelay:`${C}s`}:{left:"50%",transform:"translateX(-50%)",transitionDelay:`${C}s`}},f=c=>!c&&c!==0?"0.0":c>=0?`+${c.toFixed(1)}`:c.toFixed(1);return(c,u)=>(p(),m("div",C_,[e.title?(p(),m("div",w_,[n("h3",__,O(e.title),1)])):ie("",!0),n("div",{class:"chart-body",ref_key:"chartBodyRef",ref:s},[(p(!0),m(me,null,_e(o.value,(v,h)=>(p(),m("div",{key:v.key||h,class:ge(["bullet-row",{highlight:v.label===e.highlightState}])},[n("div",S_,O(v.label),1),n("div",k_,[u[0]||(u[0]=n("div",{class:"background-line"},null,-1)),u[1]||(u[1]=n("div",{class:"center-marker"},null,-1)),n("div",{class:ge(["value-line",{positive:v.value>=0,negative:v.value<0}]),style:ve(i(v.value,h))},null,6),n("div",{class:ge(["value-dot",{positive:v.value>=0,negative:v.value<0}]),style:ve(d(v.value,h))},null,6)]),n("div",{class:ge(["bullet-value",{positive:v.value>=0,negative:v.value<0}])},O(f(v.value))+"% ",3)],2))),128))],512),e.showLegend?(p(),m("div",$_,[...u[2]||(u[2]=[n("div",{class:"legend-item"},[n("div",{class:"legend-dot negative"}),n("span",null,"Decrecimiento")],-1),n("div",{class:"legend-item"},[n("div",{class:"legend-dot positive"}),n("span",null,"Crecimiento")],-1)])])):ie("",!0)]))}},I_=Ee(x_,[["__scopeId","data-v-e6f596a8"]]),E_={class:"economicos-container"},P_={key:0,class:"global-empty-state"},F_={key:1,class:"card-body"},M_={class:"left-card-container"},D_={class:"itaee-card"},T_={class:"card-header-dark"},R_={class:"info-tooltip"},B_={key:0,class:"tooltip-content"},V_={class:"itaee-body"},L_={key:0,class:"loading-state"},O_={key:1,class:"error-state"},N_={class:"pea-card"},z_={class:"card-header-dark"},Y_={class:"info-tooltip"},j_={key:0,class:"tooltip-content"},H_={class:"pea-body"},G_={key:0,class:"loading-state-small"},q_={key:1,class:"error-state-small"},U_={class:"person-graph-container"},W_={class:"person-values"},X_={class:"person-value-item"},Q_={class:"person-value-number"},K_={class:"right-card-container"},J_={class:"top-right-card-container"},Z_={class:"pib-card"},eS={class:"card-header-dark"},tS={class:"info-tooltip"},sS={key:0,class:"tooltip-content"},aS={class:"pib-body"},nS={key:0,class:"loading-state-small"},oS={key:1,class:"error-state-small"},lS={class:"bottom-right-card-container"},rS={class:"ingresos-card"},iS={class:"card-header-dark"},cS={class:"info-tooltip"},uS={key:0,class:"tooltip-content"},dS={class:"ingresos-body"},fS={key:0,class:"loading-state"},vS={key:1,class:"error-state"},hS={__name:"EconomicosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=ft(),o=j(!1),l=j(!1),r=j(!1),i=j(!1),d=I=>{if(typeof I=="number")return I;if(!I||I==="")return 0;let P=String(I).trim();if(P=P.replace(/\s/g,""),P.includes(",")&&P.includes("."))P=P.replace(/\./g,""),P=P.replace(/,/g,".");else if(P.includes(","))P=P.replace(/,/g,".");else if(P.includes(".")){const q=P.split("."),Q=q.length>2,Z=q[q.length-1].length===3;(Q||q.length===2&&Z)&&(P=P.replace(/\./g,""))}const T=parseFloat(P);return isNaN(T)?0:T},f=j([]),c=j(!1),u=j(null),v=async(I=null,P=null)=>{try{if(c.value=!0,u.value=null,!I){f.value=[],c.value=!1;return}P&&Re(P);const B=De("ingresoTotal"),T=Be("ingresoTotal"),q=await a("ingresoTotal",T);if(q.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const Q=q.find(re=>re[B.categoryColumn]===I);if(!Q){f.value=[],c.value=!1;return}const Z=B.variables.sort((re,he)=>re.order-he.order).map(re=>({key:re.key,label:re.label,value:d(Q[re.column]),color:re.color,colorClass:re.colorClass||"default",active:!0}));f.value=Z}catch(B){console.error(" [Ingreso Total] Error:",B),u.value=B.message}finally{c.value=!1}},h=j(0),C=j(0),$=j(!1),g=j(null),y=async(I=null,P=null)=>{try{if($.value=!0,g.value=null,!I){h.value=0,C.value=0,$.value=!1;return}P&&Re(P);const B=De("pea"),T=Be("pea"),q=await a("pea",T);if(q.length===0)throw new Error("No se obtuvieron datos");const Q=q.find(Z=>Z[B.categoryColumn]===I);if(Q){h.value=d(Q[B.valueColumn]);const Z=q.map(he=>d(he[B.valueColumn])).filter(he=>he>0),re=Math.max(...Z);C.value=re>0?h.value/re*100:0}else h.value=0,C.value=0}catch(B){console.error(" [PEA] Error:",B),g.value=B.message}finally{$.value=!1}},b=j(0),w=j(0),k=j(!1),H=j(null),A=async(I=null,P=null)=>{try{if(k.value=!0,H.value=null,!I){b.value=0,w.value=0,k.value=!1;return}P&&Re(P);const B=De("pib"),T=Be("pib"),q=await a("pib",T);if(q.length===0)throw new Error("No se obtuvieron datos");const Q=q.find(Z=>Z[B.categoryColumn]===I);if(Q){b.value=d(Q[B.valueColumn]);const re=q.map(he=>d(he[B.valueColumn])).filter(he=>he>0).reduce((he,be)=>he+be,0);w.value=re>0?b.value/re*100:0}else b.value=0,w.value=0}catch(B){console.error(" [PIB] Error:",B),H.value=B.message}finally{k.value=!1}},_=j([]),F=j(!1),D=j(null),M=async(I=null,P=null)=>{try{if(F.value=!0,D.value=null,!I){_.value=[],F.value=!1;return}P&&Re(P);const B=De("itaee"),T=Be("itaee"),q=await a("itaee",T);if(q.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const Q=B.variables[0],Z=q.map(re=>{const he=re[B.categoryColumn],be=re[Q.column],ne=d(be);return{key:he,label:he,value:ne,active:!0}}).filter(re=>re.label&&re.label.trim()!=="");_.value=Z}catch(B){console.error(" [ITAEE] Error:",B),D.value=B.message}finally{F.value=!1}},E=I=>I?new Intl.NumberFormat("es-MX").format(I):"0";return Ce(()=>s.selectedEntity,I=>{v(I,s.selectedYear),y(I,s.selectedYear),A(I,s.selectedYear),I?M(I,s.selectedYear):_.value=[]},{immediate:!1}),Ce(()=>s.selectedYear,I=>{s.selectedEntity&&(v(s.selectedEntity,I),y(s.selectedEntity,I),A(s.selectedEntity,I),M(s.selectedEntity,I))},{immediate:!1}),Le(async()=>{await Promise.all([v(s.selectedEntity,s.selectedYear),y(s.selectedEntity,s.selectedYear),A(s.selectedEntity,s.selectedYear),M(s.selectedEntity,s.selectedYear)])}),(I,P)=>(p(),m("div",E_,[e.selectedEntity?(p(),m("div",F_,[n("div",M_,[n("div",D_,[n("div",T_,[P[9]||(P[9]=n("div",{class:"card-header-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),P[10]||(P[10]=n("span",{class:"card-header-title"},"Indicador Trimestral de la Actividad Econmica Estatal (ITAEE)",-1)),n("div",R_,[n("button",{class:"info-btn",onClick:P[0]||(P[0]=B=>i.value=!i.value)},[...P[8]||(P[8]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[i.value?(p(),m("div",B_," Indicador que mide la evolucin trimestral de la actividad econmica de las entidades federativas. ")):ie("",!0)]),_:1})])]),n("div",V_,[F.value?(p(),m("div",L_,[...P[11]||(P[11]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):D.value?(p(),m("div",O_,[n("p",null,"Error: "+O(D.value),1),n("button",{onClick:P[1]||(P[1]=B=>M(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(I_,{key:2,variables:_.value,title:"",highlightState:e.selectedEntity,showLegend:!1,maxValue:20},null,8,["variables","highlightState"]))])]),n("div",N_,[n("div",z_,[P[13]||(P[13]=ke('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-c7eae3ac></path><circle cx="9" cy="7" r="4" data-v-c7eae3ac></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-c7eae3ac></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>Poblacin econmicamente activa</span>',2)),n("div",Y_,[n("button",{class:"info-btn",onClick:P[2]||(P[2]=B=>l.value=!l.value)},[...P[12]||(P[12]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[l.value?(p(),m("div",j_," Poblacin de 15 aos y ms que trabaja o busca activamente empleo en la entidad. ")):ie("",!0)]),_:1})])]),n("div",H_,[$.value?(p(),m("div",G_,[...P[14]||(P[14]=[n("div",{class:"spinner-small"},null,-1)])])):g.value?(p(),m("div",q_,[...P[15]||(P[15]=[n("p",null,"Error cargando datos",-1)])])):(p(),m(me,{key:2},[n("div",U_,[Ae(Jw,{value:C.value},null,8,["value"])]),n("div",W_,[n("div",X_,[n("span",Q_,O(E(h.value)),1),P[16]||(P[16]=n("span",{class:"person-value-unit"},"Personas",-1))])])],64))])])]),n("div",K_,[n("div",J_,[n("div",Z_,[n("div",eS,[P[18]||(P[18]=ke('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><line x1="12" y1="1" x2="12" y2="23" data-v-c7eae3ac></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>PIB Estatal (millones de pesos)</span>',2)),n("div",tS,[n("button",{class:"info-btn",onClick:P[3]||(P[3]=B=>r.value=!r.value)},[...P[17]||(P[17]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[r.value?(p(),m("div",sS," Producto Interno Bruto Estatal (PIBE), valor anual en millones de pesos corrientes. ")):ie("",!0)]),_:1})])]),n("div",aS,[k.value?(p(),m("div",nS,[...P[19]||(P[19]=[n("div",{class:"spinner-small"},null,-1)])])):H.value?(p(),m("div",oS,[P[20]||(P[20]=n("p",null,"Error al cargar datos",-1)),n("button",{onClick:P[4]||(P[4]=B=>A(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(A_,{key:2,iconPath:"/public/icons/pib-icon.png",value:w.value,mainValue:b.value,mainLabel:"PIB Estatal",currencySymbol:"$",valueUnit:"MDP",entity:e.selectedEntity,period:e.selectedYear,animated:!0,animationDuration:1.5,startDelay:300,showPercentage:!0},null,8,["value","mainValue","entity","period"]))])])]),n("div",lS,[n("div",rS,[n("div",iS,[P[22]||(P[22]=ke('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><rect x="1" y="4" width="22" height="16" rx="2" ry="2" data-v-c7eae3ac></rect><line x1="1" y1="10" x2="23" y2="10" data-v-c7eae3ac></line></svg></div><span class="card-header-title" data-v-c7eae3ac>Ingresos y Egresos Totales</span>',2)),n("div",cS,[n("button",{class:"info-btn",onClick:P[5]||(P[5]=B=>o.value=!o.value)},[...P[21]||(P[21]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[o.value?(p(),m("div",uS," Comparativa de ingresos y egresos totales de la entidad federativa seleccionada en miles de pesos. ")):ie("",!0)]),_:1})])]),n("div",dS,[c.value?(p(),m("div",fS,[...P[23]||(P[23]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):u.value?(p(),m("div",vS,[n("p",null,"Error: "+O(u.value),1),n("button",{onClick:P[6]||(P[6]=B=>v(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(ml,{key:2,variables:f.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(p(),m("div",P_,[...P[7]||(P[7]=[ke('<div class="empty-state-content" data-v-c7eae3ac><div class="empty-state-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-c7eae3ac></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-c7eae3ac></line><line x1="16" y1="6" x2="16" y2="22" data-v-c7eae3ac></line></svg></div><h2 class="empty-state-title" data-v-c7eae3ac>Selecciona una entidad</h2><p class="empty-state-description" data-v-c7eae3ac> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores econmicos. </p></div>',1)])]))]))}},pS=Ee(hS,[["__scopeId","data-v-c7eae3ac"]]),gS={class:"bars-list"},mS={class:"bar-left"},bS={class:"bar-label"},yS={class:"bar-center"},AS={class:"bar-background"},CS={class:"bar-right"},wS={class:"bar-value"},_S={class:"bar-percentage"},SS={__name:"HorizontalBarsList",props:{data:{type:Array,required:!0,default:()=>[]},showIcons:{type:Boolean,default:!0},formatAsCurrency:{type:Boolean,default:!1}},setup(e){const t=e,s=j(null),a=N(()=>!t.data||t.data.length===0?[]:[...t.data].sort((u,v)=>v.value-u.value)),o=N(()=>a.value.length===0?0:a.value.reduce((u,v)=>u+v.value,0)),l=N(()=>a.value.length===0?100:Math.max(...a.value.map(u=>u.value))),r=u=>o.value===0?0:Math.round(u/o.value*100),i=u=>l.value===0?0:Math.round(u/l.value*100),d=u=>u?t.formatAsCurrency?u>=1e6?`$${(u/1e6).toFixed(1)}M`:u>=1e3?`$${(u/1e3).toFixed(0)}K`:`$${Math.round(u)}`:u<10?u.toFixed(1):Math.round(u).toString():"0",f=u=>{(!u||!u.startsWith("#"))&&(u="#0F3759");const v=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),C=parseInt(u.slice(5,7),16),$=Math.max(0,v-30),g=Math.max(0,h-30),y=Math.max(0,C-30);return`linear-gradient(135deg, rgb(${v}, ${h}, ${C}) 0%, rgb(${$}, ${g}, ${y}) 100%)`},c=u=>({"Tasa de participacin":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),de("circle",{cx:"9",cy:"7",r:"4"}),de("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),de("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]),"Tasa de informalidad laboral":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),de("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]),"Tasa de desocupacin":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"}),de("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]),"CONEVAL 2020":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),de("polyline",{points:"14 2 14 8 20 8"}),de("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),de("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]),"PNUD 2022":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"}),de("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),de("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]),"Agua y drenaje":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})]),Residuos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polyline",{points:"3 6 5 6 21 6"}),de("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M12 2v20M2 12h20M7.5 7.5l9 9M16.5 7.5l-9 9"})]),"Cambio Climtico":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})]),Asentamientos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),de("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),de("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]),Admsostenible:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),de("path",{d:"M9 9h6v6H9z"})]),Transporte:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"1",y:"3",width:"15",height:"13"}),de("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),de("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),de("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),de("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),de("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),de("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),de("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),de("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})])})[u]||(()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"})]));return(u,v)=>(p(),m("div",{class:"horizontal-bars-container",ref_key:"containerRef",ref:s},[n("div",gS,[(p(!0),m(me,null,_e(a.value,(h,C)=>(p(),m("div",{key:C,class:"bar-item",style:ve({animationDelay:`${C*.05}s`})},[n("div",mS,[n("div",{class:"bar-icon",style:ve({background:f(h.color)})},[(p(),Pe(ji(c(h.label))))],4),n("span",bS,O(h.label),1)]),n("div",yS,[n("div",AS,[n("div",{class:"bar-fill",style:ve({width:`${i(h.value)}%`,background:h.color})},null,4)])]),n("div",CS,[n("span",wS,O(d(h.value)),1),n("span",_S,O(r(h.value))+"%",1)])],4))),128))])],512))}},qr=Ee(SS,[["__scopeId","data-v-80a58244"]]),kS={class:"person-chart"},$S=["viewBox"],xS=["cy","r","stroke"],IS=["cy","rx","ry"],ES=["transform"],PS={class:"scale-dots-indicator"},FS={class:"dots-container"},MS={__name:"ScalablePerson",props:{value:{type:Number,default:0}},setup(e){const t=e,s=N(()=>{if(t.value===0)return 0;const i=5e4,d=1e7,f=Math.log10(t.value),c=Math.log10(i),u=Math.log10(d),v=(f-c)/(u-c)*100;return Math.max(0,Math.min(100,v))}),a=N(()=>{const i=t.value;return i>=8e6?5:i>=4e6?4:i>=2e6?3:i>=1e6?2:1}),o=N(()=>95),l=N(()=>.9+s.value/100*.4),r=N(()=>o.value-22);return(i,d)=>(p(),m("div",kS,[(p(),m("svg",{viewBox:`0 0 100 ${o.value}`,class:"person-svg"},[d[1]||(d[1]=ke('<defs data-v-c85839ac><linearGradient id="personGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#2d5a87" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><linearGradient id="personGradientHead" x1="0%" y1="0%" x2="100%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#1e3a5f" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><filter id="personShadow" data-v-c85839ac><feDropShadow dx="0" dy="3" stdDeviation="2" flood-opacity="0.25" data-v-c85839ac></feDropShadow></filter></defs>',1)),(p(),m(me,null,_e(3,(f,c)=>n("circle",{key:"ring-"+c,cx:"50",cy:r.value,r:l.value*(25+c*15),fill:"none",stroke:"rgba(30, 58, 95, "+(.15-c*.04)+")","stroke-width":"1.5",class:"pulse-ring",style:ve({animationDelay:c*.4+"s"})},null,12,xS)),64)),n("ellipse",{cx:50,cy:o.value-2,rx:l.value*15,ry:l.value*4,fill:"rgba(15, 55, 89, 0.15)",class:"ground-shadow"},null,8,IS),n("g",{transform:`translate(50, ${r.value}) scale(${l.value})`,class:"person-figure",filter:"url(#personShadow)"},[...d[0]||(d[0]=[ke('<circle cx="0" cy="-30" r="10" fill="url(#personGradientHead)" class="person-head" data-v-c85839ac></circle><ellipse cx="-3" cy="-33" rx="3" ry="2" fill="rgba(255, 255, 255, 0.25)" data-v-c85839ac></ellipse><rect x="-7" y="-20" width="14" height="24" rx="3" fill="url(#personGradient)" class="person-body" data-v-c85839ac></rect><rect x="-15" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-left" data-v-c85839ac></rect><rect x="7" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-right" data-v-c85839ac></rect><rect x="-6" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-left" data-v-c85839ac></rect><rect x="2" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-right" data-v-c85839ac></rect>',7)])],8,ES)],8,$S)),n("div",PS,[n("div",FS,[(p(),m(me,null,_e(5,f=>n("span",{key:f,class:ge(["dot",{active:f<=a.value}])},null,2)),64))])])]))}},DS=Ee(MS,[["__scopeId","data-v-c85839ac"]]),TS={class:"idh-tree-container"},RS={__name:"IDHGauge",props:{value:{type:Number,default:0},maxValue:{type:Number,default:1}},setup(e){return(t,s)=>(p(),m("div",TS,[...s[0]||(s[0]=[ke('<svg viewBox="0 0 100 100" class="tree-svg" data-v-dc59d38c><defs data-v-dc59d38c><linearGradient id="trunkGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#0F3759" data-v-dc59d38c></stop><stop offset="100%" stop-color="#1a4d7a" data-v-dc59d38c></stop></linearGradient><linearGradient id="leavesGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#1a4d7a" data-v-dc59d38c></stop><stop offset="100%" stop-color="#2d5f8d" data-v-dc59d38c></stop></linearGradient></defs><g class="roots" opacity="0.3" data-v-dc59d38c><path d="M 50 85 Q 42 90 38 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path><path d="M 50 85 Q 58 90 62 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path></g><rect x="45" y="60" width="10" height="25" rx="1" fill="url(#trunkGradient)" class="trunk" data-v-dc59d38c></rect><g class="leaves" data-v-dc59d38c><ellipse cx="50" cy="60" rx="24" ry="16" fill="url(#leavesGradient)" class="leaf-layer leaf-bottom" data-v-dc59d38c></ellipse><ellipse cx="50" cy="50" rx="20" ry="14" fill="url(#leavesGradient)" class="leaf-layer leaf-middle" opacity="0.9" data-v-dc59d38c></ellipse><ellipse cx="50" cy="42" rx="15" ry="12" fill="url(#leavesGradient)" class="leaf-layer leaf-top" opacity="0.85" data-v-dc59d38c></ellipse></g><g class="detail-leaves" data-v-dc59d38c><circle cx="38" cy="56" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-1" data-v-dc59d38c></circle><circle cx="62" cy="54" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-2" data-v-dc59d38c></circle><circle cx="46" cy="46" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-3" data-v-dc59d38c></circle><circle cx="54" cy="48" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-4" data-v-dc59d38c></circle></g><g class="star-top" data-v-dc59d38c><circle cx="50" cy="34" r="3.5" fill="#4E6D82" opacity="0.8" class="star-glow" data-v-dc59d38c></circle><path d="M 50 30 L 50.5 33 L 53.5 33 L 51 35 L 52 38 L 50 36 L 48 38 L 49 35 L 46.5 33 L 49.5 33 Z" fill="white" opacity="0.9" class="star-shape" data-v-dc59d38c></path></g></svg>',1)])]))}},BS=Ee(RS,[["__scopeId","data-v-dc59d38c"]]),VS={class:"sociales-container"},LS={key:0,class:"global-empty-state"},OS={key:1,class:"card-body"},NS={class:"top-row"},zS={class:"desocupacion-section card"},YS={class:"card-header-dark"},jS={class:"info-tooltip"},HS={key:0,class:"tooltip-content"},GS={class:"card-body-content"},qS={key:0,class:"loading-state"},US={key:1,class:"error-state"},WS={class:"rezago-section card"},XS={class:"card-header-dark"},QS={class:"info-tooltip"},KS={key:0,class:"tooltip-content"},JS={class:"card-body-content"},ZS={key:0,class:"loading-state-small"},ek={key:1,class:"error-state-small"},tk={key:2,class:"indicator-content"},sk={class:"indicator-stats-row"},ak={class:"indicator-stat-card"},nk={class:"stat-info"},ok={class:"stat-value"},lk={class:"indicator-stat-card"},rk={class:"stat-info full-width"},ik={class:"indicator-progress-section"},ck={class:"progress-header"},uk={class:"progress-value-text"},dk={class:"animated-progress-bar"},fk={class:"progress-track"},vk={class:"gini-section card"},hk={class:"card-header-dark"},pk={class:"info-tooltip"},gk={key:0,class:"tooltip-content"},mk={class:"card-body-content"},bk={key:0,class:"loading-state"},yk={key:1,class:"error-state"},Ak={class:"bottom-row"},Ck={class:"marginacion-section card"},wk={class:"card-header-dark"},_k={class:"info-tooltip"},Sk={key:0,class:"tooltip-content"},kk={class:"card-body-content"},$k={key:0,class:"loading-state-small"},xk={key:1,class:"error-state-small"},Ik={key:2,class:"indicator-content horizontal-layout"},Ek={class:"indicator-stats-column"},Pk={class:"indicator-stat-card horizontal"},Fk={class:"stat-info"},Mk={class:"stat-value large"},Dk={class:"indicator-stat-card horizontal"},Tk={class:"stat-info"},Rk={class:"indicator-progress-column"},Bk={class:"circular-progress-container"},Vk={class:"circular-progress",viewBox:"0 0 100 100"},Lk={class:"circular-progress-text"},Ok={class:"progress-number"},Nk={class:"idh-section card"},zk={class:"card-header-dark"},Yk={class:"info-tooltip"},jk={key:0,class:"tooltip-content"},Hk={class:"card-body-content"},Gk={key:0,class:"loading-state-small"},qk={key:1,class:"error-state-small"},Uk={key:2,class:"idh-content"},Wk={class:"idh-main-content"},Xk={class:"idh-value-display"},Qk={class:"idh-big-value"},Kk={class:"idh-gauge-container"},Jk={class:"poblacion-section card"},Zk={class:"card-header-dark"},e$={class:"info-tooltip"},t$={key:0,class:"tooltip-content"},s$={class:"card-body-content"},a$={key:0,class:"loading-state-small"},n$={key:1,class:"error-state-small"},o$={key:2,class:"poblacion-content-new"},l$={class:"poblacion-header"},r$={class:"poblacion-value-large"},i$={class:"poblacion-visual"},c$={__name:"SocialesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=ft(),o=j(!1),l=j(!1),r=j(!1),i=j(!1),d=j(!1),f=j(!1),c=Y=>{if(typeof Y=="number")return Y;if(!Y||Y==="")return 0;let R=String(Y).trim();R=R.replace(/\s/g,""),R=R.replace(/\./g,""),R=R.replace(/,/g,".");const se=parseFloat(R);return isNaN(se)?0:se},u=Y=>{if(!Y)return"badge-blue-default";const R=Y.toLowerCase();return R.includes("muy bajo")?"badge-blue-lightest":R.includes("bajo")?"badge-blue-light":R.includes("medio")?"badge-blue-medium":R.includes("alto")&&!R.includes("muy")?"badge-blue-dark":R.includes("muy alto")?"badge-blue-darkest":"badge-blue-default"},v=Y=>{const R=2*Math.PI*40;return R-Y/100*R},h=j([]),C=j(!1),$=j(null),g=async(Y=null,R=null)=>{try{if(C.value=!0,$.value=null,!Y){h.value=[],C.value=!1;return}R&&Re(R);const se=De("desocupacion"),G=Be("desocupacion"),x=await a("desocupacion",G);if(x.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const S=x.find(W=>W[se.categoryColumn]===Y);if(!S){h.value=[],C.value=!1;return}const V=se.variables.sort((W,J)=>W.order-J.order).map(W=>({key:W.key,label:W.label,value:c(S[W.column]),color:W.color||"#0F3759",colorClass:W.colorClass||"blue",active:!0}));h.value=V}catch(se){console.error(" [Desocupacin] Error:",se),$.value=se.message}finally{C.value=!1}},y=j(0),b=j(""),w=j(0),k=j(!1),H=j(null),A=async(Y=null,R=null)=>{try{if(k.value=!0,H.value=null,!Y){y.value=0,b.value="",w.value=0,k.value=!1;return}R&&Re(R);const se=De("marginacion"),G=Be("marginacion"),x=await a("marginacion",G);if(x.length===0)throw new Error("No se obtuvieron datos");const S=x.find(V=>V[se.categoryColumn]===Y);S?(y.value=c(S[se.variables[0].column]),b.value=S[se.variables[1].column]||"",w.value=c(S[se.variables[2].column])):(y.value=0,b.value="",w.value=0)}catch(se){console.error(" [Marginacin] Error:",se),H.value=se.message}finally{k.value=!1}},_=j(0),F=j(!1),D=j(null),M=async(Y=null,R=null)=>{try{if(F.value=!0,D.value=null,!Y){_.value=0,F.value=!1;return}R&&Re(R);const se=De("idh"),G=Be("idh"),x=await a("idh",G);if(x.length===0)throw new Error("No se obtuvieron datos");const S=x.find(V=>V[se.categoryColumn]===Y);S?_.value=c(S[se.variables[0].column]):_.value=0}catch(se){console.error(" [IDH] Error:",se),D.value=se.message}finally{F.value=!1}},E=j(0),I=j(0),P=j(!1),B=j(null),T=async(Y=null,R=null)=>{try{if(P.value=!0,B.value=null,!Y){E.value=0,I.value=0,P.value=!1;return}R&&Re(R);const se=De("poblacion"),G=Be("poblacion"),x=await a("poblacion",G);if(x.length===0)throw new Error("No se obtuvieron datos");const S=x.find(V=>V[se.categoryColumn]===Y);if(S){E.value=c(S[se.variables[0].column]);const V=x.map(J=>c(J[se.variables[0].column])).filter(J=>J>0),W=Math.max(...V);I.value=W>0?E.value/W*100:0}else E.value=0,I.value=0}catch(se){console.error(" [Poblacin] Error:",se),B.value=se.message}finally{P.value=!1}},q=j(0),Q=j(""),Z=j(!1),re=j(null),he=async(Y=null,R=null)=>{try{if(Z.value=!0,re.value=null,!Y){q.value=0,Q.value="",Z.value=!1;return}R&&Re(R);const se=De("rezagoSocial"),G=Be("rezagoSocial"),x=await a("rezagoSocial",G);if(x.length===0)throw new Error("No se obtuvieron datos");const S=x.find(V=>V[se.categoryColumn]===Y);S?(q.value=c(S[se.variables[0].column]),Q.value=S[se.variables[1].column]||""):(q.value=0,Q.value="")}catch(se){console.error(" [Rezago Social] Error:",se),re.value=se.message}finally{Z.value=!1}},be=Y=>{if(Y===0)return 50;if(Y<0){const G=50-Math.abs(Y)/Math.abs(-13e5)*50;return Math.max(0,G)}else{const G=50+Y/27e5*50;return Math.min(100,G)}},ne=j([]),ae=j(!1),L=j(null),le=async(Y=null,R=null)=>{try{if(ae.value=!0,L.value=null,!Y){ne.value=[],ae.value=!1;return}R&&Re(R);const se=De("indiceGini"),G=Be("indiceGini"),x=await a("indiceGini",G);if(x.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const S=x.find(W=>W[se.categoryColumn]===Y);if(!S){ne.value=[],ae.value=!1;return}const V=se.variables.sort((W,J)=>W.order-J.order).map(W=>({key:W.key,label:W.label,value:c(S[W.column]),color:W.color||"#0F3759",colorClass:W.colorClass||"blue",active:!0}));ne.value=V}catch(se){console.error(" [ndice Gini] Error:",se),L.value=se.message}finally{ae.value=!1}},K=Y=>Y?new Intl.NumberFormat("es-MX").format(Y):"0",z=Y=>Y?Y>=1e6?(Y/1e6).toFixed(2)+"M":Y>=1e3?(Y/1e3).toFixed(0)+"K":new Intl.NumberFormat("es-MX").format(Y):"0";return Ce(()=>s.selectedEntity,Y=>{g(Y,s.selectedYear),A(Y,s.selectedYear),M(Y,s.selectedYear),T(Y,s.selectedYear),he(Y,s.selectedYear),le(Y,s.selectedYear)},{immediate:!1}),Ce(()=>s.selectedYear,Y=>{s.selectedEntity&&(g(s.selectedEntity,Y),A(s.selectedEntity,Y),M(s.selectedEntity,Y),T(s.selectedEntity,Y),he(s.selectedEntity,Y),le(s.selectedEntity,Y))},{immediate:!1}),Le(async()=>{await Promise.all([g(s.selectedEntity,s.selectedYear),A(s.selectedEntity,s.selectedYear),M(s.selectedEntity,s.selectedYear),T(s.selectedEntity,s.selectedYear),he(s.selectedEntity,s.selectedYear),le(s.selectedEntity,s.selectedYear)])}),(Y,R)=>(p(),m("div",VS,[e.selectedEntity?(p(),m("div",OS,[n("div",NS,[n("div",zS,[n("div",YS,[R[10]||(R[10]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="12" cy="7" r="4" data-v-ca4b2c59></circle><line x1="8" y1="11" x2="16" y2="11" data-v-ca4b2c59></line></svg></div><span class="card-header-title" data-v-ca4b2c59>Tasas de Desocupacin y Participacin</span>',2)),n("div",jS,[n("button",{class:"info-btn",onClick:R[0]||(R[0]=se=>o.value=!o.value)},[...R[9]||(R[9]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[o.value?(p(),m("div",HS," Indicadores de empleo que muestran la tasa de desocupacin y participacin laboral en la entidad. ")):ie("",!0)]),_:1})])]),n("div",GS,[C.value?(p(),m("div",qS,[...R[11]||(R[11]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):$.value?(p(),m("div",US,[n("p",null,"Error: "+O($.value),1),n("button",{onClick:R[1]||(R[1]=se=>g(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(qr,{key:2,data:h.value,showIcons:!0},null,8,["data"]))])]),n("div",WS,[n("div",XS,[R[13]||(R[13]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" data-v-ca4b2c59></path><polyline points="9 22 9 12 15 12 15 22" data-v-ca4b2c59></polyline></svg></div><span class="card-header-title" data-v-ca4b2c59>Rezago Social</span>',2)),n("div",QS,[n("button",{class:"info-btn",onClick:R[2]||(R[2]=se=>l.value=!l.value)},[...R[12]||(R[12]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[l.value?(p(),m("div",KS," ndice que mide carencias sociales como educacin, salud, servicios bsicos y vivienda. ")):ie("",!0)]),_:1})])]),n("div",JS,[Z.value?(p(),m("div",ZS,[...R[14]||(R[14]=[n("div",{class:"spinner-small"},null,-1)])])):re.value?(p(),m("div",ek,[...R[15]||(R[15]=[n("p",null,"Error cargando datos",-1)])])):(p(),m("div",tk,[n("div",sk,[n("div",ak,[R[17]||(R[17]=n("div",{class:"stat-icon-wrapper blue-gradient"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})])],-1)),n("div",nk,[R[16]||(R[16]=n("span",{class:"stat-label"},"NDICE",-1)),n("span",ok,O(K(q.value)),1)])]),n("div",lk,[n("div",rk,[R[18]||(R[18]=n("span",{class:"stat-label"},"GRADO",-1)),n("div",{class:ge(["stat-badge",u(Q.value)])},O(Q.value||"Sin datos"),3)])])]),n("div",ik,[n("div",ck,[R[19]||(R[19]=n("span",{class:"progress-title"},"NORMALIZADO",-1)),n("span",uk,O(be(q.value).toFixed(1))+"%",1)]),n("div",dk,[n("div",fk,[n("div",{class:"progress-fill animated",style:ve({"--target-width":be(q.value)+"%"})},null,4),R[20]||(R[20]=ke('<div class="progress-markers" data-v-ca4b2c59><span class="marker" style="left:0%;" data-v-ca4b2c59>0</span><span class="marker" style="left:25%;" data-v-ca4b2c59>25</span><span class="marker center" style="left:50%;" data-v-ca4b2c59>50</span><span class="marker" style="left:75%;" data-v-ca4b2c59>75</span><span class="marker" style="left:100%;" data-v-ca4b2c59>100</span></div>',1))])])])]))])]),n("div",vk,[n("div",hk,[R[22]||(R[22]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><line x1="18" y1="20" x2="18" y2="10" data-v-ca4b2c59></line><line x1="12" y1="20" x2="12" y2="4" data-v-ca4b2c59></line><line x1="6" y1="20" x2="6" y2="14" data-v-ca4b2c59></line><path d="M2 20h20" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Gini (Desigualdad)</span>',2)),n("div",pk,[n("button",{class:"info-btn",onClick:R[3]||(R[3]=se=>r.value=!r.value)},[...R[21]||(R[21]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[r.value?(p(),m("div",gk," Mide la desigualdad en la distribucin del ingreso. 0 = igualdad perfecta, 1 = desigualdad mxima. ")):ie("",!0)]),_:1})])]),n("div",mk,[ae.value?(p(),m("div",bk,[...R[23]||(R[23]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):L.value?(p(),m("div",yk,[n("p",null,"Error: "+O(L.value),1),n("button",{onClick:R[4]||(R[4]=se=>le(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(qr,{key:2,data:ne.value,showIcons:!0},null,8,["data"]))])])]),n("div",Ak,[n("div",Ck,[n("div",wk,[R[25]||(R[25]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" data-v-ca4b2c59></path><circle cx="12" cy="10" r="3" data-v-ca4b2c59></circle></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Marginacin</span>',2)),n("div",_k,[n("button",{class:"info-btn",onClick:R[5]||(R[5]=se=>i.value=!i.value)},[...R[24]||(R[24]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[i.value?(p(),m("div",Sk," Medida de dficit y carencias que padece la poblacin en educacin, vivienda e ingresos. ")):ie("",!0)]),_:1})])]),n("div",kk,[k.value?(p(),m("div",$k,[...R[26]||(R[26]=[n("div",{class:"spinner-small"},null,-1)])])):H.value?(p(),m("div",xk,[...R[27]||(R[27]=[n("p",null,"Error cargando datos",-1)])])):(p(),m("div",Ik,[n("div",Ek,[n("div",Pk,[R[29]||(R[29]=n("div",{class:"stat-icon-wrapper blue-gradient"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n("circle",{cx:"12",cy:"10",r:"3"})])],-1)),n("div",Fk,[R[28]||(R[28]=n("span",{class:"stat-label"},"NDICE",-1)),n("span",Mk,O(K(y.value)),1)])]),n("div",Dk,[n("div",Tk,[R[30]||(R[30]=n("span",{class:"stat-label"},"GRADO DE MARGINACIN",-1)),n("div",{class:ge(["stat-badge large",u(b.value)])},O(b.value||"Sin datos"),3)])])]),n("div",Rk,[n("div",Bk,[(p(),m("svg",Vk,[R[31]||(R[31]=n("circle",{class:"progress-bg",cx:"50",cy:"50",r:"40"},null,-1)),n("circle",{class:"progress-ring animated",cx:"50",cy:"50",r:"40",style:ve({"--target-offset":v(w.value*100)})},null,4)])),n("div",Lk,[n("span",Ok,O((w.value*100).toFixed(0)),1),R[32]||(R[32]=n("span",{class:"progress-percent"},"%",-1))])]),R[33]||(R[33]=n("span",{class:"progress-subtitle"},"Normalizado",-1))])]))])]),n("div",Nk,[n("div",zk,[R[35]||(R[35]=n("div",{class:"card-header-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),R[36]||(R[36]=n("span",{class:"card-header-title"},"ndice de Desarrollo Humano (IDH)",-1)),n("div",Yk,[n("button",{class:"info-btn",onClick:R[6]||(R[6]=se=>d.value=!d.value)},[...R[34]||(R[34]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[d.value?(p(),m("div",jk," Indicador que mide el desarrollo humano considerando salud, educacin y nivel de vida. ")):ie("",!0)]),_:1})])]),n("div",Hk,[F.value?(p(),m("div",Gk,[...R[37]||(R[37]=[n("div",{class:"spinner-small"},null,-1)])])):D.value?(p(),m("div",qk,[...R[38]||(R[38]=[n("p",null,"Error cargando datos",-1)])])):(p(),m("div",Uk,[n("div",Wk,[n("div",Xk,[n("span",Qk,O(_.value.toFixed(3)),1),R[39]||(R[39]=n("span",{class:"idh-label"},"ndice de Desarrollo Humano",-1))]),n("div",Kk,[Ae(BS,{value:_.value,maxValue:1},null,8,["value"])])])]))])]),n("div",Jk,[n("div",Zk,[R[41]||(R[41]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="9" cy="7" r="4" data-v-ca4b2c59></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-ca4b2c59></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>Poblacin Total</span>',2)),n("div",e$,[n("button",{class:"info-btn",onClick:R[7]||(R[7]=se=>f.value=!f.value)},[...R[40]||(R[40]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[f.value?(p(),m("div",t$," Nmero total de habitantes en la entidad federativa segn el ltimo censo. ")):ie("",!0)]),_:1})])]),n("div",s$,[P.value?(p(),m("div",a$,[...R[42]||(R[42]=[n("div",{class:"spinner-small"},null,-1)])])):B.value?(p(),m("div",n$,[...R[43]||(R[43]=[n("p",null,"Error cargando datos",-1)])])):(p(),m("div",o$,[n("div",l$,[n("span",r$,O(z(E.value)),1),R[44]||(R[44]=n("span",{class:"poblacion-subtitle"},"Personas",-1))]),n("div",i$,[Ae(DS,{value:E.value},null,8,["value"])])]))])])])])):(p(),m("div",LS,[...R[8]||(R[8]=[ke('<div class="empty-state-content" data-v-ca4b2c59><div class="empty-state-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-ca4b2c59></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-ca4b2c59></line><line x1="16" y1="6" x2="16" y2="22" data-v-ca4b2c59></line></svg></div><h2 class="empty-state-title" data-v-ca4b2c59>Selecciona una entidad</h2><p class="empty-state-description" data-v-ca4b2c59> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores sociales. </p></div>',1)])]))]))}},u$=Ee(c$,[["__scopeId","data-v-ca4b2c59"]]),d$={class:"gobernabilidad-container"},f$={key:0,class:"global-empty-state"},v$={key:1,class:"card-body"},h$={class:"main-header"},p$={class:"header-left"},g$={class:"header-info"},m$={class:"header-title"},b$={class:"header-subtitle"},y$={class:"header-right"},A$={class:"mini-donut"},C$={width:"32",height:"32",class:"donut-svg"},w$=["stroke-dashoffset"],_$={class:"donut-value"},S$={class:"mini-donut-label"},k$={class:"top-row"},$$={class:"section-card"},x$={class:"section-header"},I$={class:"section-value"},E$={key:0,class:"section-content loading-state"},P$={key:1,class:"section-content satisfaccion-content"},F$={class:"bars-container"},M$={class:"bar-column"},D$={class:"bar-value-text federal-color"},T$={class:"bar-track"},R$={class:"bar-column"},B$={class:"bar-value-text estatal-color"},V$={class:"bar-track"},L$={class:"section-card"},O$={key:0,class:"section-content loading-state"},N$={key:1,class:"section-content indices-content"},z$={class:"indice-row"},Y$={class:"indice-content"},j$={class:"indice-header"},H$={class:"indice-value"},G$={class:"indice-bar"},q$={class:"indice-row"},U$={class:"indice-content"},W$={class:"indice-header"},X$={class:"indice-value"},Q$={class:"indice-bar"},K$={class:"indice-row"},J$={class:"indice-content"},Z$={class:"indice-header"},e4={class:"indice-value"},t4={class:"indice-bar"},s4={class:"section-card"},a4={key:0,class:"section-content loading-state"},n4={key:1,class:"section-content pbrsed-content"},o4={class:"pbrsed-grid"},l4={class:"pbrsed-card"},r4={class:"pbrsed-icon-wrapper"},i4={class:"pbrsed-mini-ring"},c4={width:"16",height:"16",viewBox:"0 0 16 16"},u4=["stroke-dashoffset"],d4={class:"pbrsed-value"},f4={class:"pbrsed-card"},v4={class:"pbrsed-icon-wrapper"},h4=["stroke"],p4={class:"bottom-row"},g4={class:"section-card ici-card"},m4={class:"section-header"},b4={class:"section-value"},y4={key:0,class:"section-content loading-state"},A4={key:1,class:"section-content ici-content"},C4={class:"ici-row"},w4={class:"ici-bar-container"},_4={class:"ici-bar"},S4={class:"ici-bar-value"},k4={class:"ici-row"},$4={class:"ici-bar-container"},x4={class:"ici-bar"},I4={class:"ici-bar-value"},E4={class:"ici-row"},P4={class:"ici-bar-container"},F4={class:"ici-bar"},M4={class:"ici-bar-value"},D4={class:"ici-row"},T4={class:"ici-bar-container"},R4={class:"ici-bar"},B4={class:"ici-bar-value"},V4={__name:"GobernabilidadView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=ft(),o=B=>{if(typeof B=="number")return B;if(!B||B===""||B==="NA"||B==="ND")return 0;let T=String(B).trim();T=T.replace(/\s/g,""),T=T.replace(/\./g,""),T=T.replace(/,/g,".");const q=parseFloat(T);return isNaN(q)?0:q},l=j(0),r=j(0),i=j(!1),d=N(()=>((l.value+r.value)/2).toFixed(1)),f=async(B,T)=>{try{if(i.value=!0,!B){l.value=0,r.value=0;return}T&&Re(T);const q=De("satisfaccionFederal"),Q=Be("satisfaccionFederal"),Z=await a("satisfaccionFederal",Q),re=De("satisfaccionEstatal"),he=Be("satisfaccionEstatal"),be=await a("satisfaccionEstatal",he),ne=Z.find(L=>L[q.categoryColumn]===B),ae=be.find(L=>L[re.categoryColumn]===B);l.value=ne?o(ne[q.variables[0].column]):0,r.value=ae?o(ae[re.variables[0].column]):0}catch(q){console.error(" [Satisfaccin] Error:",q)}finally{i.value=!1}},c=j(0),u=j(0),v=j(0),h=j(!1),C=N(()=>[{label:"IGOPP",value:c.value},{label:"BIPE",value:u.value},{label:"ITDIF",value:v.value}]),$=async(B,T)=>{try{if(h.value=!0,!B){c.value=0,u.value=0,v.value=0;return}T&&Re(T);const q=De("IGOPP"),Q=Be("IGOPP"),re=(await a("IGOPP",Q)).find(Y=>Y[q.categoryColumn]===B);c.value=re?o(re[q.variables[0].column]):0;const he=De("BIPE"),be=Be("BIPE"),ae=(await a("BIPE",be)).find(Y=>Y[he.categoryColumn]===B);u.value=ae?o(ae[he.variables[0].column]):0;const L=De("ITDIF"),le=Be("ITDIF"),z=(await a("ITDIF",le)).find(Y=>Y[L.categoryColumn]===B);v.value=z?o(z[L.variables[0].column]):0}catch(q){console.error(" [ndices] Error:",q)}finally{h.value=!1}},g=j(0),y=j(0),b=j(0),w=j(0),k=j(!1),H=async(B,T)=>{try{if(k.value=!0,!B){g.value=0,y.value=0,b.value=0,w.value=0;return}T&&Re(T);const q=De("ICI"),Q=Be("ICI"),re=(await a("ICI",Q)).find(he=>he[q.categoryColumn]===B);re&&(g.value=o(re[q.variables[0].column]),y.value=o(re[q.variables[1].column]),b.value=o(re[q.variables[2].column]),w.value=o(re[q.variables[3].column]))}catch(q){console.error(" [ICI] Error:",q)}finally{k.value=!1}},A=j(0),_=j("N/A"),F=j(!1),D=N(()=>{const B=_.value.toLowerCase();return B.includes("alto")&&!B.includes("medio")?"diagnostico-alto":B.includes("medio")?"diagnostico-medio":B.includes("bajo")?"diagnostico-bajo":""}),M=N(()=>{const B=_.value.toLowerCase();return B.includes("alto")&&!B.includes("medio")?"diagnostico-bg-alto":B.includes("medio")?"diagnostico-bg-medio":B.includes("bajo")?"diagnostico-bg-bajo":"diagnostico-bg-default"}),E=N(()=>{const B=_.value.toLowerCase();return B.includes("alto")&&!B.includes("medio")?"#059669":B.includes("medio")?"#d97706":B.includes("bajo")?"#dc2626":"#0F3759"}),I=async(B,T)=>{try{if(F.value=!0,!B){A.value=0,_.value="N/A";return}T&&Re(T);const q=De("PBRSED"),Q=Be("PBRSED"),re=(await a("PBRSED",Q)).find(he=>he[q.categoryColumn]===B);re&&(A.value=o(re[q.variables[0].column]),_.value=re[q.variables[1].column]||"N/A")}catch(q){console.error(" [PBRSED] Error:",q)}finally{F.value=!1}},P=async(B,T)=>{await Promise.all([f(B,T),$(B,T),H(B,T),I(B,T)])};return Ce(()=>s.selectedEntity,B=>{P(B,s.selectedYear)},{immediate:!1}),Ce(()=>s.selectedYear,B=>{s.selectedEntity&&P(s.selectedEntity,B)},{immediate:!1}),Le(()=>{P(s.selectedEntity,s.selectedYear)}),(B,T)=>(p(),m("div",d$,[e.selectedEntity?(p(),m("div",v$,[n("div",h$,[n("div",p$,[T[1]||(T[1]=n("div",{class:"header-icon-badge"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[n("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n("polyline",{points:"9 22 9 12 15 12 15 22"})])],-1)),n("div",g$,[n("span",m$,"Gobernabilidad y Transparencia "+O(e.selectedYear),1),n("span",b$,O(e.selectedEntity),1)])]),n("div",y$,[(p(!0),m(me,null,_e(C.value,(q,Q)=>(p(),m("div",{key:Q,class:"mini-donut-container"},[n("div",A$,[(p(),m("svg",C$,[T[2]||(T[2]=n("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"rgba(255,255,255,0.2)","stroke-width":"2.5"},null,-1)),n("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"white","stroke-width":"2.5","stroke-dasharray":75.4,"stroke-dashoffset":75.4-q.value/100*75.4,"stroke-linecap":"round",class:"progress-ring"},null,8,w$)])),n("span",_$,O(Math.round(q.value)),1)]),n("span",S$,O(q.label),1)]))),128))])]),n("div",k$,[n("div",$$,[n("div",x$,[T[3]||(T[3]=ke('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-4b3266d1></path><circle cx="9" cy="7" r="4" data-v-4b3266d1></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-4b3266d1></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>Satisfaccin Ciudadana</span></div>',1)),n("span",I$,O(d.value)+"%",1)]),i.value?(p(),m("div",E$,[...T[4]||(T[4]=[n("div",{class:"spinner"},null,-1)])])):(p(),m("div",P$,[n("div",F$,[n("div",M$,[n("span",D$,O(l.value)+"%",1),n("div",T$,[n("div",{class:"bar-fill federal-fill",style:ve({height:l.value+"%"})},null,4)]),T[5]||(T[5]=n("div",{class:"bar-label"},[n("span",{class:"dot federal-dot"}),n("span",null,"Federal")],-1))]),T[7]||(T[7]=n("div",{class:"separator"},[n("div",{class:"sep-line"}),n("span",{class:"sep-text"},"vs"),n("div",{class:"sep-line"})],-1)),n("div",R$,[n("span",B$,O(r.value)+"%",1),n("div",V$,[n("div",{class:"bar-fill estatal-fill",style:ve({height:r.value+"%"})},null,4)]),T[6]||(T[6]=n("div",{class:"bar-label"},[n("span",{class:"dot estatal-dot"}),n("span",null,"Estatal")],-1))])])]))]),n("div",L$,[T[15]||(T[15]=ke('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><path d="M12 6v6l4 2" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>ndices de Gobierno</span></div></div>',1)),h.value?(p(),m("div",O$,[...T[8]||(T[8]=[n("div",{class:"spinner"},null,-1)])])):(p(),m("div",N$,[n("div",z$,[T[10]||(T[10]=ke('<div class="indice-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><path d="M3 21h18" data-v-4b3266d1></path><path d="M5 21V7l7-4 7 4v14" data-v-4b3266d1></path><path d="M9 21v-6h6v6" data-v-4b3266d1></path></svg></div>',1)),n("div",Y$,[n("div",j$,[T[9]||(T[9]=n("span",{class:"indice-label"},"IGOPP",-1)),n("span",H$,O(c.value),1)]),n("div",G$,[n("div",{class:"indice-bar-fill",style:ve({width:c.value+"%"})},null,4)])])]),n("div",q$,[T[12]||(T[12]=n("div",{class:"indice-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),n("path",{d:"M9 12l2 2 4-4"})])],-1)),n("div",U$,[n("div",W$,[T[11]||(T[11]=n("span",{class:"indice-label"},"BIPE",-1)),n("span",X$,O(u.value),1)]),n("div",Q$,[n("div",{class:"indice-bar-fill",style:ve({width:u.value+"%"})},null,4)])])]),n("div",K$,[T[14]||(T[14]=n("div",{class:"indice-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n("polyline",{points:"14 2 14 8 20 8"})])],-1)),n("div",J$,[n("div",Z$,[T[13]||(T[13]=n("span",{class:"indice-label"},"ITDIF",-1)),n("span",e4,O(v.value),1)]),n("div",t4,[n("div",{class:"indice-bar-fill",style:ve({width:Math.min(v.value,100)+"%"})},null,4)])])])]))]),n("div",s4,[T[22]||(T[22]=ke('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="12" y1="1" x2="12" y2="23" data-v-4b3266d1></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>PbR-SED</span></div></div>',1)),F.value?(p(),m("div",a4,[...T[16]||(T[16]=[n("div",{class:"spinner"},null,-1)])])):(p(),m("div",n4,[n("div",o4,[n("div",l4,[n("div",r4,[T[18]||(T[18]=ke('<div class="pbrsed-icon-bg" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div>',1)),n("div",i4,[(p(),m("svg",c4,[T[17]||(T[17]=n("circle",{cx:"8",cy:"8",r:"6",fill:"white",stroke:"#e5e7eb","stroke-width":"1.5"},null,-1)),n("circle",{cx:"8",cy:"8",r:"5",fill:"none",stroke:"#0F3759","stroke-width":"1.5","stroke-dasharray":31.4,"stroke-dashoffset":31.4-A.value/100*31.4,"stroke-linecap":"round",transform:"rotate(-90 8 8)"},null,8,u4)]))])]),n("span",d4,O(A.value),1),T[19]||(T[19]=n("span",{class:"pbrsed-label"},"PBRSED",-1))]),n("div",f4,[n("div",v4,[n("div",{class:ge(["pbrsed-icon-bg",M.value])},[(p(),m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:E.value,"stroke-width":"2"},[...T[20]||(T[20]=[n("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),n("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"},null,-1),n("path",{d:"M9 14l2 2 4-4"},null,-1)])],8,h4))],2)]),n("span",{class:ge(["pbrsed-value diagnostico-text",D.value])},O(_.value),3),T[21]||(T[21]=n("span",{class:"pbrsed-label"},"DIAGNSTICO",-1))])])]))])]),n("div",p4,[n("div",g4,[n("div",m4,[T[23]||(T[23]=ke('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div><span class="section-title" data-v-4b3266d1>ICI</span></div>',1)),n("span",b4,O(g.value),1)]),k.value?(p(),m("div",y4,[...T[24]||(T[24]=[n("div",{class:"spinner"},null,-1)])])):(p(),m("div",A4,[n("div",C4,[T[25]||(T[25]=ke('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><rect x="3" y="3" width="18" height="18" rx="2" data-v-4b3266d1></rect><line x1="8" y1="15" x2="8" y2="9" data-v-4b3266d1></line><line x1="12" y1="15" x2="12" y2="7" data-v-4b3266d1></line><line x1="16" y1="15" x2="16" y2="11" data-v-4b3266d1></line></svg></div><span class="ici-label" data-v-4b3266d1>ICI General</span>',2)),n("div",w4,[n("div",_4,[n("div",{class:"ici-bar-fill",style:ve({width:Math.min(g.value,100)+"%"})},[n("span",S4,O(g.value),1)],4)])])]),n("div",k4,[T[26]||(T[26]=ke('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><line x1="10" y1="6" x2="21" y2="6" data-v-4b3266d1></line><line x1="10" y1="12" x2="21" y2="12" data-v-4b3266d1></line><line x1="10" y1="18" x2="21" y2="18" data-v-4b3266d1></line><path d="M3 6l2 2 4-4" data-v-4b3266d1></path><path d="M3 12l2 2 4-4" data-v-4b3266d1></path><path d="M3 18l2 2 4-4" data-v-4b3266d1></path></svg></div><span class="ici-label" data-v-4b3266d1>Consistencia</span>',2)),n("div",$4,[n("div",x4,[n("div",{class:"ici-bar-fill",style:ve({width:Math.min(y.value,100)+"%"})},[n("span",I4,O(y.value),1)],4)])])]),n("div",E4,[T[27]||(T[27]=n("div",{class:"ici-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])],-1)),T[28]||(T[28]=n("span",{class:"ici-label"},"Proyectos",-1)),n("div",P4,[n("div",F4,[n("div",{class:"ici-bar-fill",style:ve({width:Math.min(b.value,100)+"%"})},[n("span",M4,O(b.value),1)],4)])])]),n("div",D4,[T[29]||(T[29]=ke('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><circle cx="12" cy="12" r="6" data-v-4b3266d1></circle><circle cx="12" cy="12" r="2" data-v-4b3266d1></circle></svg></div><span class="ici-label" data-v-4b3266d1>Indicadores</span>',2)),n("div",T4,[n("div",R4,[n("div",{class:"ici-bar-fill",style:ve({width:Math.min(w.value,100)+"%"})},[n("span",B4,O(w.value),1)],4)])])])]))])])])):(p(),m("div",f$,[...T[0]||(T[0]=[ke('<div class="empty-state-content" data-v-4b3266d1><div class="empty-state-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-4b3266d1><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-4b3266d1></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-4b3266d1></line><line x1="16" y1="6" x2="16" y2="22" data-v-4b3266d1></line></svg></div><h2 class="empty-state-title" data-v-4b3266d1>Selecciona una entidad</h2><p class="empty-state-description" data-v-4b3266d1> Selecciona una entidad federativa para ver los indicadores de gobernabilidad. </p></div>',1)])]))]))}},L4=Ee(V4,[["__scopeId","data-v-4b3266d1"]]),O4={class:"sector-finance-container"},N4={class:"section-header"},z4={class:"section-title"},Y4={class:"header-stats"},j4={class:"stat-pill finance"},H4={class:"stat-value"},G4={class:"stat-pill programs"},q4={class:"stat-value"},U4={class:"sectors-grid"},W4={class:"sector-main"},X4={class:"sector-name-row"},Q4={class:"sector-name"},K4={class:"sector-percentage"},J4={class:"bar-track"},Z4={class:"sector-values"},ex={class:"value-finance"},tx={class:"value-number"},sx={class:"value-programs"},ax={class:"section-footer"},nx={class:"footer-stat"},ox={class:"footer-value"},lx={class:"footer-stat"},rx={class:"footer-value"},ix={class:"footer-stat"},cx={class:"footer-value"},ux={__name:"SectorFinanceCard",props:{financiamientos:{type:Array,default:()=>[]},programas:{type:Array,default:()=>[]},title:{type:String,default:"Financiamientos y Programas por Sector"}},setup(e){const t=e,s=N(()=>!t.financiamientos||t.financiamientos.length===0?[]:t.financiamientos.map(g=>{const y=t.programas.find(b=>{var w,k;return b.key===g.key||b.label===g.label||((w=b.label)==null?void 0:w.toLowerCase())===((k=g.label)==null?void 0:k.toLowerCase())});return{key:g.key,label:g.label,financiamiento:g.value||0,programas:y?y.value:0,color:g.color||"#0F3759"}}).sort((g,y)=>y.financiamiento-g.financiamiento)),a=N(()=>s.value.reduce((g,y)=>g+y.financiamiento,0)),o=N(()=>s.value.reduce((g,y)=>g+y.programas,0)),l=N(()=>s.value.filter(g=>g.financiamiento>0||g.programas>0).length),r=N(()=>l.value===0?0:a.value/l.value),i=N(()=>s.value.length===0?0:o.value/s.value.length),d=N(()=>s.value.length===0?100:Math.max(...s.value.map(g=>g.financiamiento))),f=g=>d.value===0?0:Math.round(g/d.value*100),c=g=>a.value===0?0:Math.round(g/a.value*100),u=g=>!g||g===0?"$0":g>=1e9?`$${(g/1e9).toFixed(1)}B`:g>=1e6?`$${(g/1e6).toFixed(1)}M`:g>=1e3?`$${(g/1e3).toFixed(0)}K`:`$${Math.round(g).toLocaleString("es-MX")}`,v=g=>((!g||!g.startsWith("#"))&&(g="#0F3759"),`linear-gradient(135deg, ${g} 0%, ${C(g,15)} 100%)`),h=(g,y)=>{if(!g||!g.startsWith("#"))return"#4a90d9";const b=parseInt(g.slice(1),16),w=Math.round(2.55*y),k=Math.min(255,(b>>16)+w),H=Math.min(255,(b>>8&255)+w),A=Math.min(255,(b&255)+w);return`#${(1<<24|k<<16|H<<8|A).toString(16).slice(1)}`},C=(g,y)=>{if(!g||!g.startsWith("#"))return"#0a2540";const b=parseInt(g.slice(1),16),w=Math.round(2.55*y),k=Math.max(0,(b>>16)-w),H=Math.max(0,(b>>8&255)-w),A=Math.max(0,(b&255)-w);return`#${(1<<24|k<<16|H<<8|A).toString(16).slice(1)}`},$=g=>({"Agua y drenaje":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),de("path",{d:"M3 9h18M9 21V9"})]),Residuos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polyline",{points:"3 6 5 6 21 6"}),de("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M7 20l4-16M17 20V4M3 8h4M17 8h4M6 16h4"})]),"Cambio Climtico":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"5"}),de("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),de("line",{x1:"12",y1:"21",x2:"12",y2:"23"})]),Asentamientos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),de("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),de("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]),Admsostenible:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),de("polyline",{points:"22 4 12 14.01 9 11.01"})]),Transporte:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"1",y:"3",width:"15",height:"13"}),de("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),de("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),de("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"1"}),de("circle",{cx:"19",cy:"12",r:"1"}),de("circle",{cx:"5",cy:"12",r:"1"})])})[g]||(()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"})]));return(g,y)=>(p(),m("div",O4,[n("div",N4,[n("h3",z4,O(e.title),1),n("div",Y4,[n("div",j4,[y[0]||(y[0]=n("span",{class:"stat-icon"},"",-1)),n("span",H4,O(u(a.value)),1)]),n("div",G4,[y[1]||(y[1]=n("span",{class:"stat-icon"},"",-1)),n("span",q4,O(o.value)+" prog.",1)])])]),n("div",U4,[(p(!0),m(me,null,_e(s.value,(b,w)=>(p(),m("div",{key:b.key,class:ge(["sector-row",{"has-data":b.financiamiento>0||b.programas>0}]),style:ve({animationDelay:`${w*.03}s`})},[n("div",{class:"sector-icon",style:ve({background:v(b.color)})},[(p(),Pe(ji($(b.label))))],4),n("div",W4,[n("div",X4,[n("span",Q4,O(b.label),1),n("span",K4,O(c(b.financiamiento))+"%",1)]),n("div",J4,[n("div",{class:"bar-fill",style:ve({width:`${f(b.financiamiento)}%`,background:`linear-gradient(90deg, ${b.color} 0%, ${h(b.color,20)} 100%)`})},null,4)])]),n("div",Z4,[n("div",ex,[n("span",tx,O(u(b.financiamiento)),1),y[2]||(y[2]=n("span",{class:"value-label"},"Financiamiento",-1))]),y[4]||(y[4]=n("div",{class:"value-divider"},null,-1)),n("div",sx,[n("div",{class:ge(["programs-circle",{active:b.programas>0}]),style:ve(b.programas>0?{background:b.color}:{})},O(b.programas),7),y[3]||(y[3]=n("span",{class:"value-label"},"Prog.",-1))])])],6))),128))]),n("div",ax,[n("div",nx,[n("span",ox,O(l.value)+"/"+O(s.value.length),1),y[5]||(y[5]=n("span",{class:"footer-label"},"Sectores",-1))]),y[8]||(y[8]=n("div",{class:"footer-divider"},null,-1)),n("div",lx,[n("span",rx,O(u(r.value)),1),y[6]||(y[6]=n("span",{class:"footer-label"},"Prom/sector",-1))]),y[9]||(y[9]=n("div",{class:"footer-divider"},null,-1)),n("div",ix,[n("span",cx,O(i.value.toFixed(1)),1),y[7]||(y[7]=n("span",{class:"footer-label"},"Prog. prom",-1))])])]))}},dx=Ee(ux,[["__scopeId","data-v-bcf9c46f"]]),fx={class:"presupuestos-container"},vx={key:0,class:"global-empty-state"},hx={key:1,class:"card-body"},px={class:"top-section"},gx={key:0,class:"loading-state-inline"},mx={key:1,class:"error-state-inline"},bx={key:2,class:"presupuesto-compact"},yx={class:"presupuesto-left"},Ax={class:"presupuesto-info"},Cx={class:"presupuesto-label"},wx={class:"presupuesto-entity"},_x={class:"presupuesto-center"},Sx={class:"presupuesto-value"},kx={class:"presupuesto-right"},$x={class:"mini-stat"},xx={class:"mini-stat-value"},Ix={class:"mini-stat"},Ex={class:"mini-stat-value"},Px={class:"mini-stat"},Fx={class:"mini-stat-value"},Mx={class:"bottom-section"},Dx={class:"combined-section"},Tx={key:0,class:"loading-state"},Rx={key:1,class:"error-state"},Bx={__name:"PresupuestosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=ft(),o=_=>{if(typeof _=="number")return _;if(!_||_===""||_==="NA"||_==="ND"||_==="N/A")return 0;let F=String(_).trim();F=F.replace(/\s/g,""),F=F.replace(/\./g,""),F=F.replace(/,/g,".");const D=parseFloat(F);return isNaN(D)?0:D},l=j(0),r=j(!1),i=j(null),d=async(_=null,F=null)=>{try{if(r.value=!0,i.value=null,!_){l.value=0,r.value=!1;return}F&&Re(F);const D=De("presupuestoEstatal"),M=Be("presupuestoEstatal"),E=await a("presupuestoEstatal",M);if(E.length===0)throw new Error("No se obtuvieron datos");const I=E.find(P=>P[D.categoryColumn]===_);I?l.value=o(I[D.variables[0].column]):l.value=0}catch(D){i.value=D.message}finally{r.value=!1}},f=j([]),c=j(!1),u=j(null),v=async(_=null,F=null)=>{try{if(c.value=!0,u.value=null,!_){f.value=[],c.value=!1;return}F&&Re(F);const D=De("financiamientos"),M=Be("financiamientos"),E=await a("financiamientos",M);if(E.length===0)throw new Error("No se obtuvieron datos");const I=E.find(B=>B[D.categoryColumn]===_);if(!I){f.value=[],c.value=!1;return}const P=D.variables.sort((B,T)=>B.order-T.order).map(B=>({key:B.key,label:B.label,value:o(I[B.column]),color:B.color,colorClass:B.colorClass||"blue",active:!0}));f.value=P}catch(D){u.value=D.message}finally{c.value=!1}},h=j([]),C=j(!1),$=j(null),g=async(_=null,F=null)=>{try{if(C.value=!0,$.value=null,!_){h.value=[],C.value=!1;return}F&&Re(F);const D=De("programas"),M=Be("programas"),E=await a("programas",M);if(E.length===0)throw new Error("No se obtuvieron datos");const I=E.find(B=>B[D.categoryColumn]===_);if(!I){h.value=[],C.value=!1;return}const P=D.variables.sort((B,T)=>B.order-T.order).map(B=>({key:B.key,label:B.label,value:o(I[B.column]),color:B.color,colorClass:B.colorClass||"blue",active:!0}));h.value=P}catch(D){$.value=D.message}finally{C.value=!1}},y=N(()=>f.value.filter(_=>_.value>0).length),b=N(()=>h.value.reduce((_,F)=>_+F.value,0)),w=N(()=>f.value.reduce((_,F)=>_+F.value,0)),k=_=>_?_>=1e9?(_/1e9).toFixed(2)+" B":_>=1e6?(_/1e6).toFixed(2)+" M":_>=1e3?(_/1e3).toFixed(2)+" K":new Intl.NumberFormat("es-MX").format(_):"0",H=_=>!_||_===0?"$0":_>=1e9?`$${(_/1e9).toFixed(1)}B`:_>=1e6?`$${(_/1e6).toFixed(1)}M`:_>=1e3?`$${(_/1e3).toFixed(0)}K`:`$${Math.round(_)}`,A=()=>{d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),g(s.selectedEntity,s.selectedYear)};return Ce(()=>s.selectedEntity,_=>{d(_,s.selectedYear),v(_,s.selectedYear),g(_,s.selectedYear)},{immediate:!1}),Ce(()=>s.selectedYear,_=>{s.selectedEntity&&(d(s.selectedEntity,_),v(s.selectedEntity,_),g(s.selectedEntity,_))},{immediate:!1}),Le(async()=>{await Promise.all([d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),g(s.selectedEntity,s.selectedYear)])}),(_,F)=>(p(),m("div",fx,[e.selectedEntity?(p(),m("div",hx,[n("div",px,[r.value?(p(),m("div",gx,[...F[1]||(F[1]=[n("div",{class:"spinner-mini"},null,-1)])])):i.value?(p(),m("div",mx,[...F[2]||(F[2]=[n("span",null,"Error cargando datos",-1)])])):(p(),m("div",bx,[n("div",yx,[F[3]||(F[3]=n("div",{class:"icon-badge"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})])],-1)),n("div",Ax,[n("span",Cx,"Presupuesto Estatal "+O(e.selectedYear),1),n("span",wx,O(e.selectedEntity),1)])]),n("div",_x,[F[4]||(F[4]=n("span",{class:"currency"},"$",-1)),n("span",Sx,O(k(l.value)),1),F[5]||(F[5]=n("span",{class:"currency-unit"},"MDP",-1))]),n("div",kx,[n("div",$x,[n("span",xx,O(y.value),1),F[6]||(F[6]=n("span",{class:"mini-stat-label"},"Sectores",-1))]),n("div",Ix,[n("span",Ex,O(b.value),1),F[7]||(F[7]=n("span",{class:"mini-stat-label"},"Programas",-1))]),n("div",Px,[n("span",Fx,O(H(w.value)),1),F[8]||(F[8]=n("span",{class:"mini-stat-label"},"Financ.",-1))])])]))]),n("div",Mx,[n("div",Dx,[c.value||C.value?(p(),m("div",Tx,[...F[9]||(F[9]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):u.value||$.value?(p(),m("div",Rx,[n("p",null,"Error: "+O(u.value||$.value),1),n("button",{onClick:A,class:"retry-btn"},"Reintentar")])):(p(),Pe(dx,{key:2,financiamientos:f.value,programas:h.value,title:"Financiamientos y Programas por Sector"},null,8,["financiamientos","programas"]))])])])):(p(),m("div",vx,[...F[0]||(F[0]=[ke('<div class="empty-state-content" data-v-12808adb><div class="empty-state-icon" data-v-12808adb><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-12808adb><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-12808adb></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-12808adb></line><line x1="16" y1="6" x2="16" y2="22" data-v-12808adb></line></svg></div><h2 class="empty-state-title" data-v-12808adb>Selecciona una entidad</h2><p class="empty-state-description" data-v-12808adb> Selecciona una entidad federativa para ver los indicadores de presupuesto. </p></div>',1)])]))]))}},Vx=Ee(Bx,[["__scopeId","data-v-12808adb"]]),Lx={key:0,class:"collapsed-view"},Ox={key:1,class:"expanded-view"},Nx={key:0,class:"buttons-container"},zx={key:1,class:"inner-card"},Yx={key:2,class:"inner-card"},jx={key:3,class:"inner-card"},Hx={key:4,class:"inner-card"},Gx={key:5,class:"inner-card"},qx={key:6,class:"inner-card"},Ux={class:"card-header"},Wx={class:"card-header-title"},Xx={class:"empty-state"},Qx={__name:"QualitativePanel",props:{isExpanded:{type:Boolean,default:!1},selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["toggle","category-click","years-loaded","panel-closed"],setup(e,{emit:t}){const s=e,a=t,o=j(null),{fetchSheetNames:l}=ft(),u={ambientales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet AMBIENTALES...");const y=(await l("incendiosForestales")).filter(b=>/^\d{4}$/.test(b)).sort((b,w)=>w-b);console.log(" [QualitativePanel] Aos AMBIENTALES encontrados:",y),a("years-loaded",y)}catch(g){console.error(" [QualitativePanel] Error cargando aos ambientales:",g)}},economicos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet ECONMICOS...");const y=(await l("ingresoTotal")).filter(b=>/^\d{4}$/.test(b)).sort((b,w)=>w-b);console.log(" [QualitativePanel] Aos ECONMICOS encontrados:",y),a("years-loaded",y)}catch(g){console.error(" [QualitativePanel] Error cargando aos econmicos:",g)}},sociales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet SOCIALES...");const y=(await l("desocupacion")).filter(b=>/^\d{4}$/.test(b)).sort((b,w)=>w-b);console.log(" [QualitativePanel] Aos SOCIALES encontrados:",y),a("years-loaded",y)}catch(g){console.error(" [QualitativePanel] Error cargando aos sociales:",g)}},presupuestos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet PRESUPUESTOS...");const y=(await l("presupuestoEstatal")).filter(b=>/^\d{4}$/.test(b)).sort((b,w)=>w-b);console.log(" [QualitativePanel] Aos PRESUPUESTOS encontrados:",y),a("years-loaded",y)}catch(g){console.error(" [QualitativePanel] Error cargando aos presupuestos:",g)}},gobernabilidad:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet GOBERNABILIDAD...");const y=(await l("satisfaccionFederal")).filter(b=>/^\d{4}$/.test(b)).sort((b,w)=>w-b);console.log(" [QualitativePanel] Aos GOBERNABILIDAD encontrados:",y),a("years-loaded",y)}catch(g){console.error(" [QualitativePanel] Error cargando aos gobernabilidad:",g)}}};Ce(()=>s.selectedEntity,(g,y)=>{console.log(" [QualitativePanel] Entidad cambi"),console.log("  - Anterior:",y),console.log("  - Nueva:",g),console.log("  - Categora activa:",o.value)},{immediate:!0}),Ce(()=>s.selectedYear,(g,y)=>{console.log(" [QualitativePanel] Ao cambi"),console.log("  - Anterior:",y),console.log("  - Nuevo:",g),console.log("  - Categora activa:",o.value)},{immediate:!0});const v=()=>{console.log(" [QualitativePanel] Toggle panel"),console.log("  - isExpanded:",s.isExpanded),console.log("  - selectedCategory:",o.value),s.isExpanded&&o.value?(console.log(" Volviendo a men de categoras..."),o.value=null,a("panel-closed")):s.isExpanded&&!o.value?(console.log(" Cerrando panel completamente..."),a("toggle"),a("panel-closed")):(console.log(" Abriendo panel..."),a("toggle"))},h=async g=>{console.log(" [QualitativePanel] Categora seleccionada:",g),console.log(" Entidad actual:",s.selectedEntity),console.log(" Ao actual:",s.selectedYear),o.value=g;const y=u[g];y?(console.log(` Cargando aos para categora: ${g}...`),await y()):console.warn(` No hay cargador de aos definido para: ${g}`)},C=()=>{console.log(" [QualitativePanel] Volviendo al men principal..."),o.value=null,a("panel-closed")},$=g=>({ambientales:"Ambientales",economicos:"Econmicos",sociales:"Sociales",presupuestos:"Presupuestos y financiamiento",gobernabilidad:"Gobernabilidad y transparencia"})[g]||g;return(g,y)=>(p(),m("div",{class:ge(["qualitative-panel",{expanded:e.isExpanded}])},[e.isExpanded?(p(),m("div",Ox,[n("div",{class:"header-panel"},[y[5]||(y[5]=n("div",{class:"hamburger-menu"},[n("img",{src:gl,alt:"hamburger-menu",class:"hamburger-icon"})],-1)),y[6]||(y[6]=n("h1",{class:"header-title"},"Indicadores Cualitativos",-1)),n("div",{class:"expand-btn",onClick:v},"  ")]),o.value?o.value==="ambientales"?(p(),m("div",zx,[Ae(Ow,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):o.value==="economicos"?(p(),m("div",Yx,[Ae(pS,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):o.value==="sociales"?(p(),m("div",jx,[Ae(u$,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):o.value==="presupuestos"?(p(),m("div",Hx,[Ae(Vx,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):o.value==="gobernabilidad"?(p(),m("div",Gx,[Ae(L4,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):(p(),m("div",qx,[n("div",Ux,[n("button",{class:"back-btn",onClick:C}," Volver"),n("h1",Wx,O($(o.value)),1)]),n("div",Xx,[y[12]||(y[12]=n("div",{class:"empty-icon"},"",-1)),y[13]||(y[13]=n("h3",null,"Prximamente",-1)),n("p",null,"Los indicadores de "+O($(o.value).toLowerCase())+" estarn disponibles pronto.",1)])])):(p(),m("div",Nx,[n("div",{class:"qualitative-btn",onClick:y[0]||(y[0]=kt(b=>h("ambientales"),["stop"]))},[...y[7]||(y[7]=[n("span",{class:"title-btn"},"Ambientales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[1]||(y[1]=kt(b=>h("economicos"),["stop"]))},[...y[8]||(y[8]=[n("span",{class:"title-btn"},"Econmicos",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[2]||(y[2]=kt(b=>h("sociales"),["stop"]))},[...y[9]||(y[9]=[n("span",{class:"title-btn"},"Sociales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[3]||(y[3]=kt(b=>h("presupuestos"),["stop"]))},[...y[10]||(y[10]=[n("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[4]||(y[4]=kt(b=>h("gobernabilidad"),["stop"]))},[...y[11]||(y[11]=[n("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),n("span",{class:"plus-btn"},"+",-1)])])]))])):(p(),m("div",Lx,[n("div",{class:"expand-btn",onClick:v}," + ")]))],2))}},Kx=Ee(Qx,[["__scopeId","data-v-e2a5a907"]]);function Jx(){const e=j([]),t=j(!1),s=j(null),a=j([]),o=j(null),{fetchData:l}=ft(),r=u=>{const v=De("rankingCuantitativo");if(!u||!u.key)return console.log(" Usando columna por defecto: IFSS"),v.columnsByVariable.IFSS;const h=v.columnsByVariable[u.key];return h?(console.log(` Usando columna: ${h} para variable: ${u.key}`),h):(console.warn(` No se encontr columna para variable: ${u.key}, usando IFSS`),v.columnsByVariable.IFSS)},i=(u,v)=>{const C=De("rankingCuantitativo").stateColumn,g=u.map(y=>{const b=y[C],w=y[v];let k=w;return typeof w=="string"&&(k=w.replace(/^["']+|["']+$/g,"").trim(),k===""||k==='""'||k==='"""'?k="0":k.includes(",")&&(k=k.replace(/\./g,"").replace(",","."))),{key:b,label:b,value:parseFloat(k)||0,colorClass:"blue",color:null}}).filter(y=>y.label&&y.label.trim()!=="").sort((y,b)=>b.value-y.value);return console.log(` Ranking transformado: ${g.length} estados`),console.log(` Ejemplo de valores: ${g.slice(0,3).map(y=>`${y.label}: ${y.value}`).join(", ")}`),g},d=async(u=null)=>{t.value=!0,s.value=null;try{console.log(" Cargando ranking de estados..."),console.log(" Variable seleccionada:",u);const v=Be("datosCuantitativos");console.log(` Cargando ranking desde hoja: "${v}"`);const h=await l("datosCuantitativos",v);if(!h||h.length===0){console.warn(" No se encontraron datos en el sheet"),e.value=[];return}a.value=h,o.value=u;const C=r(u),$=i(h,C);e.value=$,console.log(` Ranking cargado: ${$.length} estados`)}catch(v){console.error(" Error cargando ranking:",v),s.value=v.message,e.value=[]}finally{t.value=!1}};return{rankingData:e,loading:t,error:s,currentVariable:o,loadAllStatesRanking:d,updateRankingByVariable:u=>{if(!a.value||a.value.length===0){console.warn(" No hay datos cargados, cargando..."),d(u);return}try{console.log(" Actualizando ranking por variable:",u),o.value=u;const v=r(u),h=i(a.value,v);e.value=h,console.log(` Ranking actualizado: ${h.length} estados`)}catch(v){console.error(" Error actualizando ranking:",v),s.value=v.message}},reset:()=>{e.value=[],a.value=[],o.value=null,s.value=null}}}function Zx(){const e=j({}),t=j([]),s=j(!1),a=j(null),{fetchData:o}=ft(),l=(u,v)=>{if(console.log(" [processIFSData] Iniciando procesamiento manual..."),!u||u.length===0)throw new Error("No hay datos para procesar");const h=v.yearColumn,C=v.variableColumns[0],$=C.column,g=C.label;console.log(` Buscando columna de aos: "${h}"`),console.log(` Buscando columna de IFS: "${$}"`);const y=[],b=[];u.length>0&&(console.log(" [DEBUG] Claves disponibles en primera fila:",Object.keys(u[0])),console.log(" [DEBUG] Primera fila completa:",JSON.stringify(u[0],null,2)));for(let k=0;k<u.length;k++){const H=u[k];k<3&&(console.log(` [DEBUG] Fila ${k} completa:`,JSON.stringify(H,null,2)),console.log(` [DEBUG] Fila ${k} - Claves:`,Object.keys(H)));const A=H[h];if(console.log(` [DEBUG] Fila ${k} - Buscando key "${h}", encontrado:`,A,`(tipo: ${typeof A})`),!A){console.warn(` Fila ${k} no tiene ao, saltando...`);continue}const _=H[$];if(console.log(` Fila ${k}: Ao=${A}, IFS=${_}`),_!=null&&_!==""){const F=parseFloat(_);isNaN(F)?console.warn(` Valor IFS invlido en ao ${A}: "${_}"`):(y.push(A.toString()),b.push(F))}else console.warn(` Ao ${A} no tiene valor IFS`)}if(console.log(" Procesamiento completado:"),console.log(" Aos extrados:",y),console.log(" Valores IFS:",b),y.length===0||b.length===0)throw new Error("No se encontraron datos vlidos en las columnas especificadas");return{chartData:{[g]:b},years:y}},r=async()=>{try{console.log(`
 ===== [useStackedAreaData] INICIANDO CARGA =====`),s.value=!0,a.value=null;const u=De("ifssStackedArea"),v=Be("indicadores");console.log(" Mapping ifssStackedArea:",JSON.stringify(u,null,2)),console.log(" Nombre de hoja (sheet principal):",v),console.log(" Sheet ID que se usar: VITE_GOOGLE_SHEET_ID (principal)"),console.log(" Solicitando datos desde sheet principal...");const h=await o("indicadores",v);if(console.log(` Datos crudos recibidos: ${h.length} filas`),h.length>0&&(console.log(" Encabezados disponibles:",Object.keys(h[0])),console.log(" Primera fila completa:",h[0]),console.log(" Segunda fila completa:",h[1])),!h||h.length===0)throw new Error("No se obtuvieron datos de Google Sheets");const C=l(h,u);console.log(" Datos procesados exitosamente"),console.log(" Chart Data final:",C.chartData),console.log(" Years final:",C.years),e.value=C.chartData,t.value=C.years,console.log(` ===== CARGA COMPLETADA EXITOSAMENTE =====
`)}catch(u){console.error(" ===== ERROR EN CARGA ====="),console.error("Error completo:",u),console.error("Stack:",u.stack),a.value=u.message,console.warn(" Usando datos de fallback para IFS"),e.value={IFS:[45.2,48.7,52.1,55.8,59.3]},t.value=["2020","2021","2022","2023","2024"]}finally{s.value=!1}},i=N(()=>Object.keys(e.value).length>0&&t.value.length>0),d=N(()=>Object.keys(e.value).length),f=N(()=>t.value.length);return{chartData:e,years:t,loading:s,error:a,hasData:i,seriesCount:d,yearsCount:f,title:"Anlisis histrico del ranking de Indice de Finanzas Sostenibles (IFS)",loadIFSSData:r}}const e5={class:"default-info-card"},t5={__name:"DefaultInfoCard",setup(e){return(t,s)=>(p(),m("div",e5,[...s[0]||(s[0]=[ke('<div class="card-container" data-v-b906a8c4><div class="card-sidebar" data-v-b906a8c4></div><div class="card-content" data-v-b906a8c4><div class="section-row" data-v-b906a8c4><div class="icon-wrapper" data-v-b906a8c4><div class="icon-box icon-info" data-v-b906a8c4><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b906a8c4><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-b906a8c4></path></svg></div><div class="timeline-connector" data-v-b906a8c4></div></div><div class="text-section" data-v-b906a8c4><h4 class="section-title" data-v-b906a8c4>Acerca de la Plataforma</h4><p class="section-text" data-v-b906a8c4> La Plataforma permite visualizar los resultados del <span class="highlight-primary" data-v-b906a8c4>ndice de Finanzas Sostenibles (IFS)</span> a partir del ao 2020, con datos del ejercicio fiscal previo. Para explorar los resultados, te invitamos a hacer una bsqueda personalizada usando el <span class="highlight-link" data-v-b906a8c4>filtro</span> o seleccionando una <span class="highlight-link" data-v-b906a8c4>entidad especfica</span> dentro del mapa. </p></div></div><div class="section-row" data-v-b906a8c4><div class="icon-wrapper" data-v-b906a8c4><div class="icon-box icon-question" data-v-b906a8c4><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b906a8c4><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-b906a8c4></path></svg></div><div class="timeline-connector" data-v-b906a8c4></div></div><div class="text-section" data-v-b906a8c4><h4 class="section-title" data-v-b906a8c4>Por qu dar seguimiento a la alineacin de flujos financieros con objetivos climticos?</h4><p class="section-text" data-v-b906a8c4> Con el fin de identificar brechas, retos y oportunidades de transformacin de las finanzas pblicas en pases en desarrollo, surge el <span class="highlight-primary" data-v-b906a8c4>ndice de Finanzas Sostenibles (IFS)</span>. Esta es una herramienta desarrollada en el marco de la campaa <span class="highlight-primary" data-v-b906a8c4>&quot;Finanzas Sostenibles para el Futuro&quot;</span> del Grupo de Financiamiento Climtico para Latinoamrica y el Caribe (<span class="highlight-primary" data-v-b906a8c4>GFLAC</span>), la cual permite monitorear ingresos y gastos nacionales e internacionales que contribuyen o bloquean el progreso en la accin climtica y los Objetivos de Desarrollo Sostenible (ODS) asociados. </p></div></div><div class="section-row" data-v-b906a8c4><div class="icon-wrapper" data-v-b906a8c4><div class="icon-box icon-chart" data-v-b906a8c4><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b906a8c4><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-b906a8c4></path></svg></div><div class="timeline-connector" data-v-b906a8c4></div></div><div class="text-section" data-v-b906a8c4><h4 class="section-title" data-v-b906a8c4>Qu es el IFS y el IFSS?</h4><p class="section-text" data-v-b906a8c4> El <span class="highlight-primary" data-v-b906a8c4>ndice de Finanzas Sostenibles (IFS)</span> mide el grado de sostenibilidad fiscal de Mxico a nivel nacional, considerando la proporcin de ingresos y egresos destinados a actividades ambientalmente sostenibles versus aquellas intensivas en carbono. Este ndice evala cuatro componentes clave: Ingresos Sostenibles (IS), Presupuestos Sostenibles (PS), Ingresos Intensivos en Carbono (IIC) y Presupuestos Intensivos en Carbono (PIC). </p><p class="section-text" data-v-b906a8c4> El <span class="highlight-primary" data-v-b906a8c4>ndice de Finanzas Sostenibles Subnacional (IFSS)</span> aplica la misma metodologa a nivel estatal, permitiendo analizar y comparar el desempeo de las 32 entidades federativas de Mxico en materia de sostenibilidad fiscal. Esto facilita la identificacin de buenas prcticas y reas de oportunidad en cada estado para avanzar hacia una transicin econmica baja en carbono. </p></div></div></div></div>',1)])]))}},s5=Ee(t5,[["__scopeId","data-v-b906a8c4"]]),a5={class:"filters-toggles-row"},n5={class:"filters-column"},o5={class:"map-container"},l5={key:0,class:"loading-state"},r5={key:1,class:"error-state"},i5={key:2,class:"map-content"},c5={class:"overlay-message"},u5={class:"overlay-text"},d5={key:0,class:"charts-section"},f5={class:"charts-container"},v5={class:"ranking-chart-section",style:{height:"100%",display:"flex","flex-direction":"column"}},h5={key:0,class:"chart-card linear-chart-card"},p5={key:1,class:"chart-card linear-chart-card"},g5={class:"chart-card-body"},m5={class:"ranking-error"},b5={key:2,class:"chart-card linear-chart-card"},y5={class:"chart-card-header"},A5={class:"card-title"},C5={class:"chart-card-body"},w5={key:4,class:"ranking-loading"},_5={key:5,class:"ranking-error"},S5={key:7,class:"charts-empty-state"},k5={class:"body-ranking-panel"},$5={__name:"HomePage",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:$,handleStateClick:g,handleStateHover:y,handleStateLeave:b,resetSelection:w,initializeData:k}=s.mapsComposable||Yt(),{setChartData:H}=Da(),{statesDataForSlider:A,selectedStateIFSS:_,handleRangeChange:F,handleFilterChange:D,initialize:M}=bl(s.mapsComposable||Yt()),{rankingData:E,loading:I,error:P,loadAllStatesRanking:B,updateRankingByVariable:T}=Jx(),{chartData:q,years:Q,loading:Z,error:re,title:he,loadIFSSData:be}=Zx();Ma();const ne=j(null),ae=j(null),L=j(""),le=j(0),{fetchData:K,fetchSheetNames:z}=ft(),Y=j(null),R=j([]),se=j([]),G=j([]),x=j({entity:"",year:null,variable:null});Ce(L,(ce,$e)=>{console.log(" [HomePage] selectedEntity cambi"),console.log("  - Anterior:",$e),console.log("  - Nuevo:",ce)},{immediate:!0});const S=j([]),V=j(!1),W=j(null),J=j(!1);N(()=>!R.value||R.value.length===0?null:R.value.find(ce=>ce!=null&&ce!=="")||null);const ee=N(()=>{const ce=L.value===null,$e=ae.value===null,st=ne.value===null,Is=ce&&$e&&st;return console.log(" [areAllFiltersOnTodas]:",{entity:L.value,entityIsTodas:ce,year:ae.value,yearIsTodos:$e,variable:ne.value,variableIsTodas:st,result:Is}),Is}),ue=N(()=>L.value===""||ne.value===""),te=N(()=>ne.value!==null&&ne.value!==""),U=N(()=>J.value?!1:ee.value),oe=N(()=>J.value?!1:ee.value||Se.value),pe=N(()=>ee.value?"Haz click en cualquier entidad del mapa para regresar a los resultados subnacionales":Se.value?"Te encuentras en la vista de resultados federales. Haz clic en cualquier seccin del rea azul encima del mapa para regresar a los datos subnacionales.":""),fe=N(()=>J.value?!1:ee.value),ye=N(()=>ue.value),we=N(()=>ye.value?!1:!i.value&&ee.value),Se=N(()=>ye.value||i.value||ee.value?!1:L.value===null&&ae.value!==null),Fe=N(()=>ye.value?!1:i.value||we.value||Se.value),Me=N(()=>L.value===""&&ne.value===null&&ae.value!==null),Ze=async()=>{try{V.value=!0,W.value=null;const ce=De("chartsPresupuestos"),$e=Be("chartsPresupuestos"),st=await K("chartsPresupuestos",$e),Is=ce.stateColumn,yu=[...new Set(st.map(Es=>Es[Is]))].filter(Es=>Es&&Es.trim()!=="").sort();S.value=yu.map(Es=>({name:Es,value:null}))}catch(ce){console.error(" Error cargando entidades:",ce),W.value=ce.message}finally{V.value=!1}},tt=async()=>{try{console.log(" [HomePage] Obteniendo aos de sheet cuantitativos...");const $e=(await z("datosCuantitativos")).filter(st=>/^\d{4}$/.test(st)).sort((st,Is)=>Is-st);return console.log(" [HomePage] Aos de cuantitativos:",$e),se.value=[...$e],R.value=[...$e],$e}catch(ce){return console.error(" [HomePage] Error obteniendo aos:",ce),[]}},Ct=ce=>{if(console.log(" [HomePage] handleEntityChange llamado con:",ce),L.value=ce,ce===""){w(),xs();return}if(ce===null){w(),!J.value&&!ee.value&&(ne.value&&ne.value!==""&&ne.value!==null?T(ne.value):ne.value===null&&ae.value!==null&&B(null));return}xs(),g(ce),console.log(" [HomePage] Mapa actualizado con:",ce)},wt=async ce=>{console.log(" [HomePage] handleYearChange llamado con:",ce),ae.value=ce,ce&&Re(ce),ee.value&&await be()},vs=ce=>{console.log(" [HomePage] handleVariableChange llamado con:",ce),ne.value=ce,ce!==""&&!i.value&&!ee.value&&(ce===null?B(null):T(ce))},Ta=ce=>{console.log(" Filtros aplicados:",ce)},lt=async ce=>{if(console.log(" [HomePage] Click en estado:",ce),!ce){w(),L.value="",a("region-selected",null),xs(),J.value||(ne.value&&ne.value!==""&&ne.value!==null?T(ne.value):ee.value||B(null));return}if(g(ce),L.value=ce,xs(),await ze(),i.value===ce){const $e=C(ce);a("region-selected",{name:ce,data:$e}),console.log(" [HomePage] Estado seleccionado y sincronizado:",ce)}else a("region-selected",null)},_t=ce=>{console.log(" [HomePage] Vista cambiada a:",ce),Y.value=ce},Ra=async()=>{console.log(" [HomePage] Cambiando a vista IFS Regional"),Y.value="regional",i.value&&w(),L.value=null,ae.value=null,ne.value=null,await ze(),await be(),console.log(' [HomePage] Vista IFS Regional activada con filtros en "Todas..."')},Ba=async()=>{console.log(" [HomePage] Click en Plataforma de Finanzas Sostenibles")},fu=()=>{console.log(" Toggling panel cualitativo:",!J.value),J.value=!J.value},vu=async ce=>{if(console.log(" [HomePage] Aos recibidos de ambientales:",ce),ce&&ce.length>0){R.value=ce;const $e=ce[0];ae.value=$e,Re($e),le.value++,await ze(),console.log(" Filtro actualizado con aos de ambientales")}},hu=async ce=>{if(console.log(" [HomePage] Aos recibidos de RegionalChartsComponent:",ce),ce&&ce.length>0){if(G.value=[...ce],R.value=ce,!ce.includes(ae.value)){const $e=ce[0];ae.value=$e,Re($e),console.log(" [Regional] Ao actualizado al primero disponible:",$e)}le.value++,await ze(),console.log(" [HomePage] Filtro actualizado con aos regionales:",ce)}},xs=async()=>{if(se.value.length>0){if(console.log(" [HomePage] Restaurando aos iniciales:",se.value),R.value=[...se.value],!se.value.includes(ae.value)){const ce=se.value[0];ae.value=ce,Re(ce),console.log(" Ao restaurado al primero de cuantitativos:",ce)}le.value++,await ze()}},pu=async()=>{if(console.log(" [HomePage] Panel cualitativo cerrado, reseteando filtros a DEFAULT..."),L.value="",ne.value=null,R.value=[...se.value],se.value.length>0){const ce=se.value[0];ae.value=ce,Re(ce),console.log(" Ao restaurado a DEFAULT:",ce)}le.value++,await ze(),w(),await B(null),Y.value=null,console.log(" Filtros reseteados a DEFAULT")},gu=ce=>{(ce.target.classList.contains("map-svg-container")||ce.target.tagName==="svg"||ce.target.classList.contains("map-background"))&&(w(),a("region-selected",null))},mu=async()=>{if(console.log(" [HomePage] Click en overlay, cambiando a DEFAULT..."),L.value="",ne.value=null,xs(),R.value.length>0){const ce=R.value[0];ae.value=ce,Re(ce)}w(),a("region-selected",null),await B(null),Y.value=null,le.value++,await ze(),console.log(" Cambiado a DEFAULT")};N(()=>!i.value);const bu=N(()=>{const ce=ae.value?` - ${ae.value}`:"";return!ne.value||!ne.value.key?`Ranking IFSS por Estado${ce}`:`Ranking ${{PS:"Presupuestos Sostenibles (PS)",IIC:"Ingresos Intensivos en Carbono (IIC)",PIC:"Presupuestos Intensivos en Carbono (PIC)",IS:"Ingresos Sostenibles (IS)"}[ne.value.key]||"IFSS"} por Estado${ce}`});return Ce(ee,async(ce,$e)=>{console.log(" [areAllFiltersOnTodas] cambi de",$e,"a",ce),ce&&!$e&&(console.log(' [HomePage] Filtros en "Todas...", cargando LinearChart'),await be())}),Ce(Se,async(ce,$e)=>{console.log(" [showRegionalCharts] cambi de",$e,"a",ce),!ce&&$e&&(console.log(" [HomePage] RegionalCharts se ocult, restaurando aos iniciales..."),await xs())}),Ce(ne,ce=>{ce!==""&&(ee.value||i.value||(ce===null?B(null):T(ce)))}),Ce(ae,async(ce,$e)=>{ce!==$e&&(await Ze(),ee.value||(ne.value!==""&&ne.value!==null?await T(ne.value):ne.value===null&&await B(null)))}),Ce(i,(ce,$e)=>{if(console.log(" [HomePage] Watch selectedState:",{newState:ce,oldState:$e}),ce&&ce!==$e){L.value!==ce&&(L.value=ce,console.log(" [HomePage] selectedEntity sincronizado con mapa:",ce));const st=C(ce);H(st),a("region-selected",{name:ce,data:st})}else!ce&&$e&&(!J.value&&L.value!==null&&(L.value=""),a("region-selected",null),!J.value&&!ee.value&&(ne.value&&ne.value!==""&&ne.value!==null?T(ne.value):B(null)))}),Ce(r,ce=>{ce&&a("map-error",ce)}),Le(async()=>{if(console.log(`
 ===== INICIALIZANDO HomePage =====`),await tt(),await Ze(),await M(),L.value="",ne.value=null,R.value.length>0){const ce=R.value[0];ae.value=ce,Re(ce),console.log(" Ao inicial establecido:",ce)}await B(null),x.value={entity:"",year:ae.value,variable:null},console.log(" Estado inicial de filtros (DEFAULT):",x.value),console.log(" Aos iniciales guardados:",se.value),console.log(" Vista inicial: ninguna activa (null)"),console.log(" HomePage inicializado"),console.log("   areAllFiltersOnTodas:",ee.value),console.log(`
`)}),(ce,$e)=>(p(),m(me,null,[n("div",a5,[n("div",n5,[(p(),Pe(Nn,{key:le.value,entities:S.value,loading:V.value,selectedState:X(i),isLocked:fe.value,availableYears:R.value,initialEntity:L.value,initialYear:ae.value,initialVariable:ne.value,onEntityChange:Ct,onYearChange:wt,onVariableChange:vs,onFiltersChange:Ta},null,8,["entities","loading","selectedState","isLocked","availableYears","initialEntity","initialYear","initialVariable"]))])]),n("div",o5,[X(l)?(p(),m("div",l5,[...$e[3]||($e[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):ie("",!0),X(r)?(p(),m("div",r5,[n("p",null,"Error: "+O(X(r)),1),n("button",{onClick:$e[0]||($e[0]=(...st)=>X(k)&&X(k)(...st)),class:"retry-btn"}," Reintentar ")])):ie("",!0),!X(l)&&!X(r)?(p(),m("div",i5,[n("div",{class:ge(["map-and-charts-wrapper",{"no-gap":J.value}]),onClick:gu},[Ae(su,{geoData:X(o),selectedState:X(i),hoveredState:X(d),mapConfig:X(f),nationalIFSS:X(v),getStateColor:X(h),getStateInfo:X(C),getIFSSLabel:X($),"show-info-card":!J.value,"show-navigation":!J.value,"active-view":Y.value,onStateClick:lt,onStateHover:X(y),onStateLeave:X(b),onNavigateRegional:Ra,onNavigateFederal:Ba,onViewChange:_t},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","show-info-card","show-navigation","active-view","onStateHover","onStateLeave"]),Ae(mt,{name:"overlay-fade"},{default:ut(()=>[oe.value?(p(),m("div",{key:0,class:ge(["map-overlay-filter",{"regional-overlay":Se.value&&!ee.value}]),onClick:kt(mu,["stop"])},[n("div",c5,[n("h2",u5,O(pe.value),1)])],2)):ie("",!0)]),_:1}),Ae(Kx,{isExpanded:J.value,selectedEntity:L.value,selectedYear:ae.value,onToggle:fu,onYearsLoaded:vu,onPanelClosed:pu},null,8,["isExpanded","selectedEntity","selectedYear"]),J.value?ie("",!0):(p(),m("div",d5,[n("div",f5,[n("div",v5,[U.value&&X(Z)?(p(),m("div",h5,[...$e[4]||($e[4]=[ke('<div class="chart-card-header" data-v-c6fdeaf5><h4 class="card-title" data-v-c6fdeaf5>Evolucin IFS</h4></div><div class="chart-card-body" data-v-c6fdeaf5><div class="ranking-loading" data-v-c6fdeaf5><div class="spinner-small" data-v-c6fdeaf5></div><p data-v-c6fdeaf5>Cargando evolucin IFS...</p></div></div>',2)])])):U.value&&X(re)?(p(),m("div",p5,[$e[5]||($e[5]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Evolucin IFS")],-1)),n("div",g5,[n("div",m5,[n("p",null,"Error: "+O(X(re)),1),n("button",{onClick:$e[1]||($e[1]=(...st)=>X(be)&&X(be)(...st)),class:"retry-btn-small"}," Reintentar ")])])])):U.value&&X(q)&&Object.keys(X(q)).length>0?(p(),m("div",b5,[n("div",y5,[n("h4",A5,O(X(he)),1)]),n("div",C5,[Ae(iu,{data:X(q),xLabels:X(Q),showCurrencySymbol:!1,width:940,height:440,hideHeader:!0,initialVisibleVariables:["IFS"],padding:{top:20,right:70,bottom:100,left:60}},null,8,["data","xLabels"])])])):Se.value?(p(),Pe(xC,{key:3,selectedYear:ae.value,selectedVariable:ne.value},null,8,["selectedYear","selectedVariable"])):X(I)?(p(),m("div",w5,[...$e[6]||($e[6]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):X(P)?(p(),m("div",_5,[n("p",null,"Error: "+O(X(P)),1),n("button",{onClick:$e[2]||($e[2]=st=>X(B)(ne.value)),class:"retry-btn-small"}," Reintentar ")])):X(E).length>0?(p(),Pe(UC,{key:6,variables:X(E),title:bu.value,showAllBars:!0,animationDelay:0,selectedState:X(i)},null,8,["variables","title","selectedState"])):(p(),m("div",S5,[...$e[7]||($e[7]=[n("div",{class:"empty-state-icon"},"",-1),n("h4",null,"Ranking IFSS",-1),n("p",null,"No hay datos de ranking disponibles",-1)])]))])])]))],2),Me.value&&!J.value?(p(),Pe(s5,{key:0})):ie("",!0),Fe.value&&!J.value?(p(),m("div",{key:1,class:ge(["ranking-panel",{"historical-view":we.value,"regional-view":Se.value,"variable-view":te.value&&!we.value&&!Se.value}])},[$e[8]||($e[8]=n("div",{class:"header-ranking-panel"},null,-1)),n("div",k5,[we.value?(p(),Pe(cu,{key:0,statesData:X(A),selectedStateValue:X(_),onRangeChange:X(F),onFilterChange:X(D)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])):Se.value?(p(),Pe(DA,{key:1,selectedYear:ae.value,selectedVariable:ne.value,class:"regional-charts-spacing",onYearsLoaded:hu},null,8,["selectedYear","selectedVariable"])):(p(),Pe(au,{key:2,selectedState:X(i),selectedYear:ae.value,selectedVariable:ne.value,ifssData:X(C)(X(i))},null,8,["selectedState","selectedYear","selectedVariable","ifssData"]))])],2)):ie("",!0)])):ie("",!0)])],64))}},x5=Ee($5,[["__scopeId","data-v-c6fdeaf5"]]),I5={style:{padding:"40px","font-family":"monospace"}},E5={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},P5={key:0},F5={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},M5={key:0,style:{color:"red","font-weight":"bold"}},D5={key:1,style:{color:"red","font-weight":"bold"}},T5={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},R5={key:0,style:{color:"orange"}},B5={key:1,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},V5={key:2},L5={style:{background:"white",padding:"15px","border-radius":"5px"}},O5={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},N5={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},z5={key:0},Y5={key:0,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},j5={style:{background:"white",padding:"10px"}},H5={key:1},G5={style:{background:"white",padding:"15px","border-radius":"5px"}},q5={key:0,style:{border:"2px solid #28a745",padding:"20px",margin:"20px 0",background:"#d4edda"}},U5={__name:"TestRanking",setup(e){const t=j(null),s=j(null),a=j(null),o=j(!1),l=j(null),{fetchData:r}=ft(),i=async()=>{o.value=!0,l.value=null,t.value=null,s.value=null,a.value=null;try{if(console.log("=== PASO 1: Variables de entorno ==="),t.value={provider:"googlesheets",apiKeyExists:!0,sheetIdExists:!0},console.log("Variables:",t.value),!t.value.apiKeyExists||!t.value.sheetIdExists){l.value="Faltan variables de entorno en el archivo .env",o.value=!1;return}console.log("=== PASO 2: Obteniendo datos ===");const d=await r("datosCuantitativos","2024");if(!d||d.length===0){l.value="El sheet est vaco o no se pudo conectar",o.value=!1;return}s.value={rowCount:d.length,columns:Object.keys(d[0]),firstRow:d[0]},console.log("Datos obtenidos:",s.value),console.log("=== PASO 3: Transformando datos ===");const f="Entidad Federativa",c="IFSS";console.log(`Buscando columnas: "${f}" y "${c}"`);const h=d.map(C=>{const $=C[f],g=C[c];console.log(`Fila: ${$} = ${g}`);const y=typeof g=="string"?g.replace(/[,.]/g,""):g,b=parseFloat(y)||0;return{key:($==null?void 0:$.toLowerCase().replace(/\s+/g,"_"))||"unknown",label:$||"Desconocido",value:b,color:b>=2?"#22c55e":b>=1.5?"#fb923c":"#ef4444"}}).filter(C=>C.label!=="Desconocido"&&C.value>0).sort((C,$)=>$.value-C.value);a.value={count:h.length,top5:h.slice(0,5).map(C=>({estado:C.label,ifss:C.value}))},console.log("Transformacin completa:",a.value)}catch(d){console.error("Error en debug:",d),l.value=d.message}finally{o.value=!1}};return(d,f)=>{var c;return p(),m("div",I5,[f[19]||(f[19]=n("h1",null," Debug Ranking IFSS",-1)),n("button",{onClick:i,style:{padding:"15px 30px",background:"#0F3759",color:"white",border:"none","border-radius":"8px",cursor:"pointer","font-size":"16px",margin:"20px 0"}},"  Ejecutar Debug "),n("div",E5,[f[0]||(f[0]=n("h2",null," PASO 1: Variables de Entorno",-1)),t.value?(p(),m("div",P5,[n("pre",F5,O(t.value),1),t.value.apiKeyExists?ie("",!0):(p(),m("p",M5,"  FALTA API KEY - Revisa tu archivo .env ")),t.value.sheetIdExists?ie("",!0):(p(),m("p",D5,"  FALTA SHEET ID - Revisa tu archivo .env "))])):ie("",!0)]),n("div",T5,[f[5]||(f[5]=n("h2",null," PASO 2: Datos del Google Sheet",-1)),o.value?(p(),m("div",R5," Cargando...")):ie("",!0),l.value?(p(),m("div",B5,[f[1]||(f[1]=n("strong",null," ERROR:",-1)),We(" "+O(l.value),1)])):ie("",!0),s.value?(p(),m("div",V5,[n("p",null,[f[2]||(f[2]=n("strong",null,"Filas obtenidas:",-1)),We(" "+O(s.value.rowCount),1)]),f[3]||(f[3]=n("p",null,[n("strong",null,"Columnas detectadas:")],-1)),n("pre",L5,O(s.value.columns),1),f[4]||(f[4]=n("p",null,[n("strong",null,"Primera fila:")],-1)),n("pre",O5,O(s.value.firstRow),1)])):ie("",!0)]),n("div",N5,[f[17]||(f[17]=n("h2",null," PASO 3: Datos Transformados",-1)),a.value?(p(),m("div",z5,[n("p",null,[f[6]||(f[6]=n("strong",null,"Estados transformados:",-1)),We(" "+O(a.value.count),1)]),a.value.count===0?(p(),m("div",Y5,[f[7]||(f[7]=n("strong",null," PROBLEMA:",-1)),f[8]||(f[8]=We(" Los datos se transformaron pero resultaron en 0 estados. ",-1)),f[9]||(f[9]=n("br",null,null,-1)),f[10]||(f[10]=We("Esto significa que los nombres de columnas no coinciden. ",-1)),f[11]||(f[11]=n("br",null,null,-1)),f[12]||(f[12]=n("br",null,null,-1)),f[13]||(f[13]=n("strong",null,"Columnas que estamos buscando:",-1)),f[14]||(f[14]=n("ul",null,[n("li",null,"Entidad Federativa"),n("li",null,"IFSS")],-1)),f[15]||(f[15]=n("strong",null,"Columnas que encontramos:",-1)),n("pre",j5,O((c=s.value)==null?void 0:c.columns),1)])):ie("",!0),a.value.count>0?(p(),m("div",H5,[f[16]||(f[16]=n("p",null,[n("strong",null," Top 5 estados:")],-1)),n("pre",G5,O(a.value.top5),1)])):ie("",!0)])):ie("",!0)]),a.value&&a.value.count>0?(p(),m("div",q5,[...f[18]||(f[18]=[n("h2",null," PASO 4: Grfica",-1),n("p",null,"Los datos estn listos. Usa el componente as:",-1),n("pre",{style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto","font-size":"12px"}},`<script setup>
import { useStateRanking } from '@/composables/useStateRanking'
import HorizontalRankingChart from '@/modules/charts/components/HorizontalRankingChart.vue'

const { rankingData, loadAllStatesRanking } = useStateRanking()
onMounted(() => loadAllStatesRanking())
<\/script>

<template>
  <HorizontalRankingChart
    :variables="rankingData"
    :showLabels="true"
    :showValues="true"
    :showAllBars="true"
    :valueFormatter="(v) => v.toFixed(1)"
  />
</template>`,-1)])])):ie("",!0)])}}},W5=[{path:"/",redirect:"/finanzas/home"},{path:"/finanzas/home",name:"HomePage",component:x5,meta:{title:"Plataforma de Finanzas Sostenibles"}},{path:"/finanzas/cualitativos",name:"FinanzasCualitativos",component:r1,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/cualitativos/item",name:"FinanzasCualitativosItem",component:fb,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/ranking",name:"RankingView",component:Xb,meta:{title:"RankingView - Finanzas Sostenibles"}},{path:"/finanzas/historicos",name:"HistoricalView",component:eA,meta:{title:"HistoricalView - Finanzas Sostenibles"}},{path:"/finanzas/testRanking",name:"TestRanking",component:U5,meta:{title:"Home- Finanzas Sostenibles"}}],uu=Hv({history:yv("/PlataformaFinanzasSostenibles/"),routes:W5});uu.beforeEach((e,t,s)=>{e.meta.title&&(document.title=e.meta.title),s()});const du=Nf(ch);du.use(uu);du.mount("#app");
