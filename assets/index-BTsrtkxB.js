(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ye={},Bs=[],Pt=()=>{},Ur=()=>!1,So=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jn=e=>e.startsWith("onUpdate:"),Je=Object.assign,Hn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},gu=Object.prototype.hasOwnProperty,Oe=(e,t)=>gu.call(e,t),xe=Array.isArray,Vs=e=>ko(e)==="[object Map]",Wr=e=>ko(e)==="[object Set]",Ie=e=>typeof e=="function",Ue=e=>typeof e=="string",fs=e=>typeof e=="symbol",Ge=e=>e!==null&&typeof e=="object",Xr=e=>(Ge(e)||Ie(e))&&Ie(e.then)&&Ie(e.catch),Qr=Object.prototype.toString,ko=e=>Qr.call(e),mu=e=>ko(e).slice(8,-1),Kr=e=>ko(e)==="[object Object]",Gn=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,na=Yn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$o=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},bu=/-\w/g,Et=$o(e=>e.replace(bu,t=>t.slice(1).toUpperCase())),yu=/\B([A-Z])/g,ks=$o(e=>e.replace(yu,"-$1").toLowerCase()),xo=$o(e=>e.charAt(0).toUpperCase()+e.slice(1)),zo=$o(e=>e?`on${xo(e)}`:""),cs=(e,t)=>!Object.is(e,t),Ua=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Jr=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},un=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Au=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let yl;const Io=()=>yl||(yl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fe(e){if(xe(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=Ue(a)?Su(a):fe(a);if(n)for(const l in n)t[l]=n[l]}return t}else if(Ue(e)||Ge(e))return e}const Cu=/;(?![^(]*\))/g,wu=/:([^]+)/,_u=/\/\*[^]*?\*\//g;function Su(e){const t={};return e.replace(_u,"").split(Cu).forEach(s=>{if(s){const a=s.split(wu);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function he(e){let t="";if(Ue(e))t=e;else if(xe(e))for(let s=0;s<e.length;s++){const a=he(e[s]);a&&(t+=a+" ")}else if(Ge(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ku="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$u=Yn(ku);function Zr(e){return!!e||e===""}const ei=e=>!!(e&&e.__v_isRef===!0),Y=e=>Ue(e)?e:e==null?"":xe(e)||Ge(e)&&(e.toString===Qr||!Ie(e.toString))?ei(e)?Y(e.value):JSON.stringify(e,ti,2):String(e),ti=(e,t)=>ei(t)?ti(e,t.value):Vs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],l)=>(s[Yo(a,l)+" =>"]=n,s),{})}:Wr(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Yo(s))}:fs(t)?Yo(t):Ge(t)&&!xe(t)&&!Kr(t)?String(t):t,Yo=(e,t="")=>{var s;return fs(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};function xu(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class Iu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ft;try{return ft=this,t()}finally{ft=s}}}on(){++this._on===1&&(this.prevScope=ft,ft=this)}off(){this._on>0&&--this._on===0&&(ft=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Eu(){return ft}let je;const jo=new WeakSet;class si{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ft&&ft.active&&ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jo.has(this)&&(jo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||oi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Al(this),ni(this);const t=je,s=Ft;je=this,Ft=!0;try{return this.fn()}finally{li(this),je=t,Ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wn(t);this.deps=this.depsTail=void 0,Al(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){dn(this)&&this.run()}get dirty(){return dn(this)}}let ai=0,la,ra;function oi(e,t=!1){if(e.flags|=8,t){e.next=ra,ra=e;return}e.next=la,la=e}function qn(){ai++}function Un(){if(--ai>0)return;if(ra){let t=ra;for(ra=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;la;){let t=la;for(la=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function ni(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function li(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),Wn(a),Pu(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function dn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ri(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ri(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ma)||(e.globalVersion=ma,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!dn(e))))return;e.flags|=2;const t=e.dep,s=je,a=Ft;je=e,Ft=!0;try{ni(e);const n=e.fn(e._value);(t.version===0||cs(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{je=s,Ft=a,li(e),e.flags&=-3}}function Wn(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)Wn(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Pu(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ft=!0;const ii=[];function Kt(){ii.push(Ft),Ft=!1}function Jt(){const e=ii.pop();Ft=e===void 0?!0:e}function Al(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=je;je=void 0;try{t()}finally{je=s}}}let ma=0;class Fu{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!je||!Ft||je===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==je)s=this.activeLink=new Fu(je,this),je.deps?(s.prevDep=je.depsTail,je.depsTail.nextDep=s,je.depsTail=s):je.deps=je.depsTail=s,ci(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=je.depsTail,s.nextDep=void 0,je.depsTail.nextDep=s,je.depsTail=s,je.deps===s&&(je.deps=a)}return s}trigger(t){this.version++,ma++,this.notify(t)}notify(t){qn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Un()}}}function ci(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)ci(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const fn=new WeakMap,As=Symbol(""),vn=Symbol(""),ba=Symbol("");function at(e,t,s){if(Ft&&je){let a=fn.get(e);a||fn.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Xn),n.map=a,n.key=s),n.track()}}function Wt(e,t,s,a,n,l){const r=fn.get(e);if(!r){ma++;return}const i=d=>{d&&d.trigger()};if(qn(),t==="clear")r.forEach(i);else{const d=xe(e),f=d&&Gn(s);if(d&&s==="length"){const c=Number(a);r.forEach((u,v)=>{(v==="length"||v===ba||!fs(v)&&v>=c)&&i(u)})}else switch((s!==void 0||r.has(void 0))&&i(r.get(s)),f&&i(r.get(ba)),t){case"add":d?f&&i(r.get("length")):(i(r.get(As)),Vs(e)&&i(r.get(vn)));break;case"delete":d||(i(r.get(As)),Vs(e)&&i(r.get(vn)));break;case"set":Vs(e)&&i(r.get(As));break}}Un()}function Ps(e){const t=Be(e);return t===e?t:(at(t,"iterate",ba),It(e)?t:t.map(Ze))}function Eo(e){return at(e=Be(e),"iterate",ba),e}const Mu={__proto__:null,[Symbol.iterator](){return Ho(this,Symbol.iterator,Ze)},concat(...e){return Ps(this).concat(...e.map(t=>xe(t)?Ps(t):t))},entries(){return Ho(this,"entries",e=>(e[1]=Ze(e[1]),e))},every(e,t){return jt(this,"every",e,t,void 0,arguments)},filter(e,t){return jt(this,"filter",e,t,s=>s.map(Ze),arguments)},find(e,t){return jt(this,"find",e,t,Ze,arguments)},findIndex(e,t){return jt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return jt(this,"findLast",e,t,Ze,arguments)},findLastIndex(e,t){return jt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return jt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Go(this,"includes",e)},indexOf(...e){return Go(this,"indexOf",e)},join(e){return Ps(this).join(e)},lastIndexOf(...e){return Go(this,"lastIndexOf",e)},map(e,t){return jt(this,"map",e,t,void 0,arguments)},pop(){return qs(this,"pop")},push(...e){return qs(this,"push",e)},reduce(e,...t){return Cl(this,"reduce",e,t)},reduceRight(e,...t){return Cl(this,"reduceRight",e,t)},shift(){return qs(this,"shift")},some(e,t){return jt(this,"some",e,t,void 0,arguments)},splice(...e){return qs(this,"splice",e)},toReversed(){return Ps(this).toReversed()},toSorted(e){return Ps(this).toSorted(e)},toSpliced(...e){return Ps(this).toSpliced(...e)},unshift(...e){return qs(this,"unshift",e)},values(){return Ho(this,"values",Ze)}};function Ho(e,t,s){const a=Eo(e),n=a[t]();return a!==e&&!It(e)&&(n._next=n.next,n.next=()=>{const l=n._next();return l.value&&(l.value=s(l.value)),l}),n}const Du=Array.prototype;function jt(e,t,s,a,n,l){const r=Eo(e),i=r!==e&&!It(e),d=r[t];if(d!==Du[t]){const u=d.apply(e,l);return i?Ze(u):u}let f=s;r!==e&&(i?f=function(u,v){return s.call(this,Ze(u),v,e)}:s.length>2&&(f=function(u,v){return s.call(this,u,v,e)}));const c=d.call(r,f,a);return i&&n?n(c):c}function Cl(e,t,s,a){const n=Eo(e);let l=s;return n!==e&&(It(e)?s.length>3&&(l=function(r,i,d){return s.call(this,r,i,d,e)}):l=function(r,i,d){return s.call(this,r,Ze(i),d,e)}),n[t](l,...a)}function Go(e,t,s){const a=Be(e);at(a,"iterate",ba);const n=a[t](...s);return(n===-1||n===!1)&&Jn(s[0])?(s[0]=Be(s[0]),a[t](...s)):n}function qs(e,t,s=[]){Kt(),qn();const a=Be(e)[t].apply(e,s);return Un(),Jt(),a}const Tu=Yn("__proto__,__v_isRef,__isVue"),ui=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fs));function Ru(e){fs(e)||(e=String(e));const t=Be(this);return at(t,"has",e),t.hasOwnProperty(e)}class di{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return l;if(s==="__v_raw")return a===(n?l?Gu:pi:l?hi:vi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const r=xe(t);if(!n){let d;if(r&&(d=Mu[s]))return d;if(s==="hasOwnProperty")return Ru}const i=Reflect.get(t,s,nt(t)?t:a);return(fs(s)?ui.has(s):Tu(s))||(n||at(t,"get",s),l)?i:nt(i)?r&&Gn(s)?i:i.value:Ge(i)?n?mi(i):Po(i):i}}class fi extends di{constructor(t=!1){super(!1,t)}set(t,s,a,n){let l=t[s];if(!this._isShallow){const d=us(l);if(!It(a)&&!us(a)&&(l=Be(l),a=Be(a)),!xe(t)&&nt(l)&&!nt(a))return d||(l.value=a),!0}const r=xe(t)&&Gn(s)?Number(s)<t.length:Oe(t,s),i=Reflect.set(t,s,a,nt(t)?t:n);return t===Be(n)&&(r?cs(a,l)&&Wt(t,"set",s,a):Wt(t,"add",s,a)),i}deleteProperty(t,s){const a=Oe(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Wt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!fs(s)||!ui.has(s))&&at(t,"has",s),a}ownKeys(t){return at(t,"iterate",xe(t)?"length":As),Reflect.ownKeys(t)}}class Bu extends di{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Vu=new fi,Lu=new Bu,Nu=new fi(!0);const hn=e=>e,Va=e=>Reflect.getPrototypeOf(e);function Ou(e,t,s){return function(...a){const n=this.__v_raw,l=Be(n),r=Vs(l),i=e==="entries"||e===Symbol.iterator&&r,d=e==="keys"&&r,f=n[e](...a),c=s?hn:t?eo:Ze;return!t&&at(l,"iterate",d?vn:As),{next(){const{value:u,done:v}=f.next();return v?{value:u,done:v}:{value:i?[c(u[0]),c(u[1])]:c(u),done:v}},[Symbol.iterator](){return this}}}}function La(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function zu(e,t){const s={get(n){const l=this.__v_raw,r=Be(l),i=Be(n);e||(cs(n,i)&&at(r,"get",n),at(r,"get",i));const{has:d}=Va(r),f=t?hn:e?eo:Ze;if(d.call(r,n))return f(l.get(n));if(d.call(r,i))return f(l.get(i));l!==r&&l.get(n)},get size(){const n=this.__v_raw;return!e&&at(Be(n),"iterate",As),n.size},has(n){const l=this.__v_raw,r=Be(l),i=Be(n);return e||(cs(n,i)&&at(r,"has",n),at(r,"has",i)),n===i?l.has(n):l.has(n)||l.has(i)},forEach(n,l){const r=this,i=r.__v_raw,d=Be(i),f=t?hn:e?eo:Ze;return!e&&at(d,"iterate",As),i.forEach((c,u)=>n.call(l,f(c),f(u),r))}};return Je(s,e?{add:La("add"),set:La("set"),delete:La("delete"),clear:La("clear")}:{add(n){!t&&!It(n)&&!us(n)&&(n=Be(n));const l=Be(this);return Va(l).has.call(l,n)||(l.add(n),Wt(l,"add",n,n)),this},set(n,l){!t&&!It(l)&&!us(l)&&(l=Be(l));const r=Be(this),{has:i,get:d}=Va(r);let f=i.call(r,n);f||(n=Be(n),f=i.call(r,n));const c=d.call(r,n);return r.set(n,l),f?cs(l,c)&&Wt(r,"set",n,l):Wt(r,"add",n,l),this},delete(n){const l=Be(this),{has:r,get:i}=Va(l);let d=r.call(l,n);d||(n=Be(n),d=r.call(l,n)),i&&i.call(l,n);const f=l.delete(n);return d&&Wt(l,"delete",n,void 0),f},clear(){const n=Be(this),l=n.size!==0,r=n.clear();return l&&Wt(n,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ou(n,e,t)}),s}function Qn(e,t){const s=zu(e,t);return(a,n,l)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Oe(s,n)&&n in a?s:a,n,l)}const Yu={get:Qn(!1,!1)},ju={get:Qn(!1,!0)},Hu={get:Qn(!0,!1)};const vi=new WeakMap,hi=new WeakMap,pi=new WeakMap,Gu=new WeakMap;function qu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uu(e){return e.__v_skip||!Object.isExtensible(e)?0:qu(mu(e))}function Po(e){return us(e)?e:Kn(e,!1,Vu,Yu,vi)}function gi(e){return Kn(e,!1,Nu,ju,hi)}function mi(e){return Kn(e,!0,Lu,Hu,pi)}function Kn(e,t,s,a,n){if(!Ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Uu(e);if(l===0)return e;const r=n.get(e);if(r)return r;const i=new Proxy(e,l===2?a:s);return n.set(e,i),i}function Ls(e){return us(e)?Ls(e.__v_raw):!!(e&&e.__v_isReactive)}function us(e){return!!(e&&e.__v_isReadonly)}function It(e){return!!(e&&e.__v_isShallow)}function Jn(e){return e?!!e.__v_raw:!1}function Be(e){const t=e&&e.__v_raw;return t?Be(t):e}function Wu(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&Jr(e,"__v_skip",!0),e}const Ze=e=>Ge(e)?Po(e):e,eo=e=>Ge(e)?mi(e):e;function nt(e){return e?e.__v_isRef===!0:!1}function z(e){return bi(e,!1)}function Xu(e){return bi(e,!0)}function bi(e,t){return nt(e)?e:new Qu(e,t)}class Qu{constructor(t,s){this.dep=new Xn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Be(t),this._value=s?t:Ze(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||It(t)||us(t);t=a?t:Be(t),cs(t,s)&&(this._rawValue=t,this._value=a?t:Ze(t),this.dep.trigger())}}function U(e){return nt(e)?e.value:e}const Ku={get:(e,t,s)=>t==="__v_raw"?e:U(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return nt(n)&&!nt(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function yi(e){return Ls(e)?e:new Proxy(e,Ku)}class Ju{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Xn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ma-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return oi(this,!0),!0}get value(){const t=this.dep.track();return ri(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Zu(e,t,s=!1){let a,n;return Ie(e)?a=e:(a=e.get,n=e.set),new Ju(a,n,s)}const Na={},to=new WeakMap;let bs;function ed(e,t=!1,s=bs){if(s){let a=to.get(s);a||to.set(s,a=[]),a.push(e)}}function td(e,t,s=Ye){const{immediate:a,deep:n,once:l,scheduler:r,augmentJob:i,call:d}=s,f=x=>n?x:It(x)||n===!1||n===0?Xt(x,1):Xt(x);let c,u,v,h,C=!1,y=!1;if(nt(e)?(u=()=>e.value,C=It(e)):Ls(e)?(u=()=>f(e),C=!0):xe(e)?(y=!0,C=e.some(x=>Ls(x)||It(x)),u=()=>e.map(x=>{if(nt(x))return x.value;if(Ls(x))return f(x);if(Ie(x))return d?d(x,2):x()})):Ie(e)?t?u=d?()=>d(e,2):e:u=()=>{if(v){Kt();try{v()}finally{Jt()}}const x=bs;bs=c;try{return d?d(e,3,[h]):e(h)}finally{bs=x}}:u=Pt,t&&n){const x=u,j=n===!0?1/0:n;u=()=>Xt(x(),j)}const g=Eu(),A=()=>{c.stop(),g&&g.active&&Hn(g.effects,c)};if(l&&t){const x=t;t=(...j)=>{x(...j),A()}}let w=y?new Array(e.length).fill(Na):Na;const I=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const j=c.run();if(n||C||(y?j.some((_,S)=>cs(_,w[S])):cs(j,w))){v&&v();const _=bs;bs=c;try{const S=[j,w===Na?void 0:y&&w[0]===Na?[]:w,h];w=j,d?d(t,3,S):t(...S)}finally{bs=_}}}else c.run()};return i&&i(I),c=new si(u),c.scheduler=r?()=>r(I,!1):I,h=x=>ed(x,!1,c),v=c.onStop=()=>{const x=to.get(c);if(x){if(d)d(x,4);else for(const j of x)j();to.delete(c)}},t?a?I(!0):w=c.run():r?r(I.bind(null,!0),!0):c.run(),A.pause=c.pause.bind(c),A.resume=c.resume.bind(c),A.stop=A,A}function Xt(e,t=1/0,s){if(t<=0||!Ge(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,nt(e))Xt(e.value,t,s);else if(xe(e))for(let a=0;a<e.length;a++)Xt(e[a],t,s);else if(Wr(e)||Vs(e))e.forEach(a=>{Xt(a,t,s)});else if(Kr(e)){for(const a in e)Xt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Xt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ea(e,t,s,a){try{return a?e(...a):e()}catch(n){Fo(n,t,s)}}function Dt(e,t,s,a){if(Ie(e)){const n=Ea(e,t,s,a);return n&&Xr(n)&&n.catch(l=>{Fo(l,t,s)}),n}if(xe(e)){const n=[];for(let l=0;l<e.length;l++)n.push(Dt(e[l],t,s,a));return n}}function Fo(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Ye;if(t){let i=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,d,f)===!1)return}i=i.parent}if(l){Kt(),Ea(l,null,10,[e,d,f]),Jt();return}}sd(e,s,n,a,r)}function sd(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const ct=[];let Vt=-1;const Ns=[];let os=null,Fs=0;const Ai=Promise.resolve();let so=null;function ze(e){const t=so||Ai;return e?t.then(this?e.bind(this):e):t}function ad(e){let t=Vt+1,s=ct.length;for(;t<s;){const a=t+s>>>1,n=ct[a],l=ya(n);l<e||l===e&&n.flags&2?t=a+1:s=a}return t}function Zn(e){if(!(e.flags&1)){const t=ya(e),s=ct[ct.length-1];!s||!(e.flags&2)&&t>=ya(s)?ct.push(e):ct.splice(ad(t),0,e),e.flags|=1,Ci()}}function Ci(){so||(so=Ai.then(Si))}function wi(e){xe(e)?Ns.push(...e):os&&e.id===-1?os.splice(Fs+1,0,e):e.flags&1||(Ns.push(e),e.flags|=1),Ci()}function wl(e,t,s=Vt+1){for(;s<ct.length;s++){const a=ct[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;ct.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function _i(e){if(Ns.length){const t=[...new Set(Ns)].sort((s,a)=>ya(s)-ya(a));if(Ns.length=0,os){os.push(...t);return}for(os=t,Fs=0;Fs<os.length;Fs++){const s=os[Fs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}os=null,Fs=0}}const ya=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Si(e){try{for(Vt=0;Vt<ct.length;Vt++){const t=ct[Vt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ea(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vt<ct.length;Vt++){const t=ct[Vt];t&&(t.flags&=-2)}Vt=-1,ct.length=0,_i(),so=null,(ct.length||Ns.length)&&Si()}}let bt=null,ki=null;function ao(e){const t=bt;return bt=e,ki=e&&e.type.__scopeId||null,t}function ut(e,t=bt,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&lo(-1);const l=ao(t);let r;try{r=e(...n)}finally{ao(l),a._d&&lo(1)}return r};return a._n=!0,a._c=!0,a._d=!0,a}function Cs(e,t){if(bt===null)return e;const s=Vo(bt),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[l,r,i,d=Ye]=t[n];l&&(Ie(l)&&(l={mounted:l,updated:l}),l.deep&&Xt(r),a.push({dir:l,instance:s,value:r,oldValue:void 0,arg:i,modifiers:d}))}return e}function hs(e,t,s,a){const n=e.dirs,l=t&&t.dirs;for(let r=0;r<n.length;r++){const i=n[r];l&&(i.oldValue=l[r].value);let d=i.dir[a];d&&(Kt(),Dt(d,s,8,[e.el,i,e,t]),Jt())}}const $i=Symbol("_vte"),xi=e=>e.__isTeleport,ia=e=>e&&(e.disabled||e.disabled===""),_l=e=>e&&(e.defer||e.defer===""),Sl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,kl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,pn=(e,t)=>{const s=e&&e.to;return Ue(s)?t?t(s):null:s},Ii={name:"Teleport",__isTeleport:!0,process(e,t,s,a,n,l,r,i,d,f){const{mc:c,pc:u,pbc:v,o:{insert:h,querySelector:C,createText:y,createComment:g}}=f,A=ia(t.props);let{shapeFlag:w,children:I,dynamicChildren:x}=t;if(e==null){const j=t.el=y(""),_=t.anchor=y("");h(j,s,a),h(_,s,a);const S=(k,P)=>{w&16&&(n&&n.isCE&&(n.ce._teleportTarget=k),c(I,k,P,n,l,r,i,d))},m=()=>{const k=t.target=pn(t.props,C),P=Ei(k,t,y,h);k&&(r!=="svg"&&Sl(k)?r="svg":r!=="mathml"&&kl(k)&&(r="mathml"),A||(S(k,P),Wa(t,!1)))};A&&(S(s,_),Wa(t,!0)),_l(t.props)?(t.el.__isMounted=!1,it(()=>{m(),delete t.el.__isMounted},l)):m()}else{if(_l(t.props)&&e.el.__isMounted===!1){it(()=>{Ii.process(e,t,s,a,n,l,r,i,d,f)},l);return}t.el=e.el,t.targetStart=e.targetStart;const j=t.anchor=e.anchor,_=t.target=e.target,S=t.targetAnchor=e.targetAnchor,m=ia(e.props),k=m?s:_,P=m?j:S;if(r==="svg"||Sl(_)?r="svg":(r==="mathml"||kl(_))&&(r="mathml"),x?(v(e.dynamicChildren,x,k,n,l,r,i),ol(e,t,!0)):d||u(e,t,k,P,n,l,r,i,!1),A)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Oa(t,s,j,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=pn(t.props,C);V&&Oa(t,V,null,f,0)}else m&&Oa(t,_,S,f,1);Wa(t,A)}},remove(e,t,s,{um:a,o:{remove:n}},l){const{shapeFlag:r,children:i,anchor:d,targetStart:f,targetAnchor:c,target:u,props:v}=e;if(u&&(n(f),n(c)),l&&n(d),r&16){const h=l||!ia(v);for(let C=0;C<i.length;C++){const y=i[C];a(y,t,s,h,!!y.dynamicChildren)}}},move:Oa,hydrate:od};function Oa(e,t,s,{o:{insert:a},m:n},l=2){l===0&&a(e.targetAnchor,t,s);const{el:r,anchor:i,shapeFlag:d,children:f,props:c}=e,u=l===2;if(u&&a(r,t,s),(!u||ia(c))&&d&16)for(let v=0;v<f.length;v++)n(f[v],t,s,2);u&&a(i,t,s)}function od(e,t,s,a,n,l,{o:{nextSibling:r,parentNode:i,querySelector:d,insert:f,createText:c}},u){function v(y,g,A,w){g.anchor=u(r(y),g,i(y),s,a,n,l),g.targetStart=A,g.targetAnchor=w}const h=t.target=pn(t.props,d),C=ia(t.props);if(h){const y=h._lpa||h.firstChild;if(t.shapeFlag&16)if(C)v(e,t,y,y&&r(y));else{t.anchor=r(e);let g=y;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&r(t.targetAnchor);break}}g=r(g)}t.targetAnchor||Ei(h,t,c,f),u(y&&r(y),t,h,s,a,n,l)}Wa(t,C)}else C&&t.shapeFlag&16&&v(e,t,e,r(e));return t.anchor&&r(t.anchor)}const Yt=Ii;function Wa(e,t){const s=e.ctx;if(s&&s.ut){let a,n;for(t?(a=e.el,n=e.anchor):(a=e.targetStart,n=e.targetAnchor);a&&a!==n;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function Ei(e,t,s,a){const n=t.targetStart=s(""),l=t.targetAnchor=s("");return n[$i]=l,e&&(a(n,e),a(l,e)),l}const Ut=Symbol("_leaveCb"),za=Symbol("_enterCb");function Pi(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Le(()=>{e.isMounted=!0}),tl(()=>{e.isUnmounting=!0}),e}const St=[Function,Array],Fi={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:St,onEnter:St,onAfterEnter:St,onEnterCancelled:St,onBeforeLeave:St,onLeave:St,onAfterLeave:St,onLeaveCancelled:St,onBeforeAppear:St,onAppear:St,onAfterAppear:St,onAppearCancelled:St},Mi=e=>{const t=e.subTree;return t.component?Mi(t.component):t},nd={name:"BaseTransition",props:Fi,setup(e,{slots:t}){const s=Bo(),a=Pi();return()=>{const n=t.default&&el(t.default(),!0);if(!n||!n.length)return;const l=Di(n),r=Be(e),{mode:i}=r;if(a.isLeaving)return qo(l);const d=$l(l);if(!d)return qo(l);let f=Aa(d,r,a,s,u=>f=u);d.type!==dt&&ws(d,f);let c=s.subTree&&$l(s.subTree);if(c&&c.type!==dt&&!ys(c,d)&&Mi(s).type!==dt){let u=Aa(c,r,a,s);if(ws(c,u),i==="out-in"&&d.type!==dt)return a.isLeaving=!0,u.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete u.afterLeave,c=void 0},qo(l);i==="in-out"&&d.type!==dt?u.delayLeave=(v,h,C)=>{const y=Ti(a,c);y[String(c.key)]=c,v[Ut]=()=>{h(),v[Ut]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{C(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return l}}};function Di(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==dt){t=s;break}}return t}const ld=nd;function Ti(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function Aa(e,t,s,a,n){const{appear:l,mode:r,persisted:i=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:v,onLeave:h,onAfterLeave:C,onLeaveCancelled:y,onBeforeAppear:g,onAppear:A,onAfterAppear:w,onAppearCancelled:I}=t,x=String(e.key),j=Ti(s,e),_=(k,P)=>{k&&Dt(k,a,9,P)},S=(k,P)=>{const V=P[1];_(k,P),xe(k)?k.every(F=>F.length<=1)&&V():k.length<=1&&V()},m={mode:r,persisted:i,beforeEnter(k){let P=d;if(!s.isMounted)if(l)P=g||d;else return;k[Ut]&&k[Ut](!0);const V=j[x];V&&ys(e,V)&&V.el[Ut]&&V.el[Ut](),_(P,[k])},enter(k){let P=f,V=c,F=u;if(!s.isMounted)if(l)P=A||f,V=w||c,F=I||u;else return;let D=!1;const H=k[za]=M=>{D||(D=!0,M?_(F,[k]):_(V,[k]),m.delayedLeave&&m.delayedLeave(),k[za]=void 0)};P?S(P,[k,H]):H()},leave(k,P){const V=String(e.key);if(k[za]&&k[za](!0),s.isUnmounting)return P();_(v,[k]);let F=!1;const D=k[Ut]=H=>{F||(F=!0,P(),H?_(y,[k]):_(C,[k]),k[Ut]=void 0,j[V]===e&&delete j[V])};j[V]=e,h?S(h,[k,D]):D()},clone(k){const P=Aa(k,t,s,a,n);return n&&n(P),P}};return m}function qo(e){if(Mo(e))return e=ds(e),e.children=null,e}function $l(e){if(!Mo(e))return xi(e.type)&&e.children?Di(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Ie(s.default))return s.default()}}function ws(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ws(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function el(e,t=!1,s){let a=[],n=0;for(let l=0;l<e.length;l++){let r=e[l];const i=s==null?r.key:String(s)+String(r.key!=null?r.key:l);r.type===ge?(r.patchFlag&128&&n++,a=a.concat(el(r.children,t,i))):(t||r.type!==dt)&&a.push(i!=null?ds(r,{key:i}):r)}if(n>1)for(let l=0;l<a.length;l++)a[l].patchFlag=-2;return a}function Ri(e,t){return Ie(e)?Je({name:e.name},t,{setup:e}):e}function Bi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const oo=new WeakMap;function ca(e,t,s,a,n=!1){if(xe(e)){e.forEach((C,y)=>ca(C,t&&(xe(t)?t[y]:t),s,a,n));return}if(ua(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&ca(e,t,s,a.component.subTree);return}const l=a.shapeFlag&4?Vo(a.component):a.el,r=n?null:l,{i,r:d}=e,f=t&&t.r,c=i.refs===Ye?i.refs={}:i.refs,u=i.setupState,v=Be(u),h=u===Ye?Ur:C=>Oe(v,C);if(f!=null&&f!==d){if(xl(t),Ue(f))c[f]=null,h(f)&&(u[f]=null);else if(nt(f)){f.value=null;const C=t;C.k&&(c[C.k]=null)}}if(Ie(d))Ea(d,i,12,[r,c]);else{const C=Ue(d),y=nt(d);if(C||y){const g=()=>{if(e.f){const A=C?h(d)?u[d]:c[d]:d.value;if(n)xe(A)&&Hn(A,l);else if(xe(A))A.includes(l)||A.push(l);else if(C)c[d]=[l],h(d)&&(u[d]=c[d]);else{const w=[l];d.value=w,e.k&&(c[e.k]=w)}}else C?(c[d]=r,h(d)&&(u[d]=r)):y&&(d.value=r,e.k&&(c[e.k]=r))};if(r){const A=()=>{g(),oo.delete(e)};A.id=-1,oo.set(e,A),it(A,s)}else xl(e),g()}}}function xl(e){const t=oo.get(e);t&&(t.flags|=8,oo.delete(e))}Io().requestIdleCallback;Io().cancelIdleCallback;const ua=e=>!!e.type.__asyncLoader,Mo=e=>e.type.__isKeepAlive;function rd(e,t){Vi(e,"a",t)}function id(e,t){Vi(e,"da",t)}function Vi(e,t,s=ot){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Do(t,a,s),s){let n=s.parent;for(;n&&n.parent;)Mo(n.parent.vnode)&&cd(a,t,s,n),n=n.parent}}function cd(e,t,s,a){const n=Do(t,e,a,!0);Pa(()=>{Hn(a[t],n)},s)}function Do(e,t,s=ot,a=!1){if(s){const n=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...r)=>{Kt();const i=Fa(s),d=Dt(t,s,e,r);return i(),Jt(),d});return a?n.unshift(l):n.push(l),l}}const Zt=e=>(t,s=ot)=>{(!wa||e==="sp")&&Do(e,(...a)=>t(...a),s)},ud=Zt("bm"),Le=Zt("m"),Li=Zt("bu"),Ni=Zt("u"),tl=Zt("bum"),Pa=Zt("um"),dd=Zt("sp"),fd=Zt("rtg"),vd=Zt("rtc");function hd(e,t=ot){Do("ec",e,t)}const Oi="components";function pd(e,t){return ji(Oi,e,!0,t)||e}const zi=Symbol.for("v-ndc");function Yi(e){return Ue(e)?ji(Oi,e,!1)||e:e||zi}function ji(e,t,s=!0,a=!1){const n=bt||ot;if(n){const l=n.type;{const i=sf(l,!1);if(i&&(i===t||i===Et(t)||i===xo(Et(t))))return l}const r=Il(n[e]||l[e],t)||Il(n.appContext[e],t);return!r&&a?l:r}}function Il(e,t){return e&&(e[t]||e[Et(t)]||e[xo(Et(t))])}function _e(e,t,s,a){let n;const l=s,r=xe(e);if(r||Ue(e)){const i=r&&Ls(e);let d=!1,f=!1;i&&(d=!It(e),f=us(e),e=Eo(e)),n=new Array(e.length);for(let c=0,u=e.length;c<u;c++)n[c]=t(d?f?eo(Ze(e[c])):Ze(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i,void 0,l)}else if(Ge(e))if(e[Symbol.iterator])n=Array.from(e,(i,d)=>t(i,d,void 0,l));else{const i=Object.keys(e);n=new Array(i.length);for(let d=0,f=i.length;d<f;d++){const c=i[d];n[d]=t(e[c],c,d,l)}}else n=[];return n}const gn=e=>e?ic(e)?Vo(e):gn(e.parent):null,da=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gn(e.parent),$root:e=>gn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Gi(e),$forceUpdate:e=>e.f||(e.f=()=>{Zn(e.update)}),$nextTick:e=>e.n||(e.n=ze.bind(e.proxy)),$watch:e=>Bd.bind(e)}),Uo=(e,t)=>e!==Ye&&!e.__isScriptSetup&&Oe(e,t),gd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:l,accessCache:r,type:i,appContext:d}=e;let f;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return l[t]}else{if(Uo(a,t))return r[t]=1,a[t];if(n!==Ye&&Oe(n,t))return r[t]=2,n[t];if((f=e.propsOptions[0])&&Oe(f,t))return r[t]=3,l[t];if(s!==Ye&&Oe(s,t))return r[t]=4,s[t];mn&&(r[t]=0)}}const c=da[t];let u,v;if(c)return t==="$attrs"&&at(e.attrs,"get",""),c(e);if((u=i.__cssModules)&&(u=u[t]))return u;if(s!==Ye&&Oe(s,t))return r[t]=4,s[t];if(v=d.config.globalProperties,Oe(v,t))return v[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:l}=e;return Uo(n,t)?(n[t]=s,!0):a!==Ye&&Oe(a,t)?(a[t]=s,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:l,type:r}},i){let d,f;return!!(s[i]||e!==Ye&&i[0]!=="$"&&Oe(e,i)||Uo(t,i)||(d=l[0])&&Oe(d,i)||Oe(a,i)||Oe(da,i)||Oe(n.config.globalProperties,i)||(f=r.__cssModules)&&f[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Oe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function El(e){return xe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let mn=!0;function md(e){const t=Gi(e),s=e.proxy,a=e.ctx;mn=!1,t.beforeCreate&&Pl(t.beforeCreate,e,"bc");const{data:n,computed:l,methods:r,watch:i,provide:d,inject:f,created:c,beforeMount:u,mounted:v,beforeUpdate:h,updated:C,activated:y,deactivated:g,beforeDestroy:A,beforeUnmount:w,destroyed:I,unmounted:x,render:j,renderTracked:_,renderTriggered:S,errorCaptured:m,serverPrefetch:k,expose:P,inheritAttrs:V,components:F,directives:D,filters:H}=t;if(f&&bd(f,a,null),r)for(const ee in r){const te=r[ee];Ie(te)&&(a[ee]=te.bind(s))}if(n){const ee=n.call(s,s);Ge(ee)&&(e.data=Po(ee))}if(mn=!0,l)for(const ee in l){const te=l[ee],re=Ie(te)?te.bind(s,s):Ie(te.get)?te.get.bind(s,s):Pt,pe=!Ie(te)&&Ie(te.set)?te.set.bind(s):Pt,Ce=O({get:re,set:pe});Object.defineProperty(a,ee,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:oe=>Ce.value=oe})}if(i)for(const ee in i)Hi(i[ee],a,s,ee);if(d){const ee=Ie(d)?d.call(s):d;Reflect.ownKeys(ee).forEach(te=>{Xa(te,ee[te])})}c&&Pl(c,e,"c");function K(ee,te){xe(te)?te.forEach(re=>ee(re.bind(s))):te&&ee(te.bind(s))}if(K(ud,u),K(Le,v),K(Li,h),K(Ni,C),K(rd,y),K(id,g),K(hd,m),K(vd,_),K(fd,S),K(tl,w),K(Pa,x),K(dd,k),xe(P))if(P.length){const ee=e.exposed||(e.exposed={});P.forEach(te=>{Object.defineProperty(ee,te,{get:()=>s[te],set:re=>s[te]=re,enumerable:!0})})}else e.exposed||(e.exposed={});j&&e.render===Pt&&(e.render=j),V!=null&&(e.inheritAttrs=V),F&&(e.components=F),D&&(e.directives=D),k&&Bi(e)}function bd(e,t,s=Pt){xe(e)&&(e=bn(e));for(const a in e){const n=e[a];let l;Ge(n)?"default"in n?l=Mt(n.from||a,n.default,!0):l=Mt(n.from||a):l=Mt(n),nt(l)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:r=>l.value=r}):t[a]=l}}function Pl(e,t,s){Dt(xe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function Hi(e,t,s,a){let n=a.includes(".")?ac(s,a):()=>s[a];if(Ue(e)){const l=t[e];Ie(l)&&be(n,l)}else if(Ie(e))be(n,e.bind(s));else if(Ge(e))if(xe(e))e.forEach(l=>Hi(l,t,s,a));else{const l=Ie(e.handler)?e.handler.bind(s):t[e.handler];Ie(l)&&be(n,l,e)}}function Gi(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:l,config:{optionMergeStrategies:r}}=e.appContext,i=l.get(t);let d;return i?d=i:!n.length&&!s&&!a?d=t:(d={},n.length&&n.forEach(f=>no(d,f,r,!0)),no(d,t,r)),Ge(t)&&l.set(t,d),d}function no(e,t,s,a=!1){const{mixins:n,extends:l}=t;l&&no(e,l,s,!0),n&&n.forEach(r=>no(e,r,s,!0));for(const r in t)if(!(a&&r==="expose")){const i=yd[r]||s&&s[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const yd={data:Fl,props:Ml,emits:Ml,methods:Zs,computed:Zs,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:Zs,directives:Zs,watch:Cd,provide:Fl,inject:Ad};function Fl(e,t){return t?e?function(){return Je(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function Ad(e,t){return Zs(bn(e),bn(t))}function bn(e){if(xe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function rt(e,t){return e?[...new Set([].concat(e,t))]:t}function Zs(e,t){return e?Je(Object.create(null),e,t):t}function Ml(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:Je(Object.create(null),El(e),El(t??{})):t}function Cd(e,t){if(!e)return t;if(!t)return e;const s=Je(Object.create(null),e);for(const a in t)s[a]=rt(e[a],t[a]);return s}function qi(){return{app:null,config:{isNativeTag:Ur,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wd=0;function _d(e,t){return function(a,n=null){Ie(a)||(a=Je({},a)),n!=null&&!Ge(n)&&(n=null);const l=qi(),r=new WeakSet,i=[];let d=!1;const f=l.app={_uid:wd++,_component:a,_props:n,_container:null,_context:l,_instance:null,version:of,get config(){return l.config},set config(c){},use(c,...u){return r.has(c)||(c&&Ie(c.install)?(r.add(c),c.install(f,...u)):Ie(c)&&(r.add(c),c(f,...u))),f},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),f},component(c,u){return u?(l.components[c]=u,f):l.components[c]},directive(c,u){return u?(l.directives[c]=u,f):l.directives[c]},mount(c,u,v){if(!d){const h=f._ceVNode||Ae(a,n);return h.appContext=l,v===!0?v="svg":v===!1&&(v=void 0),e(h,c,v),d=!0,f._container=c,c.__vue_app__=f,Vo(h.component)}},onUnmount(c){i.push(c)},unmount(){d&&(Dt(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,u){return l.provides[c]=u,f},runWithContext(c){const u=Os;Os=f;try{return c()}finally{Os=u}}};return f}}let Os=null;function Xa(e,t){if(ot){let s=ot.provides;const a=ot.parent&&ot.parent.provides;a===s&&(s=ot.provides=Object.create(a)),s[e]=t}}function Mt(e,t,s=!1){const a=Bo();if(a||Os){let n=Os?Os._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ie(t)?t.call(a&&a.proxy):t}}const Ui={},Wi=()=>Object.create(Ui),Xi=e=>Object.getPrototypeOf(e)===Ui;function Sd(e,t,s,a=!1){const n={},l=Wi();e.propsDefaults=Object.create(null),Qi(e,t,n,l);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=a?n:gi(n):e.type.props?e.props=n:e.props=l,e.attrs=l}function kd(e,t,s,a){const{props:n,attrs:l,vnode:{patchFlag:r}}=e,i=Be(n),[d]=e.propsOptions;let f=!1;if((a||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let v=c[u];if(To(e.emitsOptions,v))continue;const h=t[v];if(d)if(Oe(l,v))h!==l[v]&&(l[v]=h,f=!0);else{const C=Et(v);n[C]=yn(d,i,C,h,e,!1)}else h!==l[v]&&(l[v]=h,f=!0)}}}else{Qi(e,t,n,l)&&(f=!0);let c;for(const u in i)(!t||!Oe(t,u)&&((c=ks(u))===u||!Oe(t,c)))&&(d?s&&(s[u]!==void 0||s[c]!==void 0)&&(n[u]=yn(d,i,u,void 0,e,!0)):delete n[u]);if(l!==i)for(const u in l)(!t||!Oe(t,u))&&(delete l[u],f=!0)}f&&Wt(e.attrs,"set","")}function Qi(e,t,s,a){const[n,l]=e.propsOptions;let r=!1,i;if(t)for(let d in t){if(na(d))continue;const f=t[d];let c;n&&Oe(n,c=Et(d))?!l||!l.includes(c)?s[c]=f:(i||(i={}))[c]=f:To(e.emitsOptions,d)||(!(d in a)||f!==a[d])&&(a[d]=f,r=!0)}if(l){const d=Be(s),f=i||Ye;for(let c=0;c<l.length;c++){const u=l[c];s[u]=yn(n,d,u,f[u],e,!Oe(f,u))}}return r}function yn(e,t,s,a,n,l){const r=e[s];if(r!=null){const i=Oe(r,"default");if(i&&a===void 0){const d=r.default;if(r.type!==Function&&!r.skipFactory&&Ie(d)){const{propsDefaults:f}=n;if(s in f)a=f[s];else{const c=Fa(n);a=f[s]=d.call(null,t),c()}}else a=d;n.ce&&n.ce._setProp(s,a)}r[0]&&(l&&!i?a=!1:r[1]&&(a===""||a===ks(s))&&(a=!0))}return a}const $d=new WeakMap;function Ki(e,t,s=!1){const a=s?$d:t.propsCache,n=a.get(e);if(n)return n;const l=e.props,r={},i=[];let d=!1;if(!Ie(e)){const c=u=>{d=!0;const[v,h]=Ki(u,t,!0);Je(r,v),h&&i.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!d)return Ge(e)&&a.set(e,Bs),Bs;if(xe(l))for(let c=0;c<l.length;c++){const u=Et(l[c]);Dl(u)&&(r[u]=Ye)}else if(l)for(const c in l){const u=Et(c);if(Dl(u)){const v=l[c],h=r[u]=xe(v)||Ie(v)?{type:v}:Je({},v),C=h.type;let y=!1,g=!0;if(xe(C))for(let A=0;A<C.length;++A){const w=C[A],I=Ie(w)&&w.name;if(I==="Boolean"){y=!0;break}else I==="String"&&(g=!1)}else y=Ie(C)&&C.name==="Boolean";h[0]=y,h[1]=g,(y||Oe(h,"default"))&&i.push(u)}}const f=[r,i];return Ge(e)&&a.set(e,f),f}function Dl(e){return e[0]!=="$"&&!na(e)}const sl=e=>e==="_"||e==="_ctx"||e==="$stable",al=e=>xe(e)?e.map(Lt):[Lt(e)],xd=(e,t,s)=>{if(t._n)return t;const a=ut((...n)=>al(t(...n)),s);return a._c=!1,a},Ji=(e,t,s)=>{const a=e._ctx;for(const n in e){if(sl(n))continue;const l=e[n];if(Ie(l))t[n]=xd(n,l,a);else if(l!=null){const r=al(l);t[n]=()=>r}}},Zi=(e,t)=>{const s=al(t);e.slots.default=()=>s},ec=(e,t,s)=>{for(const a in t)(s||!sl(a))&&(e[a]=t[a])},Id=(e,t,s)=>{const a=e.slots=Wi();if(e.vnode.shapeFlag&32){const n=t._;n?(ec(a,t,s),s&&Jr(a,"_",n,!0)):Ji(t,a)}else t&&Zi(e,t)},Ed=(e,t,s)=>{const{vnode:a,slots:n}=e;let l=!0,r=Ye;if(a.shapeFlag&32){const i=t._;i?s&&i===1?l=!1:ec(n,t,s):(l=!t.$stable,Ji(t,n)),r=t}else t&&(Zi(e,t),r={default:1});if(l)for(const i in n)!sl(i)&&r[i]==null&&delete n[i]},it=Hd;function Pd(e){return Fd(e)}function Fd(e,t){const s=Io();s.__VUE__=!0;const{insert:a,remove:n,patchProp:l,createElement:r,createText:i,createComment:d,setText:f,setElementText:c,parentNode:u,nextSibling:v,setScopeId:h=Pt,insertStaticContent:C}=e,y=(E,$,R,Q=null,Z=null,N=null,W=void 0,ne=null,ie=!!$.dynamicChildren)=>{if(E===$)return;E&&!ys(E,$)&&(Q=X(E),oe(E,Z,N,!0),E=null),$.patchFlag===-2&&(ie=!1,$.dynamicChildren=null);const{type:le,ref:me,shapeFlag:ve}=$;switch(le){case Ro:g(E,$,R,Q);break;case dt:A(E,$,R,Q);break;case fa:E==null&&w($,R,Q,W);break;case ge:F(E,$,R,Q,Z,N,W,ne,ie);break;default:ve&1?j(E,$,R,Q,Z,N,W,ne,ie):ve&6?D(E,$,R,Q,Z,N,W,ne,ie):(ve&64||ve&128)&&le.process(E,$,R,Q,Z,N,W,ne,ie,ae)}me!=null&&Z?ca(me,E&&E.ref,N,$||E,!$):me==null&&E&&E.ref!=null&&ca(E.ref,null,N,E,!0)},g=(E,$,R,Q)=>{if(E==null)a($.el=i($.children),R,Q);else{const Z=$.el=E.el;$.children!==E.children&&f(Z,$.children)}},A=(E,$,R,Q)=>{E==null?a($.el=d($.children||""),R,Q):$.el=E.el},w=(E,$,R,Q)=>{[E.el,E.anchor]=C(E.children,$,R,Q,E.el,E.anchor)},I=({el:E,anchor:$},R,Q)=>{let Z;for(;E&&E!==$;)Z=v(E),a(E,R,Q),E=Z;a($,R,Q)},x=({el:E,anchor:$})=>{let R;for(;E&&E!==$;)R=v(E),n(E),E=R;n($)},j=(E,$,R,Q,Z,N,W,ne,ie)=>{$.type==="svg"?W="svg":$.type==="math"&&(W="mathml"),E==null?_($,R,Q,Z,N,W,ne,ie):k(E,$,Z,N,W,ne,ie)},_=(E,$,R,Q,Z,N,W,ne)=>{let ie,le;const{props:me,shapeFlag:ve,transition:ye,dirs:we}=E;if(ie=E.el=r(E.type,N,me&&me.is,me),ve&8?c(ie,E.children):ve&16&&m(E.children,ie,null,Q,Z,Wo(E,N),W,ne),we&&hs(E,null,Q,"created"),S(ie,E,E.scopeId,W,Q),me){for(const Te in me)Te!=="value"&&!na(Te)&&l(ie,Te,null,me[Te],N,Q);"value"in me&&l(ie,"value",null,me.value,N),(le=me.onVnodeBeforeMount)&&Rt(le,Q,E)}we&&hs(E,null,Q,"beforeMount");const $e=Md(Z,ye);$e&&ye.beforeEnter(ie),a(ie,$,R),((le=me&&me.onVnodeMounted)||$e||we)&&it(()=>{le&&Rt(le,Q,E),$e&&ye.enter(ie),we&&hs(E,null,Q,"mounted")},Z)},S=(E,$,R,Q,Z)=>{if(R&&h(E,R),Q)for(let N=0;N<Q.length;N++)h(E,Q[N]);if(Z){let N=Z.subTree;if($===N||nc(N.type)&&(N.ssContent===$||N.ssFallback===$)){const W=Z.vnode;S(E,W,W.scopeId,W.slotScopeIds,Z.parent)}}},m=(E,$,R,Q,Z,N,W,ne,ie=0)=>{for(let le=ie;le<E.length;le++){const me=E[le]=ne?ns(E[le]):Lt(E[le]);y(null,me,$,R,Q,Z,N,W,ne)}},k=(E,$,R,Q,Z,N,W)=>{const ne=$.el=E.el;let{patchFlag:ie,dynamicChildren:le,dirs:me}=$;ie|=E.patchFlag&16;const ve=E.props||Ye,ye=$.props||Ye;let we;if(R&&ps(R,!1),(we=ye.onVnodeBeforeUpdate)&&Rt(we,R,$,E),me&&hs($,E,R,"beforeUpdate"),R&&ps(R,!0),(ve.innerHTML&&ye.innerHTML==null||ve.textContent&&ye.textContent==null)&&c(ne,""),le?P(E.dynamicChildren,le,ne,R,Q,Wo($,Z),N):W||te(E,$,ne,null,R,Q,Wo($,Z),N,!1),ie>0){if(ie&16)V(ne,ve,ye,R,Z);else if(ie&2&&ve.class!==ye.class&&l(ne,"class",null,ye.class,Z),ie&4&&l(ne,"style",ve.style,ye.style,Z),ie&8){const $e=$.dynamicProps;for(let Te=0;Te<$e.length;Te++){const Fe=$e[Te],et=ve[Fe],tt=ye[Fe];(tt!==et||Fe==="value")&&l(ne,Fe,et,tt,Z,R)}}ie&1&&E.children!==$.children&&c(ne,$.children)}else!W&&le==null&&V(ne,ve,ye,R,Z);((we=ye.onVnodeUpdated)||me)&&it(()=>{we&&Rt(we,R,$,E),me&&hs($,E,R,"updated")},Q)},P=(E,$,R,Q,Z,N,W)=>{for(let ne=0;ne<$.length;ne++){const ie=E[ne],le=$[ne],me=ie.el&&(ie.type===ge||!ys(ie,le)||ie.shapeFlag&198)?u(ie.el):R;y(ie,le,me,null,Q,Z,N,W,!0)}},V=(E,$,R,Q,Z)=>{if($!==R){if($!==Ye)for(const N in $)!na(N)&&!(N in R)&&l(E,N,$[N],null,Z,Q);for(const N in R){if(na(N))continue;const W=R[N],ne=$[N];W!==ne&&N!=="value"&&l(E,N,ne,W,Z,Q)}"value"in R&&l(E,"value",$.value,R.value,Z)}},F=(E,$,R,Q,Z,N,W,ne,ie)=>{const le=$.el=E?E.el:i(""),me=$.anchor=E?E.anchor:i("");let{patchFlag:ve,dynamicChildren:ye,slotScopeIds:we}=$;we&&(ne=ne?ne.concat(we):we),E==null?(a(le,R,Q),a(me,R,Q),m($.children||[],R,me,Z,N,W,ne,ie)):ve>0&&ve&64&&ye&&E.dynamicChildren?(P(E.dynamicChildren,ye,R,Z,N,W,ne),($.key!=null||Z&&$===Z.subTree)&&ol(E,$,!0)):te(E,$,R,me,Z,N,W,ne,ie)},D=(E,$,R,Q,Z,N,W,ne,ie)=>{$.slotScopeIds=ne,E==null?$.shapeFlag&512?Z.ctx.activate($,R,Q,W,ie):H($,R,Q,Z,N,W,ie):M(E,$,ie)},H=(E,$,R,Q,Z,N,W)=>{const ne=E.component=Kd(E,Q,Z);if(Mo(E)&&(ne.ctx.renderer=ae),Jd(ne,!1,W),ne.asyncDep){if(Z&&Z.registerDep(ne,K,W),!E.el){const ie=ne.subTree=Ae(dt);A(null,ie,$,R),E.placeholder=ie.el}}else K(ne,E,$,R,Z,N,W)},M=(E,$,R)=>{const Q=$.component=E.component;if(Yd(E,$,R))if(Q.asyncDep&&!Q.asyncResolved){ee(Q,$,R);return}else Q.next=$,Q.update();else $.el=E.el,Q.vnode=$},K=(E,$,R,Q,Z,N,W)=>{const ne=()=>{if(E.isMounted){let{next:ve,bu:ye,u:we,parent:$e,vnode:Te}=E;{const wt=tc(E);if(wt){ve&&(ve.el=Te.el,ee(E,ve,W)),wt.asyncDep.then(()=>{E.isUnmounted||ne()});return}}let Fe=ve,et;ps(E,!1),ve?(ve.el=Te.el,ee(E,ve,W)):ve=Te,ye&&Ua(ye),(et=ve.props&&ve.props.onVnodeBeforeUpdate)&&Rt(et,$e,ve,Te),ps(E,!0);const tt=Rl(E),Ct=E.subTree;E.subTree=tt,y(Ct,tt,u(Ct.el),X(Ct),E,Z,N),ve.el=tt.el,Fe===null&&jd(E,tt.el),we&&it(we,Z),(et=ve.props&&ve.props.onVnodeUpdated)&&it(()=>Rt(et,$e,ve,Te),Z)}else{let ve;const{el:ye,props:we}=$,{bm:$e,m:Te,parent:Fe,root:et,type:tt}=E,Ct=ua($);ps(E,!1),$e&&Ua($e),!Ct&&(ve=we&&we.onVnodeBeforeMount)&&Rt(ve,Fe,$),ps(E,!0);{et.ce&&et.ce._def.shadowRoot!==!1&&et.ce._injectChildStyle(tt);const wt=E.subTree=Rl(E);y(null,wt,R,Q,E,Z,N),$.el=wt.el}if(Te&&it(Te,Z),!Ct&&(ve=we&&we.onVnodeMounted)){const wt=$;it(()=>Rt(ve,Fe,wt),Z)}($.shapeFlag&256||Fe&&ua(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&E.a&&it(E.a,Z),E.isMounted=!0,$=R=Q=null}};E.scope.on();const ie=E.effect=new si(ne);E.scope.off();const le=E.update=ie.run.bind(ie),me=E.job=ie.runIfDirty.bind(ie);me.i=E,me.id=E.uid,ie.scheduler=()=>Zn(me),ps(E,!0),le()},ee=(E,$,R)=>{$.component=E;const Q=E.vnode.props;E.vnode=$,E.next=null,kd(E,$.props,Q,R),Ed(E,$.children,R),Kt(),wl(E),Jt()},te=(E,$,R,Q,Z,N,W,ne,ie=!1)=>{const le=E&&E.children,me=E?E.shapeFlag:0,ve=$.children,{patchFlag:ye,shapeFlag:we}=$;if(ye>0){if(ye&128){pe(le,ve,R,Q,Z,N,W,ne,ie);return}else if(ye&256){re(le,ve,R,Q,Z,N,W,ne,ie);return}}we&8?(me&16&&L(le,Z,N),ve!==le&&c(R,ve)):me&16?we&16?pe(le,ve,R,Q,Z,N,W,ne,ie):L(le,Z,N,!0):(me&8&&c(R,""),we&16&&m(ve,R,Q,Z,N,W,ne,ie))},re=(E,$,R,Q,Z,N,W,ne,ie)=>{E=E||Bs,$=$||Bs;const le=E.length,me=$.length,ve=Math.min(le,me);let ye;for(ye=0;ye<ve;ye++){const we=$[ye]=ie?ns($[ye]):Lt($[ye]);y(E[ye],we,R,null,Z,N,W,ne,ie)}le>me?L(E,Z,N,!0,!1,ve):m($,R,Q,Z,N,W,ne,ie,ve)},pe=(E,$,R,Q,Z,N,W,ne,ie)=>{let le=0;const me=$.length;let ve=E.length-1,ye=me-1;for(;le<=ve&&le<=ye;){const we=E[le],$e=$[le]=ie?ns($[le]):Lt($[le]);if(ys(we,$e))y(we,$e,R,null,Z,N,W,ne,ie);else break;le++}for(;le<=ve&&le<=ye;){const we=E[ve],$e=$[ye]=ie?ns($[ye]):Lt($[ye]);if(ys(we,$e))y(we,$e,R,null,Z,N,W,ne,ie);else break;ve--,ye--}if(le>ve){if(le<=ye){const we=ye+1,$e=we<me?$[we].el:Q;for(;le<=ye;)y(null,$[le]=ie?ns($[le]):Lt($[le]),R,$e,Z,N,W,ne,ie),le++}}else if(le>ye)for(;le<=ve;)oe(E[le],Z,N,!0),le++;else{const we=le,$e=le,Te=new Map;for(le=$e;le<=ye;le++){const lt=$[le]=ie?ns($[le]):Lt($[le]);lt.key!=null&&Te.set(lt.key,le)}let Fe,et=0;const tt=ye-$e+1;let Ct=!1,wt=0;const vs=new Array(tt);for(le=0;le<tt;le++)vs[le]=0;for(le=we;le<=ve;le++){const lt=E[le];if(et>=tt){oe(lt,Z,N,!0);continue}let _t;if(lt.key!=null)_t=Te.get(lt.key);else for(Fe=$e;Fe<=ye;Fe++)if(vs[Fe-$e]===0&&ys(lt,$[Fe])){_t=Fe;break}_t===void 0?oe(lt,Z,N,!0):(vs[_t-$e]=le+1,_t>=wt?wt=_t:Ct=!0,y(lt,$[_t],R,null,Z,N,W,ne,ie),et++)}const Ta=Ct?Dd(vs):Bs;for(Fe=Ta.length-1,le=tt-1;le>=0;le--){const lt=$e+le,_t=$[lt],Ra=$[lt+1],Ba=lt+1<me?Ra.el||Ra.placeholder:Q;vs[le]===0?y(null,_t,R,Ba,Z,N,W,ne,ie):Ct&&(Fe<0||le!==Ta[Fe]?Ce(_t,R,Ba,2):Fe--)}}},Ce=(E,$,R,Q,Z=null)=>{const{el:N,type:W,transition:ne,children:ie,shapeFlag:le}=E;if(le&6){Ce(E.component.subTree,$,R,Q);return}if(le&128){E.suspense.move($,R,Q);return}if(le&64){W.move(E,$,R,ae);return}if(W===ge){a(N,$,R);for(let ve=0;ve<ie.length;ve++)Ce(ie[ve],$,R,Q);a(E.anchor,$,R);return}if(W===fa){I(E,$,R);return}if(Q!==2&&le&1&&ne)if(Q===0)ne.beforeEnter(N),a(N,$,R),it(()=>ne.enter(N),Z);else{const{leave:ve,delayLeave:ye,afterLeave:we}=ne,$e=()=>{E.ctx.isUnmounted?n(N):a(N,$,R)},Te=()=>{N._isLeaving&&N[Ut](!0),ve(N,()=>{$e(),we&&we()})};ye?ye(N,$e,Te):Te()}else a(N,$,R)},oe=(E,$,R,Q=!1,Z=!1)=>{const{type:N,props:W,ref:ne,children:ie,dynamicChildren:le,shapeFlag:me,patchFlag:ve,dirs:ye,cacheIndex:we}=E;if(ve===-2&&(Z=!1),ne!=null&&(Kt(),ca(ne,null,R,E,!0),Jt()),we!=null&&($.renderCache[we]=void 0),me&256){$.ctx.deactivate(E);return}const $e=me&1&&ye,Te=!ua(E);let Fe;if(Te&&(Fe=W&&W.onVnodeBeforeUnmount)&&Rt(Fe,$,E),me&6)q(E.component,R,Q);else{if(me&128){E.suspense.unmount(R,Q);return}$e&&hs(E,null,$,"beforeUnmount"),me&64?E.type.remove(E,$,R,ae,Q):le&&!le.hasOnce&&(N!==ge||ve>0&&ve&64)?L(le,$,R,!1,!0):(N===ge&&ve&384||!Z&&me&16)&&L(ie,$,R),Q&&se(E)}(Te&&(Fe=W&&W.onVnodeUnmounted)||$e)&&it(()=>{Fe&&Rt(Fe,$,E),$e&&hs(E,null,$,"unmounted")},R)},se=E=>{const{type:$,el:R,anchor:Q,transition:Z}=E;if($===ge){B(R,Q);return}if($===fa){x(E);return}const N=()=>{n(R),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(E.shapeFlag&1&&Z&&!Z.persisted){const{leave:W,delayLeave:ne}=Z,ie=()=>W(R,N);ne?ne(E.el,N,ie):ie()}else N()},B=(E,$)=>{let R;for(;E!==$;)R=v(E),n(E),E=R;n($)},q=(E,$,R)=>{const{bum:Q,scope:Z,job:N,subTree:W,um:ne,m:ie,a:le}=E;Tl(ie),Tl(le),Q&&Ua(Q),Z.stop(),N&&(N.flags|=8,oe(W,E,$,R)),ne&&it(ne,$),it(()=>{E.isUnmounted=!0},$)},L=(E,$,R,Q=!1,Z=!1,N=0)=>{for(let W=N;W<E.length;W++)oe(E[W],$,R,Q,Z)},X=E=>{if(E.shapeFlag&6)return X(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const $=v(E.anchor||E.el),R=$&&$[$i];return R?v(R):$};let J=!1;const T=(E,$,R)=>{E==null?$._vnode&&oe($._vnode,null,null,!0):y($._vnode||null,E,$,null,null,null,R),$._vnode=E,J||(J=!0,wl(),_i(),J=!1)},ae={p:y,um:oe,m:Ce,r:se,mt:H,mc:m,pc:te,pbc:P,n:X,o:e};return{render:T,hydrate:void 0,createApp:_d(T)}}function Wo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ps({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Md(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ol(e,t,s=!1){const a=e.children,n=t.children;if(xe(a)&&xe(n))for(let l=0;l<a.length;l++){const r=a[l];let i=n[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=n[l]=ns(n[l]),i.el=r.el),!s&&i.patchFlag!==-2&&ol(r,i)),i.type===Ro&&i.patchFlag!==-1&&(i.el=r.el),i.type===dt&&!i.el&&(i.el=r.el)}}function Dd(e){const t=e.slice(),s=[0];let a,n,l,r,i;const d=e.length;for(a=0;a<d;a++){const f=e[a];if(f!==0){if(n=s[s.length-1],e[n]<f){t[a]=n,s.push(a);continue}for(l=0,r=s.length-1;l<r;)i=l+r>>1,e[s[i]]<f?l=i+1:r=i;f<e[s[l]]&&(l>0&&(t[a]=s[l-1]),s[l]=a)}}for(l=s.length,r=s[l-1];l-- >0;)s[l]=r,r=t[r];return s}function tc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:tc(t)}function Tl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Td=Symbol.for("v-scx"),Rd=()=>Mt(Td);function be(e,t,s){return sc(e,t,s)}function sc(e,t,s=Ye){const{immediate:a,deep:n,flush:l,once:r}=s,i=Je({},s),d=t&&a||!t&&l!=="post";let f;if(wa){if(l==="sync"){const h=Rd();f=h.__watcherHandles||(h.__watcherHandles=[])}else if(!d){const h=()=>{};return h.stop=Pt,h.resume=Pt,h.pause=Pt,h}}const c=ot;i.call=(h,C,y)=>Dt(h,c,C,y);let u=!1;l==="post"?i.scheduler=h=>{it(h,c&&c.suspense)}:l!=="sync"&&(u=!0,i.scheduler=(h,C)=>{C?h():Zn(h)}),i.augmentJob=h=>{t&&(h.flags|=4),u&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const v=td(e,t,i);return wa&&(f?f.push(v):d&&v()),v}function Bd(e,t,s){const a=this.proxy,n=Ue(e)?e.includes(".")?ac(a,e):()=>a[e]:e.bind(a,a);let l;Ie(t)?l=t:(l=t.handler,s=t);const r=Fa(this),i=sc(n,l.bind(a),s);return r(),i}function ac(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const Vd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Et(t)}Modifiers`]||e[`${ks(t)}Modifiers`];function Ld(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Ye;let n=s;const l=t.startsWith("update:"),r=l&&Vd(a,t.slice(7));r&&(r.trim&&(n=s.map(c=>Ue(c)?c.trim():c)),r.number&&(n=s.map(un)));let i,d=a[i=zo(t)]||a[i=zo(Et(t))];!d&&l&&(d=a[i=zo(ks(t))]),d&&Dt(d,e,6,n);const f=a[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Dt(f,e,6,n)}}const Nd=new WeakMap;function oc(e,t,s=!1){const a=s?Nd:t.emitsCache,n=a.get(e);if(n!==void 0)return n;const l=e.emits;let r={},i=!1;if(!Ie(e)){const d=f=>{const c=oc(f,t,!0);c&&(i=!0,Je(r,c))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!i?(Ge(e)&&a.set(e,null),null):(xe(l)?l.forEach(d=>r[d]=null):Je(r,l),Ge(e)&&a.set(e,r),r)}function To(e,t){return!e||!So(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,ks(t))||Oe(e,t))}function Rl(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[l],slots:r,attrs:i,emit:d,render:f,renderCache:c,props:u,data:v,setupState:h,ctx:C,inheritAttrs:y}=e,g=ao(e);let A,w;try{if(s.shapeFlag&4){const x=n||a,j=x;A=Lt(f.call(j,x,c,u,h,v,C)),w=i}else{const x=t;A=Lt(x.length>1?x(u,{attrs:i,slots:r,emit:d}):x(u,null)),w=t.props?i:Od(i)}}catch(x){va.length=0,Fo(x,e,1),A=Ae(dt)}let I=A;if(w&&y!==!1){const x=Object.keys(w),{shapeFlag:j}=I;x.length&&j&7&&(l&&x.some(jn)&&(w=zd(w,l)),I=ds(I,w,!1,!0))}return s.dirs&&(I=ds(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&ws(I,s.transition),A=I,ao(g),A}const Od=e=>{let t;for(const s in e)(s==="class"||s==="style"||So(s))&&((t||(t={}))[s]=e[s]);return t},zd=(e,t)=>{const s={};for(const a in e)(!jn(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Yd(e,t,s){const{props:a,children:n,component:l}=e,{props:r,children:i,patchFlag:d}=t,f=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return a?Bl(a,r,f):!!r;if(d&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const v=c[u];if(r[v]!==a[v]&&!To(f,v))return!0}}}else return(n||i)&&(!i||!i.$stable)?!0:a===r?!1:a?r?Bl(a,r,f):!0:!!r;return!1}function Bl(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const l=a[n];if(t[l]!==e[l]&&!To(s,l))return!0}return!1}function jd({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const nc=e=>e.__isSuspense;function Hd(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):wi(e)}const ge=Symbol.for("v-fgt"),Ro=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),fa=Symbol.for("v-stc"),va=[];let yt=null;function p(e=!1){va.push(yt=e?null:[])}function Gd(){va.pop(),yt=va[va.length-1]||null}let Ca=1;function lo(e,t=!1){Ca+=e,e<0&&yt&&t&&(yt.hasOnce=!0)}function lc(e){return e.dynamicChildren=Ca>0?yt||Bs:null,Gd(),Ca>0&&yt&&yt.push(e),e}function b(e,t,s,a,n,l){return lc(o(e,t,s,a,n,l,!0))}function Pe(e,t,s,a,n){return lc(Ae(e,t,s,a,n,!0))}function ro(e){return e?e.__v_isVNode===!0:!1}function ys(e,t){return e.type===t.type&&e.key===t.key}const rc=({key:e})=>e??null,Qa=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||nt(e)||Ie(e)?{i:bt,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,a=0,n=null,l=e===ge?0:1,r=!1,i=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rc(t),ref:t&&Qa(t),scopeId:ki,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:bt};return i?(nl(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=Ue(s)?8:16),Ca>0&&!r&&yt&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&yt.push(d),d}const Ae=qd;function qd(e,t=null,s=null,a=0,n=null,l=!1){if((!e||e===zi)&&(e=dt),ro(e)){const i=ds(e,t,!0);return s&&nl(i,s),Ca>0&&!l&&yt&&(i.shapeFlag&6?yt[yt.indexOf(e)]=i:yt.push(i)),i.patchFlag=-2,i}if(af(e)&&(e=e.__vccOpts),t){t=Ud(t);let{class:i,style:d}=t;i&&!Ue(i)&&(t.class=he(i)),Ge(d)&&(Jn(d)&&!xe(d)&&(d=Je({},d)),t.style=fe(d))}const r=Ue(e)?1:nc(e)?128:xi(e)?64:Ge(e)?4:Ie(e)?2:0;return o(e,t,s,a,n,r,l,!0)}function Ud(e){return e?Jn(e)||Xi(e)?Je({},e):e:null}function ds(e,t,s=!1,a=!1){const{props:n,ref:l,patchFlag:r,children:i,transition:d}=e,f=t?Wd(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&rc(f),ref:t&&t.ref?s&&l?xe(l)?l.concat(Qa(t)):[l,Qa(t)]:Qa(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ds(e.ssContent),ssFallback:e.ssFallback&&ds(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&a&&ws(c,d.clone(c)),c}function Ke(e=" ",t=0){return Ae(Ro,null,e,t)}function ke(e,t){const s=Ae(fa,null,e);return s.staticCount=t,s}function ce(e="",t=!1){return t?(p(),Pe(dt,null,e)):Ae(dt,null,e)}function Lt(e){return e==null||typeof e=="boolean"?Ae(dt):xe(e)?Ae(ge,null,e.slice()):ro(e)?ns(e):Ae(Ro,null,String(e))}function ns(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ds(e)}function nl(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(xe(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),nl(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Xi(t)?t._ctx=bt:n===3&&bt&&(bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:bt},s=32):(t=String(t),a&64?(s=16,t=[Ke(t)]):s=8);e.children=t,e.shapeFlag|=s}function Wd(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=he([t.class,a.class]));else if(n==="style")t.style=fe([t.style,a.style]);else if(So(n)){const l=t[n],r=a[n];r&&l!==r&&!(xe(l)&&l.includes(r))&&(t[n]=l?[].concat(l,r):r)}else n!==""&&(t[n]=a[n])}return t}function Rt(e,t,s,a=null){Dt(e,t,7,[s,a])}const Xd=qi();let Qd=0;function Kd(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||Xd,l={uid:Qd++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Iu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ki(a,n),emitsOptions:oc(a,n),emit:null,emitted:null,propsDefaults:Ye,inheritAttrs:a.inheritAttrs,ctx:Ye,data:Ye,props:Ye,attrs:Ye,slots:Ye,refs:Ye,setupState:Ye,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Ld.bind(null,l),e.ce&&e.ce(l),l}let ot=null;const Bo=()=>ot||bt;let io,An;{const e=Io(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),l=>{n.length>1?n.forEach(r=>r(l)):n[0](l)}};io=t("__VUE_INSTANCE_SETTERS__",s=>ot=s),An=t("__VUE_SSR_SETTERS__",s=>wa=s)}const Fa=e=>{const t=ot;return io(e),e.scope.on(),()=>{e.scope.off(),io(t)}},Vl=()=>{ot&&ot.scope.off(),io(null)};function ic(e){return e.vnode.shapeFlag&4}let wa=!1;function Jd(e,t=!1,s=!1){t&&An(t);const{props:a,children:n}=e.vnode,l=ic(e);Sd(e,a,l,t),Id(e,n,s||t);const r=l?Zd(e,t):void 0;return t&&An(!1),r}function Zd(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gd);const{setup:a}=s;if(a){Kt();const n=e.setupContext=a.length>1?tf(e):null,l=Fa(e),r=Ea(a,e,0,[e.props,n]),i=Xr(r);if(Jt(),l(),(i||e.sp)&&!ua(e)&&Bi(e),i){if(r.then(Vl,Vl),t)return r.then(d=>{Ll(e,d)}).catch(d=>{Fo(d,e,0)});e.asyncDep=r}else Ll(e,r)}else cc(e)}function Ll(e,t,s){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ge(t)&&(e.setupState=yi(t)),cc(e)}function cc(e,t,s){const a=e.type;e.render||(e.render=a.render||Pt);{const n=Fa(e);Kt();try{md(e)}finally{Jt(),n()}}}const ef={get(e,t){return at(e,"get",""),e[t]}};function tf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ef),slots:e.slots,emit:e.emit,expose:t}}function Vo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(yi(Wu(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in da)return da[s](e)},has(t,s){return s in t||s in da}})):e.proxy}function sf(e,t=!0){return Ie(e)?e.displayName||e.name:e.name||t&&e.__name}function af(e){return Ie(e)&&"__vccOpts"in e}const O=(e,t)=>Zu(e,t,wa);function de(e,t,s){const a=(l,r,i)=>{lo(-1);try{return Ae(l,r,i)}finally{lo(1)}},n=arguments.length;return n===2?Ge(t)&&!xe(t)?ro(t)?a(e,null,[t]):a(e,t):a(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&ro(s)&&(s=[s]),a(e,t,s))}const of="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;const Nl=typeof window<"u"&&window.trustedTypes;if(Nl)try{Cn=Nl.createPolicy("vue",{createHTML:e=>e})}catch{}const uc=Cn?e=>Cn.createHTML(e):e=>e,nf="http://www.w3.org/2000/svg",lf="http://www.w3.org/1998/Math/MathML",Gt=typeof document<"u"?document:null,Ol=Gt&&Gt.createElement("template"),rf={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Gt.createElementNS(nf,e):t==="mathml"?Gt.createElementNS(lf,e):s?Gt.createElement(e,{is:s}):Gt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Gt.createTextNode(e),createComment:e=>Gt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Gt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,l){const r=s?s.previousSibling:t.lastChild;if(n&&(n===l||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===l||!(n=n.nextSibling)););else{Ol.innerHTML=uc(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const i=Ol.content;if(a==="svg"||a==="mathml"){const d=i.firstChild;for(;d.firstChild;)i.appendChild(d.firstChild);i.removeChild(d)}t.insertBefore(i,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},es="transition",Us="animation",zs=Symbol("_vtc"),dc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fc=Je({},Fi,dc),cf=e=>(e.displayName="Transition",e.props=fc,e),mt=cf((e,{slots:t})=>de(ld,vc(e),t)),gs=(e,t=[])=>{xe(e)?e.forEach(s=>s(...t)):e&&e(...t)},zl=e=>e?xe(e)?e.some(t=>t.length>1):e.length>1:!1;function vc(e){const t={};for(const F in e)F in dc||(t[F]=e[F]);if(e.css===!1)return t;const{name:s="v",type:a,duration:n,enterFromClass:l=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:i=`${s}-enter-to`,appearFromClass:d=l,appearActiveClass:f=r,appearToClass:c=i,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=e,C=uf(n),y=C&&C[0],g=C&&C[1],{onBeforeEnter:A,onEnter:w,onEnterCancelled:I,onLeave:x,onLeaveCancelled:j,onBeforeAppear:_=A,onAppear:S=w,onAppearCancelled:m=I}=t,k=(F,D,H,M)=>{F._enterCancelled=M,as(F,D?c:i),as(F,D?f:r),H&&H()},P=(F,D)=>{F._isLeaving=!1,as(F,u),as(F,h),as(F,v),D&&D()},V=F=>(D,H)=>{const M=F?S:w,K=()=>k(D,F,H);gs(M,[D,K]),Yl(()=>{as(D,F?d:l),Bt(D,F?c:i),zl(M)||jl(D,a,y,K)})};return Je(t,{onBeforeEnter(F){gs(A,[F]),Bt(F,l),Bt(F,r)},onBeforeAppear(F){gs(_,[F]),Bt(F,d),Bt(F,f)},onEnter:V(!1),onAppear:V(!0),onLeave(F,D){F._isLeaving=!0;const H=()=>P(F,D);Bt(F,u),F._enterCancelled?(Bt(F,v),wn()):(wn(),Bt(F,v)),Yl(()=>{F._isLeaving&&(as(F,u),Bt(F,h),zl(x)||jl(F,a,g,H))}),gs(x,[F,H])},onEnterCancelled(F){k(F,!1,void 0,!0),gs(I,[F])},onAppearCancelled(F){k(F,!0,void 0,!0),gs(m,[F])},onLeaveCancelled(F){P(F),gs(j,[F])}})}function uf(e){if(e==null)return null;if(Ge(e))return[Xo(e.enter),Xo(e.leave)];{const t=Xo(e);return[t,t]}}function Xo(e){return Au(e)}function Bt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[zs]||(e[zs]=new Set)).add(t)}function as(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const s=e[zs];s&&(s.delete(t),s.size||(e[zs]=void 0))}function Yl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let df=0;function jl(e,t,s,a){const n=e._endId=++df,l=()=>{n===e._endId&&a()};if(s!=null)return setTimeout(l,s);const{type:r,timeout:i,propCount:d}=hc(e,t);if(!r)return a();const f=r+"end";let c=0;const u=()=>{e.removeEventListener(f,v),l()},v=h=>{h.target===e&&++c>=d&&u()};setTimeout(()=>{c<d&&u()},i+1),e.addEventListener(f,v)}function hc(e,t){const s=window.getComputedStyle(e),a=C=>(s[C]||"").split(", "),n=a(`${es}Delay`),l=a(`${es}Duration`),r=Hl(n,l),i=a(`${Us}Delay`),d=a(`${Us}Duration`),f=Hl(i,d);let c=null,u=0,v=0;t===es?r>0&&(c=es,u=r,v=l.length):t===Us?f>0&&(c=Us,u=f,v=d.length):(u=Math.max(r,f),c=u>0?r>f?es:Us:null,v=c?c===es?l.length:d.length:0);const h=c===es&&/\b(?:transform|all)(?:,|$)/.test(a(`${es}Property`).toString());return{type:c,timeout:u,propCount:v,hasTransform:h}}function Hl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>Gl(s)+Gl(e[a])))}function Gl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function wn(){return document.body.offsetHeight}function ff(e,t,s){const a=e[zs];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const co=Symbol("_vod"),pc=Symbol("_vsh"),gc={name:"show",beforeMount(e,{value:t},{transition:s}){e[co]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ws(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Ws(e,!0),a.enter(e)):a.leave(e,()=>{Ws(e,!1)}):Ws(e,t))},beforeUnmount(e,{value:t}){Ws(e,t)}};function Ws(e,t){e.style.display=t?e[co]:"none",e[pc]=!t}const mc=Symbol("");function ll(e){const t=Bo();if(!t)return;const s=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(l=>uo(l,n))},a=()=>{const n=e(t.proxy);t.ce?uo(t.ce,n):_n(t.subTree,n),s(n)};Li(()=>{wi(a)}),Le(()=>{be(a,Pt,{flush:"post"});const n=new MutationObserver(a);n.observe(t.subTree.el.parentNode,{childList:!0}),Pa(()=>n.disconnect())})}function _n(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{_n(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)uo(e.el,t);else if(e.type===ge)e.children.forEach(s=>_n(s,t));else if(e.type===fa){let{el:s,anchor:a}=e;for(;s&&(uo(s,t),s!==a);)s=s.nextSibling}}function uo(e,t){if(e.nodeType===1){const s=e.style;let a="";for(const n in t){const l=xu(t[n]);s.setProperty(`--${n}`,l),a+=`--${n}: ${l};`}s[mc]=a}}const vf=/(?:^|;)\s*display\s*:/;function hf(e,t,s){const a=e.style,n=Ue(s);let l=!1;if(s&&!n){if(t)if(Ue(t))for(const r of t.split(";")){const i=r.slice(0,r.indexOf(":")).trim();s[i]==null&&Ka(a,i,"")}else for(const r in t)s[r]==null&&Ka(a,r,"");for(const r in s)r==="display"&&(l=!0),Ka(a,r,s[r])}else if(n){if(t!==s){const r=a[mc];r&&(s+=";"+r),a.cssText=s,l=vf.test(s)}}else t&&e.removeAttribute("style");co in e&&(e[co]=l?a.display:"",e[pc]&&(a.display="none"))}const ql=/\s*!important$/;function Ka(e,t,s){if(xe(s))s.forEach(a=>Ka(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=pf(e,t);ql.test(s)?e.setProperty(ks(a),s.replace(ql,""),"important"):e[a]=s}}const Ul=["Webkit","Moz","ms"],Qo={};function pf(e,t){const s=Qo[t];if(s)return s;let a=Et(t);if(a!=="filter"&&a in e)return Qo[t]=a;a=xo(a);for(let n=0;n<Ul.length;n++){const l=Ul[n]+a;if(l in e)return Qo[t]=l}return t}const Wl="http://www.w3.org/1999/xlink";function Xl(e,t,s,a,n,l=$u(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Wl,t.slice(6,t.length)):e.setAttributeNS(Wl,t,s):s==null||l&&!Zr(s)?e.removeAttribute(t):e.setAttribute(t,l?"":fs(s)?String(s):s)}function Ql(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?uc(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const i=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(i!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Zr(s):s==null&&i==="string"?(s="",r=!0):i==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(n||t)}function Ms(e,t,s,a){e.addEventListener(t,s,a)}function gf(e,t,s,a){e.removeEventListener(t,s,a)}const Kl=Symbol("_vei");function mf(e,t,s,a,n=null){const l=e[Kl]||(e[Kl]={}),r=l[t];if(a&&r)r.value=a;else{const[i,d]=bf(t);if(a){const f=l[t]=Cf(a,n);Ms(e,i,f,d)}else r&&(gf(e,i,r,d),l[t]=void 0)}}const Jl=/(?:Once|Passive|Capture)$/;function bf(e){let t;if(Jl.test(e)){t={};let a;for(;a=e.match(Jl);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ks(e.slice(2)),t]}let Ko=0;const yf=Promise.resolve(),Af=()=>Ko||(yf.then(()=>Ko=0),Ko=Date.now());function Cf(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Dt(wf(a,s.value),t,5,[a])};return s.value=e,s.attached=Af(),s}function wf(e,t){if(xe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const Zl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_f=(e,t,s,a,n,l)=>{const r=n==="svg";t==="class"?ff(e,a,r):t==="style"?hf(e,s,a):So(t)?jn(t)||mf(e,t,s,a,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Sf(e,t,a,r))?(Ql(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Xl(e,t,a,r,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(a))?Ql(e,Et(t),a,l,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Xl(e,t,a,r))};function Sf(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Zl(t)&&Ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zl(t)&&Ue(s)?!1:t in e}const bc=new WeakMap,yc=new WeakMap,fo=Symbol("_moveCb"),er=Symbol("_enterCb"),kf=e=>(delete e.props.mode,e),$f=kf({name:"TransitionGroup",props:Je({},fc,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Bo(),a=Pi();let n,l;return Ni(()=>{if(!n.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Ff(n[0].el,s.vnode.el,r)){n=[];return}n.forEach(If),n.forEach(Ef);const i=n.filter(Pf);wn(),i.forEach(d=>{const f=d.el,c=f.style;Bt(f,r),c.transform=c.webkitTransform=c.transitionDuration="";const u=f[fo]=v=>{v&&v.target!==f||(!v||v.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",u),f[fo]=null,as(f,r))};f.addEventListener("transitionend",u)}),n=[]}),()=>{const r=Be(e),i=vc(r);let d=r.tag||ge;if(n=[],l)for(let f=0;f<l.length;f++){const c=l[f];c.el&&c.el instanceof Element&&(n.push(c),ws(c,Aa(c,i,a,s)),bc.set(c,c.el.getBoundingClientRect()))}l=t.default?el(t.default()):[];for(let f=0;f<l.length;f++){const c=l[f];c.key!=null&&ws(c,Aa(c,i,a,s))}return Ae(d,null,l)}}}),xf=$f;function If(e){const t=e.el;t[fo]&&t[fo](),t[er]&&t[er]()}function Ef(e){yc.set(e,e.el.getBoundingClientRect())}function Pf(e){const t=bc.get(e),s=yc.get(e),a=t.left-s.left,n=t.top-s.top;if(a||n){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${a}px,${n}px)`,l.transitionDuration="0s",e}}function Ff(e,t,s){const a=e.cloneNode(),n=e[zs];n&&n.forEach(i=>{i.split(/\s+/).forEach(d=>d&&a.classList.remove(d))}),s.split(/\s+/).forEach(i=>i&&a.classList.add(i)),a.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(a);const{hasTransform:r}=hc(a);return l.removeChild(a),r}const tr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?s=>Ua(t,s):t};function Mf(e){e.target.composing=!0}function sr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Jo=Symbol("_assign"),ha={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[Jo]=tr(n);const l=a||n.props&&n.props.type==="number";Ms(e,t?"change":"input",r=>{if(r.target.composing)return;let i=e.value;s&&(i=i.trim()),l&&(i=un(i)),e[Jo](i)}),s&&Ms(e,"change",()=>{e.value=e.value.trim()}),t||(Ms(e,"compositionstart",Mf),Ms(e,"compositionend",sr),Ms(e,"change",sr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:l}},r){if(e[Jo]=tr(r),e.composing)return;const i=(l||e.type==="number")&&!/^0\d/.test(e.value)?un(e.value):e.value,d=t??"";i!==d&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===d)||(e.value=d))}},Df=["ctrl","shift","alt","meta"],Tf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Df.some(s=>e[`${s}Key`]&&!t.includes(s))},kt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...l)=>{for(let r=0;r<t.length;r++){const i=Tf[t[r]];if(i&&i(n,t))return}return e(n,...l)})},Rf=Je({patchProp:_f},rf);let ar;function Bf(){return ar||(ar=Pd(Rf))}const Vf=(...e)=>{const t=Bf().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=Nf(a);if(!n)return;const l=t._component;!Ie(l)&&!l.render&&!l.template&&(l.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const r=s(n,!1,Lf(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function Lf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Nf(e){return Ue(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ds=typeof document<"u";function Ac(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Of(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ac(e.default)}const Ne=Object.assign;function Zo(e,t){const s={};for(const a in t){const n=t[a];s[a]=Tt(n)?n.map(e):e(n)}return s}const pa=()=>{},Tt=Array.isArray,Cc=/#/g,zf=/&/g,Yf=/\//g,jf=/=/g,Hf=/\?/g,wc=/\+/g,Gf=/%5B/g,qf=/%5D/g,_c=/%5E/g,Uf=/%60/g,Sc=/%7B/g,Wf=/%7C/g,kc=/%7D/g,Xf=/%20/g;function rl(e){return encodeURI(""+e).replace(Wf,"|").replace(Gf,"[").replace(qf,"]")}function Qf(e){return rl(e).replace(Sc,"{").replace(kc,"}").replace(_c,"^")}function Sn(e){return rl(e).replace(wc,"%2B").replace(Xf,"+").replace(Cc,"%23").replace(zf,"%26").replace(Uf,"`").replace(Sc,"{").replace(kc,"}").replace(_c,"^")}function Kf(e){return Sn(e).replace(jf,"%3D")}function Jf(e){return rl(e).replace(Cc,"%23").replace(Hf,"%3F")}function Zf(e){return e==null?"":Jf(e).replace(Yf,"%2F")}function _a(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ev=/\/$/,tv=e=>e.replace(ev,"");function en(e,t,s="/"){let a,n={},l="",r="";const i=t.indexOf("#");let d=t.indexOf("?");return i<d&&i>=0&&(d=-1),d>-1&&(a=t.slice(0,d),l=t.slice(d+1,i>-1?i:t.length),n=e(l)),i>-1&&(a=a||t.slice(0,i),r=t.slice(i,t.length)),a=nv(a??t,s),{fullPath:a+(l&&"?")+l+r,path:a,query:n,hash:_a(r)}}function sv(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function or(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function av(e,t,s){const a=t.matched.length-1,n=s.matched.length-1;return a>-1&&a===n&&Ys(t.matched[a],s.matched[n])&&$c(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ys(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $c(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!ov(e[s],t[s]))return!1;return!0}function ov(e,t){return Tt(e)?nr(e,t):Tt(t)?nr(t,e):e===t}function nr(e,t){return Tt(t)?e.length===t.length&&e.every((s,a)=>s===t[a]):e.length===1&&e[0]===t}function nv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),a=e.split("/"),n=a[a.length-1];(n===".."||n===".")&&a.push("");let l=s.length-1,r,i;for(r=0;r<a.length;r++)if(i=a[r],i!==".")if(i==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+a.slice(r).join("/")}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Sa;(function(e){e.pop="pop",e.push="push"})(Sa||(Sa={}));var ga;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ga||(ga={}));function lv(e){if(!e)if(Ds){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),tv(e)}const rv=/^[^#]+#/;function iv(e,t){return e.replace(rv,"#")+t}function cv(e,t){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-s.left-(t.left||0),top:a.top-s.top-(t.top||0)}}const Lo=()=>({left:window.scrollX,top:window.scrollY});function uv(e){let t;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=cv(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lr(e,t){return(history.state?history.state.position-t:-1)+e}const kn=new Map;function dv(e,t){kn.set(e,t)}function fv(e){const t=kn.get(e);return kn.delete(e),t}let vv=()=>location.protocol+"//"+location.host;function xc(e,t){const{pathname:s,search:a,hash:n}=t,l=e.indexOf("#");if(l>-1){let i=n.includes(e.slice(l))?e.slice(l).length:1,d=n.slice(i);return d[0]!=="/"&&(d="/"+d),or(d,"")}return or(s,e)+a+n}function hv(e,t,s,a){let n=[],l=[],r=null;const i=({state:v})=>{const h=xc(e,location),C=s.value,y=t.value;let g=0;if(v){if(s.value=h,t.value=v,r&&r===C){r=null;return}g=y?v.position-y.position:0}else a(h);n.forEach(A=>{A(s.value,C,{delta:g,type:Sa.pop,direction:g?g>0?ga.forward:ga.back:ga.unknown})})};function d(){r=s.value}function f(v){n.push(v);const h=()=>{const C=n.indexOf(v);C>-1&&n.splice(C,1)};return l.push(h),h}function c(){const{history:v}=window;v.state&&v.replaceState(Ne({},v.state,{scroll:Lo()}),"")}function u(){for(const v of l)v();l=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:d,listen:f,destroy:u}}function rr(e,t,s,a=!1,n=!1){return{back:e,current:t,forward:s,replaced:a,position:window.history.length,scroll:n?Lo():null}}function pv(e){const{history:t,location:s}=window,a={value:xc(e,s)},n={value:t.state};n.value||l(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,f,c){const u=e.indexOf("#"),v=u>-1?(s.host&&document.querySelector("base")?e:e.slice(u))+d:vv()+e+d;try{t[c?"replaceState":"pushState"](f,"",v),n.value=f}catch(h){console.error(h),s[c?"replace":"assign"](v)}}function r(d,f){const c=Ne({},t.state,rr(n.value.back,d,n.value.forward,!0),f,{position:n.value.position});l(d,c,!0),a.value=d}function i(d,f){const c=Ne({},n.value,t.state,{forward:d,scroll:Lo()});l(c.current,c,!0);const u=Ne({},rr(a.value,d,null),{position:c.position+1},f);l(d,u,!1),a.value=d}return{location:a,state:n,push:i,replace:r}}function gv(e){e=lv(e);const t=pv(e),s=hv(e,t.state,t.location,t.replace);function a(l,r=!0){r||s.pauseListeners(),history.go(l)}const n=Ne({location:"",base:e,go:a,createHref:iv.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function mv(e){return typeof e=="string"||e&&typeof e=="object"}function Ic(e){return typeof e=="string"||typeof e=="symbol"}const Ec=Symbol("");var ir;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ir||(ir={}));function js(e,t){return Ne(new Error,{type:e,[Ec]:!0},t)}function Ht(e,t){return e instanceof Error&&Ec in e&&(t==null||!!(e.type&t))}const cr="[^/]+?",bv={sensitive:!1,strict:!1,start:!0,end:!0},yv=/[.+*?^${}()[\]/\\]/g;function Av(e,t){const s=Ne({},bv,t),a=[];let n=s.start?"^":"";const l=[];for(const f of e){const c=f.length?[]:[90];s.strict&&!f.length&&(n+="/");for(let u=0;u<f.length;u++){const v=f[u];let h=40+(s.sensitive?.25:0);if(v.type===0)u||(n+="/"),n+=v.value.replace(yv,"\\$&"),h+=40;else if(v.type===1){const{value:C,repeatable:y,optional:g,regexp:A}=v;l.push({name:C,repeatable:y,optional:g});const w=A||cr;if(w!==cr){h+=10;try{new RegExp(`(${w})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${C}" (${w}): `+x.message)}}let I=y?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;u||(I=g&&f.length<2?`(?:/${I})`:"/"+I),g&&(I+="?"),n+=I,h+=20,g&&(h+=-8),y&&(h+=-20),w===".*"&&(h+=-50)}c.push(h)}a.push(c)}if(s.strict&&s.end){const f=a.length-1;a[f][a[f].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const r=new RegExp(n,s.sensitive?"":"i");function i(f){const c=f.match(r),u={};if(!c)return null;for(let v=1;v<c.length;v++){const h=c[v]||"",C=l[v-1];u[C.name]=h&&C.repeatable?h.split("/"):h}return u}function d(f){let c="",u=!1;for(const v of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const h of v)if(h.type===0)c+=h.value;else if(h.type===1){const{value:C,repeatable:y,optional:g}=h,A=C in f?f[C]:"";if(Tt(A)&&!y)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const w=Tt(A)?A.join("/"):A;if(!w)if(g)v.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${C}"`);c+=w}}return c||"/"}return{re:r,score:a,keys:l,parse:i,stringify:d}}function Cv(e,t){let s=0;for(;s<e.length&&s<t.length;){const a=t[s]-e[s];if(a)return a;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Pc(e,t){let s=0;const a=e.score,n=t.score;for(;s<a.length&&s<n.length;){const l=Cv(a[s],n[s]);if(l)return l;s++}if(Math.abs(n.length-a.length)===1){if(ur(a))return 1;if(ur(n))return-1}return n.length-a.length}function ur(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wv={type:0,value:""},_v=/[a-zA-Z0-9_]/;function Sv(e){if(!e)return[[]];if(e==="/")return[[wv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${f}": ${h}`)}let s=0,a=s;const n=[];let l;function r(){l&&n.push(l),l=[]}let i=0,d,f="",c="";function u(){f&&(s===0?l.push({type:0,value:f}):s===1||s===2||s===3?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:f,regexp:c,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=d}for(;i<e.length;){if(d=e[i++],d==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:d==="/"?(f&&u(),r()):d===":"?(u(),s=1):v();break;case 4:v(),s=a;break;case 1:d==="("?s=2:_v.test(d)?v():(u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&i--);break;case 2:d===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+d:s=3:c+=d;break;case 3:u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&i--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${f}"`),u(),r(),n}function kv(e,t,s){const a=Av(Sv(e.path),s),n=Ne(a,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function $v(e,t){const s=[],a=new Map;t=hr({strict:!1,end:!0,sensitive:!1},t);function n(u){return a.get(u)}function l(u,v,h){const C=!h,y=fr(u);y.aliasOf=h&&h.record;const g=hr(t,u),A=[y];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const j of x)A.push(fr(Ne({},y,{components:h?h.record.components:y.components,path:j,aliasOf:h?h.record:y})))}let w,I;for(const x of A){const{path:j}=x;if(v&&j[0]!=="/"){const _=v.record.path,S=_[_.length-1]==="/"?"":"/";x.path=v.record.path+(j&&S+j)}if(w=kv(x,v,g),h?h.alias.push(w):(I=I||w,I!==w&&I.alias.push(w),C&&u.name&&!vr(w)&&r(u.name)),Fc(w)&&d(w),y.children){const _=y.children;for(let S=0;S<_.length;S++)l(_[S],w,h&&h.children[S])}h=h||w}return I?()=>{r(I)}:pa}function r(u){if(Ic(u)){const v=a.get(u);v&&(a.delete(u),s.splice(s.indexOf(v),1),v.children.forEach(r),v.alias.forEach(r))}else{const v=s.indexOf(u);v>-1&&(s.splice(v,1),u.record.name&&a.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function i(){return s}function d(u){const v=Ev(u,s);s.splice(v,0,u),u.record.name&&!vr(u)&&a.set(u.record.name,u)}function f(u,v){let h,C={},y,g;if("name"in u&&u.name){if(h=a.get(u.name),!h)throw js(1,{location:u});g=h.record.name,C=Ne(dr(v.params,h.keys.filter(I=>!I.optional).concat(h.parent?h.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),u.params&&dr(u.params,h.keys.map(I=>I.name))),y=h.stringify(C)}else if(u.path!=null)y=u.path,h=s.find(I=>I.re.test(y)),h&&(C=h.parse(y),g=h.record.name);else{if(h=v.name?a.get(v.name):s.find(I=>I.re.test(v.path)),!h)throw js(1,{location:u,currentLocation:v});g=h.record.name,C=Ne({},v.params,u.params),y=h.stringify(C)}const A=[];let w=h;for(;w;)A.unshift(w.record),w=w.parent;return{name:g,path:y,params:C,matched:A,meta:Iv(A)}}e.forEach(u=>l(u));function c(){s.length=0,a.clear()}return{addRoute:l,resolve:f,removeRoute:r,clearRoutes:c,getRoutes:i,getRecordMatcher:n}}function dr(e,t){const s={};for(const a of t)a in e&&(s[a]=e[a]);return s}function fr(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:xv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function xv(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const a in e.components)t[a]=typeof s=="object"?s[a]:s;return t}function vr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Iv(e){return e.reduce((t,s)=>Ne(t,s.meta),{})}function hr(e,t){const s={};for(const a in e)s[a]=a in t?t[a]:e[a];return s}function Ev(e,t){let s=0,a=t.length;for(;s!==a;){const l=s+a>>1;Pc(e,t[l])<0?a=l:s=l+1}const n=Pv(e);return n&&(a=t.lastIndexOf(n,a-1)),a}function Pv(e){let t=e;for(;t=t.parent;)if(Fc(t)&&Pc(e,t)===0)return t}function Fc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Fv(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<a.length;++n){const l=a[n].replace(wc," "),r=l.indexOf("="),i=_a(r<0?l:l.slice(0,r)),d=r<0?null:_a(l.slice(r+1));if(i in t){let f=t[i];Tt(f)||(f=t[i]=[f]),f.push(d)}else t[i]=d}return t}function pr(e){let t="";for(let s in e){const a=e[s];if(s=Kf(s),a==null){a!==void 0&&(t+=(t.length?"&":"")+s);continue}(Tt(a)?a.map(l=>l&&Sn(l)):[a&&Sn(a)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function Mv(e){const t={};for(const s in e){const a=e[s];a!==void 0&&(t[s]=Tt(a)?a.map(n=>n==null?null:""+n):a==null?a:""+a)}return t}const Dv=Symbol(""),gr=Symbol(""),No=Symbol(""),il=Symbol(""),$n=Symbol("");function Xs(){let e=[];function t(a){return e.push(a),()=>{const n=e.indexOf(a);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function ls(e,t,s,a,n,l=r=>r()){const r=a&&(a.enterCallbacks[n]=a.enterCallbacks[n]||[]);return()=>new Promise((i,d)=>{const f=v=>{v===!1?d(js(4,{from:s,to:t})):v instanceof Error?d(v):mv(v)?d(js(2,{from:t,to:v})):(r&&a.enterCallbacks[n]===r&&typeof v=="function"&&r.push(v),i())},c=l(()=>e.call(a&&a.instances[n],t,s,f));let u=Promise.resolve(c);e.length<3&&(u=u.then(f)),u.catch(v=>d(v))})}function tn(e,t,s,a,n=l=>l()){const l=[];for(const r of e)for(const i in r.components){let d=r.components[i];if(!(t!=="beforeRouteEnter"&&!r.instances[i]))if(Ac(d)){const c=(d.__vccOpts||d)[t];c&&l.push(ls(c,s,a,r,i,n))}else{let f=d();l.push(()=>f.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${i}" at "${r.path}"`);const u=Of(c)?c.default:c;r.mods[i]=c,r.components[i]=u;const h=(u.__vccOpts||u)[t];return h&&ls(h,s,a,r,i,n)()}))}}return l}function mr(e){const t=Mt(No),s=Mt(il),a=O(()=>{const d=U(e.to);return t.resolve(d)}),n=O(()=>{const{matched:d}=a.value,{length:f}=d,c=d[f-1],u=s.matched;if(!c||!u.length)return-1;const v=u.findIndex(Ys.bind(null,c));if(v>-1)return v;const h=br(d[f-2]);return f>1&&br(c)===h&&u[u.length-1].path!==h?u.findIndex(Ys.bind(null,d[f-2])):v}),l=O(()=>n.value>-1&&Lv(s.params,a.value.params)),r=O(()=>n.value>-1&&n.value===s.matched.length-1&&$c(s.params,a.value.params));function i(d={}){if(Vv(d)){const f=t[U(e.replace)?"replace":"push"](U(e.to)).catch(pa);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:a,href:O(()=>a.value.href),isActive:l,isExactActive:r,navigate:i}}function Tv(e){return e.length===1?e[0]:e}const Rv=Ri({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mr,setup(e,{slots:t}){const s=Po(mr(e)),{options:a}=Mt(No),n=O(()=>({[yr(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[yr(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Tv(t.default(s));return e.custom?l:de("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},l)}}}),Bv=Rv;function Vv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Lv(e,t){for(const s in t){const a=t[s],n=e[s];if(typeof a=="string"){if(a!==n)return!1}else if(!Tt(n)||n.length!==a.length||a.some((l,r)=>l!==n[r]))return!1}return!0}function br(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yr=(e,t,s)=>e??t??s,Nv=Ri({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const a=Mt($n),n=O(()=>e.route||a.value),l=Mt(gr,0),r=O(()=>{let f=U(l);const{matched:c}=n.value;let u;for(;(u=c[f])&&!u.components;)f++;return f}),i=O(()=>n.value.matched[r.value]);Xa(gr,O(()=>r.value+1)),Xa(Dv,i),Xa($n,n);const d=z();return be(()=>[d.value,i.value,e.name],([f,c,u],[v,h,C])=>{c&&(c.instances[u]=f,h&&h!==c&&f&&f===v&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),f&&c&&(!h||!Ys(c,h)||!v)&&(c.enterCallbacks[u]||[]).forEach(y=>y(f))},{flush:"post"}),()=>{const f=n.value,c=e.name,u=i.value,v=u&&u.components[c];if(!v)return Ar(s.default,{Component:v,route:f});const h=u.props[c],C=h?h===!0?f.params:typeof h=="function"?h(f):h:null,g=de(v,Ne({},C,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(u.instances[c]=null)},ref:d}));return Ar(s.default,{Component:g,route:f})||g}}});function Ar(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Ov=Nv;function zv(e){const t=$v(e.routes,e),s=e.parseQuery||Fv,a=e.stringifyQuery||pr,n=e.history,l=Xs(),r=Xs(),i=Xs(),d=Xu(ts);let f=ts;Ds&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Zo.bind(null,X=>""+X),u=Zo.bind(null,Zf),v=Zo.bind(null,_a);function h(X,J){let T,ae;return Ic(X)?(T=t.getRecordMatcher(X),ae=J):ae=X,t.addRoute(ae,T)}function C(X){const J=t.getRecordMatcher(X);J&&t.removeRoute(J)}function y(){return t.getRoutes().map(X=>X.record)}function g(X){return!!t.getRecordMatcher(X)}function A(X,J){if(J=Ne({},J||d.value),typeof X=="string"){const R=en(s,X,J.path),Q=t.resolve({path:R.path},J),Z=n.createHref(R.fullPath);return Ne(R,Q,{params:v(Q.params),hash:_a(R.hash),redirectedFrom:void 0,href:Z})}let T;if(X.path!=null)T=Ne({},X,{path:en(s,X.path,J.path).path});else{const R=Ne({},X.params);for(const Q in R)R[Q]==null&&delete R[Q];T=Ne({},X,{params:u(R)}),J.params=u(J.params)}const ae=t.resolve(T,J),G=X.hash||"";ae.params=c(v(ae.params));const E=sv(a,Ne({},X,{hash:Qf(G),path:ae.path})),$=n.createHref(E);return Ne({fullPath:E,hash:G,query:a===pr?Mv(X.query):X.query||{}},ae,{redirectedFrom:void 0,href:$})}function w(X){return typeof X=="string"?en(s,X,d.value.path):Ne({},X)}function I(X,J){if(f!==X)return js(8,{from:J,to:X})}function x(X){return S(X)}function j(X){return x(Ne(w(X),{replace:!0}))}function _(X){const J=X.matched[X.matched.length-1];if(J&&J.redirect){const{redirect:T}=J;let ae=typeof T=="function"?T(X):T;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=w(ae):{path:ae},ae.params={}),Ne({query:X.query,hash:X.hash,params:ae.path!=null?{}:X.params},ae)}}function S(X,J){const T=f=A(X),ae=d.value,G=X.state,E=X.force,$=X.replace===!0,R=_(T);if(R)return S(Ne(w(R),{state:typeof R=="object"?Ne({},G,R.state):G,force:E,replace:$}),J||T);const Q=T;Q.redirectedFrom=J;let Z;return!E&&av(a,ae,T)&&(Z=js(16,{to:Q,from:ae}),Ce(ae,ae,!0,!1)),(Z?Promise.resolve(Z):P(Q,ae)).catch(N=>Ht(N)?Ht(N,2)?N:pe(N):te(N,Q,ae)).then(N=>{if(N){if(Ht(N,2))return S(Ne({replace:$},w(N.to),{state:typeof N.to=="object"?Ne({},G,N.to.state):G,force:E}),J||Q)}else N=F(Q,ae,!0,$,G);return V(Q,ae,N),N})}function m(X,J){const T=I(X,J);return T?Promise.reject(T):Promise.resolve()}function k(X){const J=B.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(X):X()}function P(X,J){let T;const[ae,G,E]=Yv(X,J);T=tn(ae.reverse(),"beforeRouteLeave",X,J);for(const R of ae)R.leaveGuards.forEach(Q=>{T.push(ls(Q,X,J))});const $=m.bind(null,X,J);return T.push($),L(T).then(()=>{T=[];for(const R of l.list())T.push(ls(R,X,J));return T.push($),L(T)}).then(()=>{T=tn(G,"beforeRouteUpdate",X,J);for(const R of G)R.updateGuards.forEach(Q=>{T.push(ls(Q,X,J))});return T.push($),L(T)}).then(()=>{T=[];for(const R of E)if(R.beforeEnter)if(Tt(R.beforeEnter))for(const Q of R.beforeEnter)T.push(ls(Q,X,J));else T.push(ls(R.beforeEnter,X,J));return T.push($),L(T)}).then(()=>(X.matched.forEach(R=>R.enterCallbacks={}),T=tn(E,"beforeRouteEnter",X,J,k),T.push($),L(T))).then(()=>{T=[];for(const R of r.list())T.push(ls(R,X,J));return T.push($),L(T)}).catch(R=>Ht(R,8)?R:Promise.reject(R))}function V(X,J,T){i.list().forEach(ae=>k(()=>ae(X,J,T)))}function F(X,J,T,ae,G){const E=I(X,J);if(E)return E;const $=J===ts,R=Ds?history.state:{};T&&(ae||$?n.replace(X.fullPath,Ne({scroll:$&&R&&R.scroll},G)):n.push(X.fullPath,G)),d.value=X,Ce(X,J,T,$),pe()}let D;function H(){D||(D=n.listen((X,J,T)=>{if(!q.listening)return;const ae=A(X),G=_(ae);if(G){S(Ne(G,{replace:!0,force:!0}),ae).catch(pa);return}f=ae;const E=d.value;Ds&&dv(lr(E.fullPath,T.delta),Lo()),P(ae,E).catch($=>Ht($,12)?$:Ht($,2)?(S(Ne(w($.to),{force:!0}),ae).then(R=>{Ht(R,20)&&!T.delta&&T.type===Sa.pop&&n.go(-1,!1)}).catch(pa),Promise.reject()):(T.delta&&n.go(-T.delta,!1),te($,ae,E))).then($=>{$=$||F(ae,E,!1),$&&(T.delta&&!Ht($,8)?n.go(-T.delta,!1):T.type===Sa.pop&&Ht($,20)&&n.go(-1,!1)),V(ae,E,$)}).catch(pa)}))}let M=Xs(),K=Xs(),ee;function te(X,J,T){pe(X);const ae=K.list();return ae.length?ae.forEach(G=>G(X,J,T)):console.error(X),Promise.reject(X)}function re(){return ee&&d.value!==ts?Promise.resolve():new Promise((X,J)=>{M.add([X,J])})}function pe(X){return ee||(ee=!X,H(),M.list().forEach(([J,T])=>X?T(X):J()),M.reset()),X}function Ce(X,J,T,ae){const{scrollBehavior:G}=e;if(!Ds||!G)return Promise.resolve();const E=!T&&fv(lr(X.fullPath,0))||(ae||!T)&&history.state&&history.state.scroll||null;return ze().then(()=>G(X,J,E)).then($=>$&&uv($)).catch($=>te($,X,J))}const oe=X=>n.go(X);let se;const B=new Set,q={currentRoute:d,listening:!0,addRoute:h,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:y,resolve:A,options:e,push:x,replace:j,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:l.add,beforeResolve:r.add,afterEach:i.add,onError:K.add,isReady:re,install(X){const J=this;X.component("RouterLink",Bv),X.component("RouterView",Ov),X.config.globalProperties.$router=J,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>U(d)}),Ds&&!se&&d.value===ts&&(se=!0,x(n.location).catch(G=>{}));const T={};for(const G in ts)Object.defineProperty(T,G,{get:()=>d.value[G],enumerable:!0});X.provide(No,J),X.provide(il,gi(T)),X.provide($n,d);const ae=X.unmount;B.add(X),X.unmount=function(){B.delete(X),B.size<1&&(f=ts,D&&D(),D=null,d.value=ts,se=!1,ee=!1),ae()}}};function L(X){return X.reduce((J,T)=>J.then(()=>k(T)),Promise.resolve())}return q}function Yv(e,t){const s=[],a=[],n=[],l=Math.max(t.matched.length,e.matched.length);for(let r=0;r<l;r++){const i=t.matched[r];i&&(e.matched.find(f=>Ys(f,i))?a.push(i):s.push(i));const d=e.matched[r];d&&(t.matched.find(f=>Ys(f,d))||n.push(d))}return[s,a,n]}function Ma(){return Mt(No)}function Mc(e){return Mt(il)}const Ee=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},jv={class:"title-bar"},Hv={class:"title-container"},Gv={class:"title-content"},qv={class:"page-title"},Uv={class:"last-update"},Wv={__name:"TitleBarComponent",props:{title:{type:String,default:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)"},lastUpdate:{type:String,default:"24 de septiembre de 2025"}},setup(e){return(t,s)=>(p(),b("div",jv,[o("div",Hv,[o("div",Gv,[o("h1",qv,Y(e.title),1),o("p",Uv,"ltima actualizacin: "+Y(e.lastUpdate),1)]),s[0]||(s[0]=o("div",{class:"action-buttons"},null,-1))])]))}},Xv=Ee(Wv,[["__scopeId","data-v-c868bc03"]]),Qv={id:"app"},Kv={class:"app-main"},Jv={__name:"App",setup(e){return(t,s)=>{const a=pd("router-view");return p(),b("div",Qv,[Ae(Xv,{title:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)",lastUpdate:"24 de septiembre de 2025"}),o("main",Kv,[Ae(a)])])}}},zt=()=>{const e=z(null),t=z(null),s=z(!0),a=z(null),n=z(null),l=z(null),r=z({width:470.2,height:300.4,scale:700,center:[-106,25],projection:"geoMercator"}),i=O(()=>{if(!t.value)return null;const k=Object.values(t.value).filter(F=>F.value&&F.value>0),V=k.reduce((F,D)=>F+D.value,0)/k.length;return{value:Math.round(V*100)/100,label:S(V)}}),d=async()=>{try{const m=await fetch("/PlataformaFinanzasSostenibles/mexicoStates.json");if(!m.ok)throw new Error("Error al cargar datos geogrficos");e.value=await m.json(),console.log("GeoData cargado:",e.value)}catch(m){console.error("Error cargando GeoJSON:",m),a.value=m.message}},f=async()=>{try{const m=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!m.ok)throw new Error("Error al cargar datos de sustentabilidad");const k=await m.json();t.value=k.reduce((P,V)=>(P[V.region]=V,P),{}),console.log("Datos procesados:",t.value)}catch(m){console.error("Error cargando datos de sustentabilidad:",m),a.value=m.message}},c=async()=>{s.value=!0,a.value=null;try{await Promise.all([d(),f()])}catch(m){a.value=m.message}finally{s.value=!1}},u=m=>{if(!t.value||!t.value[m])return"#e0e0e0";const P=t.value[m].value||0;return P>=2.5?"#6ac952":P>=2?"#94d351":P>=1.8?"#bddc50":P>=1.5?"#e6d64f":P>=1?"#e6a74c":P>=.7?"#e67849":"#e52845"},v=m=>{if(!t.value||!t.value[m])return{region:m,value:0,year:2023,descripcion:"Sin datos IFSS disponibles"};const k=t.value[m];return{region:k.region,year:k.year,value:k.value,descripcion:`IFSS: ${k.value} - ${S(k.value).label} nivel de finanzas sostenibles.`}},h=O(()=>{if(!t.value)return null;const k=Object.values(t.value).map(H=>H.value||0).filter(H=>H>0);if(k.length===0)return null;const P=k.length,V=k.reduce((H,M)=>H+M,0)/P,F=Math.max(...k),D=Math.min(...k);return{totalStates:P,avgIFSS:Math.round(V*100)/100,maxIFSS:F,minIFSS:D,year:2023}}),C=O(()=>t.value?Object.entries(t.value).sort((m,k)=>(k[1].value||0)-(m[1].value||0)).slice(0,5).map(([m,k])=>({name:m,region:k.region,year:k.year,value:k.value})):[]),y=O(()=>t.value?Object.entries(t.value).sort((m,k)=>(m[1].value||0)-(k[1].value||0)).slice(0,5).map(([m,k])=>({name:m,region:k.region,year:k.year,value:k.value})):[]),g=m=>{if(console.log("=== USEMAPS: handleStateClick llamado con ===",m),console.log("=== USEMAPS: sustainabilityData disponible? ===",!!t.value),!m){n.value=null;return}const k=m.trim();console.log("=== USEMAPS: Nombre normalizado ===",k),t.value&&(console.log("=== USEMAPS: Keys en sustainabilityData ===",Object.keys(t.value)),t.value[k]?(n.value=n.value===k?null:k,console.log("=== USEMAPS: selectedState actualizado a ===",n.value)):console.warn("=== USEMAPS: Estado NO encontrado ===",k))},A=m=>{l.value=m},w=()=>{l.value=null},I=()=>{n.value=null,l.value=null},x=(m,k)=>{r.value={...r.value,width:m,height:k}},j=m=>{if(!t.value||!m)return[];const k=m.toLowerCase();return Object.keys(t.value).filter(P=>P.toLowerCase().includes(k)).map(P=>({name:P,region:t.value[P].region,year:t.value[P].year,value:t.value[P].value}))},_=(m=0,k=3)=>t.value?Object.entries(t.value).filter(([P,V])=>{const F=V.value||0;return F>=m&&F<=k}).map(([P,V])=>({name:P,region:V.region,year:V.year,value:V.value})):[],S=m=>m>=2.5?{label:"Muy alto",color:"#6ac952"}:m>=2?{label:"Alto",color:"#94d351"}:m>=1.8?{label:"Medio alto",color:"#bddc50"}:m>=1.5?{label:"Medio",color:"#e6d64f"}:m>=1?{label:"Medio bajo",color:"#e6a74c"}:m>=.7?{label:"Bajo",color:"#e67849"}:{label:"Muy bajo",color:"#e52845"};return Le(()=>{c()}),{geoData:e,sustainabilityData:t,loading:s,error:a,selectedState:n,hoveredState:l,mapConfig:r,generalStats:h,topPerformingStates:C,worstPerformingStates:y,nationalIFSS:i,getStateColor:u,getStateInfo:v,getIFSSLabel:S,handleStateClick:g,handleStateHover:A,handleStateLeave:w,resetSelection:I,setMapSize:x,searchState:j,filterByRange:_,initializeData:c}},Da=()=>{const e=z("donut"),t=z(null),s=z(!1),a=z(null),n=z([{id:"donut",name:"Grficas de Dona",description:"Visualizacin circular de porcentajes"},{id:"bar",name:"Grficas de Barras",description:"Comparacin visual de valores"},{id:"line",name:"Grficas de Lnea",description:"Tendencias temporales"},{id:"area",name:"Grficas de rea",description:"Evolucin de datos en el tiempo"}]),l=(y,g="")=>{const A=Math.round(y/2.9*100);return[{label:`IFSS ${g}`,value:A,color:"#DC143C",rawValue:y},{label:"Restante",value:100-A,color:"#E8E8E8",rawValue:2.9-y}]},r=(y,g=8,A="Indicador")=>[{label:A,value:y,maxValue:g,percentage:y/g*100}],i=y=>{if(!y||!y.value)return d();const g=y.value;return y.region,{donuts:[{id:"q1",title:"Q1",subtitle:`${Math.round(g*.9*10)/10}`,data:l(g*.9,"Q1")},{id:"q2",title:"Q2",subtitle:`${Math.round(g*.8*10)/10}`,data:l(g*.8,"Q2")},{id:"q3",title:"Q3",subtitle:`${Math.round(g*1.1*10)/10}`,data:l(g*1.1,"Q3")},{id:"q4",title:"Q4",subtitle:`${Math.round(g*.7*10)/10}`,data:l(g*.7,"Q4")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:r(Math.min(8,Math.round(g*2.8)),8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:r(Math.min(8,Math.round(g*2.5)),8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:r(Math.min(8,Math.round(g*3)),8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:r(Math.min(8,Math.round(g*2.2)),8,"Innovacin")}]}},d=()=>({donuts:[{id:"q1",title:"Q1",subtitle:"35%",data:l(1,"Nacional")},{id:"q2",title:"Q2",subtitle:"30%",data:l(.9,"Nacional")},{id:"q3",title:"Q3",subtitle:"35%",data:l(1,"Nacional")},{id:"q4",title:"Q4",subtitle:"30%",data:l(.9,"Nacional")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:r(6,8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:r(5,8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:r(7,8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:r(4,8,"Innovacin")}]}),f=O(()=>t.value||d());return{selectedChartType:e,chartData:t,loading:s,error:a,availableChartTypes:n,currentChartsData:f,setChartData:y=>{t.value=i(y)},setChartType:y=>{e.value=y},resetCharts:()=>{t.value=null,e.value="donut",a.value=null},generateDonutData:l,generateBarData:r,getStateChartsData:i,getDefaultChartsData:d,exportChartsData:(y="Mexico")=>{const g=f.value,A=["Tipo","Indicador","Valor","Estado"],w=[];g.donuts.forEach(S=>{w.push(["Dona",S.title,S.subtitle,y])}),g.bars.forEach(S=>{var k;const m=((k=S.data[0])==null?void 0:k.value)||0;w.push(["Barra",S.title,m,y])});const I=[A.join(","),...w.map(S=>S.join(","))].join(`
`),x=new Blob([I],{type:"text/csv"}),j=window.URL.createObjectURL(x),_=document.createElement("a");_.href=j,_.download=`IFSS_Charts_${y}_${new Date().toISOString().split("T")[0]}.csv`,_.click(),window.URL.revokeObjectURL(j)},getIFSSColor:y=>y>=2.4?"#6ac952":y>=2?"#94d351":y>=1.8?"#bddc50":y>=1.6?"#e6d64f":y>=1.2?"#e6a74c":y>=.8?"#e67849":"#e52845"}};class _s{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const s=this._partials;let a=0;for(let n=0;n<this._n&&n<32;n++){const l=s[n],r=t+l,i=Math.abs(t)<Math.abs(l)?t-(r-l):l-(r-t);i&&(s[a++]=i),t=r}return s[a]=t,this._n=a+1,this}valueOf(){const t=this._partials;let s=this._n,a,n,l,r=0;if(s>0){for(r=t[--s];s>0&&(a=r,n=t[--s],r=a+n,l=n-(r-a),!l););s>0&&(l<0&&t[s-1]<0||l>0&&t[s-1]>0)&&(n=l*2,a=r+n,n==a-r&&(r=a))}return r}}function*Zv(e){for(const t of e)yield*t}function Dc(e){return Array.from(Zv(e))}var He=1e-6,Me=Math.PI,ht=Me/2,Cr=Me/4,At=Me*2,gt=180/Me,Qe=Me/180,qe=Math.abs,Tc=Math.atan,ka=Math.atan2,We=Math.cos,eh=Math.exp,th=Math.log,Xe=Math.sin,sh=Math.sign||function(e){return e>0?1:e<0?-1:0},$s=Math.sqrt,ah=Math.tan;function oh(e){return e>1?0:e<-1?Me:Math.acos(e)}function $a(e){return e>1?ht:e<-1?-ht:Math.asin(e)}function xt(){}function vo(e,t){e&&_r.hasOwnProperty(e.type)&&_r[e.type](e,t)}var wr={Feature:function(e,t){vo(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,a=-1,n=s.length;++a<n;)vo(s[a].geometry,t)}},_r={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,a=-1,n=s.length;++a<n;)e=s[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){xn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,a=-1,n=s.length;++a<n;)xn(s[a],t,0)},Polygon:function(e,t){Sr(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,a=-1,n=s.length;++a<n;)Sr(s[a],t)},GeometryCollection:function(e,t){for(var s=e.geometries,a=-1,n=s.length;++a<n;)vo(s[a],t)}};function xn(e,t,s){var a=-1,n=e.length-s,l;for(t.lineStart();++a<n;)l=e[a],t.point(l[0],l[1],l[2]);t.lineEnd()}function Sr(e,t){var s=-1,a=e.length;for(t.polygonStart();++s<a;)xn(e[s],t,1);t.polygonEnd()}function Ts(e,t){e&&wr.hasOwnProperty(e.type)?wr[e.type](e,t):vo(e,t)}function In(e){return[ka(e[1],e[0]),$a(e[2])]}function Hs(e){var t=e[0],s=e[1],a=We(s);return[a*We(t),a*Xe(t),Xe(s)]}function Ya(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ho(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function sn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ja(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function En(e){var t=$s(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Pn(e,t){function s(a,n){return a=e(a,n),t(a[0],a[1])}return e.invert&&t.invert&&(s.invert=function(a,n){return a=t.invert(a,n),a&&e.invert(a[0],a[1])}),s}function Fn(e,t){return qe(e)>Me&&(e-=Math.round(e/At)*At),[e,t]}Fn.invert=Fn;function Rc(e,t,s){return(e%=At)?t||s?Pn($r(e),xr(t,s)):$r(e):t||s?xr(t,s):Fn}function kr(e){return function(t,s){return t+=e,qe(t)>Me&&(t-=Math.round(t/At)*At),[t,s]}}function $r(e){var t=kr(e);return t.invert=kr(-e),t}function xr(e,t){var s=We(e),a=Xe(e),n=We(t),l=Xe(t);function r(i,d){var f=We(d),c=We(i)*f,u=Xe(i)*f,v=Xe(d),h=v*s+c*a;return[ka(u*n-h*l,c*s-v*a),$a(h*n+u*l)]}return r.invert=function(i,d){var f=We(d),c=We(i)*f,u=Xe(i)*f,v=Xe(d),h=v*n-u*l;return[ka(u*n+v*l,c*s+h*a),$a(h*s-c*a)]},r}function nh(e){e=Rc(e[0]*Qe,e[1]*Qe,e.length>2?e[2]*Qe:0);function t(s){return s=e(s[0]*Qe,s[1]*Qe),s[0]*=gt,s[1]*=gt,s}return t.invert=function(s){return s=e.invert(s[0]*Qe,s[1]*Qe),s[0]*=gt,s[1]*=gt,s},t}function lh(e,t,s,a,n,l){if(s){var r=We(t),i=Xe(t),d=a*s;n==null?(n=t+a*At,l=t-d/2):(n=Ir(r,n),l=Ir(r,l),(a>0?n<l:n>l)&&(n+=a*At));for(var f,c=n;a>0?c>l:c<l;c-=d)f=In([r,-i*We(c),-i*Xe(c)]),e.point(f[0],f[1])}}function Ir(e,t){t=Hs(t),t[0]-=e,En(t);var s=oh(-t[1]);return((-t[2]<0?-s:s)+At-He)%At}function Bc(){var e=[],t;return{point:function(s,a,n){t.push([s,a,n])},lineStart:function(){e.push(t=[])},lineEnd:xt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function Ja(e,t){return qe(e[0]-t[0])<He&&qe(e[1]-t[1])<He}function Ha(e,t,s,a){this.x=e,this.z=t,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Vc(e,t,s,a,n){var l=[],r=[],i,d;if(e.forEach(function(C){if(!((y=C.length-1)<=0)){var y,g=C[0],A=C[y],w;if(Ja(g,A)){if(!g[2]&&!A[2]){for(n.lineStart(),i=0;i<y;++i)n.point((g=C[i])[0],g[1]);n.lineEnd();return}A[0]+=2*He}l.push(w=new Ha(g,C,null,!0)),r.push(w.o=new Ha(g,null,w,!1)),l.push(w=new Ha(A,C,null,!1)),r.push(w.o=new Ha(A,null,w,!0))}}),!!l.length){for(r.sort(t),Er(l),Er(r),i=0,d=r.length;i<d;++i)r[i].e=s=!s;for(var f=l[0],c,u;;){for(var v=f,h=!0;v.v;)if((v=v.n)===f)return;c=v.z,n.lineStart();do{if(v.v=v.o.v=!0,v.e){if(h)for(i=0,d=c.length;i<d;++i)n.point((u=c[i])[0],u[1]);else a(v.x,v.n.x,1,n);v=v.n}else{if(h)for(c=v.p.z,i=c.length-1;i>=0;--i)n.point((u=c[i])[0],u[1]);else a(v.x,v.p.x,-1,n);v=v.p}v=v.o,c=v.z,h=!h}while(!v.v);n.lineEnd()}}}function Er(e){if(t=e.length){for(var t,s=0,a=e[0],n;++s<t;)a.n=n=e[s],n.p=a,a=n;a.n=n=e[0],n.p=a}}function an(e){return qe(e[0])<=Me?e[0]:sh(e[0])*((qe(e[0])+Me)%At-Me)}function rh(e,t){var s=an(t),a=t[1],n=Xe(a),l=[Xe(s),-We(s),0],r=0,i=0,d=new _s;n===1?a=ht+He:n===-1&&(a=-ht-He);for(var f=0,c=e.length;f<c;++f)if(v=(u=e[f]).length)for(var u,v,h=u[v-1],C=an(h),y=h[1]/2+Cr,g=Xe(y),A=We(y),w=0;w<v;++w,C=x,g=_,A=S,h=I){var I=u[w],x=an(I),j=I[1]/2+Cr,_=Xe(j),S=We(j),m=x-C,k=m>=0?1:-1,P=k*m,V=P>Me,F=g*_;if(d.add(ka(F*k*Xe(P),A*S+F*We(P))),r+=V?m+k*At:m,V^C>=s^x>=s){var D=ho(Hs(h),Hs(I));En(D);var H=ho(l,D);En(H);var M=(V^m>=0?-1:1)*$a(H[2]);(a>M||a===M&&(D[0]||D[1]))&&(i+=V^m>=0?1:-1)}}return(r<-He||r<He&&d<-1e-12)^i&1}function Lc(e,t,s,a){return function(n){var l=t(n),r=Bc(),i=t(r),d=!1,f,c,u,v={point:h,lineStart:y,lineEnd:g,polygonStart:function(){v.point=A,v.lineStart=w,v.lineEnd=I,c=[],f=[]},polygonEnd:function(){v.point=h,v.lineStart=y,v.lineEnd=g,c=Dc(c);var x=rh(f,a);c.length?(d||(n.polygonStart(),d=!0),Vc(c,ch,x,s,n)):x&&(d||(n.polygonStart(),d=!0),n.lineStart(),s(null,null,1,n),n.lineEnd()),d&&(n.polygonEnd(),d=!1),c=f=null},sphere:function(){n.polygonStart(),n.lineStart(),s(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function h(x,j){e(x,j)&&n.point(x,j)}function C(x,j){l.point(x,j)}function y(){v.point=C,l.lineStart()}function g(){v.point=h,l.lineEnd()}function A(x,j){u.push([x,j]),i.point(x,j)}function w(){i.lineStart(),u=[]}function I(){A(u[0][0],u[0][1]),i.lineEnd();var x=i.clean(),j=r.result(),_,S=j.length,m,k,P;if(u.pop(),f.push(u),u=null,!!S){if(x&1){if(k=j[0],(m=k.length-1)>0){for(d||(n.polygonStart(),d=!0),n.lineStart(),_=0;_<m;++_)n.point((P=k[_])[0],P[1]);n.lineEnd()}return}S>1&&x&2&&j.push(j.pop().concat(j.shift())),c.push(j.filter(ih))}}return v}}function ih(e){return e.length>1}function ch(e,t){return((e=e.x)[0]<0?e[1]-ht-He:ht-e[1])-((t=t.x)[0]<0?t[1]-ht-He:ht-t[1])}const Pr=Lc(function(){return!0},uh,fh,[-Me,-ht]);function uh(e){var t=NaN,s=NaN,a=NaN,n;return{lineStart:function(){e.lineStart(),n=1},point:function(l,r){var i=l>0?Me:-Me,d=qe(l-t);qe(d-Me)<He?(e.point(t,s=(s+r)/2>0?ht:-ht),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(i,s),e.point(l,s),n=0):a!==i&&d>=Me&&(qe(t-a)<He&&(t-=a*He),qe(l-i)<He&&(l-=i*He),s=dh(t,s,l,r),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(i,s),n=0),e.point(t=l,s=r),a=i},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-n}}}function dh(e,t,s,a){var n,l,r=Xe(e-s);return qe(r)>He?Tc((Xe(t)*(l=We(a))*Xe(s)-Xe(a)*(n=We(t))*Xe(e))/(n*l*r)):(t+a)/2}function fh(e,t,s,a){var n;if(e==null)n=s*ht,a.point(-Me,n),a.point(0,n),a.point(Me,n),a.point(Me,0),a.point(Me,-n),a.point(0,-n),a.point(-Me,-n),a.point(-Me,0),a.point(-Me,n);else if(qe(e[0]-t[0])>He){var l=e[0]<t[0]?Me:-Me;n=s*l/2,a.point(-l,n),a.point(0,n),a.point(l,n)}else a.point(t[0],t[1])}function vh(e){var t=We(e),s=2*Qe,a=t>0,n=qe(t)>He;function l(c,u,v,h){lh(h,e,s,v,c,u)}function r(c,u){return We(c)*We(u)>t}function i(c){var u,v,h,C,y;return{lineStart:function(){C=h=!1,y=1},point:function(g,A){var w=[g,A],I,x=r(g,A),j=a?x?0:f(g,A):x?f(g+(g<0?Me:-Me),A):0;if(!u&&(C=h=x)&&c.lineStart(),x!==h&&(I=d(u,w),(!I||Ja(u,I)||Ja(w,I))&&(w[2]=1)),x!==h)y=0,x?(c.lineStart(),I=d(w,u),c.point(I[0],I[1])):(I=d(u,w),c.point(I[0],I[1],2),c.lineEnd()),u=I;else if(n&&u&&a^x){var _;!(j&v)&&(_=d(w,u,!0))&&(y=0,a?(c.lineStart(),c.point(_[0][0],_[0][1]),c.point(_[1][0],_[1][1]),c.lineEnd()):(c.point(_[1][0],_[1][1]),c.lineEnd(),c.lineStart(),c.point(_[0][0],_[0][1],3)))}x&&(!u||!Ja(u,w))&&c.point(w[0],w[1]),u=w,h=x,v=j},lineEnd:function(){h&&c.lineEnd(),u=null},clean:function(){return y|(C&&h)<<1}}}function d(c,u,v){var h=Hs(c),C=Hs(u),y=[1,0,0],g=ho(h,C),A=Ya(g,g),w=g[0],I=A-w*w;if(!I)return!v&&c;var x=t*A/I,j=-t*w/I,_=ho(y,g),S=ja(y,x),m=ja(g,j);sn(S,m);var k=_,P=Ya(S,k),V=Ya(k,k),F=P*P-V*(Ya(S,S)-1);if(!(F<0)){var D=$s(F),H=ja(k,(-P-D)/V);if(sn(H,S),H=In(H),!v)return H;var M=c[0],K=u[0],ee=c[1],te=u[1],re;K<M&&(re=M,M=K,K=re);var pe=K-M,Ce=qe(pe-Me)<He,oe=Ce||pe<He;if(!Ce&&te<ee&&(re=ee,ee=te,te=re),oe?Ce?ee+te>0^H[1]<(qe(H[0]-M)<He?ee:te):ee<=H[1]&&H[1]<=te:pe>Me^(M<=H[0]&&H[0]<=K)){var se=ja(k,(-P+D)/V);return sn(se,S),[H,In(se)]}}}function f(c,u){var v=a?e:Me-e,h=0;return c<-v?h|=1:c>v&&(h|=2),u<-v?h|=4:u>v&&(h|=8),h}return Lc(r,i,l,a?[0,-e]:[-Me,e-Me])}function hh(e,t,s,a,n,l){var r=e[0],i=e[1],d=t[0],f=t[1],c=0,u=1,v=d-r,h=f-i,C;if(C=s-r,!(!v&&C>0)){if(C/=v,v<0){if(C<c)return;C<u&&(u=C)}else if(v>0){if(C>u)return;C>c&&(c=C)}if(C=n-r,!(!v&&C<0)){if(C/=v,v<0){if(C>u)return;C>c&&(c=C)}else if(v>0){if(C<c)return;C<u&&(u=C)}if(C=a-i,!(!h&&C>0)){if(C/=h,h<0){if(C<c)return;C<u&&(u=C)}else if(h>0){if(C>u)return;C>c&&(c=C)}if(C=l-i,!(!h&&C<0)){if(C/=h,h<0){if(C>u)return;C>c&&(c=C)}else if(h>0){if(C<c)return;C<u&&(u=C)}return c>0&&(e[0]=r+c*v,e[1]=i+c*h),u<1&&(t[0]=r+u*v,t[1]=i+u*h),!0}}}}}var ea=1e9,Ga=-ea;function ph(e,t,s,a){function n(f,c){return e<=f&&f<=s&&t<=c&&c<=a}function l(f,c,u,v){var h=0,C=0;if(f==null||(h=r(f,u))!==(C=r(c,u))||d(f,c)<0^u>0)do v.point(h===0||h===3?e:s,h>1?a:t);while((h=(h+u+4)%4)!==C);else v.point(c[0],c[1])}function r(f,c){return qe(f[0]-e)<He?c>0?0:3:qe(f[0]-s)<He?c>0?2:1:qe(f[1]-t)<He?c>0?1:0:c>0?3:2}function i(f,c){return d(f.x,c.x)}function d(f,c){var u=r(f,1),v=r(c,1);return u!==v?u-v:u===0?c[1]-f[1]:u===1?f[0]-c[0]:u===2?f[1]-c[1]:c[0]-f[0]}return function(f){var c=f,u=Bc(),v,h,C,y,g,A,w,I,x,j,_,S={point:m,lineStart:F,lineEnd:D,polygonStart:P,polygonEnd:V};function m(M,K){n(M,K)&&c.point(M,K)}function k(){for(var M=0,K=0,ee=h.length;K<ee;++K)for(var te=h[K],re=1,pe=te.length,Ce=te[0],oe,se,B=Ce[0],q=Ce[1];re<pe;++re)oe=B,se=q,Ce=te[re],B=Ce[0],q=Ce[1],se<=a?q>a&&(B-oe)*(a-se)>(q-se)*(e-oe)&&++M:q<=a&&(B-oe)*(a-se)<(q-se)*(e-oe)&&--M;return M}function P(){c=u,v=[],h=[],_=!0}function V(){var M=k(),K=_&&M,ee=(v=Dc(v)).length;(K||ee)&&(f.polygonStart(),K&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),ee&&Vc(v,i,M,l,f),f.polygonEnd()),c=f,v=h=C=null}function F(){S.point=H,h&&h.push(C=[]),j=!0,x=!1,w=I=NaN}function D(){v&&(H(y,g),A&&x&&u.rejoin(),v.push(u.result())),S.point=m,x&&c.lineEnd()}function H(M,K){var ee=n(M,K);if(h&&C.push([M,K]),j)y=M,g=K,A=ee,j=!1,ee&&(c.lineStart(),c.point(M,K));else if(ee&&x)c.point(M,K);else{var te=[w=Math.max(Ga,Math.min(ea,w)),I=Math.max(Ga,Math.min(ea,I))],re=[M=Math.max(Ga,Math.min(ea,M)),K=Math.max(Ga,Math.min(ea,K))];hh(te,re,e,t,s,a)?(x||(c.lineStart(),c.point(te[0],te[1])),c.point(re[0],re[1]),ee||c.lineEnd(),_=!1):ee&&(c.lineStart(),c.point(M,K),_=!1)}w=M,I=K,x=ee}return S}}const Mn=e=>e;var on=new _s,Dn=new _s,Nc,Oc,Tn,Rn,Qt={point:xt,lineStart:xt,lineEnd:xt,polygonStart:function(){Qt.lineStart=gh,Qt.lineEnd=bh},polygonEnd:function(){Qt.lineStart=Qt.lineEnd=Qt.point=xt,on.add(qe(Dn)),Dn=new _s},result:function(){var e=on/2;return on=new _s,e}};function gh(){Qt.point=mh}function mh(e,t){Qt.point=zc,Nc=Tn=e,Oc=Rn=t}function zc(e,t){Dn.add(Rn*e-Tn*t),Tn=e,Rn=t}function bh(){zc(Nc,Oc)}var Gs=1/0,po=Gs,xa=-Gs,go=xa,mo={point:yh,lineStart:xt,lineEnd:xt,polygonStart:xt,polygonEnd:xt,result:function(){var e=[[Gs,po],[xa,go]];return xa=go=-(po=Gs=1/0),e}};function yh(e,t){e<Gs&&(Gs=e),e>xa&&(xa=e),t<po&&(po=t),t>go&&(go=t)}var Bn=0,Vn=0,ta=0,bo=0,yo=0,Rs=0,Ln=0,Nn=0,sa=0,Yc,jc,Nt,Ot,$t={point:Ss,lineStart:Fr,lineEnd:Mr,polygonStart:function(){$t.lineStart=wh,$t.lineEnd=_h},polygonEnd:function(){$t.point=Ss,$t.lineStart=Fr,$t.lineEnd=Mr},result:function(){var e=sa?[Ln/sa,Nn/sa]:Rs?[bo/Rs,yo/Rs]:ta?[Bn/ta,Vn/ta]:[NaN,NaN];return Bn=Vn=ta=bo=yo=Rs=Ln=Nn=sa=0,e}};function Ss(e,t){Bn+=e,Vn+=t,++ta}function Fr(){$t.point=Ah}function Ah(e,t){$t.point=Ch,Ss(Nt=e,Ot=t)}function Ch(e,t){var s=e-Nt,a=t-Ot,n=$s(s*s+a*a);bo+=n*(Nt+e)/2,yo+=n*(Ot+t)/2,Rs+=n,Ss(Nt=e,Ot=t)}function Mr(){$t.point=Ss}function wh(){$t.point=Sh}function _h(){Hc(Yc,jc)}function Sh(e,t){$t.point=Hc,Ss(Yc=Nt=e,jc=Ot=t)}function Hc(e,t){var s=e-Nt,a=t-Ot,n=$s(s*s+a*a);bo+=n*(Nt+e)/2,yo+=n*(Ot+t)/2,Rs+=n,n=Ot*e-Nt*t,Ln+=n*(Nt+e),Nn+=n*(Ot+t),sa+=n*3,Ss(Nt=e,Ot=t)}function Gc(e){this._context=e}Gc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,At);break}}},result:xt};var On=new _s,nn,qc,Uc,aa,oa,Ia={point:xt,lineStart:function(){Ia.point=kh},lineEnd:function(){nn&&Wc(qc,Uc),Ia.point=xt},polygonStart:function(){nn=!0},polygonEnd:function(){nn=null},result:function(){var e=+On;return On=new _s,e}};function kh(e,t){Ia.point=Wc,qc=aa=e,Uc=oa=t}function Wc(e,t){aa-=e,oa-=t,On.add($s(aa*aa+oa*oa)),aa=e,oa=t}let Dr,Ao,Tr,Rr;class Br{constructor(t){this._append=t==null?Xc:$h(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,s){switch(this._point){case 0:{this._append`M${t},${s}`,this._point=1;break}case 1:{this._append`L${t},${s}`;break}default:{if(this._append`M${t},${s}`,this._radius!==Tr||this._append!==Ao){const a=this._radius,n=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,Tr=a,Ao=this._append,Rr=this._,this._=n}this._+=Rr;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Xc(e){let t=1;this._+=e[0];for(const s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function $h(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Xc;if(t!==Dr){const s=10**t;Dr=t,Ao=function(n){let l=1;this._+=n[0];for(const r=n.length;l<r;++l)this._+=Math.round(arguments[l]*s)/s+n[l]}}return Ao}function cl(e,t){let s=3,a=4.5,n,l;function r(i){return i&&(typeof a=="function"&&l.pointRadius(+a.apply(this,arguments)),Ts(i,n(l))),l.result()}return r.area=function(i){return Ts(i,n(Qt)),Qt.result()},r.measure=function(i){return Ts(i,n(Ia)),Ia.result()},r.bounds=function(i){return Ts(i,n(mo)),mo.result()},r.centroid=function(i){return Ts(i,n($t)),$t.result()},r.projection=function(i){return arguments.length?(n=i==null?(e=null,Mn):(e=i).stream,r):e},r.context=function(i){return arguments.length?(l=i==null?(t=null,new Br(s)):new Gc(t=i),typeof a!="function"&&l.pointRadius(a),r):t},r.pointRadius=function(i){return arguments.length?(a=typeof i=="function"?i:(l.pointRadius(+i),+i),r):a},r.digits=function(i){if(!arguments.length)return s;if(i==null)s=null;else{const d=Math.floor(i);if(!(d>=0))throw new RangeError(`invalid digits: ${i}`);s=d}return t===null&&(l=new Br(s)),r},r.projection(e).digits(s).context(t)}function ul(e){return function(t){var s=new zn;for(var a in e)s[a]=e[a];return s.stream=t,s}}function zn(){}zn.prototype={constructor:zn,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dl(e,t,s){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),Ts(s,e.stream(mo)),t(mo.result()),a!=null&&e.clipExtent(a),e}function Qc(e,t,s){return dl(e,function(a){var n=t[1][0]-t[0][0],l=t[1][1]-t[0][1],r=Math.min(n/(a[1][0]-a[0][0]),l/(a[1][1]-a[0][1])),i=+t[0][0]+(n-r*(a[1][0]+a[0][0]))/2,d=+t[0][1]+(l-r*(a[1][1]+a[0][1]))/2;e.scale(150*r).translate([i,d])},s)}function xh(e,t,s){return Qc(e,[[0,0],t],s)}function Ih(e,t,s){return dl(e,function(a){var n=+t,l=n/(a[1][0]-a[0][0]),r=(n-l*(a[1][0]+a[0][0]))/2,i=-l*a[0][1];e.scale(150*l).translate([r,i])},s)}function Eh(e,t,s){return dl(e,function(a){var n=+t,l=n/(a[1][1]-a[0][1]),r=-l*a[0][0],i=(n-l*(a[1][1]+a[0][1]))/2;e.scale(150*l).translate([r,i])},s)}var Vr=16,Ph=We(30*Qe);function Lr(e,t){return+t?Mh(e,t):Fh(e)}function Fh(e){return ul({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function Mh(e,t){function s(a,n,l,r,i,d,f,c,u,v,h,C,y,g){var A=f-a,w=c-n,I=A*A+w*w;if(I>4*t&&y--){var x=r+v,j=i+h,_=d+C,S=$s(x*x+j*j+_*_),m=$a(_/=S),k=qe(qe(_)-1)<He||qe(l-u)<He?(l+u)/2:ka(j,x),P=e(k,m),V=P[0],F=P[1],D=V-a,H=F-n,M=w*D-A*H;(M*M/I>t||qe((A*D+w*H)/I-.5)>.3||r*v+i*h+d*C<Ph)&&(s(a,n,l,r,i,d,V,F,k,x/=S,j/=S,_,y,g),g.point(V,F),s(V,F,k,x,j,_,f,c,u,v,h,C,y,g))}}return function(a){var n,l,r,i,d,f,c,u,v,h,C,y,g={point:A,lineStart:w,lineEnd:x,polygonStart:function(){a.polygonStart(),g.lineStart=j},polygonEnd:function(){a.polygonEnd(),g.lineStart=w}};function A(m,k){m=e(m,k),a.point(m[0],m[1])}function w(){u=NaN,g.point=I,a.lineStart()}function I(m,k){var P=Hs([m,k]),V=e(m,k);s(u,v,c,h,C,y,u=V[0],v=V[1],c=m,h=P[0],C=P[1],y=P[2],Vr,a),a.point(u,v)}function x(){g.point=A,a.lineEnd()}function j(){w(),g.point=_,g.lineEnd=S}function _(m,k){I(n=m,k),l=u,r=v,i=h,d=C,f=y,g.point=I}function S(){s(u,v,c,h,C,y,l,r,n,i,d,f,Vr,a),g.lineEnd=x,x()}return g}}var Dh=ul({point:function(e,t){this.stream.point(e*Qe,t*Qe)}});function Th(e){return ul({point:function(t,s){var a=e(t,s);return this.stream.point(a[0],a[1])}})}function Rh(e,t,s,a,n){function l(r,i){return r*=a,i*=n,[t+e*r,s-e*i]}return l.invert=function(r,i){return[(r-t)/e*a,(s-i)/e*n]},l}function Nr(e,t,s,a,n,l){if(!l)return Rh(e,t,s,a,n);var r=We(l),i=Xe(l),d=r*e,f=i*e,c=r/e,u=i/e,v=(i*s-r*t)/e,h=(i*t+r*s)/e;function C(y,g){return y*=a,g*=n,[d*y-f*g+t,s-f*y-d*g]}return C.invert=function(y,g){return[a*(c*y-u*g+v),n*(h-u*y-c*g)]},C}function Bh(e){return Vh(function(){return e})()}function Vh(e){var t,s=150,a=480,n=250,l=0,r=0,i=0,d=0,f=0,c,u=0,v=1,h=1,C=null,y=Pr,g=null,A,w,I,x=Mn,j=.5,_,S,m,k,P;function V(M){return m(M[0]*Qe,M[1]*Qe)}function F(M){return M=m.invert(M[0],M[1]),M&&[M[0]*gt,M[1]*gt]}V.stream=function(M){return k&&P===M?k:k=Dh(Th(c)(y(_(x(P=M)))))},V.preclip=function(M){return arguments.length?(y=M,C=void 0,H()):y},V.postclip=function(M){return arguments.length?(x=M,g=A=w=I=null,H()):x},V.clipAngle=function(M){return arguments.length?(y=+M?vh(C=M*Qe):(C=null,Pr),H()):C*gt},V.clipExtent=function(M){return arguments.length?(x=M==null?(g=A=w=I=null,Mn):ph(g=+M[0][0],A=+M[0][1],w=+M[1][0],I=+M[1][1]),H()):g==null?null:[[g,A],[w,I]]},V.scale=function(M){return arguments.length?(s=+M,D()):s},V.translate=function(M){return arguments.length?(a=+M[0],n=+M[1],D()):[a,n]},V.center=function(M){return arguments.length?(l=M[0]%360*Qe,r=M[1]%360*Qe,D()):[l*gt,r*gt]},V.rotate=function(M){return arguments.length?(i=M[0]%360*Qe,d=M[1]%360*Qe,f=M.length>2?M[2]%360*Qe:0,D()):[i*gt,d*gt,f*gt]},V.angle=function(M){return arguments.length?(u=M%360*Qe,D()):u*gt},V.reflectX=function(M){return arguments.length?(v=M?-1:1,D()):v<0},V.reflectY=function(M){return arguments.length?(h=M?-1:1,D()):h<0},V.precision=function(M){return arguments.length?(_=Lr(S,j=M*M),H()):$s(j)},V.fitExtent=function(M,K){return Qc(V,M,K)},V.fitSize=function(M,K){return xh(V,M,K)},V.fitWidth=function(M,K){return Ih(V,M,K)},V.fitHeight=function(M,K){return Eh(V,M,K)};function D(){var M=Nr(s,0,0,v,h,u).apply(null,t(l,r)),K=Nr(s,a-M[0],n-M[1],v,h,u);return c=Rc(i,d,f),S=Pn(t,K),m=Pn(c,S),_=Lr(S,j),H()}function H(){return k=P=null,V}return function(){return t=e.apply(this,arguments),V.invert=t.invert&&F,D()}}function fl(e,t){return[e,th(ah((ht+t)/2))]}fl.invert=function(e,t){return[e,2*Tc(eh(t))-ht]};function vl(){return Lh(fl).scale(961/At)}function Lh(e){var t=Bh(e),s=t.center,a=t.scale,n=t.translate,l=t.clipExtent,r=null,i,d,f;t.scale=function(u){return arguments.length?(a(u),c()):a()},t.translate=function(u){return arguments.length?(n(u),c()):n()},t.center=function(u){return arguments.length?(s(u),c()):s()},t.clipExtent=function(u){return arguments.length?(u==null?r=i=d=f=null:(r=+u[0][0],i=+u[0][1],d=+u[1][0],f=+u[1][1]),c()):r==null?null:[[r,i],[d,f]]};function c(){var u=Me*a(),v=t(nh(t.rotate()).invert([0,0]));return l(r==null?[[v[0]-u,v[1]-u],[v[0]+u,v[1]+u]]:e===fl?[[Math.max(v[0]-u,r),i],[Math.min(v[0]+u,d),f]]:[[r,Math.max(v[1]-u,i)],[d,Math.min(v[1]+u,f)]])}return c()}const Nh={class:"card-content"},Oh={class:"card-position-title"},zh={class:"card-top-row"},Yh={class:"card-position-number"},jh={class:"card-ifss-info"},Hh={class:"ifss-value-text"},Gh={key:0,class:"card-bottom-stack"},qh={class:"hover-info-box"},Uh={key:0,class:"info-content"},Wh={class:"location-label"},Xh={class:"value-display"},Qh={key:1,class:"info-content"},Kh={class:"location-label"},Jh={class:"value-display"},Zh={key:2,class:"info-content"},e0={class:"value-display"},t0={class:"color-legend"},s0={key:0,class:"legend-items-horizontal"},a0={key:1,class:"legend-selected-state"},o0={class:"selected-state-label"},n0=["width","height"],l0=["d","fill","stroke","stroke-width","onClick","onMouseenter"],r0={class:"tooltip-info"},i0={class:"tooltip-state-name"},c0={class:"tooltip-stats"},u0={class:"tooltip-stat"},d0={class:"tooltip-stat-value"},f0={class:"tooltip-stat"},v0={class:"tooltip-stat-value"},h0={__name:"MexicoMapSVG",props:{geoData:{type:Object,required:!0},selectedState:{type:String,default:null},hoveredState:{type:String,default:null},mapConfig:{type:Object,required:!0},nationalIFSS:{type:Object,default:null},getStateColor:{type:Function,required:!0},getStateInfo:{type:Function,required:!0},getIFSSLabel:{type:Function,required:!0},showNavigation:{type:Boolean,default:!0},showInfoCard:{type:Boolean,default:!0},activeView:{type:String,default:null}},emits:["state-click","state-hover","state-leave","navigate-regional","view-change"],setup(e,{emit:t}){const s=e,a=t,n=z({x:0,y:0}),l=O(()=>vl().scale(s.mapConfig.scale).center(s.mapConfig.center).translate([s.mapConfig.width/2,s.mapConfig.height/2])),r=O(()=>cl().projection(l.value)),i=F=>r.value(F),d=F=>{const D=["state-path"];return s.selectedState===F?D.push("state-selected"):s.hoveredState===F&&D.push("state-hovered"),s.selectedState&&s.selectedState!==F&&D.push("state-dimmed"),D.join(" ")},f=F=>s.selectedState===F?"#1a202c":(s.hoveredState===F,"#555555"),c=F=>s.selectedState===F?3:s.hoveredState===F?2:1,u=()=>{var F;return s.selectedState?s.getStateInfo(s.selectedState).value||0:((F=s.nationalIFSS)==null?void 0:F.value)||0},v=()=>{const F=u();return s.getIFSSLabel(F).label},h=()=>{const F=u();return s.getIFSSLabel(F).color||"#ddb891"},C=()=>s.selectedState?"--":"15",y=()=>s.selectedState?s.getStateColor(s.selectedState):"#cccccc",g=()=>{if(!s.selectedState)return"";const D=s.getStateInfo(s.selectedState).value||0;return s.getIFSSLabel(D).label},A=()=>{if(!s.hoveredState)return"#718096";const D=s.getStateInfo(s.hoveredState).value||0;return s.getIFSSLabel(D).color||"#718096"},w=()=>{const F=A();return`linear-gradient(135deg, ${F} 0%, ${I(F,-20)} 100%)`},I=(F,D)=>{const H=F.replace("#",""),M=Math.max(0,Math.min(255,parseInt(H.substring(0,2),16)+D)),K=Math.max(0,Math.min(255,parseInt(H.substring(2,4),16)+D)),ee=Math.max(0,Math.min(255,parseInt(H.substring(4,6),16)+D));return`rgb(${M}, ${K}, ${ee})`},x=(F,D)=>{n.value={x:D.clientX,y:D.clientY},a("state-hover",F)},j=()=>{a("state-leave")},_=F=>{a("state-click",F)},S=F=>{F.target.classList.contains("map-wrapper")&&a("state-click",null)},m=F=>{(F.target.tagName==="svg"||F.target.tagName==="g")&&a("state-click",null)},k=()=>{a("view-change","regional"),a("navigate-regional")},P=()=>{a("view-change","federal"),window.open("https://plataformafinanzassostenibles.gflac.org/ranking","_blank")},V=O(()=>s.hoveredState?{position:"fixed",left:`${n.value.x+28}px`,top:`${n.value.y-75}px`,pointerEvents:"none",zIndex:99999,transform:"translate(0, 0)"}:{display:"none"});return(F,D)=>{var H;return p(),b("div",{class:"map-wrapper",onClick:S},[e.showInfoCard?(p(),b("div",{key:0,class:he(["map-info-card",{"state-selected":e.selectedState}])},[o("div",Nh,[o("div",Oh,Y(e.selectedState?`Estado: ${e.selectedState}`:"Posicin del pas en el ndice de Finanzas Sostenibles (IFS) en 2024"),1),o("div",zh,[o("div",Yh,Y(C()),1),o("div",jh,[o("div",Hh,Y(e.selectedState?"IFSS":"IFS")+": "+Y(u()),1),o("div",{class:"ifss-classification",style:fe({color:h()})},Y(v()),5)])]),e.showNavigation?(p(),b("div",Gh,[o("div",{class:he(["card-label-pill",{active:e.activeView==="regional"}]),onClick:kt(k,["stop"])}," Datos Regionales ",2),o("div",{class:he(["card-label-pill",{active:e.activeView==="federal"}]),onClick:kt(P,["stop"])}," Plataforma de Finanzas Sostenibles ",2)])):ce("",!0)])],2)):ce("",!0),o("div",qh,[e.selectedState?(p(),b("div",Uh,[o("div",Wh,Y(e.selectedState),1),o("div",Xh,"IFSS: "+Y(e.getStateInfo(e.selectedState).value||0),1)])):e.hoveredState?(p(),b("div",Qh,[o("div",Kh,Y(e.hoveredState),1),o("div",Jh,"IFSS: "+Y(e.getStateInfo(e.hoveredState).value||0),1)])):e.nationalIFSS?(p(),b("div",Zh,[D[0]||(D[0]=o("div",{class:"location-label"},"Mxico",-1)),o("div",e0,"IFS: "+Y(e.nationalIFSS.value),1)])):ce("",!0)]),o("div",t0,[e.selectedState?(p(),b("div",a0,[o("div",{class:"selected-state-bar",style:fe({backgroundColor:y()})},[o("span",o0,Y(g()),1)],4)])):(p(),b("div",s0,[...D[1]||(D[1]=[ke('<div class="legend-item-horizontal" data-v-501174d4><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-501174d4></div><span data-v-501174d4>Muy Alto</span></div><div class="legend-item-horizontal" data-v-501174d4><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-501174d4></div><span data-v-501174d4>Alto</span></div><div class="legend-item-horizontal" data-v-501174d4><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-501174d4></div><span data-v-501174d4>Medio Alto</span></div><div class="legend-item-horizontal" data-v-501174d4><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-501174d4></div><span data-v-501174d4>Medio</span></div><div class="legend-item-horizontal" data-v-501174d4><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-501174d4></div><span data-v-501174d4>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-501174d4><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-501174d4></div><span data-v-501174d4>Bajo</span></div><div class="legend-item-horizontal" data-v-501174d4><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-501174d4></div><span data-v-501174d4>Muy Bajo</span></div>',7)])]))]),(p(),b("svg",{width:e.mapConfig.width,height:e.mapConfig.height,class:"mexico-map",viewBox:"55 32 485 275",preserveAspectRatio:"xMidYMid meet",onClick:m},[o("g",null,[(p(!0),b(ge,null,_e(((H=e.geoData)==null?void 0:H.features)||[],M=>(p(),b("path",{key:M.properties.state_name,d:i(M),fill:e.getStateColor(M.properties.state_name),stroke:f(M.properties.state_name),"stroke-width":c(M.properties.state_name),class:he(d(M.properties.state_name)),onClick:kt(K=>_(M.properties.state_name),["stop"]),onMouseenter:K=>x(M.properties.state_name,K),onMouseleave:j},null,42,l0))),128))])],8,n0)),(p(),Pe(Yt,{to:"body"},[e.hoveredState?(p(),b("div",{key:0,class:"mexico-map-tooltip",style:fe(V.value)},[o("div",{class:"tooltip-icon-circle",style:fe({background:w()})},[...D[2]||(D[2]=[o("svg",{viewBox:"0 0 24 24"},[o("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})],-1)])],4),o("div",r0,[o("div",i0,Y(e.hoveredState),1),o("div",{class:"tooltip-classification",style:fe({color:A()})},Y(e.getIFSSLabel(e.getStateInfo(e.hoveredState).value||0).label),5),o("div",c0,[o("div",u0,[o("div",d0,Y(e.getStateInfo(e.hoveredState).value||0),1),D[3]||(D[3]=o("div",{class:"tooltip-stat-label"},"IFSS",-1))]),o("div",f0,[o("div",v0,Y(e.getStateInfo(e.hoveredState).year||"-"),1),D[4]||(D[4]=o("div",{class:"tooltip-stat-label"},"Ao",-1))])])])],4)):ce("",!0)]))])}}},Kc=Ee(h0,[["__scopeId","data-v-501174d4"]]);console.log("API Key:","AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0");console.log("Sheet ID Principal:","1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo");console.log("Sheet ID Cuantitativos:","1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A");console.log("Sheet ID Incendios Forestales:","1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk");console.log("Sheet ID Residuos Slidos:","15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g");console.log("Sheet ID Emisiones:","1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc");console.log("Sheet ID Energa:","1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg");console.log("Sheet ID reas Naturales:","1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0");console.log("Provider:","googlesheets");let Co="2024";const vt={provider:"googlesheets",googlesheets:{apiKey:"AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",sheets:{principal:{sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Hoja 1",gastos:"Gastos",estados:"Estados"}},cuantitativos:{sheetId:"1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",files:{datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024"}},cuantitativosRegional:{sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{chartsPresupuestosRegional:"Hoja 1",chartsIngresosRegional:"Hoja 1",cardIFSRegional:"Hoja 1"}},ambientales:{incendiosForestales:{sheetId:"1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk",files:{incendiosForestales:"2024"}},residuosSolidos:{sheetId:"15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g",files:{residuosSolidos:"2024"}},emisiones:{sheetId:"1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc",files:{emisiones:"2024"}},energia:{sheetId:"1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg",files:{energia:"2024"}},areasNaturales:{sheetId:"1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0",files:{areasNaturales:"2024"}}},economicos:{ingresoTotal:{sheetId:"1JbfkVJWcjB6HeslWG4c_72QsqiGazGFTkqMRFz90kwM",files:{ingresoTotal:"2024"}},egresoTotal:{sheetId:"1V_q6gPsW7NRpRfJz7sZB06b2X-fNgNcgN0UAZ8Jbw6A",files:{egresoTotal:"2024"}},pea:{sheetId:"1SLFuSyZ2oPtxedl8egYWZN40rGsN5Bt8m-wtmyKJzz8",files:{pea:"2024"}},pib:{sheetId:"15V60tJVicbTxHuc5gJeSRQ1whMykYkPRQ1qE8GgS_bo",files:{pib:"2024"}},itaee:{sheetId:"1a-JW6JWGV2IHDCHOiAEkXm-Mx9DX0SWOiEKGmoI5Klc",files:{itaee:"2024"}}},sociales:{desocupacion:{sheetId:"15a00iOynv6qhKpqI1bkYtWUmTnlEHlG6TgTkIksJEhg",files:{desocupacion:"2024"}},marginacion:{sheetId:"1LEL4tOhRC2_Vt-km43t7pqC4LKqix2V2lh4ZAiTJSAc",files:{marginacion:"2024"}},idh:{sheetId:"1vL7ythk7R15sbWu0fUq6Tfhxv8nLJtnb4eDL8_0e8QI",files:{idh:"2024"}},rezagoSocial:{sheetId:"17VuzaOXYkhLXLOVqelpO0mOSq7PXeL557t5w7v3BsZ0",files:{rezagoSocial:"2024"}},indiceGini:{sheetId:"1035e5y9y8y9fldFtijVmmQA5Og6_1ISg-PjnYikLU80",files:{indiceGini:"2024"}},poblacion:{sheetId:"1khFqaL2fxq3r8dKydaiKqaX5x3IfTUNHiz-TEmjzrDk",files:{poblacion:"2024"}}},gobernabilidad:{satisfaccionFederal:{sheetId:"1wOl0W7S859xOeScLNzMqvmJ7K46OExvTG4M9RgHeQYE",files:{satisfaccionFederal:"2024"}},satisfaccionEstatal:{sheetId:"1ADRSFL4htYoYjJ5G9PMZbZtWgQVdBw2z0f7Hqgl64kc",files:{satisfaccionEstatal:"2024"}},IGOPP:{sheetId:"1mABONqRevHO5mTfPkdy2nrRBTUS4xDeIBuUO2E3NdUk",files:{IGOPP:"2024"}},BIPE:{sheetId:"1MFvElQy-McXx0BDYI_65mfVAyK5QXwLcSTMV_tuDpJM",files:{BIPE:"2024"}},ITDIF:{sheetId:"1IlgbVnXTKPn_SxKivY8nCVMzoQ-2rj3nLPyhdMTbA18",files:{ITDIF:"2024"}},ICI:{sheetId:"17lV0T7CFL4sIdlwXHGosCSCRhYfc06K8qiUjvK9Vc4g",files:{ICI:"2024"}},PBRSED:{sheetId:"1XvVqd25zVILItNUh1lhT7H5yOrDTuClEDouz4YZgPBY",files:{PBRSED:"2024"}}},presupuestos:{presupuestoEstatal:{sheetId:"1cJmIqYcXNuUMxN_CYR80hCilTeX8fpZBTdyy1lvIKgw",files:{presupuestoEstatal:"2024"}},financiamientos:{sheetId:"17Gg_GKAF9w_SAj0uDHfg5WtddF-LPVc1LveRvmubSNU",files:{financiamientos:"2024"}},programas:{sheetId:"1RfZyCkhabT0shMHyD03u8-_GPU-jU5FZMFvizBnSV-E",files:{programas:"2024"}}}},sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Indicadores",gastos:"Gastos",estados:"Estados",datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024",incendiosForestales:"2024",residuosSolidos:"2024",emisiones:"2024",energia:"2024",areasNaturales:"2024",ingresoTotal:"2024",egresoTotal:"2024",pea:"2024",pib:"2024",itaee:"2024",satisfaccionFederal:"2024",satisfaccionEstatal:"2024",IGOPP:"2024",BIPE:"2024",ITDIF:"2024",ICI:"2024",PBRSED:"2024",presupuestoEstatal:"2024",financiamientos:"2024",programas:"2024",chartsPresupuestosRegional:"Hoja 1",chartsIngresosRegional:"Hoja 1",cardIFS:"Hoja 1"}},mappings:{presupuestoEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Presupuesto Total",column:"Presupuesto Total",label:"Presupuesto Total",color:"#0F3759",order:1}]},financiamientos:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bioecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Eduambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},programas:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bio-ecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Edu-Ambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},satisfaccionFederal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},satisfaccionEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},IGOPP:{categoryColumn:"Entidad Federativa",variables:[{key:"IGOPP",column:"IGOPP",label:"IGOPP",color:"#0F3759",order:1}]},BIPE:{categoryColumn:"Entidad Federativa",variables:[{key:"BIPE",column:"BIPE",label:"BIPE",color:"#0F3759",order:1}]},ITDIF:{categoryColumn:"Entidad Federativa",variables:[{key:"ITDIF",column:"ITDIF",label:"ITDIF",color:"#0F3759",order:1}]},ICI:{categoryColumn:"Entidad Federativa",variables:[{key:"ICI",column:"ICI",label:"ICI",color:"#0F3759",order:1},{key:"Consistencia en RT",column:"Consistencia en RT",label:"Consistencia en RT",color:"#0F3759",order:2},{key:"Proyectos",column:"Proyectos",label:"Proyectos",color:"#0F3759",order:3},{key:"Indicadores",column:"Indicadores",label:"Indicadores",color:"#0F3759",order:4}]},PBRSED:{categoryColumn:"Entidad Federativa",variables:[{key:"PBRSED",column:"PBRSED",label:"PBRSED",color:"#0F3759",order:1},{key:"Diagnstico",column:"Diagnstico",label:"Diagnstico",color:"#0F3759",order:2}]},ingresoTotal:{categoryColumn:"Entidad Federativa",variables:[{key:"Ingresos",column:"Ingresos",label:"Ingresos",color:"#0F3759",colorClass:"blue",order:1},{key:"Egresos",column:"Egresos",label:"Egresos",color:"#3B5A70",colorClass:"blue",order:1}]},egresoTotal:{categoryColumn:"Entidad Federativa",valueColumn:"Egresos"},pea:{categoryColumn:"Entidad Federativa",valueColumn:"Personas"},pib:{categoryColumn:"Entidad Federativa",valueColumn:"PIBE",variables:[{key:"PIBE",column:"PIBE",label:"PIB Estatal",color:"#0F3759",order:1}]},itaee:{categoryColumn:"Entidad Federativa",variables:[{key:"variacion",column:"Variacin porcentual anual",label:"Variacin %",color:"#0F3759",colorClass:"blue",order:1}]},desocupacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Tasa de desocupacin",column:"Tasa de desocupacin",label:"Tasa de desocupacin",color:"#0F3759",order:1},{key:"Tasa de informalidad laboral",column:"Tasa de informalidad laboral",label:"Tasa de informalidad laboral",color:"#3B5A70",order:2},{key:"Tasa de participacin",column:"Tasa de participacin",label:"Tasa de participacin",color:"#4E6D82",order:3}]},marginacion:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Marginacin",column:"ndice de Marginacin",label:"ndice de Marginacin",color:"#0F3759",order:1},{key:"Grado de marginacin",column:"Grado de marginacin",label:"Grado de marginacin",color:"#3B5A70",order:2},{key:"ndice de marginacin normalizado",column:"ndice de marginacin normalizado",label:"ndice de marginacin normalizado",color:"#4E6D82",order:3}]},idh:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Desarrollo Humano",column:"ndice de Desarrollo Humano",label:"ndice de Desarrollo Humano",color:"#0F3759",order:1}]},rezagoSocial:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Rezago Social",column:"ndice de Rezago Social",label:"ndice de Rezago Social",color:"#0F3759",order:1},{key:"Grado de Rezago Social",column:"Grado de Rezago Social",label:"Grado de Rezago Social",color:"#0F3759",order:2}]},indiceGini:{categoryColumn:"Entidad Federativa",variables:[{key:"CONEVAL 2020",column:"CONEVAL 2020",label:"CONEVAL 2020",color:"#0F3759",order:1},{key:"PNUD 2022",column:"PNUD 2022",label:"PNUD 2022",color:"#0F3759",order:2}]},poblacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Personas",column:"Personas",label:"Personas",color:"#0F3759",order:1}]},incendiosForestales:{categoryColumn:"Entidad Federativa",variables:[{key:"arbolado",column:"Arbolado Adulto",label:"Arbolado Adulto",color:"#0F3759",colorClass:"blue",order:1},{key:"renuevo",column:"Renuevo",label:"Renuevo",color:"#3B5A70",colorClass:"blue",order:2},{key:"arbustivo",column:"Arbustivo",label:"Arbustivo",color:"#4E6D82",colorClass:"blue",order:3},{key:"herbaceo",column:"Herbaceo",label:"Herbaceo",color:"#D6D6D6",colorClass:"gray",order:4},{key:"hojarasca",column:"Hojarasca",label:"Hojarasca",color:"#A1A1A1",colorClass:"gray",order:5},{key:"total",column:"Total de Hectreas",label:"Total de Hectreas",color:"#B0B0B0",colorClass:"gray",order:6}]},residuosSolidos:{categoryColumn:"Entidad Federativa",valueColumn:"Slidos Urbanos"},emisiones:{categoryColumn:"Entidad Federativa",variables:[{key:"Fuentes Fijas",column:"Fuentes Fijas",label:"Fuentes Fijas",color:"#DC143C",order:1},{key:"Fuente erea",column:"Fuente erea",label:"Fuente erea",color:"#0F3759",order:2},{key:"Carreteros",column:"Carreteros",label:"Carreteros",color:"#7cb342",order:3},{key:"No Carreteros",column:"No Carreteros",label:"No Carreteros",color:"#FF9800",order:4},{key:"Naturales",column:"Naturales",label:"Naturales",color:"#9C27B0",order:5}]},energia:{categoryColumn:"Entidad Federativa",valueColumn:"Consumo Energa"},areasNaturales:{categoryColumn:"Entidad Federativa",variables:[{key:"Flora y fauna",column:"Flora y fauna",label:"Flora y fauna",color:"#0F3759",colorClass:"blue",order:1},{key:"Recursos naturales",column:"Recursos naturales",label:"Recursos naturales",color:"#3B5A70",colorClass:"blue",order:2},{key:"Monumento Natural",column:"Monumento Natural",label:"Monumento Natural",color:"#4E6D82",colorClass:"blue",order:3},{key:"Parque Nacional",column:"Parque Nacional",label:"Parque Nacional",color:"#B0B0B0",colorClass:"gray",order:4},{key:"Reserva de la bisfera",column:"Reserva de la bisfera",label:"Reserva de la bisfera",color:"#0F3759",colorClass:"blue",order:5},{key:"Santuario",column:"Santuario",label:"Santuario",color:"#3B5A70",colorClass:"gray",order:6}]},chartsPresupuestos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"presupuesto_total",column:"PT ($)",label:"Presupuesto Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"presupuesto_sostenible",column:"PS ($)",label:"Presupuesto Sostenible",colorClass:"green",color:"#7cb342",order:2},{key:"presupuesto_carbono",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsPS:[{key:"ps_desastres",column:"PS_DN",label:"Desastres Naturales",colorClass:"dark-green",color:"#558b2f"},{key:"ps_proteccion",column:"PS_PA",label:"Proteccin Ambiental",colorClass:"green",color:"#7cb342"}],donutSectorsPIC:[{key:"pic_combustible",column:"PIC_C",label:"Combustible",colorClass:"dark-red",color:"#b71c1c"},{key:"pic_mineria",column:"PIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"pic_transporte",column:"PIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"}]},chartsIngresos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"ingresos_total",column:"IT ($)",label:"Ingresos Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"ingresos_sostenibles",column:"IS ($)",label:"Ingresos Sostenibles",colorClass:"green",color:"#7cb342",order:2},{key:"ingresos_carbono",column:"IIC ($)",label:"Ingresos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsIS:[{key:"is_ambiental",column:"IS_A",label:"Ambiental",colorClass:"dark-green",color:"#558b2f"},{key:"is_ecologico",column:"IS_E",label:"Ecolgico",colorClass:"green",color:"#7cb342"},{key:"is_movilidad",column:"IS_MS",label:"Movilidad Sustentable",colorClass:"light-green",color:"#9ccc65"}],donutSectorsIIC:[{key:"iic_hidrocarburos",column:"IIC_H",label:"Hidrocarburos",colorClass:"dark-red",color:"#b71c1c"},{key:"iic_mineria",column:"IIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"iic_transporte",column:"IIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"}]},chartsPresupuestosRegional:{stateColumn:"Ao",variableColumns:[{key:"presupuesto_total_reg",column:"PT",label:"Presupuesto Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"presupuesto_sostenible_reg",column:"PS ($)",label:"Presupuesto Sostenible",colorClass:"green",color:"#7cb342",order:2},{key:"presupuesto_carbono_reg",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsPSRegional:[{key:"ps_cambio_climatico_reg",column:"PS_CC",label:"Cambio climtico",colorClass:"dark-green",color:"#2e7d32"},{key:"ps_energia_renovable_reg",column:"PS_ER",label:"Energa Renovable",colorClass:"dark-green",color:"#43a047"},{key:"ps_eficiencia_energetica_reg",column:"PS_EE",label:"Eficiencia Energtica",colorClass:"dark-green",color:"#66bb6a"},{key:"ps_desastres_reg",column:"PS_DN",label:"Desastres Naturales",colorClass:"dark-green",color:"#1b5e20"}],donutSectorsPICRegional:[{key:"pic_hidrocarburos_reg",column:"PIC_H",label:"Hidrocarburos",colorClass:"light-red",color:"#ef5350"}]},chartsIngresosRegional:{stateColumn:"Ao",variableColumns:[{key:"ingresos_total_reg",column:"IT ($)",label:"Ingresos Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"ingresos_sostenibles_reg",column:"IS ($)",label:"Ingresos Sostenibles",colorClass:"green",color:"#7cb342",order:2},{key:"ingresos_carbono_reg",column:"IIC ($)",label:"Ingresos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsISRegional:[{key:"is_ambiental_reg",column:"IS_A",label:"Ambiental",colorClass:"dark-green",color:"#558b2f"},{key:"is_ecologico_reg",column:"IS_E",label:"Ecolgico",colorClass:"green",color:"#7cb342"},{key:"is_movilidad_reg",column:"IS_MS",label:"Movilidad Sustentable",colorClass:"light-green",color:"#9ccc65"}],donutSectorsIICRegional:[{key:"iic_hidrocarburos_reg",column:"IIC_H",label:"Hidrocarburos",colorClass:"dark-red",color:"#b71c1c"},{key:"iic_mineria_reg",column:"IIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"iic_combustible_reg",column:"IIC_C",label:"Combustible",colorClass:"light-red",color:"#ef5350"}]},cardIFSRegional:{stateColumn:"Ao",variableColumns:[{key:"ifs_val_reg",column:"IFS",label:"IFS Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"ifs_pos_reg",column:"POS_IFS",label:"Posicion IFS Regional",colorClass:"green",color:"#7cb342",order:2},{key:"is_val_reg",column:"IS ($)",label:"IS Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"is_pos_reg",column:"POS_IS",label:"Posicion IS Regional",colorClass:"green",color:"#7cb342",order:2},{key:"iic_val_reg",column:"IIC ($)",label:"IIC Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"icc_pos_reg",column:"POS_IIC",label:"Posicion IIC Regional",colorClass:"green",color:"#7cb342",order:2},{key:"pic_val_reg",column:"PIC ($)",label:"PIC Regional",colorClass:"gray",color:"#9ca3af",order:1},{key:"pic_pos_reg",column:"POS_PIC",label:"Posicion PIC Regional",colorClass:"green",color:"#7cb342",order:2}]},rankingCuantitativo:{stateColumn:"Entidad Federativa",columnsByVariable:{IFSS:"IFSS",PS:"PS (%)",IIC:"IIC (%)",PIC:"PIC (%)",IS:"IS (%)"},variableColumns:[{key:"IFSS",column:"IFSS",label:"IFSS",color:"#0F3759",colorClass:"blue",order:1}]},iicBarChart:{yearColumn:"Ao",variableColumns:[{key:"iic_c",column:"IIC_C",label:"IIC_C",color:"#0F3759",order:1},{key:"iic_h",column:"IIC_H",label:"IIC_H",color:"#3B5A70",order:2},{key:"iic_m",column:"IIC_M",label:"IIC_M",color:"#6B8FA3",order:3}]},iicStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IIC Total",column:"IIC ($)",label:"IIC Total",color:"#3B5A70"},{key:"Ingreso Total",column:"IT ($)",label:"Ingreso Total",color:"#0F3759"}]},ifssStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IFS",column:"IFS",label:"IFS",color:"#10b981"}]},presupuestoBarChart:{yearColumn:"Ao",variableColumns:[{key:"IS",column:"IS ($)",label:"IS",color:"#0F3759",order:1}]},picBarChart:{yearColumn:"Ao",variableColumns:[{key:"PIC",column:"PIC ($)",label:"PIC",color:"#0F3759",order:1}]},psBarChart:{yearColumn:"Ao",variableColumns:[{key:"PS",column:"PS ($)",label:"PS",color:"#6B8FA3",order:1}]},isLinearChart:{yearColumn:"Ao",variableColumns:[{key:"IS_Total",column:"IS ($)",label:"IS Total"},{key:"Financiemiento_Total",column:"FT ($)",label:"Financiamiento Total"}]},pspicLinearChart:{yearColumn:"Ao",variableColumns:[{key:"GT",column:"GT ($)",label:"Gasto Total"},{key:"PS",column:"PS ($)",label:"Presupuestos Sostenibles"},{key:"PIC",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono"}]},presupuestoDetalleBarChart:{yearColumn:"Ao",variableColumns:[{key:"asignado",column:"Presupuesto Asignado",label:"Asignado",color:"#4CAF50",order:1},{key:"ejecutado",column:"Presupuesto Ejecutado",label:"Ejecutado",color:"#2196F3",order:2},{key:"disponible",column:"Presupuesto Disponible",label:"Disponible",color:"#FF9800",order:3}]},roiLinearChart:{yearColumn:"Ao",variableColumns:[{key:"roi",column:"ROI (%)",label:"Retorno de Inversin"},{key:"benchmark",column:"Benchmark Industria (%)",label:"Benchmark"}]},gastosStackedArea:{yearColumn:"Ao",variableColumns:[{key:"personal",column:"Gastos Personal",label:"Personal"},{key:"operacion",column:"Gastos Operacin",label:"Operacin"},{key:"inversion",column:"Gastos Inversin",label:"Inversin"},{key:"otros",column:"Otros Gastos",label:"Otros"}]},estadosBarChart:{yearColumn:"Ao",variableColumns:[{key:"cdmx",column:"Ciudad de Mxico",label:"CDMX",color:"#FF5722",order:1},{key:"jalisco",column:"Jalisco",label:"Jalisco",color:"#00BCD4",order:2},{key:"nuevoLeon",column:"Nuevo Len",label:"Nuevo Len",color:"#8BC34A",order:3}]}},variablesConfig:{federal:{label:"Federal",color:"#0F3759",order:1},estatal:{label:"Estatal",color:"#3B5A70",order:2},municipal:{label:"Municipal",color:"#6B8FA3",order:3},asignado:{label:"Asignado",color:"#4CAF50",order:1},ejecutado:{label:"Ejecutado",color:"#2196F3",order:2},disponible:{label:"Disponible",color:"#FF9800",order:3},personal:{label:"Personal",color:"#E91E63",order:1},operacion:{label:"Operacin",color:"#9C27B0",order:2},inversion:{label:"Inversin",color:"#3F51B5",order:3},otros:{label:"Otros",color:"#607D8B",order:4}}};function De(e){console.log(" [storageConfig] Estableciendo ao activo:",e),Co=e||"2024"}function p0(){const e=vt.provider,t=vt[e];if(!t)throw new Error(`Configuracin no encontrada para provider: ${e}`);return{provider:e,...t,mappings:vt.mappings,variablesConfig:vt.variablesConfig}}function Or(e){const t=vt.googlesheets;if(t.sheets&&t.sheets.presupuestos){for(const[s,a]of Object.entries(t.sheets.presupuestos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en presupuestos.${s}`),a.sheetId}if(t.sheets&&t.sheets.economicos){for(const[s,a]of Object.entries(t.sheets.economicos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en economicos.${s}`),a.sheetId}if(t.sheets&&t.sheets.sociales){for(const[s,a]of Object.entries(t.sheets.sociales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en sociales.${s}`),a.sheetId}if(t.sheets&&t.sheets.ambientales){for(const[s,a]of Object.entries(t.sheets.ambientales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en ambientales.${s}`),a.sheetId}if(t.sheets&&t.sheets.gobernabilidad){for(const[s,a]of Object.entries(t.sheets.gobernabilidad))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en gobernabilidad.${s}`),a.sheetId}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?(console.log(` Archivo "${e}" encontrado en cuantitativos`),console.log(` Usando ao activo: ${Co}`),t.sheets.cuantitativos.sheetId):t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?(console.log(` Archivo "${e}" encontrado en principal`),t.sheets.principal.sheetId):(console.log(` Usando sheet principal para "${e}"`),t.sheetId)}function Ve(e){const t=vt.googlesheets;if(["datosCuantitativos","chartsPresupuestos","chartsIngresos","incendiosForestales","residuosSolidos","emisiones","energia","areasNaturales","ingresoTotal","egresoTotal","pea","pibe","itaee","desocupacion","marginacion","idh","rezagoSocial","indiceGini","poblacion","presupuestoEstatal","financiamientos","programas"].includes(e))return console.log(` Nombre de hoja dinmico para "${e}": ${Co}`),Co;if(t.sheets&&t.sheets.presupuestos){for(const[a,n]of Object.entries(t.sheets.presupuestos))if(n.files&&n.files[e])return n.files[e]}if(t.sheets&&t.sheets.sociales){for(const[a,n]of Object.entries(t.sheets.sociales))if(n.files&&n.files[e])return n.files[e]}if(t.sheets&&t.sheets.economicos){for(const[a,n]of Object.entries(t.sheets.economicos))if(n.files&&n.files[e])return n.files[e]}if(t.sheets&&t.sheets.ambientales){for(const[a,n]of Object.entries(t.sheets.ambientales))if(n.files&&n.files[e])return n.files[e]}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?t.sheets.cuantitativos.files[e]:t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?t.sheets.principal.files[e]:t.files[e]||e}function Re(e){const t=vt.mappings[e];if(!t)throw new Error(`Mapeo no encontrado: ${e}`);return t}const qt=new Map,Jc=5*60*1e3,ss=new Map,g0=3,m0=150;let Za=0;const wo=[],Zc=async()=>{if(wo.length===0||Za>=g0)return;const{resolve:e,reject:t,fn:s}=wo.shift();Za++;try{const a=await s();e(a)}catch(a){t(a)}finally{Za--,setTimeout(Zc,m0)}},zr=e=>new Promise((t,s)=>{wo.push({resolve:t,reject:s,fn:e}),Zc()}),Yr=async(e,t=3,s=500)=>{for(let a=0;a<t;a++)try{const n=await fetch(e);if(n.status===429||n.status===400&&a<t-1){const l=s*Math.pow(2,a);console.warn(` [Retry] Intento ${a+1}/${t} fall (${n.status}). Reintentando en ${l}ms...`),await new Promise(r=>setTimeout(r,l));continue}return n}catch(n){const l=s*Math.pow(2,a);console.warn(` [Retry] Intento ${a+1}/${t} fall (${n.message}). Reintentando en ${l}ms...`),await new Promise(r=>setTimeout(r,l))}return console.warn(" [fetchWithRetry] Mximo de reintentos alcanzado. Retornando null silenciosamente."),null},b0=(e,t)=>`${e}__${t}`,jr=e=>e?Date.now()-e.timestamp<Jc:!1,y0=()=>{const e=Date.now();for(const[t,s]of qt.entries())e-s.timestamp>=Jc&&(qt.delete(t),console.log(` [Cache] Limpiando entrada expirada: ${t}`))};setInterval(y0,2*60*1e3);function pt(){const e=p0(),t=async f=>{try{const c=Or(f),u=e.apiKey;if(!u||!c)return console.warn(" [fetchSheetNames] Falta configuracin de API Key o Sheet ID"),[];const v=`__sheetNames__${c}`,h=qt.get(v);if(jr(h))return console.log(` [Cache HIT] Usando nombres de hojas en cach para: ${f}`),h.data;if(ss.has(v))return console.log(` [Pending] Esperando solicitud de nombres existente para: ${f}`),await ss.get(v);console.log(` [useStorageData] Obteniendo nombres de hojas para: ${f}`),console.log(`  - Sheet ID: ${c}`);const C=zr(async()=>{const y=`https://sheets.googleapis.com/v4/spreadsheets/${c}?key=${u}`,g=await Yr(y);if(!g)return console.warn(` [fetchSheetNames] No se pudo obtener hojas para: ${f}`),[];if(!g.ok)return console.warn(` [fetchSheetNames] Error HTTP ${g.status} para: ${f}`),[];const w=(await g.json()).sheets.map(I=>I.properties.title);return console.log(" [useStorageData] Hojas encontradas:",w),qt.set(v,{data:w,timestamp:Date.now()}),console.log(` [Cache SAVE] Nombres de hojas guardados: ${v}`),w});ss.set(v,C);try{return await C}finally{ss.delete(v)}}catch(c){return console.warn(" [fetchSheetNames] Error silencioso:",c.message),[]}},s=async(f,c=null)=>{try{const u=c||Ve(f),v=Or(f),h=e.apiKey;if(!h||!v)return console.warn(" [fetchData] Falta configuracin de API Key o Sheet ID"),[];const C=b0(f,u),y=qt.get(C);if(jr(y))return console.log(` [Cache HIT] Usando datos en cach para: ${f} - ${u}`),y.data;if(ss.has(C))return console.log(` [Pending] Esperando solicitud existente para: ${f}`),await ss.get(C);console.log(` [useStorageData] Obteniendo datos de: ${f}`),console.log(`  - Hoja: ${u}`),console.log(`  - Sheet ID: ${v}`);let g=u;/^\d+$/.test(String(u).trim())&&(g=`'${u}'`,console.log(`  - Nombre formateado con comillas: ${g}`));const A=`${g}!A:ZZ`,w=`https://sheets.googleapis.com/v4/spreadsheets/${v}/values/${encodeURIComponent(A)}?key=${h}`,I=zr(async()=>{const x=await Yr(w);if(!x)return console.warn(` [fetchData] Max retries alcanzado para: ${f}. Retornando vaco.`),[];if(!x.ok)return console.warn(` [fetchData] Error HTTP ${x.status} para: ${f}. Retornando vaco.`),[];const _=(await x.json()).values||[];if(_.length===0)return console.warn(" [useStorageData] No se encontraron datos"),[];const S=_[0],m=_.slice(1).map(k=>{const P={};return S.forEach((V,F)=>{P[V]=k[F]||null}),P});return console.log(` [useStorageData] Datos obtenidos: ${m.length} filas`),qt.set(C,{data:m,timestamp:Date.now()}),console.log(` [Cache SAVE] Datos guardados en cach: ${C}`),m});ss.set(C,I);try{return await I}finally{ss.delete(C)}}catch(u){return console.warn(` [fetchData] Error silencioso para ${f}:`,u.message),[]}},a=f=>{if(typeof f=="number")return isNaN(f)?0:f;if(!f||f===""||f===null||f===void 0)return 0;let c=String(f).trim().toUpperCase();if(c==="NA"||c==="ND"||c==="N/A"||c==="-"||(c=c.replace(/^["']+|["']+$/g,"").trim(),c===""||c==='""'||c==="''"))return 0;c=c.replace(/[$\s]/g,"");const u=(c.match(/,/g)||[]).length,v=(c.match(/\./g)||[]).length;let h;if(u===0&&v===0)h=parseFloat(c)||0;else if(u>0&&v===0)if(u===1){const C=c.split(",");C[1].length===3&&/^\d+$/.test(C[0])&&/^\d{3}$/.test(C[1])?h=parseFloat(c.replace(",",""))||0:h=parseFloat(c.replace(",","."))||0}else h=parseFloat(c.replace(/,/g,""))||0;else if(v>0&&u===0)if(v===1){const C=c.split(".");C[1].length===3&&/^\d+$/.test(C[0])&&/^\d{3}$/.test(C[1])?h=parseFloat(c.replace(".",""))||0:h=parseFloat(c)||0}else h=parseFloat(c.replace(/\./g,""))||0;else{const C=c.lastIndexOf(","),y=c.lastIndexOf(".");C>y?h=parseFloat(c.replace(/\./g,"").replace(",","."))||0:h=parseFloat(c.replace(/,/g,""))||0}return h},n=(f,c)=>{try{if(console.log(" [transformToBarChartData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToBarChartData] No hay datos para transformar"),[];const u=c.yearColumn||"Ao",v=c.variableColumns||[],h={};f.forEach(y=>{const g=y[u];g&&(h[g]||(h[g]={year:g}),v.forEach(A=>{const w=y[A.column],I=a(w);h[g][A.key]||(h[g][A.key]=0),h[g][A.key]+=I}))});const C=Object.values(h).sort((y,g)=>parseInt(y.year)-parseInt(g.year)).map(y=>{const g=v.map(A=>({key:A.key,label:A.label,value:y[A.key]||0,color:A.color}));return{year:y.year,variables:g,total:g.reduce((A,w)=>A+w.value,0)}});return console.log(` [transformToBarChartData] Datos transformados: ${C.length} aos`),C}catch(u){return console.error(" [transformToBarChartData] Error:",u),[]}},l=(f,c)=>{try{if(console.log(" [transformToLinearChartData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToLinearChartData] No hay datos para transformar"),{data:[],labels:[]};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map(y=>y[u]))].filter(y=>y).sort((y,g)=>parseInt(y)-parseInt(g)),C=v.map(y=>{const g=h.map(A=>f.filter(x=>x[u]===A).reduce((x,j)=>x+a(j[y.column]),0));return{key:y.key,label:y.label,data:g,color:y.color||"#0F3759"}});return console.log(` [transformToLinearChartData] Datos transformados: ${h.length} aos`),{data:C,labels:h}}catch(u){return console.error(" [transformToLinearChartData] Error:",u),{data:[],labels:[]}}},r=(f,c)=>{try{if(console.log(" [transformToStackedAreaData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToStackedAreaData] No hay datos para transformar"),{};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map(y=>y[u]))].filter(y=>y).sort((y,g)=>parseInt(y)-parseInt(g)),C={};return v.forEach(y=>{C[y.label]=h.map(g=>f.filter(I=>I[u]===g).reduce((I,x)=>I+a(x[y.column]),0))}),console.log(" [transformToStackedAreaData] Datos transformados:",Object.keys(C)),C}catch(u){return console.error(" [transformToStackedAreaData] Error:",u),{}}},i=(f,c,u="horizontal",v={})=>{try{return console.log(` [useStorageData] Transformando datos para tipo: ${u}`),u==="horizontal"?d(f,c,v):u==="bar"?n(f,c):u==="linear"?l(f,c):u==="stackedArea"?r(f,c):f}catch(h){return console.error(" [useStorageData] Error transformando datos:",h),[]}},d=(f,c,u={})=>{const{selectedEntity:v}=u;if(!v)return console.warn(" [useStorageData] No hay entidad seleccionada"),[];const h=c.categoryColumn||c.stateColumn,C=f.find(g=>g[h]===v);return C?(console.log(` [useStorageData] Fila encontrada para ${v}:`,C),(c.variables||c.variableColumns).map(g=>{const A=C[g.column],w=a(A);return{key:g.key,label:g.label,value:w,color:g.color,colorClass:g.colorClass||"default",active:!0}})):(console.warn(` [useStorageData] No se encontr entidad: ${v}`),[])};return{fetchData:s,fetchSheetNames:t,transform:i,transformToBarChartData:n,transformToLinearChartData:l,transformToStackedAreaData:r,parseNumericValue:a,clearCache:()=>{qt.clear(),console.log(" [Cache] Cach limpiado completamente")},getCacheStats:()=>({size:qt.size,keys:Array.from(qt.keys()),activeRequests:Za,queueLength:wo.length})}}const A0={class:"vertical-bar-chart"},C0={class:"bar-header-dark"},w0={class:"bar-header-text"},_0={class:"bar-header-title"},S0={class:"bar-header-subtitle"},k0={class:"kpi-cards-row"},$0=["onClick","onMouseenter"],x0={class:"kpi-card-top"},I0={key:0,xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},E0={key:1,xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},P0={class:"kpi-value"},F0={class:"kpi-label"},M0={class:"chart-area"},D0={class:"y-axis"},T0={class:"tick-label"},R0={class:"grid-lines"},B0={class:"bar-wrapper-vertical"},V0=["onMouseenter"],L0={key:0,class:"bar-percentage"},N0={key:0,class:"empty-state"},O0={class:"tooltip-content"},z0={class:"tooltip-item"},Y0={class:"tooltip-variable-name"},j0={class:"tooltip-variable-value"},H0={__name:"BarChart",props:{data:{type:[Object,Array],required:!0,default:()=>[]},title:{type:String,default:"Presupuestos"},headerTitle:{type:String,default:"Anlisis Presupuestario"},selectedState:{type:String,default:""},selectedYear:{type:String,default:""}},setup(e){const t=e,s=z([{key:"presupuesto_total",label:"Presupuesto Total",shortLabel:"Total",colorClass:"gray",color:"#9ca3af",value:0,change:0,active:!1},{key:"presupuesto_sostenible",label:"Presupuesto Sostenible",shortLabel:"Sostenible",colorClass:"green",color:"#7cb342",value:0,change:0,active:!1},{key:"presupuesto_carbono",label:"Presupuesto Intensivo en Carbono",shortLabel:"Carbono",colorClass:"red",color:"#DC143C",value:0,change:0,active:!1}]),a=z(null),n=z(300),l=z(null),r=z(null),i=z({x:0,y:0}),d=z(!1),f=()=>{t.data&&t.data.variables&&Array.isArray(t.data.variables)?s.value=t.data.variables.map(m=>({key:m.key,label:m.label||m.key,shortLabel:c(m.label||m.key),colorClass:m.colorClass||"gray",color:m.color||"#9ca3af",value:m.value||0,change:m.change!==void 0?m.change:u(),active:!1})):Array.isArray(t.data)&&t.data.length>0&&t.data[0].variables&&(s.value=t.data[0].variables.map(m=>({key:m.key,label:m.label||m.key,shortLabel:c(m.label||m.key),colorClass:m.colorClass||"gray",color:m.color||"#9ca3af",value:m.value||0,change:m.change!==void 0?m.change:u(),active:!1})))},c=m=>({"Presupuesto Total":"Total","Presupuesto Sostenible":"Sostenible","Presupuesto Intensivo en Carbono":"Carbono","Ingreso Total":"Total","Ingresos Sostenibles":"Sostenible","Ingresos Intensivos en Carbono":"Carbono",PT:"Total",PS:"Sostenible",PIC:"Carbono",IT:"Total",IS:"Sostenible",IIC:"Carbono","Ingresos Total":"Ingresos Total","Presupuestos Intensivos en Carbono":"Presupuestos Intensivos en Carbono"})[m]||m,u=()=>parseFloat((Math.random()*20-5).toFixed(1)),v=m=>{const k=s.value[0];return!k||k.value===0?0:Math.round(m/k.value*100)},h=(m,k)=>{const P=m.active,V=r.value===k;return{background:P?`linear-gradient(135deg, ${m.color}08 0%, ${m.color}15 100%)`:"#f8fafc",borderColor:P?m.color:"#e2e8f0",opacity:P?1:.5,transform:V?"translateY(-2px)":"translateY(0)",boxShadow:V?`0 4px 12px ${m.color}25`:"none"}};f(),be(()=>t.data,()=>{f(),d.value?ze(()=>{s.value.forEach(m=>m.active=!0)}):ze(()=>{_(),d.value=!0})},{deep:!0});const C=O(()=>s.value.filter(m=>m.active)),y=O(()=>{const m=C.value.map(k=>k.value);return Math.max(...m,1)*1.25}),g=O(()=>{const m=y.value,k=m/4;return[{value:0,position:0},{value:k,position:25},{value:k*2,position:50},{value:k*3,position:75},{value:m,position:100}]}),A=m=>{const k=m.target.getBoundingClientRect();i.value={x:k.left+k.width/2,y:k.top-10}},w=m=>{const k=s.value.find(P=>P.key===m);k&&(k.active=!k.active)},I=m=>{var k;return((k=s.value.find(P=>P.key===m))==null?void 0:k.active)||!1},x=m=>y.value===0?0:n.value*(m/y.value)*100/100,j=m=>Math.abs(m)>=1e9?`$${(m/1e9).toFixed(2)} B`:Math.abs(m)>=1e6?`$${(m/1e6).toFixed(2)} M`:Math.abs(m)>=1e3?`$${(m/1e3).toFixed(2)} K`:`$${m.toFixed(0)}`,_=()=>{setTimeout(()=>{s.value.forEach((m,k)=>{setTimeout(()=>{m.active=!0},k*600)})},300)},S=()=>{if(a.value){const m=a.value.clientHeight-35;m>0&&(n.value=m)}};return Le(async()=>{await ze(),S(),a.value&&new ResizeObserver(()=>S()).observe(a.value),!d.value&&s.value.length>0&&(await ze(),_(),d.value=!0)}),be(()=>t.data,()=>{ze(()=>S())},{deep:!0}),(m,k)=>(p(),b(ge,null,[o("div",A0,[o("div",C0,[k[2]||(k[2]=ke('<div class="bar-header-icon" data-v-5c44e425><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-5c44e425><line x1="12" y1="20" x2="12" y2="10" data-v-5c44e425></line><line x1="18" y1="20" x2="18" y2="4" data-v-5c44e425></line><line x1="6" y1="20" x2="6" y2="16" data-v-5c44e425></line></svg></div>',1)),o("div",w0,[o("span",_0,Y(e.headerTitle),1),o("span",S0,Y(e.selectedState)+"  "+Y(e.selectedYear),1)])]),o("div",k0,[(p(!0),b(ge,null,_e(s.value,(P,V)=>(p(),b("div",{key:P.key,class:he(["kpi-card",[P.colorClass,{active:I(P.key),hovered:r.value===V}]]),style:fe(h(P,V)),onClick:F=>w(P.key),onMouseenter:F=>r.value=V,onMouseleave:k[0]||(k[0]=F=>r.value=null)},[o("div",x0,[o("span",{class:he(["kpi-dot",P.colorClass])},null,2),o("span",{class:he(["kpi-trend",{positive:P.change>=0,negative:P.change<0}])},[P.change>=0?(p(),b("svg",I0,[...k[3]||(k[3]=[o("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"},null,-1),o("polyline",{points:"17 6 23 6 23 12"},null,-1)])])):(p(),b("svg",E0,[...k[4]||(k[4]=[o("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"},null,-1),o("polyline",{points:"17 18 23 18 23 12"},null,-1)])])),Ke(" "+Y(Math.abs(P.change||0).toFixed(1))+"% ",1)],2)]),o("div",P0,Y(j(P.value)),1),o("div",F0,Y(P.shortLabel||P.label),1)],46,$0))),128))]),o("div",M0,[o("div",D0,[(p(!0),b(ge,null,_e(g.value,P=>(p(),b("div",{key:P.value,class:"y-tick",style:fe({bottom:`${P.position}%`})},[o("span",T0,Y(j(P.value)),1)],4))),128))]),o("div",R0,[(p(!0),b(ge,null,_e(g.value,P=>(p(),b("div",{key:"grid-"+P.value,class:"grid-line",style:fe({bottom:`${P.position}%`})},null,4))),128))]),o("div",{class:he(["bars-container",`bars-count-${C.value.length}`]),ref_key:"barsContainerRef",ref:a},[(p(!0),b(ge,null,_e(C.value,P=>{var V;return p(),b("div",{key:P.key,class:"bar-column"},[Cs(o("div",{class:he(["bar-value-label",P.colorClass])},Y(j(P.value)),3),[[gc,((V=l.value)==null?void 0:V.key)!==P.key]]),o("div",B0,[o("div",{class:he(["bar-vertical",P.colorClass]),style:fe({height:x(P.value)+"px"}),onMouseenter:F=>{l.value=P,A(F)},onMousemove:A,onMouseleave:k[1]||(k[1]=F=>l.value=null)},[x(P.value)>30?(p(),b("span",L0,Y(v(P.value))+"% ",1)):ce("",!0)],46,V0)])])}),128)),C.value.length===0?(p(),b("div",N0,[...k[5]||(k[5]=[o("p",null,"Selecciona al menos una variable para visualizar",-1)])])):ce("",!0)],2)])]),(p(),Pe(Yt,{to:"body"},[l.value?(p(),b("div",{key:0,class:"tooltip-container",style:fe({left:`${i.value.x}px`,top:`${i.value.y}px`})},[o("div",O0,[o("div",z0,[o("span",{class:he(["tooltip-color-indicator",l.value.colorClass])},null,2),o("span",Y0,Y(l.value.label)+":",1),o("span",j0,Y(j(l.value.value)),1)])])],4)):ce("",!0)]))],64))}},_o=Ee(H0,[["__scopeId","data-v-5c44e425"]]),G0={class:"donut-item-vertical"},q0={class:"distribution-bar-section"},U0={class:"distribution-header"},W0={class:"distribution-bar"},X0=["onMouseenter","onClick"],Q0={class:"donut-main-area"},K0={class:"donut-svg-container"},J0={class:"donut-svg",viewBox:"0 0 200 200"},Z0=["d","stroke","onMouseenter","onClick"],ep=["x","y","transform"],tp={class:"donut-center"},sp={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},ap={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},op={class:"badge-text"},np={class:"data-list-section"},lp=["onClick","onMouseenter"],rp={class:"data-item-left"},ip={class:"data-item-label"},cp={class:"data-item-right"},up={class:"data-item-value"},dp={__name:"DonutChart",props:{data:{type:Array,default:()=>[]},title:{type:String,default:""},subtitle:{type:String,default:""},size:{type:Number,default:220},variables:{type:Array,default:()=>[]},sectors:{type:Array,default:()=>[]}},setup(e){const t=e,s=z([]),a=z(null),n=O(()=>t.title==="IS"||t.title==="PS"?"green":"red"),l=O(()=>t.title==="IS"?`Ingresos
Sostenibles`:t.title==="IIC"?`Ingresos
Int. Carbono`:t.title==="PS"?`Presupuestos
Sostenibles`:t.title==="PIC"?`Presupuestos
Int. Carbono`:t.title),r=O(()=>t.sectors.map(y=>{let g=y.label;return y.label==="Movilidad Sustentable"&&(g="Movilidad"),y.label==="Proteccin Ambiental"&&(g="Proteccin"),y.label==="Desastres Naturales"&&(g="Desastres"),{...y,shortLabel:g}}));be(()=>t.sectors,y=>{y&&y.length>0&&(s.value=y.map(()=>!0))},{immediate:!0});const i=O(()=>t.sectors.reduce((y,g)=>y+(g.value||0),0));function d(y){if(!t.sectors[y]||i.value===0)return 0;const g=t.sectors[y].value/i.value*100;return Math.round(g*10)/10}O(()=>{var g;if(a.value!==null&&r.value[a.value])return r.value[a.value].label;const y=s.value.map((A,w)=>A?w:-1).filter(A=>A!==-1);return y.length===t.sectors.length||y.length===0?t.title==="IS"?"Ingresos Sostenibles":t.title==="IIC"?"Ingresos Int. Carbono":t.title==="PS"?"Presupuestos Sostenibles":t.title==="PIC"?"Presupuestos Int. Carbono":t.title:y.length===1?((g=r.value[y[0]])==null?void 0:g.label)||"":y.map(A=>{var w,I;return((w=r.value[A])==null?void 0:w.shortLabel)||((I=r.value[A])==null?void 0:I.label)}).join(" + ")});const f=O(()=>{if(a.value!==null&&r.value[a.value])return C(r.value[a.value].value);const y=s.value.reduce((g,A,w)=>A&&t.sectors[w]?g+t.sectors[w].value:g,0);return C(y)});O(()=>{const y=s.value.filter(Boolean).length;return y>0&&y<t.sectors.length});const c=O(()=>{if(!t.sectors||t.sectors.length===0)return[];const y=100,g=100,A=72,w=i.value;let I=-90;return t.sectors.map((x,j)=>{const _=w>0?x.value/w*100:0,S=_/100*360,m=I,k=I+S,P=m*Math.PI/180,V=k*Math.PI/180,F=y+A*Math.cos(P),D=g+A*Math.sin(P),H=y+A*Math.cos(V),M=g+A*Math.sin(V),K=S>180?1:0,ee=m+S/2,te=ee*Math.PI/180,re=y+A*Math.cos(te),pe=g+A*Math.sin(te),Ce=ee+90;return I=k,{...x,path:S>0?`M ${F} ${D} A ${A} ${A} 0 ${K} 1 ${H} ${M}`:"",percentX:re,percentY:pe,textRotation:Ce,displayPercent:Math.round(_*10)/10}})});function u(y){s.value[y]=!s.value[y],s.value.some(Boolean)||(s.value=s.value.map(()=>!0))}function v(y){s.value[y]&&(a.value=y)}function h(){a.value=null}function C(y){if(!y||y===0)return"$0";const g=y/1e6;if(g>=1e3)return"$"+(g/1e3).toFixed(1)+"B";if(g>=1)return"$"+Math.round(g)+"M";if(g>=.1)return"$"+g.toFixed(1)+"M";{const A=y/1e3;return"$"+Math.round(A)+"K"}}return(y,g)=>(p(),b("div",G0,[o("div",q0,[o("div",U0,[g[0]||(g[0]=o("span",{class:"distribution-label"},"Distribucin",-1)),o("span",{class:he(["distribution-value",n.value])},Y(f.value),3)]),o("div",W0,[(p(!0),b(ge,null,_e(c.value,(A,w)=>(p(),b("div",{key:"bar-"+w,class:he(["distribution-segment",{dimmed:!s.value[w],highlighted:a.value===w}]),style:fe({width:A.displayPercent+"%",background:A.color}),onMouseenter:I=>v(w),onMouseleave:h,onClick:I=>u(w)},null,46,X0))),128))])]),o("div",Q0,[o("div",K0,[(p(),b("svg",J0,[g[1]||(g[1]=o("circle",{cx:"100",cy:"100",r:"72",fill:"none",stroke:"#e2e8f0","stroke-width":"25"},null,-1)),(p(!0),b(ge,null,_e(c.value,(A,w)=>(p(),b("path",{key:w,class:he(["donut-ring",{dimmed:!s.value[w]||a.value!==null&&a.value!==w,highlighted:a.value===w}]),d:A.path,fill:"none",stroke:A.color,"stroke-width":"25",onMouseenter:I=>v(w),onMouseleave:h,onClick:I=>u(w)},null,42,Z0))),128)),(p(!0),b(ge,null,_e(c.value,(A,w)=>Cs((p(),b("text",{key:"pct-"+w,class:he(["sector-percent",{dimmed:!s.value[w]||a.value!==null&&a.value!==w}]),x:A.percentX,y:A.percentY,"text-anchor":"middle","dominant-baseline":"middle",transform:`rotate(${A.textRotation}, ${A.percentX}, ${A.percentY})`},Y(A.displayPercent)+"% ",11,ep)),[[gc,A.displayPercent>=5]])),128))])),o("div",tp,[o("div",{class:he(["center-value",n.value])},Y(f.value),3)])]),o("div",{class:he(["badge-indicator",n.value])},[o("div",{class:he(["badge-icon-circle",n.value])},[n.value==="green"?(p(),b("svg",sp,[...g[2]||(g[2]=[o("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},null,-1)])])):(p(),b("svg",ap,[...g[3]||(g[3]=[o("path",{d:"M12 2L2 7l10 5 10-5-10-5z"},null,-1),o("path",{d:"M2 17l10 5 10-5"},null,-1),o("path",{d:"M2 12l10 5 10-5"},null,-1)])]))],2),o("span",op,Y(l.value),1)],2)]),o("div",np,[(p(!0),b(ge,null,_e(r.value,(A,w)=>(p(),b("div",{key:w,class:he(["data-list-item",{active:s.value[w],dimmed:!s.value[w],highlighted:a.value===w}]),onClick:I=>u(w),onMouseenter:I=>v(w),onMouseleave:h},[o("div",rp,[o("span",{class:"data-color-dot",style:fe({background:A.color,boxShadow:"0 2px 6px "+A.color+"40"})},null,4),o("span",ip,Y(A.shortLabel||A.label),1)]),o("div",cp,[o("span",up,Y(C(A.value)),1),o("span",{class:"data-item-percent",style:fe({background:A.color})},Y(d(w))+"% ",5)])],42,lp))),128))])]))}},is=Ee(dp,[["__scopeId","data-v-28ea6aa3"]]),fp={key:0,class:"chart-card"},vp={class:"chart-card-header"},hp={class:"card-title"},pp={class:"chart-card-body"},gp={key:0,class:"loading-container"},mp={key:1,class:"error-container"},bp={key:2,class:"chart-col-bar"},yp={key:0,class:"donut-item"},Ap={key:1,class:"no-data-message"},Cp={key:1,class:"donut-item"},wp={key:1,class:"no-data-message"},_p={key:1,class:"chart-card"},Sp={class:"chart-card-header"},kp={class:"card-title"},$p={class:"chart-card-body"},xp={key:0,class:"loading-container"},Ip={key:1,class:"error-container"},Ep={key:2,class:"chart-col-bar"},Pp={key:0,class:"donut-item"},Fp={key:1,class:"no-data-message"},Mp={key:1,class:"donut-item"},Dp={key:1,class:"no-data-message"},Tp={__name:"ChartsComponent",props:{selectedState:{type:String,default:null},selectedYear:{type:String,default:null},selectedVariable:{type:Object,default:null},ifssData:{type:Object,default:()=>({})}},setup(e){const t=e,s=O(()=>!!t.selectedVariable),a=O(()=>t.selectedVariable&&(t.selectedVariable.key==="PS"||t.selectedVariable.key==="PIC")),n=O(()=>t.selectedVariable&&(t.selectedVariable.key==="IS"||t.selectedVariable.key==="IIC")),{fetchData:l,loading:r,error:i}=pt(),d=z(!1),f=z([]),c=z([]),u=Re("chartsPresupuestos"),v=Re("chartsIngresos"),h=async()=>{try{const q=Ve("chartsPresupuestos"),L=Ve("chartsIngresos");f.value=await l("chartsPresupuestos",q),c.value=await l("chartsIngresos",L),d.value=!0}catch(q){console.error("Error cargando datos:",q)}};Le(()=>h()),be(()=>t.selectedYear,async(q,L)=>{q!==L&&(d.value=!1,await h())});const C=O(()=>!d.value||!t.selectedState||!f.value.length?[]:f.value.filter(q=>q[u.stateColumn]===t.selectedState)),y=O(()=>!d.value||!t.selectedState||!c.value.length?[]:c.value.filter(q=>q[v.stateColumn]===t.selectedState)),g=(q,L)=>{if(!q||!L)return 0;const X=q[L];if(X==null)return 0;if(typeof X=="number")return X;if(typeof X=="string"){let J=X.replace(/^["']+|["']+$/g,"").trim();return J===""||J==='""'?0:(J=J.replace(/\./g,""),J=J.replace(",","."),parseFloat(J)||0)}return parseFloat(X)||0},A=(q,L)=>{if(!q)return{variables:[]};const X=L.variableColumns.map(J=>{const T=g(q,J.column);return{key:J.key,label:J.label,value:T,color:J.color,colorClass:J.colorClass,order:J.order||0}});return X.sort((J,T)=>J.order-T.order),{variables:X}},w=O(()=>{if(!C.value.length)return{variables:[]};const q=A(C.value[0],u);return t.selectedVariable&&q.variables.length>=3&&(t.selectedVariable.key==="PS"?q.variables=[q.variables[0],q.variables[1]].filter(L=>L):t.selectedVariable.key==="PIC"&&(q.variables=[q.variables[0],q.variables[2]].filter(L=>L))),q}),I=O(()=>{if(!y.value.length)return{variables:[]};const q=A(y.value[0],v);return t.selectedVariable&&q.variables.length>=3&&(t.selectedVariable.key==="IS"?q.variables=[q.variables[0],q.variables[1]].filter(L=>L):t.selectedVariable.key==="IIC"&&(q.variables=[q.variables[0],q.variables[2]].filter(L=>L))),q}),x=(q,L,X)=>{if(!q||!L||!X)return{mainPercentage:0,sectors:[]};let J=0;const T=L.map(ae=>{const G=g(q,ae.column);return J+=G,{key:ae.key,label:ae.label,value:G,color:ae.color,colorClass:ae.colorClass}});return{mainPercentage:X>0?Math.round(J/X*100):0,sectors:T}},j=O(()=>{if(!C.value.length)return[{label:"PS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}];const q=C.value[0],L=g(q,"PT ($)"),X=x(q,u.donutSectorsPS||[],L);return[{label:"PS",value:X.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-X.mainPercentage,color:"#E8E8E8"}]}),_=O(()=>{if(!C.value.length)return[];const q=C.value[0];return x(q,u.donutSectorsPS||[],g(q,"PT ($)")).sectors}),S=O(()=>`${j.value[0].value}%`),m=O(()=>{if(!C.value.length)return[{label:"PIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}];const q=C.value[0],L=g(q,"PT ($)"),X=x(q,u.donutSectorsPIC||[],L);return[{label:"PIC",value:X.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-X.mainPercentage,color:"#E8E8E8"}]}),k=O(()=>{if(!C.value.length)return[];const q=C.value[0];return x(q,u.donutSectorsPIC||[],g(q,"PT ($)")).sectors}),P=O(()=>`${m.value[0].value}%`),V=O(()=>{if(!y.value.length)return[{label:"IS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}];const q=y.value[0],L=g(q,"IT ($)"),X=x(q,v.donutSectorsIS||[],L);return[{label:"IS",value:X.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-X.mainPercentage,color:"#E8E8E8"}]}),F=O(()=>{if(!y.value.length)return[];const q=y.value[0];return x(q,v.donutSectorsIS||[],g(q,"IT ($)")).sectors}),D=O(()=>`${V.value[0].value}%`),H=O(()=>{if(!y.value.length)return[{label:"IIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}];const q=y.value[0],L=g(q,"IT ($)"),X=x(q,v.donutSectorsIIC||[],L);return[{label:"IIC",value:X.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-X.mainPercentage,color:"#E8E8E8"}]}),M=O(()=>{if(!y.value.length)return[];const q=y.value[0];return x(q,v.donutSectorsIIC||[],g(q,"IT ($)")).sectors}),K=O(()=>`${H.value[0].value}%`),ee=O(()=>{var L,X;const q=t.selectedYear?` en ${t.selectedYear}`:"";return((L=t.selectedVariable)==null?void 0:L.key)==="PS"?`Presupuestos Sostenibles (PS) con respecto al Presupuesto Total (PT)${q}`:((X=t.selectedVariable)==null?void 0:X.key)==="PIC"?`Presupuestos Intensivos en Carbono (PIC) con respecto al Presupuesto Total (PT)${q}`:`Presupuestos Intensivos en Carbono (PIC) y Presupuestos Sostenibles (PS) con respecto del gasto total${q}`}),te=O(()=>{var L,X;const q=t.selectedYear?` en ${t.selectedYear}`:"";return((L=t.selectedVariable)==null?void 0:L.key)==="IS"?`Ingresos Sostenibles (IS) con respecto al Ingreso Total (IT)${q}`:((X=t.selectedVariable)==null?void 0:X.key)==="IIC"?`Ingresos Intensivos en Carbono (IIC) con respecto al Ingreso Total (IT)${q}`:`Proporcin del gasto asignado a Ingresos${q}`}),re=O(()=>t.selectedState?`Presupuestos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),pe=O(()=>t.selectedState?`Ingresos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),Ce=O(()=>((u==null?void 0:u.donutSectorsPS)||[]).map(L=>({key:L.key,label:L.label,colorClass:L.colorClass,active:!0}))),oe=O(()=>((u==null?void 0:u.donutSectorsPIC)||[]).map(L=>({key:L.key,label:L.label,colorClass:L.colorClass,active:!0}))),se=O(()=>((v==null?void 0:v.donutSectorsIS)||[]).map(L=>({key:L.key,label:L.label,colorClass:L.colorClass,active:!0}))),B=O(()=>((v==null?void 0:v.donutSectorsIIC)||[]).map(L=>({key:L.key,label:L.label,colorClass:L.colorClass,active:!0})));return(q,L)=>(p(),b("div",{class:he(["charts-wrapper",{"single-card":s.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"||e.selectedVariable.key==="IIC"?(p(),b("div",fp,[o("div",vp,[o("h4",hp,Y(pe.value),1)]),o("div",pp,[U(r)?(p(),b("div",gp,[...L[0]||(L[0]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):U(i)?(p(),b("div",mp,[o("p",null,"Error: "+Y(U(i)),1)])):(p(),b("div",bp,[Ae(_o,{data:I.value,title:te.value,headerTitle:"Anlisis de Ingresos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!U(r)&&!U(i)?(p(),b("div",{key:3,class:he(["chart-col-donuts",{"single-donut":n.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"?(p(),b("div",yp,[L[1]||(L[1]=ke('<div class="donut-header-dark" data-v-933a8790><div class="donut-header-icon green" data-v-933a8790><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-933a8790><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-933a8790></path></svg></div><span class="donut-header-title" data-v-933a8790>Sectores de Ingresos Sostenibles</span></div>',1)),F.value.length>0?(p(),Pe(is,{key:`is-${t.selectedState}-${F.value.length}`,data:V.value,title:"IS",subtitle:D.value,size:220,variables:se.value,sectors:F.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",Ap,"Sin datos disponibles"))])):ce("",!0),!e.selectedVariable||e.selectedVariable.key==="IIC"?(p(),b("div",Cp,[L[2]||(L[2]=ke('<div class="donut-header-dark" data-v-933a8790><div class="donut-header-icon red" data-v-933a8790><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-933a8790><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-933a8790></path><path d="M2 17l10 5 10-5" data-v-933a8790></path><path d="M2 12l10 5 10-5" data-v-933a8790></path></svg></div><span class="donut-header-title" data-v-933a8790>Sectores de Ingresos Int. en Carbono</span></div>',1)),M.value.length>0?(p(),Pe(is,{key:`iic-${t.selectedState}-${M.value.length}`,data:H.value,title:"IIC",subtitle:K.value,size:220,variables:B.value,sectors:M.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",wp,"Sin datos disponibles"))])):ce("",!0)],2)):ce("",!0)])])):ce("",!0),!e.selectedVariable||e.selectedVariable.key==="PS"||e.selectedVariable.key==="PIC"?(p(),b("div",_p,[o("div",Sp,[o("h4",kp,Y(re.value),1)]),o("div",$p,[U(r)?(p(),b("div",xp,[...L[3]||(L[3]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):U(i)?(p(),b("div",Ip,[o("p",null,"Error: "+Y(U(i)),1)])):(p(),b("div",Ep,[Ae(_o,{data:w.value,title:ee.value,headerTitle:"Anlisis de Presupuestos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!U(r)&&!U(i)?(p(),b("div",{key:3,class:he(["chart-col-donuts",{"single-donut":a.value}])},[!e.selectedVariable||e.selectedVariable.key==="PS"?(p(),b("div",Pp,[L[4]||(L[4]=ke('<div class="donut-header-dark" data-v-933a8790><div class="donut-header-icon green" data-v-933a8790><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-933a8790><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-933a8790></path></svg></div><span class="donut-header-title" data-v-933a8790>Sectores de Presupuestos Sostenibles</span></div>',1)),_.value.length>0?(p(),Pe(is,{key:`ps-${t.selectedState}-${_.value.length}`,data:j.value,title:"PS",subtitle:S.value,size:220,variables:Ce.value,sectors:_.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",Fp,"Sin datos disponibles"))])):ce("",!0),!e.selectedVariable||e.selectedVariable.key==="PIC"?(p(),b("div",Mp,[L[5]||(L[5]=ke('<div class="donut-header-dark" data-v-933a8790><div class="donut-header-icon red" data-v-933a8790><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-933a8790><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-933a8790></path><path d="M2 17l10 5 10-5" data-v-933a8790></path><path d="M2 12l10 5 10-5" data-v-933a8790></path></svg></div><span class="donut-header-title" data-v-933a8790>Sectores de Presupuestos Int. en Carbono</span></div>',1)),k.value.length>0?(p(),Pe(is,{key:`pic-${t.selectedState}-${k.value.length}`,data:m.value,title:"PIC",subtitle:P.value,size:220,variables:oe.value,sectors:k.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",Dp,"Sin datos disponibles"))])):ce("",!0)],2)):ce("",!0)])])):ce("",!0)],2))}},eu=Ee(Tp,[["__scopeId","data-v-933a8790"]]),Qs=z(null),Ks=z([]),ln=z(!1),rn=z(null);function Rp(){const e=async()=>{try{console.log(" Obteniendo aos disponibles desde Google Sheets..."),ln.value=!0,rn.value=null;const n="AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",l="1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",r=`https://sheets.googleapis.com/v4/spreadsheets/${l}?key=${n}`,i=await fetch(r);if(!i.ok)throw new Error(`Error al obtener metadatos: ${i.status}`);const f=(await i.json()).sheets.map(c=>c.properties.title).filter(c=>/^\d{4}$/.test(c)).sort((c,u)=>u.localeCompare(c));return Ks.value=f,console.log(" Aos disponibles:",f),f}catch(n){return console.error(" Error obteniendo aos:",n),rn.value=n.message,Ks.value=["2024","2023","2022","2021","2020"],Ks.value}finally{ln.value=!1}},t=n=>{console.log(" Estableciendo ao seleccionado:",n),Qs.value=n},s=O(()=>Qs.value!==null?Qs.value:Ks.value[0]||"2024");return{selectedYear:Qs,availableYears:Ks,loadingYears:ln,yearsError:rn,activeYear:s,fetchAvailableYears:e,setSelectedYear:t,resetYear:()=>{Qs.value=null}}}const Bp={class:"filter-content"},Vp={class:"filter-group"},Lp={class:"filter-dropdown"},Np={class:"dropdown-text"},Op={key:0,class:"dropdown-menu"},zp={class:"dropdown-search"},Yp={class:"dropdown-options"},jp=["onClick"],Hp={class:"filter-group"},Gp={class:"filter-dropdown"},qp=["disabled"],Up={class:"dropdown-text"},Wp={key:0,class:"dropdown-menu"},Xp={class:"dropdown-search"},Qp={class:"dropdown-options"},Kp=["onClick"],Jp={key:1,class:"dropdown-no-results"},Zp={class:"filter-group"},eg={class:"filter-dropdown"},tg={class:"dropdown-text"},sg={key:0,class:"dropdown-menu variable-menu"},ag={class:"dropdown-search"},og={class:"dropdown-options"},ng=["onClick"],lg={key:1,class:"dropdown-no-results"},rg={__name:"RetractableFilterBar",props:{entities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},selectedState:{type:String,default:null},isLocked:{type:Boolean,default:!1},availableYears:{type:Array,default:()=>[]},initialEntity:{type:[String,null],default:""},initialYear:{type:[String,Number,null],default:null},initialVariable:{type:[Object,String,null],default:null}},emits:["entity-change","year-change","variable-change","filters-change"],setup(e,{emit:t}){const s=e,a=t,{selectedYear:n,availableYears:l,loadingYears:r,fetchAvailableYears:i,setSelectedYear:d,activeYear:f}=Rp(),c=O(()=>s.availableYears&&s.availableYears.length>0?(console.log(" Usando aos de props.availableYears:",s.availableYears),s.availableYears):(console.log(" Usando aos de composable:",l.value),l.value)),u=z(!1),v=z(null),h=z(null),C=z(null),y=z(!1),g=z(""),A=z(""),w=z(""),I=z(""),x=z(null),j={PS:{key:"PS",label:"Presupuestos Sostenibles (PS)",description:"Presupuestos Sostenibles",category:"presupuestos",barVariables:["PS","PT"],donutType:"PS"},IIC:{key:"IIC",label:"Ingresos Intensivos en Carbono (IIC)",description:"Ingresos Intensivos en Carbono",category:"ingresos",barVariables:["IIC","IT"],donutType:"IIC"},PIC:{key:"PIC",label:"Presupuestos Intensivos en Carbono (PIC)",description:"Presupuestos Intensivos en Carbono",category:"presupuestos",barVariables:["PIC","PT"],donutType:"PIC"},IS:{key:"IS",label:"Ingresos Sostenibles (IS)",description:"Ingresos Sostenibles",category:"ingresos",barVariables:["IS","IT"],donutType:"IS"}},_=O(()=>Object.values(j)),S=O(()=>{if(!g.value)return s.entities;const oe=g.value.toLowerCase();return s.entities.filter(se=>se.name.toLowerCase().includes(oe))}),m=O(()=>{if(!A.value)return c.value;const oe=A.value.toLowerCase();return c.value.filter(se=>String(se).toLowerCase().includes(oe))}),k=O(()=>{if(!w.value)return _.value;const oe=w.value.toLowerCase();return _.value.filter(se=>se.label.toLowerCase().includes(oe)||se.key.toLowerCase().includes(oe)||se.description.toLowerCase().includes(oe))}),P=()=>I.value===""?"-":!I.value||I.value===null?"Datos regionales":I.value,V=()=>n.value===null?"Todos los aos":n.value,F=()=>!x.value||x.value===null?"IFSS":x.value.key,D=()=>{h.value&&(clearTimeout(h.value),h.value=null),u.value=!0},H=()=>{if(s.isLocked){console.log(" Barra bloqueada, no se contrae al salir del mouse");return}!v.value&&!I.value&&(h.value=setTimeout(()=>{u.value=!1},300))},M=oe=>{console.log(" Toggle dropdown:",oe),u.value=!0,h.value&&(clearTimeout(h.value),h.value=null),v.value!==oe&&(g.value="",A.value="",w.value=""),v.value=v.value===oe?null:oe,console.log(" Dropdown activo:",v.value)},K=()=>{if(console.log(" Cerrando todos los dropdowns"),v.value=null,g.value="",A.value="",w.value="",s.isLocked){console.log(" Barra bloqueada, permanece expandida");return}h.value=setTimeout(()=>{u.value=!1},300)},ee=oe=>{C.value&&(C.value.contains(oe.target)||v.value&&(console.log(" Click fuera detectado, cerrando dropdown"),K()))},te=oe=>{console.log("=== FILTRO: Entidad seleccionada ===",oe);const se=I.value;if(I.value=oe,a("entity-change",oe),se===null&&oe!==null&&oe!==""&&n.value===null&&c.value.length>0){const B=c.value[0];console.log(" Auto-seteando ao al primero disponible:",B),d(B),De(B),a("year-change",B)}Ce(),g.value="",K()},re=oe=>{if(console.log("=== FILTRO: Ao seleccionado ===",oe),d(oe),oe!==null)De(oe),console.log(" Ao activo establecido:",oe);else{const se=c.value[0]||"2024";De(se),console.log(" Ao activo establecido (fallback):",se)}a("year-change",oe),Ce(),A.value="",K()},pe=oe=>{console.log("=== FILTRO: Variable seleccionada ===",oe),x.value=oe,a("variable-change",oe),Ce(),w.value="",K()},Ce=()=>{const oe={entity:I.value,year:n.value,variable:x.value};console.log("=== FILTRO: Emitiendo filters-change ===",oe),a("filters-change",oe)};return be(()=>s.initialEntity,oe=>{console.log(" [FilterBar] initialEntity cambi a:",oe),oe!==I.value&&(I.value=oe,console.log(" [FilterBar] selectedEntity sincronizado:",I.value))},{immediate:!0}),be(()=>s.initialYear,oe=>{console.log(" [FilterBar] initialYear cambi a:",oe),oe!==n.value&&(d(oe),console.log(" [FilterBar] selectedYear sincronizado:",n.value))},{immediate:!0}),be(()=>s.initialVariable,oe=>{console.log(" [FilterBar] initialVariable cambi a:",oe),oe!==x.value&&(x.value=oe,console.log(" [FilterBar] selectedVariable sincronizado:",x.value))},{immediate:!0}),be(()=>s.isLocked,(oe,se)=>{console.log(" isLocked cambi de",se,"a",oe),oe?(u.value=!0,y.value=!1,h.value&&(clearTimeout(h.value),h.value=null)):se===!0&&oe===!1&&(console.log(" Iniciando animacin de bajada..."),y.value=!0,setTimeout(()=>{y.value=!1,!I.value&&!v.value&&(u.value=!1),console.log(" Animacin de bajada completada")},600))}),be(()=>s.selectedState,oe=>{console.log(" Sincronizando filtro con mapa. Estado:",oe),(oe!=null||oe===null&&I.value!=="")&&(I.value=oe)}),be(c,oe=>{console.log(" [RetractableFilterBar] Computed years cambi a:",oe)},{immediate:!0}),be(()=>s.availableYears,(oe,se)=>{console.log(" [RetractableFilterBar] props.availableYears cambi"),console.log("  - Anterior:",se),console.log("  - Nuevo:",oe)},{deep:!0}),Le(async()=>{if(console.log(" RetractableFilterBar montado"),console.log(" Entidades recibidas:",s.entities.length),console.log(" Aos en props:",s.availableYears),console.log(" initialEntity:",s.initialEntity),console.log(" initialYear:",s.initialYear),console.log(" initialVariable:",s.initialVariable),s.initialEntity!==void 0&&(I.value=s.initialEntity),s.initialVariable!==void 0&&(x.value=s.initialVariable),console.log(" Cargando aos desde composable..."),await i(),console.log(" Aos del composable cargados:",l.value),s.initialYear!==null&&s.initialYear!==void 0)d(s.initialYear),s.initialYear!==""&&De(s.initialYear),console.log(" Usando ao de props:",s.initialYear);else if(c.value.length>0){const oe=c.value[0];d(oe),De(oe),console.log(" Ao por defecto establecido:",oe),a("year-change",oe)}else De(f.value),console.log(" Ao activo inicial (fallback):",f.value);Ce(),document.addEventListener("click",ee)}),tl(()=>{console.log(" RetractableFilterBar desmontndose"),document.removeEventListener("click",ee),h.value&&clearTimeout(h.value)}),(oe,se)=>(p(),b("div",{class:"filter-bar-container",style:fe({overflow:v.value!==null?"visible":"hidden"})},[o("div",{ref_key:"filterBarRef",ref:C,class:he(["filter-bar",{expanded:u.value||v.value,"has-entity-selected":I.value,"locked-expanded":s.isLocked,"animating-down":y.value}]),onMouseenter:D,onMouseleave:H},[o("div",Bp,[o("div",Vp,[se[16]||(se[16]=o("label",{class:"filter-label"},"Entidad",-1)),o("div",Lp,[o("button",{onClick:se[0]||(se[0]=B=>M("entidad")),class:he(["dropdown-button",{active:v.value==="entidad","has-selection":I.value}])},[o("span",Np,Y(P()),1),se[13]||(se[13]=o("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="entidad"?(p(),b("div",Op,[o("div",zp,[Cs(o("input",{"onUpdate:modelValue":se[1]||(se[1]=B=>g.value=B),placeholder:"Buscar entidad...",class:"search-input",onClick:se[2]||(se[2]=kt(()=>{},["stop"]))},null,512),[[ha,g.value]])]),o("div",Yp,[g.value?ce("",!0):(p(),b("div",{key:0,onClick:se[3]||(se[3]=B=>te(null)),class:he(["dropdown-option",{selected:I.value===null}])},[...se[14]||(se[14]=[o("span",null,"Datos Regionales",-1)])],2)),(p(!0),b(ge,null,_e(S.value,B=>(p(),b("div",{key:B.name,onClick:q=>te(B.name),class:he(["dropdown-option",{selected:I.value===B.name&&I.value!==""&&I.value!==null}])},[o("span",null,Y(B.name),1)],10,jp))),128)),g.value?ce("",!0):(p(),b("div",{key:1,onClick:se[4]||(se[4]=B=>te("")),class:he(["dropdown-option blank-option-row",{selected:I.value===""}])},[...se[15]||(se[15]=[o("span",{class:"blank-option"},"-",-1)])],2))])])):ce("",!0)])]),o("div",Hp,[se[19]||(se[19]=o("label",{class:"filter-label"},"Ao",-1)),o("div",Gp,[o("button",{onClick:se[5]||(se[5]=B=>M("ao")),class:he(["dropdown-button",{active:v.value==="ao","has-selection":U(n)!==null}]),disabled:U(r)},[o("span",Up,Y(U(r)?"Cargando...":V()),1),se[17]||(se[17]=o("span",{class:"dropdown-arrow"},"",-1))],10,qp),v.value==="ao"?(p(),b("div",Wp,[o("div",Xp,[Cs(o("input",{"onUpdate:modelValue":se[6]||(se[6]=B=>A.value=B),placeholder:"Buscar ao...",class:"search-input",onClick:se[7]||(se[7]=kt(()=>{},["stop"]))},null,512),[[ha,A.value]])]),o("div",Qp,[!A.value&&I.value!==""?(p(),b("div",{key:0,onClick:se[8]||(se[8]=B=>re(null)),class:he(["dropdown-option",{selected:U(n)===null}])},[...se[18]||(se[18]=[o("span",null,"Todos los aos",-1)])],2)):ce("",!0),(p(!0),b(ge,null,_e(m.value,B=>(p(),b("div",{key:B,onClick:q=>re(B),class:he(["dropdown-option",{selected:U(n)===B}])},[o("span",null,Y(B),1)],10,Kp))),128)),m.value.length===0&&A.value?(p(),b("div",Jp," No se encontraron aos ")):ce("",!0)])])):ce("",!0)])]),o("div",Zp,[se[22]||(se[22]=o("label",{class:"filter-label"},"Variable",-1)),o("div",eg,[o("button",{onClick:se[9]||(se[9]=B=>M("variable")),class:he(["dropdown-button",{active:v.value==="variable","has-selection":x.value!==null}])},[o("span",tg,Y(F()),1),se[20]||(se[20]=o("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="variable"?(p(),b("div",sg,[o("div",ag,[Cs(o("input",{"onUpdate:modelValue":se[10]||(se[10]=B=>w.value=B),placeholder:"Buscar variable...",class:"search-input",onClick:se[11]||(se[11]=kt(()=>{},["stop"]))},null,512),[[ha,w.value]])]),o("div",og,[w.value?ce("",!0):(p(),b("div",{key:0,onClick:se[12]||(se[12]=B=>pe(null)),class:he(["dropdown-option",{selected:x.value===null}])},[...se[21]||(se[21]=[o("span",null,"IFSS",-1)])],2)),(p(!0),b(ge,null,_e(k.value,B=>{var q;return p(),b("div",{key:B.key,onClick:L=>pe(B),class:he(["dropdown-option",{selected:((q=x.value)==null?void 0:q.key)===B.key}])},[o("span",null,Y(B.label),1)],10,ng)}),128)),k.value.length===0&&w.value?(p(),b("div",lg," No se encontraron variables ")):ce("",!0)])])):ce("",!0)])])])],34)],4))}},Oo=Ee(rg,[["__scopeId","data-v-40c843fe"]]),ig=()=>{const e=z("subnacional"),t=z("mxn"),s=f=>{f==="federal"||f==="subnacional"?(e.value=f,console.log("Tipo de datos cambiado a:",f)):console.error("Tipo de datos invlido:",f)},a=f=>{f==="usd"||f==="mxn"?(t.value=f,console.log("Moneda cambiada a:",f.toUpperCase())):console.error("Moneda invlida:",f)},n=()=>17.5,l=(f,c="mxn")=>{if(t.value===c)return f;const u=n();return c==="mxn"&&t.value==="usd"?f/u:c==="usd"&&t.value==="mxn"?f*u:f},r=f=>{const c=l(f);t.value;const u=t.value==="usd"?"en-US":"es-MX";return new Intl.NumberFormat(u,{style:"currency",currency:t.value.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(c)};return be(e,f=>{console.log("Datos actualizados a:",f)}),be(t,f=>{console.log("Moneda actualizada a:",f.toUpperCase())}),{dataType:e,currency:t,setDataType:s,setCurrency:a,getExchangeRate:n,convertCurrency:l,formatCurrency:r,getCurrentConfig:()=>({dataType:e.value,currency:t.value,currencySymbol:(t.value==="usd","$"),currencyCode:t.value.toUpperCase()}),resetToDefaults:()=>{e.value="subnacional",t.value="mxn"}}},cg={class:"data-toggle-container"},ug={class:"toggle-group"},dg={class:"toggle-group currency-group"},fg={__name:"DataToggleComponent",setup(e){const{dataType:t,currency:s,setDataType:a,setCurrency:n}=ig();return(l,r)=>(p(),b("div",cg,[o("div",ug,[o("button",{class:he(["toggle-btn",{active:U(t)==="federal"}]),onClick:r[0]||(r[0]=i=>U(a)("federal"))}," Datos federales ",2),o("button",{class:he(["toggle-btn",{active:U(t)==="subnacional"}]),onClick:r[1]||(r[1]=i=>U(a)("subnacional"))}," Datos subnacionales ",2)]),o("div",dg,[o("button",{class:he(["toggle-btn currency-btn",{active:U(s)==="usd"}]),onClick:r[2]||(r[2]=i=>U(n)("usd"))}," USD ",2),o("button",{class:he(["toggle-btn currency-btn",{active:U(s)==="mxn"}]),onClick:r[3]||(r[3]=i=>U(n)("mxn"))}," MXN ",2)])]))}},hl=Ee(fg,[["__scopeId","data-v-a1431e7f"]]),pl=()=>{const e=z(null),t=z("2023"),s=z(null),a=z(null),n=z(!1),l=z(null),r=z(["2023","2022","2021","2020","2019"]),i=z([{key:"ifss_total",label:"IFSS Total",description:"ndice completo de finanzas sostenibles",field:"value"}]),d=async()=>{n.value=!0,l.value=null;try{const _=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!_.ok)throw new Error("Error al cargar datos de filtros");const S=await _.json();a.value=S.reduce((m,k)=>(m[k.region]=k,m),{}),console.log("Datos de filtros cargados:",a.value)}catch(_){console.error("Error cargando datos de filtros:",_),l.value=_.message}finally{n.value=!1}},f=O(()=>a.value?Object.entries(a.value).map(([_,S])=>({name:_,value:v(S),region:S.region,year:S.year})).sort((_,S)=>_.name.localeCompare(S.name)):[]),c=O(()=>{if(!a.value)return{};let _={...a.value};return e.value&&(_={[e.value]:a.value[e.value]}),t.value!=="2023"&&console.log("Filtrando por ao:",t.value),_}),u=O(()=>{var F;const _=Object.values(c.value);if(_.length===0)return null;const S=_.map(D=>v(D)).filter(D=>D>0),m=S.length,k=S.reduce((D,H)=>D+H,0)/m,P=Math.max(...S),V=Math.min(...S);return{total:m,average:Math.round(k*100)/100,max:P,min:V,selectedVariable:((F=s.value)==null?void 0:F.label)||"IFSS Total"}}),v=_=>{if(!s.value)return _.value||0;const S=s.value.field;return _[S]||_.value||0},h=_=>{e.value=_,console.log("Filtro de entidad aplicado:",_)},C=_=>{t.value=_,console.log("Filtro de ao aplicado:",_)},y=_=>{s.value=_,console.log("Filtro de variable aplicado:",_)},g=_=>{_.entity!==void 0&&(e.value=_.entity),_.year!==void 0&&(t.value=_.year),_.variable!==void 0&&(s.value=_.variable)},A=()=>{e.value=null,t.value="2023",s.value=i.value[0]},w=_=>{if(!_||!a.value)return[];const S=_.toLowerCase();return f.value.filter(m=>m.name.toLowerCase().includes(S)).slice(0,10)},I=()=>{var H;const _=c.value,S=((H=s.value)==null?void 0:H.label)||"IFSS Total",m=["Entidad",S,"Ao"],k=Object.entries(_).map(([M,K])=>[M,v(K),t.value]),P=[m.join(","),...k.map(M=>M.join(","))].join(`
`),V=new Blob([P],{type:"text/csv"}),F=window.URL.createObjectURL(V),D=document.createElement("a");D.href=F,D.download=`IFSS_${S}_${t.value}.csv`,D.click(),window.URL.revokeObjectURL(F)},x=()=>{var m;const _={ifss_total:{scale:[.5,2.9],colors:["#e52845","#e67849","#e6a74c","#e6d64f","#bddc50","#94d351","#6ac952"]}},S=((m=s.value)==null?void 0:m.key)||"ifss_total";return _[S]||_.ifss_total};return be([e,t,s],()=>{var _;console.log("Filtros cambiados:",{entity:e.value,year:t.value,variable:(_=s.value)==null?void 0:_.label})}),{selectedEntity:e,selectedYear:t,selectedVariable:s,loading:n,error:l,availableYears:r,availableVariables:i,entitiesData:f,filteredData:c,filterStats:u,loadFilterData:d,setEntityFilter:h,setYearFilter:C,setVariableFilter:y,applyFilters:g,resetFilters:A,searchEntities:w,exportFilteredData:I,getCurrentVariableValue:v,getVariableColorConfig:x,initializeFilters:()=>{i.value.length>0&&(s.value=i.value[0])}}},gl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAVFJREFUeJzt27FqFFEYhuH3m9bKIhoQyyBegoWkXsLiFSQ2gXglySUoWhlvYElWvIP0WqTRZiGB3U27lns+mx0IXsD8xXxPNeULM8yBc/4DERExXgKw/YrWjoG94p6hrOm6S0m/ZfsQ+zvwpLpqYH+RJnJrN8Cb6poiN3JrG8b39nubDlhUVxRadEgXgKtLChjpvF8FptgfgOfFUUNZIn2SNK8OiYiIiIiIiCig/sH2S+BZYcuQVpLuAGT7KfY34Kg4amhzpBN5u/2CdFpdU8L+LLe2ZjwHIv976KoLirUOe1ZdUcae9T/Br8C0umdgV0jvHy+DL4D9wqAhLSXdV0dEREREREREFOnH5N5hnzGebfE10kdJ17J9stsRGh/pWG7tFnhd3VLkNsPSwK/qikI/Zfst9g/G9xVskCb9KnCwuzIzlmHp1e7KzJ/qkIiIqPQPkdV4tN3EmJgAAAAASUVORK5CYII=",vg={class:"map-container"},hg={key:0,class:"loading-state"},pg={key:1,class:"error-state"},gg={key:2,class:"map-content"},mg={class:"map-and-charts-wrapper"},bg={class:"map-wrapper"},yg={class:"hover-info-box"},Ag={key:0,class:"info-content"},Cg={class:"location-label"},wg={class:"value-display"},_g={key:1,class:"info-content"},Sg={class:"value-display"},kg=["width","height"],$g=["d","fill","stroke","stroke-width","onClick","onMouseenter"],xg={class:"tooltip-content"},Ig={class:"tooltip-data"},Eg={key:0,class:"collapsed-view"},Pg={key:1,class:"expanded-view"},Fg={key:0,class:"details-panel"},Mg={class:"details-header"},Dg={class:"details-content"},Tg={class:"metric-card"},Rg={class:"metric-value"},Bg={class:"metric-card"},Vg={class:"metric-value"},Lg={class:"description"},Ng={__name:"QualitativeIndicatorPanel",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:n,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:y,handleStateClick:g,handleStateHover:A,handleStateLeave:w,resetSelection:I,initializeData:x}=s.mapsComposable||zt(),{setChartData:j}=Da(),_=z({x:0,y:0}),S=(se,B)=>{_.value={x:B.clientX,y:B.clientY},A(se)},m=async se=>{if(g(se),await ze(),i.value===se){const B=C(se);a("region-selected",{name:se,data:B})}else a("region-selected",null)},k=O(()=>vl().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),P=O(()=>cl().projection(k.value)),V=se=>P.value(se),F=se=>i.value===se?"#FfFFFF":(d.value===se,"#555555"),D=se=>i.value===se?3:d.value===se?2:1,H=O(()=>d.value?{position:"fixed",left:`${_.value.x+20}px`,top:`${_.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),M=Mc(),K=Ma(),ee=O(()=>M.path.includes("/cualitativos")),te=()=>{K.push("/finanzas/cualitativos")},re=()=>{K.push("/finanzas/mapas")},pe=()=>{K.push("/finanzas/cualitativos/item")},Ce=()=>{console.log("Navegando a datos regionales...")},oe=()=>{console.log("Navegando a federales...")};return be(i,(se,B)=>{if(se&&se!==B){const q=C(se);j(q),a("region-selected",{name:se,data:q})}else!se&&B&&a("region-selected",null)}),be(r,se=>{se&&a("map-error",se)}),(se,B)=>{var q;return p(),b("div",vg,[U(l)?(p(),b("div",hg,[...B[3]||(B[3]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos del mapa...",-1)])])):ce("",!0),U(r)?(p(),b("div",pg,[o("p",null,"Error: "+Y(U(r)),1),o("button",{onClick:B[0]||(B[0]=(...L)=>U(x)&&U(x)(...L)),class:"retry-btn"}," Reintentar ")])):ce("",!0),!U(l)&&!U(r)?(p(),b("div",gg,[o("div",mg,[o("div",bg,[o("div",{class:he(["map-info-card",{"state-selected":U(i)}])},[o("div",{class:"card-content"},[B[4]||(B[4]=ke('<div class="card-position-title" data-v-9b52fd2a> Posicin del pas en el ndice<br data-v-9b52fd2a> de Finanzas Sostenibles<br data-v-9b52fd2a> (IFS) en 2024 </div><div class="card-top-row" data-v-9b52fd2a><div class="card-position-number" data-v-9b52fd2a> 15 </div><div class="card-ifss-info" data-v-9b52fd2a><div class="ifss-value-text" data-v-9b52fd2a>IFS: 1.3</div><div class="ifss-classification" data-v-9b52fd2a>Medio bajo</div></div></div>',2)),o("div",{class:"card-bottom-stack"},[o("div",{class:"card-label-pill",onClick:Ce},"IFS Regional"),o("div",{class:"card-label-pill",onClick:oe},"Datos federales")])])],2),o("div",yg,[U(d)?(p(),b("div",Ag,[o("div",Cg,Y(U(d)),1),o("div",wg,Y(U(C)(U(d)).value||0)+"%",1)])):U(v)?(p(),b("div",_g,[B[5]||(B[5]=o("div",{class:"location-label"},"Mxico",-1)),o("div",Sg,Y(U(v).value)+"%",1)])):ce("",!0)]),B[6]||(B[6]=ke('<div class="color-legend" data-v-9b52fd2a><div class="legend-items-horizontal" data-v-9b52fd2a><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Bajo</span></div></div></div>',1)),(p(),b("svg",{width:U(f).width,height:U(f).height,class:"mexico-map"},[o("g",null,[(p(!0),b(ge,null,_e(((q=U(n))==null?void 0:q.features)||[],L=>(p(),b("path",{key:L.properties.state_name,d:V(L),fill:U(h)(L.properties.state_name),stroke:F(L.properties.state_name),"stroke-width":D(L.properties.state_name),class:"state-path",onClick:X=>m(L.properties.state_name),onMouseenter:X=>S(L.properties.state_name,X),onMouseleave:B[1]||(B[1]=(...X)=>U(w)&&U(w)(...X))},null,40,$g))),128))])],8,kg)),U(d)?(p(),b("div",{key:0,class:"tooltip",style:fe(H.value)},[o("div",xg,[o("h4",null,Y(U(d)),1),o("div",Ig,[o("p",null,"IFSS: "+Y(U(C)(U(d)).value||0),1),o("p",null,"Clasificacin: "+Y(U(y)(U(C)(U(d)).value||0).label),1),o("p",null,"Ao: "+Y(U(C)(U(d)).year),1)])])],4)):ce("",!0)]),o("div",{class:he(["qualitative-panel",{expanded:ee.value}])},[ee.value?(p(),b("div",Pg,[o("div",{class:"header-retractable-view"},[o("div",{class:"hamburger-menu",onClick:re},[...B[7]||(B[7]=[o("img",{src:gl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),B[8]||(B[8]=o("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),o("div",{class:"expand-retractable-btn",onClick:re}," - ")]),o("div",{class:"buttons-container"},[o("div",{class:"qualitative-btn",onClick:pe},[...B[9]||(B[9]=[o("span",{class:"title-btn"},"Ambientales",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:pe},[...B[10]||(B[10]=[o("span",{class:"title-btn"},"Econmicos",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:pe},[...B[11]||(B[11]=[o("span",{class:"title-btn"},"Sociables",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:pe},[...B[12]||(B[12]=[o("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:pe},[...B[13]||(B[13]=[o("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),o("span",{class:"plus-btn"},"+",-1)])])])])):(p(),b("div",Eg,[o("div",{class:"expand-retractable-btn",onClick:te}," + ")]))],2)]),U(i)?(p(),b("div",Fg,[o("div",Mg,[o("h3",null,Y(U(i)),1),o("button",{onClick:B[2]||(B[2]=(...L)=>U(I)&&U(I)(...L)),class:"close-btn"},"")]),o("div",Dg,[o("div",Tg,[o("div",Rg,Y(U(C)(U(i)).value||0),1),B[14]||(B[14]=o("div",{class:"metric-label"},"IFSS",-1)),o("div",{class:"metric-classification",style:fe({color:U(y)(U(C)(U(i)).value||0).color})},Y(U(y)(U(C)(U(i)).value||0).label),5)]),o("div",Bg,[o("div",Vg,Y(U(C)(U(i)).year),1),B[15]||(B[15]=o("div",{class:"metric-label"},"Ao de datos",-1))])]),o("div",Lg,[o("p",null,Y(U(C)(U(i)).descripcion),1)])])):ce("",!0)])):ce("",!0)])}}},Og=Ee(Ng,[["__scopeId","data-v-9b52fd2a"]]),zg={class:"maps-page"},Yg={class:"filters-toggles-row"},jg={class:"filters-column"},Hg={class:"toggles-column"},Gg={class:"qualitativeIndicatorPanel"},qg={key:0,class:"error-panel"},Ug={__name:"QualitativePanel",setup(e){const t=z(!1),s=zt(),{selectedEntity:a,loading:n,error:l,loadFilterData:r,setEntityFilter:i,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=pl(),{loading:u,error:v,selectedState:h,getStateInfo:C,getIFSSLabel:y,handleStateClick:g,resetSelection:A,initializeData:w}=s,I=O(()=>n.value||u.value),x=O(()=>l.value||v.value);be(h,P=>{console.log("Estado seleccionado en el mapa:",P),P&&P!==a.value?(i(P),t.value=!0):P||(i(null),t.value=!1)});const j=P=>{i(P),t.value=!0,P?g(P):A()},_=P=>{d(P)},S=P=>{f(P)},m=P=>{P.year!==void 0&&d(P.year),P.variable!==void 0&&f(P.variable),t.value=!0},k=()=>{c(),w(),r()};return Le(async()=>{try{c(),await r()}catch(P){console.error("Error inicializando MapsPage:",P)}}),(P,V)=>(p(),b("div",zg,[o("div",Yg,[o("div",jg,[Ae(Oo,{entities:P.entitiesData,loading:I.value,onEntityChange:j,onYearChange:_,onVariableChange:S,onFiltersChange:m},null,8,["entities","loading"])]),o("div",Hg,[Ae(hl)])]),o("div",Gg,[Ae(Og)]),x.value?(p(),b("div",qg,[V[0]||(V[0]=o("h3",null,"Error en el sistema",-1)),o("p",null,Y(x.value),1),o("button",{onClick:k,class:"retry-btn"}," Reintentar ")])):ce("",!0)]))}},Wg=Ee(Ug,[["__scopeId","data-v-04ce9b6f"]]),Xg={class:"gauge-chart",ref:"chartContainer"},Qg=["viewBox"],Kg=["d","stroke","stroke-width"],Jg=["d","stroke","stroke-width"],Zg=["d","fill"],e1=["cx","cy","r","fill"],t1=["cx","cy","r","fill"],Js=150,ms=-90,cn=90,s1={__name:"GaugeChart",props:{value:{type:Number,default:0},strokeWidth:{type:Number,default:12},backgroundColor:{type:String,default:"#CDCDCD"},progressColor:{type:String,default:"#0F3759"},needleColor:{type:String,default:"#0F3759"},needleWidth:{type:Number,default:3}},setup(e){const t=e,s=O(()=>7),a=z(0),n=z(!1),l=O(()=>Js/2),r=O(()=>Js*.6),i=O(()=>Js/2-t.strokeWidth/2-10),d=O(()=>{const y=t.value;return y==null||typeof y!="number"||isNaN(y)?0:Math.max(0,Math.min(100,y))});Le(()=>{console.log(" [GaugeChart] Montado con valor:",t.value,"-> safe:",d.value),setTimeout(()=>{d.value>0&&f(0,d.value)},200)}),be(()=>t.value,(y,g)=>{const A=Math.max(0,Math.min(100,y||0)),w=Math.max(0,Math.min(100,g||0));console.log(" [GaugeChart] Valor cambi:",w,"->",A),Math.abs(A-w)>.1&&f(a.value,A)});const f=(y,g)=>{if(n.value)return;console.log(" [GaugeChart] Animando de",y,"a",g),n.value=!0;const A=1500,w=y,I=g,x=Date.now(),j=()=>{const _=Date.now(),S=Math.min((_-x)/A,1),m=1-Math.pow(1-S,3);a.value=w+(I-w)*m,S<1?requestAnimationFrame(j):(n.value=!1,console.log(" [GaugeChart] Animacin completada:",a.value))};requestAnimationFrame(j)},c=y=>{const g=(y-90)*Math.PI/180;return{x:l.value+i.value*Math.cos(g),y:r.value+i.value*Math.sin(g)}},u=O(()=>{const y=c(ms),g=c(cn);return`M ${y.x} ${y.y} A ${i.value} ${i.value} 0 0 1 ${g.x} ${g.y}`}),v=O(()=>{if(a.value<.1)return"";const y=ms+(cn-ms)*(a.value/100),g=c(ms),A=c(y),w=Math.abs(y-ms)>180?1:0;return`M ${g.x} ${g.y} A ${i.value} ${i.value} 0 ${w} 1 ${A.x} ${A.y}`}),h=O(()=>ms+(cn-ms)*(a.value/100)),C=O(()=>{const g=(h.value-90)*Math.PI/180,A=l.value+(i.value-10)*Math.cos(g),w=r.value+(i.value-10)*Math.sin(g),I=g+Math.PI/2,x=s.value,j=l.value+x*Math.cos(I),_=r.value+x*Math.sin(I),S=l.value-x*Math.cos(I),m=r.value-x*Math.sin(I),k=-1,P=A-k*Math.cos(I)-k*.3*Math.cos(g),V=w-k*Math.sin(I)-k*.3*Math.sin(g),F=A+k*Math.cos(I)-k*.3*Math.cos(g),D=w+k*Math.sin(I)-k*.3*Math.sin(g);return`
    M ${j} ${_} 
    L ${P} ${V}
    Q ${A} ${w} ${F} ${D}
    L ${S} ${m}
    Z
  `});return(y,g)=>(p(),b("div",Xg,[(p(),b("svg",{width:"100%",height:"40%",viewBox:`0 0 ${Js} ${Js*.65}`,preserveAspectRatio:"xMidYMid meet"},[o("path",{d:u.value,fill:"none",stroke:e.backgroundColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,Kg),a.value>.1?(p(),b("path",{key:0,d:v.value,fill:"none",stroke:e.progressColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,Jg)):ce("",!0),o("path",{d:C.value,fill:e.needleColor,class:"needle"},null,8,Zg),o("circle",{cx:l.value,cy:r.value,r:s.value,fill:e.needleColor,class:"needle"},null,8,e1),o("circle",{cx:l.value,cy:r.value,r:e.needleWidth*1.5,fill:e.needleColor},null,8,t1)],8,Qg))],512))}},tu=Ee(s1,[["__scopeId","data-v-16a38344"]]),a1={class:"bottle-chart"},o1={class:"bottles-container"},n1={class:"bottle-svg",viewBox:"0 0 24 55",preserveAspectRatio:"xMidYMax meet"},l1=["id"],r1=["id"],i1=["id"],c1=["id"],u1=["fill"],d1=["fill"],f1=["fill","filter"],v1=["y","height","fill","clip-path"],h1=["y","height","clip-path"],Hr=30,p1={__name:"BottleChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=z([0,0,0,0,0,0,0,0,0,0]),a=l=>{const r=[];for(let f=0;f<10;f++){const c=f*10,u=(f+1)*10;if(l<=c)r.push(0);else if(l>=u)r.push(Hr);else{const v=(l-c)/10;r.push(v*Hr)}}return r},n=l=>{s.value=[0,0,0,0,0,0,0,0,0,0];const r=80;l.forEach((i,d)=>{i>0&&setTimeout(()=>{s.value[d]=i,s.value=[...s.value]},r*(d+1))})};return be(()=>t.value,l=>{const r=a(l);n(r)},{immediate:!1}),Le(()=>{setTimeout(()=>{const l=a(t.value);n(l)},150)}),(l,r)=>(p(),b("div",a1,[o("div",o1,[(p(),b(ge,null,_e(10,i=>o("div",{key:i,class:"bottle-wrapper"},[(p(),b("svg",n1,[o("defs",null,[o("linearGradient",{id:"emptyGradient-"+i,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...r[0]||(r[0]=[o("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),o("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),o("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,l1),o("linearGradient",{id:"liquidGradient-"+i,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...r[1]||(r[1]=[o("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),o("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),o("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,r1),o("clipPath",{id:"bodyClip-"+i},[...r[2]||(r[2]=[o("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2"},null,-1)])],8,i1),o("filter",{id:"shadow-"+i,x:"-10%",y:"-10%",width:"120%",height:"120%"},[...r[3]||(r[3]=[o("feDropShadow",{dx:"0.5",dy:"1",stdDeviation:"1","flood-opacity":"0.12"},null,-1)])],8,c1)]),o("rect",{x:"7",y:"0",width:"10",height:"7",rx:"3",fill:"url(#emptyGradient-"+i+")"},null,8,u1),o("path",{d:"M6 9 Q6 7 7 7 L17 7 Q18 7 18 9 L18 13 Q18 16 21 19 L21 21 L3 21 L3 19 Q6 16 6 13 Z",fill:"url(#emptyGradient-"+i+")"},null,8,d1),o("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2",fill:"url(#emptyGradient-"+i+")",filter:"url(#shadow-"+i+")"},null,8,f1),r[4]||(r[4]=o("rect",{x:"3",y:"20",width:"18",height:"2",fill:"#bfc3c9"},null,-1)),o("rect",{x:"3",y:52-s.value[i-1],width:"18",height:s.value[i-1],fill:"url(#liquidGradient-"+i+")","clip-path":"url(#bodyClip-"+i+")",class:"liquid-fill"},null,8,v1),s.value[i-1]>4?(p(),b("rect",{key:0,x:"5",y:53-s.value[i-1],width:"2",height:Math.max(0,s.value[i-1]-3),rx:"1",fill:"rgba(255,255,255,0.4)","clip-path":"url(#bodyClip-"+i+")",class:"liquid-shine"},null,8,h1)):ce("",!0)]))])),64))])]))}},su=Ee(p1,[["__scopeId","data-v-2728fdf4"]]),g1={class:"area-chart-cont"},m1={key:0,class:"legend"},b1={class:"legend-label"},y1={class:"chart-container"},A1=["viewBox"],C1=["cx","cy","r"],w1=["cx","cy","r"],_1=["d","fill","onMouseenter"],S1=["x1","y1","x2","y2"],k1={class:"tooltip-content"},$1={class:"tooltip-info"},x1={class:"tooltip-label"},I1={class:"tooltip-value"},E1={__name:"AreaChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#FF6B9D","#4ECDC4","#FFE66D","#95A5A6","#3498DB"]},size:{type:Number,default:400},innerRadius:{type:Number,default:0},title:{type:String,default:""},showLegend:{type:Boolean,default:!0}},setup(e){const t=e,s=[{label:"Red",value:11},{label:"Green",value:16},{label:"Yellow",value:7},{label:"Grey",value:3},{label:"Blue",value:14}],a=O(()=>t.excelData||s),n=O(()=>t.size/2),l=O(()=>t.size/2),r=O(()=>t.size/2-20),i=z(0),d=z(null),f=z(0),c=z({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=S=>S?new Intl.NumberFormat("es-MX").format(S):"0";Le(()=>{setTimeout(()=>{v()},800)}),be(()=>a.value,()=>{f.value=0,i.value=0,v()});const v=()=>{const m=Date.now(),k=()=>{const P=Date.now(),V=Math.min((P-m)/1500,1);i.value=1-Math.pow(1-V,6),f.value=1-Math.pow(1-V,5),V<1&&requestAnimationFrame(k)};requestAnimationFrame(k)},h=O(()=>Math.max(...a.value.map(S=>S.value))),C=O(()=>{const m=(r.value-t.innerRadius)/4;return Array.from({length:4},(k,P)=>t.innerRadius+m*(P+1))}),y=O(()=>2*Math.PI/a.value.length),g=O(()=>a.value.map((S,m)=>{const k=m*y.value-Math.PI/2,P=k+y.value,V=t.innerRadius+(r.value-t.innerRadius)*(S.value/h.value);return{startAngle:k,endAngle:P,radius:V,color:t.colors[m%t.colors.length],label:S.label,value:S.value}})),A=O(()=>{const S=-Math.PI*(1-i.value);return g.value.map(m=>{const k=t.innerRadius+(m.radius-t.innerRadius)*f.value,P=m.startAngle+S,V=m.endAngle+S,F=n.value+t.innerRadius*Math.cos(P),D=l.value+t.innerRadius*Math.sin(P),H=n.value+t.innerRadius*Math.cos(V),M=l.value+t.innerRadius*Math.sin(V),K=n.value+k*Math.cos(P),ee=l.value+k*Math.sin(P),te=n.value+k*Math.cos(V),re=l.value+k*Math.sin(V),pe=0;return{path:`
      M ${F} ${D}
      L ${K} ${ee}
      A ${k} ${k} 0 ${pe} 1 ${te} ${re}
      L ${H} ${M}
      A ${t.innerRadius} ${t.innerRadius} 0 ${pe} 0 ${F} ${D}
      Z
    `,color:m.color,label:m.label,value:m.value}})}),w=O(()=>{const S=-Math.PI*(1-i.value);return a.value.map((m,k)=>{const P=k*y.value-Math.PI/2+S;return{x:n.value+r.value*Math.cos(P),y:l.value+r.value*Math.sin(P)}})}),I=(S,m,k)=>{d.value=S,c.value={visible:!0,x:k.clientX,y:k.clientY,label:m.label,value:m.value,color:m.color}},x=S=>{c.value.visible&&(c.value.x=S.clientX,c.value.y=S.clientY)},j=()=>{d.value=null,c.value.visible=!1},_=O(()=>({left:`${c.value.x+15}px`,top:`${c.value.y-50}px`}));return(S,m)=>(p(),b("div",g1,[e.showLegend?(p(),b("div",m1,[(p(!0),b(ge,null,_e(a.value,(k,P)=>(p(),b("div",{key:P,class:"legend-item"},[o("div",{class:"legend-color",style:fe({backgroundColor:e.colors[P%e.colors.length]})},null,4),o("span",b1,Y(k.label),1)]))),128))])):ce("",!0),o("div",y1,[(p(),b("svg",{width:"100%",height:"100%",viewBox:`0 0 ${e.size} ${e.size}`,preserveAspectRatio:"xMidYMid meet"},[(p(!0),b(ge,null,_e(C.value,k=>(p(),b("circle",{key:k,cx:n.value,cy:l.value,r:k,fill:"none",stroke:"#d0d5dd","stroke-width":"1.5","stroke-dasharray":"4 2"},null,8,C1))),128)),o("circle",{cx:n.value,cy:l.value,r:r.value,fill:"none",stroke:"#b0b8c4","stroke-width":"2"},null,8,w1),(p(!0),b(ge,null,_e(A.value,(k,P)=>(p(),b("path",{key:P,d:k.path,fill:k.color,class:he(["segment",{hovered:d.value===P}]),onMouseenter:V=>I(P,k,V),onMousemove:m[0]||(m[0]=V=>x(V)),onMouseleave:j},[o("title",null,Y(k.label)+": "+Y(k.value),1)],42,_1))),128)),(p(!0),b(ge,null,_e(w.value,(k,P)=>(p(),b("line",{key:`line-${P}`,x1:n.value,y1:l.value,x2:k.x,y2:k.y,stroke:"#ffffff","stroke-width":"2","pointer-events":"none"},null,8,S1))),128))],8,A1))]),(p(),Pe(Yt,{to:"body"},[c.value.visible?(p(),b("div",{key:0,class:"tooltip",style:fe(_.value)},[o("div",k1,[o("div",{class:"tooltip-color",style:fe({backgroundColor:c.value.color})},null,4),o("div",$1,[o("div",x1,Y(c.value.label),1),o("div",I1,"Valor: "+Y(u(c.value.value)),1)])])],4)):ce("",!0)]))]))}},P1=Ee(E1,[["__scopeId","data-v-cfde8302"]]),F1={key:0,class:"chart-header"},M1={class:"chart-title"},D1={key:1,class:"variable-filters"},T1=["onClick"],R1={class:"filter-label"},B1=["onMouseenter"],V1={class:"bar-wrapper-horizontal"},L1={key:0,class:"empty-state"},N1={class:"tooltip-content"},O1={class:"tooltip-info"},z1={class:"tooltip-label"},Y1={class:"tooltip-value"},j1={__name:"HorizontalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},barHeight:{type:String,default:"30px"},barGap:{type:String,default:"10px"},useGradients:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){ll(I=>({"5c24dd99":f.value}));const t=e,s=z(null),a=z({visible:!1,x:0,y:0,label:"",value:"",color:""}),n=z([]),l=z({}),r=()=>{n.value=t.variables.map(I=>({key:I.key,label:I.label||I.key,value:I.value||0,colorClass:I.colorClass||"default",color:I.color||null,active:!1})),l.value={},t.variables.forEach(I=>{l.value[I.key]=0})},i=async()=>{await new Promise(x=>setTimeout(x,t.animationDelay));const I=Math.min(4,n.value.length);for(let x=0;x<I;x++){n.value[x].active=!0,await new Promise(_=>setTimeout(_,50));const j=g(n.value[x].value);l.value[n.value[x].key]=j,await new Promise(_=>setTimeout(_,200))}};be(()=>t.variables,()=>{r(),i()},{immediate:!0,deep:!0}),Le(()=>{i()});const d=O(()=>n.value.filter(I=>I.active)),f=O(()=>{const I=d.value.length;return I===0?"100%":`${100/I}%`}),c=O(()=>{const I=d.value.map(x=>x.value);return Math.max(...I,1)}),u=O(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=I=>{const x=n.value.find(j=>j.key===I);x&&(x.active=!x.active,x.active?setTimeout(()=>{l.value[I]=g(x.value)},50):l.value[I]=0)},h=(I,x)=>{s.value=I.key,a.value={visible:!0,x:x.clientX,y:x.clientY,label:I.label,value:I.value,color:w(I)}},C=I=>{a.value.visible&&(a.value.x=I.clientX,a.value.y=I.clientY)},y=()=>{s.value=null,a.value.visible=!1},g=I=>{const x=I/c.value*100;return Math.min(x,100)},A=I=>l.value[I.key]||0,w=I=>{if(I.color)return I.color;const x={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return x[I.colorClass]||x.default};return(I,x)=>(p(),b("div",{class:"horizontal-bar-chart",style:fe({width:e.width,height:e.height})},[e.title?(p(),b("div",F1,[o("h3",M1,Y(e.title),1)])):ce("",!0),e.showFilters?(p(),b("div",D1,[(p(!0),b(ge,null,_e(n.value,j=>(p(),b("button",{key:j.key,onClick:_=>v(j.key),class:he(["filter-btn",{active:j.active,[j.colorClass]:!0}])},[o("span",{class:"filter-dot",style:fe({backgroundColor:w(j)})},null,4),o("span",R1,Y(j.label),1)],10,T1))),128))])):ce("",!0),o("div",{class:he(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(p(!0),b(ge,null,_e(d.value,j=>(p(),b("div",{key:j.key,class:he(["bar-row",{"is-hovered":s.value===j.key,"is-dimmed":s.value!==null&&s.value!==j.key}]),onMouseenter:_=>h(j,_),onMousemove:x[0]||(x[0]=_=>C(_)),onMouseleave:y},[o("div",V1,[o("div",{class:he(["bar-horizontal",j.colorClass]),style:fe({width:A(j)+"%",background:w(j)})},null,6)])],42,B1))),128)),d.value.length===0?(p(),b("div",L1,[o("p",null,Y(e.emptyMessage),1)])):ce("",!0)],2),(p(),Pe(Yt,{to:"body"},[a.value.visible?(p(),b("div",{key:0,class:"tooltip",style:fe(u.value)},[o("div",N1,[o("div",{class:"tooltip-color",style:fe({backgroundColor:a.value.color})},null,4),o("div",O1,[o("div",z1,Y(a.value.label),1),o("div",Y1,Y(a.value.value),1)])])],4)):ce("",!0)]))],4))}},ml=Ee(j1,[["__scopeId","data-v-bf2ebdb1"]]),H1={key:0,class:"chart-header"},G1={class:"chart-title"},q1={key:1,class:"variable-filters"},U1=["onClick"],W1={class:"filter-label"},X1=["onMouseenter"],Q1={class:"bar-wrapper-vertical"},K1={key:0,class:"empty-state"},J1={class:"tooltip-content"},Z1={class:"tooltip-info"},em={class:"tooltip-label"},tm={class:"tooltip-value"},sm={__name:"VerticalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},useGradients:{type:Boolean,default:!0},showValues:{type:Boolean,default:!0},showLabels:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){ll(I=>({c240488c:f.value}));const t=e,s=z(null),a=z({visible:!1,x:0,y:0,label:"",value:"",color:""}),n=z([]),l=z({}),r=()=>{n.value=t.variables.map(I=>({key:I.key,label:I.label||I.key,value:I.value||0,colorClass:I.colorClass||"default",color:I.color||null,active:!1})),l.value={},t.variables.forEach(I=>{l.value[I.key]=0})},i=async()=>{await new Promise(x=>setTimeout(x,t.animationDelay));const I=Math.min(4,n.value.length);for(let x=0;x<I;x++){n.value[x].active=!0,await new Promise(_=>setTimeout(_,50));const j=g(n.value[x].value);l.value[n.value[x].key]=j,await new Promise(_=>setTimeout(_,200))}};be(()=>t.variables,()=>{r(),i()},{immediate:!0,deep:!0}),Le(()=>{i()});const d=O(()=>n.value.filter(I=>I.active)),f=O(()=>{const I=d.value.length;return I===0?"100%":`${100/I}%`}),c=O(()=>{const I=d.value.map(x=>x.value);return Math.max(...I,1)}),u=O(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=I=>{const x=n.value.find(j=>j.key===I);x&&(x.active=!x.active,x.active?setTimeout(()=>{l.value[I]=g(x.value)},50):l.value[I]=0)},h=(I,x)=>{s.value=I.key,a.value={visible:!0,x:x.clientX,y:x.clientY,label:I.label,value:I.value,color:w(I)}},C=I=>{a.value.visible&&(a.value.x=I.clientX,a.value.y=I.clientY)},y=()=>{s.value=null,a.value.visible=!1},g=I=>{const x=I/c.value*100;return Math.min(x,100)},A=I=>l.value[I.key]||0,w=I=>{if(I.color)return I.color;const x={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return x[I.colorClass]||x.default};return(I,x)=>(p(),b("div",{class:"vertical-bar-chart",style:fe({width:e.width,height:e.height})},[e.title?(p(),b("div",H1,[o("h3",G1,Y(e.title),1)])):ce("",!0),e.showFilters?(p(),b("div",q1,[(p(!0),b(ge,null,_e(n.value,j=>(p(),b("button",{key:j.key,onClick:_=>v(j.key),class:he(["filter-btn",{active:j.active,[j.colorClass]:!0}])},[o("span",{class:"filter-dot",style:fe({backgroundColor:w(j)})},null,4),o("span",W1,Y(j.label),1)],10,U1))),128))])):ce("",!0),o("div",{class:he(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(p(!0),b(ge,null,_e(d.value,j=>(p(),b("div",{key:j.key,class:he(["bar-column",{"is-hovered":s.value===j.key,"is-dimmed":s.value!==null&&s.value!==j.key}]),onMouseenter:_=>h(j,_),onMousemove:x[0]||(x[0]=_=>C(_)),onMouseleave:y},[o("div",Q1,[o("div",{class:he(["bar-vertical",j.colorClass]),style:fe({height:A(j)+"%",background:w(j)})},null,6)])],42,X1))),128)),d.value.length===0?(p(),b("div",K1,[o("p",null,Y(e.emptyMessage),1)])):ce("",!0)],2),(p(),Pe(Yt,{to:"body"},[a.value.visible?(p(),b("div",{key:0,class:"tooltip",style:fe(u.value)},[o("div",J1,[o("div",{class:"tooltip-color",style:fe({backgroundColor:a.value.color})},null,4),o("div",Z1,[o("div",em,Y(a.value.label),1),o("div",tm,Y(a.value.value),1)])])],4)):ce("",!0)]))],4))}},au=Ee(sm,[["__scopeId","data-v-d0e28cdb"]]),am={class:"map-container"},om={key:0,class:"loading-state"},nm={key:1,class:"error-state"},lm={key:2,class:"map-content"},rm={class:"map-and-charts-wrapper"},im={class:"map-wrapper"},cm={class:"hover-info-box"},um={key:0,class:"info-content"},dm={class:"location-label"},fm={class:"value-display"},vm={key:1,class:"info-content"},hm={class:"value-display"},pm=["width","height"],gm=["d","fill","stroke","stroke-width","onClick","onMouseenter"],mm={class:"tooltip-content"},bm={class:"tooltip-data"},ym={key:0,class:"collapsed-view"},Am={key:1,class:"expanded-view"},Cm={class:"inner-card"},wm={class:"card-body"},_m={class:"left-card-container"},Sm={class:"bar-graph card"},km={class:"bottle-graphs card"},$m={class:"body-bottle"},xm={class:"bottle-graph"},Im={class:"right-card-container"},Em={class:"top-right-card-container"},Pm={class:"area-chart card"},Fm={class:"area-chart-container"},Mm={class:"gauge-container card"},Dm={class:"gauge-graph"},Tm={class:"bottom-right-card-container"},Rm={class:"bottom-bar-graph card"},Bm={key:0,class:"details-panel"},Vm={class:"details-header"},Lm={class:"details-content"},Nm={class:"metric-card"},Om={class:"metric-value"},zm={class:"metric-card"},Ym={class:"metric-value"},jm={class:"description"},Hm={__name:"IndicatorDetailView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){O(()=>!s.ifssData||!s.ifssData.is_amount?{is_amount:10,iic_amount:5}:{is_amount:s.ifssData.is_amount||0,iic_amount:s.ifssData.iic_amount||0}),O(()=>{var q,L;return{is_amount:(q=s.ifssData)!=null&&q.is_amount?s.ifssData.is_amount*.8:0,iic_amount:(L=s.ifssData)!=null&&L.iic_amount?s.ifssData.iic_amount*1.2:0}});const s=e,a=t,{geoData:n,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:y,handleStateClick:g,handleStateHover:A,handleStateLeave:w,resetSelection:I,initializeData:x}=s.mapsComposable||zt(),{setChartData:j}=Da(),_=z({x:0,y:0}),S=(q,L)=>{_.value={x:L.clientX,y:L.clientY},A(q)},m=async q=>{if(g(q),await ze(),i.value===q){const L=C(q);a("region-selected",{name:q,data:L})}else a("region-selected",null)},k=O(()=>vl().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),P=O(()=>cl().projection(k.value)),V=q=>P.value(q),F=q=>i.value===q?"#FfFFFF":(d.value===q,"#555555"),D=q=>i.value===q?3:d.value===q?2:1,H=O(()=>d.value?{position:"fixed",left:`${_.value.x+20}px`,top:`${_.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),M=Mc(),K=Ma(),ee=O(()=>M.path.includes("/cualitativos")),te=()=>{K.push("/finanzas/cualitativos")},re=()=>{K.push("/finanzas/mapas")},pe=()=>{console.log("Navegando a datos regionales...")},Ce=()=>{console.log("Navegando a federales...")};be(i,(q,L)=>{if(q&&q!==L){const X=C(q);j(X),a("region-selected",{name:q,data:X})}else!q&&L&&a("region-selected",null)}),be(r,q=>{q&&a("map-error",q)});const oe=[{label:"Arboles",value:25},{label:"Ballenas",value:30},{label:"Coco",value:15},{label:"Delfin",value:30},{label:"Escalera",value:15}],se=[{key:"incendios",label:"Total (hectreas)",value:1200,color:"#0F3759",active:!0},{key:"residuos",label:"Arbolado Adulto",value:3500,color:"#3B5A70",active:!0},{key:"emisiones",label:"Renuevo",value:850,color:"#4E6D82",active:!1},{key:"Arbustivo",label:"Arbustivo",value:3500,color:"#D6D6D6",active:!0},{key:"Herbaceo",label:"Herbaceo",value:250,color:"#A1A1A1",active:!1},{key:"Hojarasca",label:"Hojarasca",value:1050,color:"#B0B0B0",active:!1}],B=[{key:"Total",label:"Total",value:1200,color:"#0F3759",active:!0},{key:"Area",label:"rea de proteccin de flora y fauna",value:3500,color:"#3B5A70",active:!0},{key:"Reserva de la biosfera",label:"Reserva de la biosfera",value:850,color:"#4E6D82",active:!1},{key:"Santuario",label:"Santuario",value:1050,color:"#B0B0B0",active:!1}];return(q,L)=>{var X;return p(),b("div",am,[U(l)?(p(),b("div",om,[...L[3]||(L[3]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos del mapa...",-1)])])):ce("",!0),U(r)?(p(),b("div",nm,[o("p",null,"Error: "+Y(U(r)),1),o("button",{onClick:L[0]||(L[0]=(...J)=>U(x)&&U(x)(...J)),class:"retry-btn"}," Reintentar ")])):ce("",!0),!U(l)&&!U(r)?(p(),b("div",lm,[o("div",rm,[o("div",im,[o("div",{class:he(["map-info-card",{"state-selected":U(i)}])},[o("div",{class:"card-content"},[L[4]||(L[4]=ke('<div class="card-position-title" data-v-fd4f7876> Posicin del pas en el ndice<br data-v-fd4f7876> de Finanzas Sostenibles<br data-v-fd4f7876> (IFS) en 2024 </div><div class="card-top-row" data-v-fd4f7876><div class="card-position-number" data-v-fd4f7876> 15 </div><div class="card-ifss-info" data-v-fd4f7876><div class="ifss-value-text" data-v-fd4f7876>IFS: 1.3</div><div class="ifss-classification" data-v-fd4f7876>Medio bajo</div></div></div>',2)),o("div",{class:"card-bottom-stack"},[o("div",{class:"card-label-pill",onClick:pe},"IFS Regional"),o("div",{class:"card-label-pill",onClick:Ce},"Datos federales")])])],2),o("div",cm,[U(d)?(p(),b("div",um,[o("div",dm,Y(U(d)),1),o("div",fm,Y(U(C)(U(d)).value||0)+"%",1)])):U(v)?(p(),b("div",vm,[L[5]||(L[5]=o("div",{class:"location-label"},"Mxico",-1)),o("div",hm,Y(U(v).value)+"%",1)])):ce("",!0)]),L[6]||(L[6]=ke('<div class="color-legend" data-v-fd4f7876><div class="legend-items-horizontal" data-v-fd4f7876><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-fd4f7876></div><span data-v-fd4f7876>Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-fd4f7876></div><span data-v-fd4f7876>Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Bajo</span></div></div></div>',1)),(p(),b("svg",{width:U(f).width,height:U(f).height,class:"mexico-map"},[o("g",null,[(p(!0),b(ge,null,_e(((X=U(n))==null?void 0:X.features)||[],J=>(p(),b("path",{key:J.properties.state_name,d:V(J),fill:U(h)(J.properties.state_name),stroke:F(J.properties.state_name),"stroke-width":D(J.properties.state_name),class:"state-path",onClick:T=>m(J.properties.state_name),onMouseenter:T=>S(J.properties.state_name,T),onMouseleave:L[1]||(L[1]=(...T)=>U(w)&&U(w)(...T))},null,40,gm))),128))])],8,pm)),U(d)?(p(),b("div",{key:0,class:"tooltip",style:fe(H.value)},[o("div",mm,[o("h4",null,Y(U(d)),1),o("div",bm,[o("p",null,"IFSS: "+Y(U(C)(U(d)).value||0),1),o("p",null,"Clasificacin: "+Y(U(y)(U(C)(U(d)).value||0).label),1),o("p",null,"Ao: "+Y(U(C)(U(d)).year),1)])])],4)):ce("",!0)]),o("div",{class:he(["qualitative-panel",{expanded:ee.value}])},[ee.value?(p(),b("div",Am,[o("div",{class:"header-retractable-view"},[o("div",{class:"hamburger-menu",onClick:re},[...L[7]||(L[7]=[o("img",{src:gl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),L[8]||(L[8]=o("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),o("div",{class:"expand-retractable-btn",onClick:re}," - ")]),o("div",Cm,[L[14]||(L[14]=o("div",{class:"card-header"},[o("h1",{class:"card-header-title"},"Ambientales")],-1)),o("div",wm,[o("div",_m,[o("div",Sm,[Ae(ml,{variables:se,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})]),o("div",km,[L[10]||(L[10]=o("div",{class:"title-bottle"},[o("h2",null,"Promedio diario de residuos slidos urbanos recolectados")],-1)),o("div",$m,[o("div",xm,[Ae(su,{value:75})]),L[9]||(L[9]=o("div",{class:"bottle-number number"},"3,249,683 kg",-1))])])]),o("div",Im,[o("div",Em,[o("div",Pm,[L[11]||(L[11]=o("div",{class:"title-area-chart"},[o("h3",null,"Emisiones de contaminantes atmosfricos por fuente en toneladas.")],-1)),o("div",Fm,[Ae(P1,{excelData:oe,title:"Datos de Excel"})])]),o("div",Mm,[L[12]||(L[12]=o("div",{class:"title-gauge"},[o("h3",null,"Consumo de energa elctrica")],-1)),o("div",Dm,[Ae(tu,{value:67})]),L[13]||(L[13]=o("div",{class:"gauge-number number"},"2,013.80 GWh",-1))])]),o("div",Tm,[o("div",Rm,[Ae(au,{variables:B,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})])])])])])])):(p(),b("div",ym,[o("div",{class:"expand-retractable-btn",onClick:te}," + ")]))],2)]),U(i)?(p(),b("div",Bm,[o("div",Vm,[o("h3",null,Y(U(i)),1),o("button",{onClick:L[2]||(L[2]=(...J)=>U(I)&&U(I)(...J)),class:"close-btn"},"")]),o("div",Lm,[o("div",Nm,[o("div",Om,Y(U(C)(U(i)).value||0),1),L[15]||(L[15]=o("div",{class:"metric-label"},"IFSS",-1)),o("div",{class:"metric-classification",style:fe({color:U(y)(U(C)(U(i)).value||0).color})},Y(U(y)(U(C)(U(i)).value||0).label),5)]),o("div",zm,[o("div",Ym,Y(U(C)(U(i)).year),1),L[16]||(L[16]=o("div",{class:"metric-label"},"Ao de datos",-1))])]),o("div",jm,[o("p",null,Y(U(C)(U(i)).descripcion),1)])])):ce("",!0)])):ce("",!0)])}}},Gm=Ee(Hm,[["__scopeId","data-v-fd4f7876"]]),qm={class:"maps-page"},Um={class:"filters-toggles-row"},Wm={class:"filters-column"},Xm={class:"toggles-column"},Qm={class:"qualitativeIndicatorPanel"},Km={key:0,class:"error-panel"},Jm={__name:"IndicatorView",setup(e){const t=z(!1),s=zt(),{selectedEntity:a,loading:n,error:l,loadFilterData:r,setEntityFilter:i,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=pl(),{loading:u,error:v,selectedState:h,getStateInfo:C,getIFSSLabel:y,handleStateClick:g,resetSelection:A,initializeData:w}=s,I=O(()=>n.value||u.value),x=O(()=>l.value||v.value);be(h,P=>{console.log("Estado seleccionado en el mapa:",P),P&&P!==a.value?(i(P),t.value=!0):P||(i(null),t.value=!1)});const j=P=>{i(P),t.value=!0,P?g(P):A()},_=P=>{d(P)},S=P=>{f(P)},m=P=>{P.year!==void 0&&d(P.year),P.variable!==void 0&&f(P.variable),t.value=!0},k=()=>{c(),w(),r()};return Le(async()=>{try{c(),await r()}catch(P){console.error("Error inicializando MapsPage:",P)}}),(P,V)=>(p(),b("div",qm,[o("div",Um,[o("div",Wm,[Ae(Oo,{entities:P.entitiesData,loading:I.value,onEntityChange:j,onYearChange:_,onVariableChange:S,onFiltersChange:m},null,8,["entities","loading"])]),o("div",Xm,[Ae(hl)])]),o("div",Qm,[Ae(Gm)]),x.value?(p(),b("div",Km,[V[0]||(V[0]=o("h3",null,"Error en el sistema",-1)),o("p",null,Y(x.value),1),o("button",{onClick:k,class:"retry-btn"}," Reintentar ")])):ce("",!0)]))}},Zm=Ee(Jm,[["__scopeId","data-v-a847f395"]]),ou="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADqdJREFUeJzt3Wms51V9x/H3/AfQgizKIkorUmUoYlHcohYR1Lq0Lg1twe1RKzEmRn3QtHZJmjQ2tUm1rVsarX2iFBsNbd1pa0AxVltFxWEqA7YuYFEWAQHLItMHv7l453LvzN3+v7/3zuv1ZOb+lvP7PDvf//md3zkFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBuW9a5vUOrp1enVNuq46qDq8PX+TkAsJndUt1RXVvtrK6oPlf9cL0esB4FwM9VL6/Orp5QHbAObQIAe7qn+lJ1YXVB9Z21NLaWAuCM6o3V86rJWkIAACtyb/XJ6s+rz6ymgdUUAI+r3tZQAAAAs/Xp6nXV5Su5aSW/3B9YvbX6Yjp/APhp8cyGVwNvqR6w3JuWOwKwrfqH6vErzwUAjOTL1bnVVfu6cDkFwBnVhzOTHwA2gpurl7SPuQH7egXw4uqidP4AsFEc0dB3v3hvF+1tBOCs6uMN7/4BgI3lruqF1b8udnKpAuDU6tLqsCmFAgCm75bq9Gr7whOLFQCHNMz0/4UphwIApu+q6oktWEVw6yIXvrt6zhiJAICpO7I6pmFC/30WjgA8o2FBgfXeIwAAmJ1dDXP7Pj13YH5Hv7X6asNGPgDA5nJ5w549P649PwM8N50/AGxWpzZs3FftOQJwWXXa6HEAgLF8taGv3zU3AnB6On8A2OweVz21fvIK4BWzywIAjOgVNbwCmFTfq46aaRwAYAzfr46dNEwK0PkDwP7hmOqUScM+wgDA/uOsuREAAGD/8YuTatusUwAAo9o2qY6fdQoAYFSPnGTLXwDY3xy2pbq7OmDWSQCA0dwzqe6ZdQoAYFR3T6rbZp0CABjVDyfVjbNOAQCM6sZJdfWsUwAAo7pqUl056xQAwKh2TqovzDoFADCqz29p2BTguoadAQGAzW1XdcykYVvAy2YcBgAYxxerGya7/7hglkkAgNGcXz8Z9n9Y9a3qwJnFAQCm7a6GPYCumxsB+N+MAgDAZvf+hnl/e0z8e0z1tWqy2B0AwIb24+qUdn/+P7+z31G9dxaJAICpe3fz1v5Z+OnfQ3afPGrMRADAVN1UnVTdMHdg4XD/TdVrxkwEAEzdec3r/Ku2LnLRjurY6kljJAIApuod1VsXHlxq9b+Dqo9Uz51mIgBgqi6uXlDdufDE3pb/Pay6pDptOpkAgCn6cnVmdetiJ/f2yd+t1bOrz65/JgBgir7QMIq/aOdf+/7m/wfV86oL1zEUADA9H6rOasGkv4WWs+jPHdWvV69ukXcIAMBPhTurN1TnVD/a18WLfQWwlC9V/9SwitAjV5MMAJiKS6pfa5jAvywrXfZ3e8Owwkt3/x8AmJ3t1bnVs6orVnLj3r4CWM69L6peVT0/OwkCwBjuqi6q3lN9tNq1mkbWUgDMd1T1wobRgWc0vCJYr7YBYH+2q/qf6tKG7/o/Wt241kan1UkfXG2rHl4dUj14Ss8BgM3oB9Xt1bXVVQ0T8gEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPYnW6bQ5tHVKdWJ1XHVwdXhU3gOAGxWt1R3VNdWO6srqhvW8wHrUQBsrc6qzq7OrE5ehzYBgD3tqC6pLqwuru5dS2NrKQCOrl5X/Vb18LWEAABW5Nrq76q3V9evpoHVFACHV39cvbpheB8AmI07qr+p/qThtcGyrbQAeEX1luqhK7wPAJie66rfqc5f7g3LLQAOrd5VvXIVoQCAcXyoelXLGA1YTgFwfPWJTO4DgI1gR/WC6tt7u2hfBcAp1UUNn/MBABvDNdXzGz4fXNTeCoBHVZ+tjl3nUADA9F1fnd6wjsD9LFUAPLT6XPXzUwoFAEzfN6qnV99feGKyyMWT6n3p/AFgo3tU9YGGRfv2cL8D1R9U5007EQAwihOqHzW81r/PwlcAJ1Zfqx4wUigAYPruqk6trpw7sPAVwDvT+QPAZnNQ9ZfzD8wfAXhW9alR4wAAYzqjurT2HAF442yyAAAj+f25/8yNAJzcsHIQALB57Wro86+cGwGwxj8AbH5bGjb2u28E4L8bPhMAADa3q6sTtzQsEnD1jMMAAOM5YVKdNesUAMCozpxUp806BQAwqidMqpNmnQIAGNVJk2z6AwD7m0dNqsNnnQIAGNXhW6o7G9YIBgD2D3cu3AwIANgPTKrbZh0CABjVDyfVzbNOAQCM6pZJwzLAAMD+4+pJtXPWKQCAUe2cVJfNOgUAMKrLbAYEAPufEybVNzIPAAD2F1dV35xbB+CCWSYBAEZzQdWW3X+cXO2YXRYAYAS7Gvr8K+dGAP6r+pfZ5QEARvCJ6soaVgKc8+bZZAEARvJnc/+ZXwBcXF00fhYAYAQfqz4798eWBScfXW2vHjBmIgBgqu6sTm3e4n9bF1xwU3Vv9ewRQwEA0/VH1YfnH1g4AlDDa4FPVr88RiIAYKouqn6l4Qf+fRYrAKqOqT7XsEogALAxXV09vbp+4YnJ/a+t6vvVc6vrphgKAJie6xt++d+v86+lC4Aalgd+TnXNFEIBANNzTXVWw7K/i9pbAVB1RfVLWSUQADaK7Q3D/lfs7aJ9FQBV366eVL1tHUIBANPzvupp1Xf2deHCzwCXck/DlwFXNowIHLrqaADAevtudV71puqu5dyw3AJgzvbqPdUB1eOrg1Z4PwCwfm6r/qo6p7psJTcu9RngchxVvbb67epn19AOALAy11Tvrd5e3biaBtZSAMyZVM+szm6YcfiYdWoXABjsapjUd3F1YfWZFizss1LT6KiPbCgCtlXHVYdUR0zhOQCwWd1c3V5d27B+/45W+UsfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgg9oypXYfVJ1YHVcdXB0xpecAwGZ0c3VHdW21s7p9vR+wXgXA0dWLqjOrM6rj16ldAKC+WV1aXVx9pLphrQ2upQCYNHT651XPrQ5caxgAYJ/uri6q3tNQDOxaTSOrKQC2VC+r/rB6zGoeCgCsix3Vm6oPtMJCYKUFwKnVO6vTV3gfADA9l1avrS5f7g1bl3ndlur11QerE1aeCwCYouMbXslvrT7TMkYDljMCcHD199VL1hQNABjDP1avbPiKYEn7KgAeXH04Q/4AsJH8R/Wr7eVrgb0VAIc3fG5w2jqHAgCm78sNn+ffutjJyRI3HdTwvl/nDwAb02nVP1cPXOzkUpMA31WdM61EAMAoHlk9pPr4whOLFQC/Wb15yoEAgHE8uWE54e3zDy6cA3Bk9fXqqJFCAQDTd1N1UvMmBS4cAXh7ZvwDwGbzM9Vh1cfmDswfATilYQWhpSYGAgAb170Nff3Xa8/O/vfS+QPAZjWpfnfuj7kRgIc3bDVoRz8A2Lzurh5RXTf3i//l6fwBYLM7sHpp/WTI/2WzywIAjOjlNbwCOKa6rpVvDQwAbDy7qmMn1Vnp/AFgf7GlesakesqskwAAo3rqpGFlIABg/7FtUj161ikAgFGdOGlY/x8A2H8cOakeNOsUAMCoDp1UB8w6BQAwqgMn1e2zTgEAjOqHk+rWWacAAEZ166T61qxTAACj+uak2jnrFADAqHZOqq/OOgUAMKrLJ9WnZ50CABjVJVsatgS+rjp6xmEAgOn7XvWwSXVv9aEZhwEAxvHBatdk9x/nzzIJADCa82vYE3jOl6onzCYLADCCrzT09feNAFT9xYzCAADj+NNqV+05ArC1oTJ47CwSAQBT9ZXqiQ1z/5o/AvDj6jXtrgwAgE1jV/WGdnf+Nfzqn+/b1SOq00YMBQBM199W75h/YMsiFx1S/Wd18hiJAICp2lE9ubpj/sHJIhfeXp2TXQIBYKO7paFPv2PhicUKgKrt1Uuq/5tiKABgeu6qfqO6YrGTSxUAVZdU56YIAICN5kcNnf+/LXXBYnMAFnpq9dHqyHUKBQBMzw8aRvEv3dtFexsBmPP56km7/wUAfnpdVj2lfXT+df/PAJdyc/X+6oG7G15O4QAAjOPu6q3VK6vrl3PDcl4BLPTY6q+rZ63iXgBgfX2qen1LTPZbymp+yW+vnl2d3jA34N69Xw4ArLN7G/rg06vntMLOv1Y3ArDQcdXLqrMbFho4YB3aBAD2dHfDQn0XVh+orl1LY+tRAMz3oOpp1SnVtobi4JDqiHV+DgBsZjdXt1XfrXY2/ML/993HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYX/8P84yf0a8WqFgAAAAASUVORK5CYII=",eb={class:"ifss-slider-container"},tb={class:"slider-wrapper"},sb={class:"thumb-label"},ab={class:"thumb-label"},ob={class:"chart-container"},nb={class:"bars-wrapper"},lb=["onClick","onMouseenter"],rb={class:"bar-label"},ib={class:"tooltip-content"},cb={class:"color-label"},ub={class:"tooltip-info"},db={class:"tooltip-label"},fb={class:"tooltip-value"},vb={key:0,class:"selected-info"},hb={class:"info-content"},pb={class:"info-label"},gb={class:"info-value"},mb={class:"info-position"},bb={__name:"RankinSlider",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null},selectedStateName:{type:String,default:null}},emits:["range-change","filter-change","state-click"],setup(e,{emit:t}){const s=z(null),a=z(1200),n=z({min:0,max:5}),l=z("none"),r=O(()=>l.value==="min"?"bar-slide-min":l.value==="max-left"?"bar-slide-max-left":l.value==="max-right"?"bar-slide-max-right":"bar-slide-min"),i=e,d=t,f=z(null),c=z({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=O(()=>({left:`${c.value.x}px`,top:`${c.value.y-100}px`,transform:"translateX(-50%)"})),v=(ee,te)=>{f.value=ee.region;const pe=te.currentTarget.querySelector(".bar").getBoundingClientRect();c.value={visible:!0,x:pe.left+pe.width/2,y:pe.top,label:V(ee.region),value:`IFSS: ${ee.value}`,color:m(ee.value),classification:S(ee.value),barHeight:pe.height}},h=()=>{f.value=null,c.value.visible=!1},C=["Muy alto","Alto","Medio alto","Medio","Medio bajo","Bajo","Muy bajo"],y=[{min:2.5,max:3,label:"Muy alto"},{min:2,max:2.4,label:"Alto"},{min:1.7,max:1.9,label:"Medio alto"},{min:1.3,max:1.6,label:"Medio"},{min:1,max:1.2,label:"Medio bajo"},{min:.7,max:.9,label:"Bajo"},{min:0,max:.6,label:"Muy bajo"}],g={"Muy alto":"#6ac952",Alto:"#94d351","Medio alto":"#bddc50",Medio:"#e6d64f","Medio bajo":"#e6a74c",Bajo:"#e67849","Muy bajo":"#e52845"},A=z(0),w=z(5),I=O(()=>[...i.statesData].sort((ee,te)=>te.value-ee.value)),x=O(()=>I.value.filter(ee=>P(ee)));Le(()=>{s.value&&(a.value=s.value.offsetWidth)});const j=O(()=>{const ee=x.value.length;if(ee===0)return"30px";const re=(ee-1)*1;return`${((a.value-re)/ee).toFixed(3)}px`});O(()=>i.statesData.length===0?3:Math.max(...i.statesData.map(ee=>ee.value||0)));const _=O(()=>{const ee=A.value/5*100,te=(w.value-A.value)/5*100;return{left:`${ee}%`,width:`${te}%`}}),S=ee=>{for(let te of y)if(ee>=te.min&&ee<=te.max)return te.label;return ee>y[0].max?"Muy alto":"Muy bajo"},m=ee=>{const te=S(ee);return g[te]||"#e0e0e0"},k=ee=>{const te=ee/3*100;return Math.max(te,10)},P=ee=>{const te=S(ee.value),re=C.indexOf(te);return re>=A.value&&re<=w.value},V=ee=>({Aguascalientes:"AGS","Baja California":"BC","Baja California Sur":"BCS",Campeche:"CAMP",Chiapas:"CHIS",Chihuahua:"CHIH","Ciudad de Mxico":"CDMX",Coahuila:"COAH",Colima:"COL",Durango:"DGO","Estado de Mxico":"MEX",Guanajuato:"GTO",Guerrero:"GRO",Hidalgo:"HGO",Jalisco:"JAL",Michoacn:"MICH",Morelos:"MOR",Nayarit:"NAY","Nuevo Len":"NL",Oaxaca:"OAX",Puebla:"PUE",Quertaro:"QRO","Quintana Roo":"QROO","San Luis Potos":"SLP",Sinaloa:"SIN",Sonora:"SON",Tabasco:"TAB",Tamaulipas:"TAMPS",Tlaxcala:"TLAX",Veracruz:"VER",Yucatn:"YUC",Zacatecas:"ZAC"})[ee]||ee.substring(0,3).toUpperCase(),F=ee=>{const te=I.value.findIndex(re=>re.region===ee);return te!==-1?te+1:"-"},D=()=>{A.value>w.value&&(A.value=w.value),l.value="min",K()},H=()=>{w.value<A.value&&(w.value=A.value),w.value<n.value.max?l.value="max-left":w.value>n.value.max&&(l.value="max-right"),K()},M=ee=>{d("state-click",ee)},K=()=>{const ee={min:y[A.value].min,max:y[w.value].max,minLabel:C[A.value],maxLabel:C[w.value],minIndex:A.value,maxIndex:w.value};d("range-change",ee);const te=i.statesData.filter(re=>{const pe=re.value||0;return pe>=ee.min&&pe<=ee.max});d("filter-change",te),n.value={min:A.value,max:w.value}};return be(()=>i.statesData,()=>{i.statesData.length>0&&K()},{immediate:!0}),(ee,te)=>(p(),b("div",eb,[o("div",tb,[o("div",{class:"active-range",style:fe(_.value)},null,4),Cs(o("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":te[0]||(te[0]=re=>A.value=re),class:he(["slider-input slider-min",{"z-top":A.value>=w.value-5}]),onInput:D},null,34),[[ha,A.value,void 0,{number:!0}]]),Cs(o("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":te[1]||(te[1]=re=>w.value=re),class:he(["slider-input slider-max",{"z-top":w.value<=A.value+5}]),onInput:H},null,34),[[ha,w.value,void 0,{number:!0}]]),o("div",{class:"custom-thumb thumb-min",style:fe({left:`${A.value/5*100}%`})},[te[2]||(te[2]=o("div",{class:"thumb-circle"},null,-1)),o("div",sb,Y(C[A.value]),1)],4),o("div",{class:"custom-thumb thumb-max",style:fe({left:`${w.value/5*100}%`})},[te[3]||(te[3]=o("div",{class:"thumb-circle"},null,-1)),o("div",ab,Y(C[w.value]),1)],4)]),o("div",ob,[o("div",nb,[Ae(xf,{name:r.value},{default:ut(()=>[(p(!0),b(ge,null,_e(x.value,(re,pe)=>(p(),b("div",{key:re.region,class:he(["bar-item",{"is-selected":re.region===e.selectedStateName,"is-dimmed":e.selectedStateName&&re.region!==e.selectedStateName}]),style:fe({width:j.value}),onClick:Ce=>M(re.region),onMouseenter:Ce=>v(re,Ce),onMouseleave:h},[o("div",{class:"bar",style:fe({height:`${k(re.value)}%`,backgroundColor:m(re.value)})},null,4),o("span",rb,Y(V(re.region)),1)],46,lb))),128))]),_:1},8,["name"])])]),(p(),Pe(Yt,{to:"body"},[c.value.visible?(p(),b("div",{key:0,class:"tooltip",style:fe(u.value)},[o("div",ib,[o("div",{class:"tooltip-color",style:fe({backgroundColor:c.value.color})},[o("span",cb,Y(c.value.classification),1)],4),o("div",ub,[o("div",db,Y(c.value.label),1),o("div",fb,Y(c.value.value),1)])])],4)):ce("",!0)])),e.selectedStateName?(p(),b("div",vb,[o("div",hb,[o("span",pb,Y(e.selectedStateName),1),o("span",gb,"IFSS: "+Y(ee.selectedStateIFSS),1),o("span",mb,"Posicin: #"+Y(F(e.selectedStateName)),1)])])):ce("",!0)]))}},yb=Ee(bb,[["__scopeId","data-v-7f887adf"]]);function bl(e){const{entitiesData:t,loading:s,loadFilterData:a,initializeFilters:n}=pl(),l=z({min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"}),r=z([]),i=z(!1),d=O(()=>t.value.map(x=>({region:x.name,value:x.value||0,year:x.year||2023,...x}))),f=O(()=>{if(!e)return null;const{selectedState:x,getStateInfo:j}=e;return x.value?j(x.value).value||0:null}),c=O(()=>e?e.selectedState.value:null),u=x=>(l.value=x,i.value=!0,console.log(" Rango IFSS seleccionado:",{min:x.min,max:x.max,minLabel:x.minLabel,maxLabel:x.maxLabel}),x),v=x=>(r.value=x,console.log(" Estados filtrados por rango IFSS:",{total:x.length,estados:x.map(j=>`${j.region}: ${j.value}`)}),x),h=()=>{l.value={min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"},r.value=[],i.value=!1},C=x=>{const j=d.value.find(S=>S.region===x);if(!j)return null;const _=j.value;return _>=2.5?{label:"Muy alto",color:"#6ac952"}:_>=2?{label:"Alto",color:"#94d351"}:_>=1.7?{label:"Medio alto",color:"#bddc50"}:_>=1.3?{label:"Medio",color:"#e6d64f"}:_>=1?{label:"Medio bajo",color:"#e6a74c"}:_>=.7?{label:"Bajo",color:"#e67849"}:{label:"Muy bajo",color:"#e52845"}},y=O(()=>{if(!i.value||r.value.length===0)return{count:d.value.length,average:0,min:0,max:0};const x=r.value.map(_=>_.value),j=x.reduce((_,S)=>_+S,0);return{count:x.length,average:(j/x.length).toFixed(2),min:Math.min(...x).toFixed(1),max:Math.max(...x).toFixed(1)}}),g=x=>r.value.some(j=>j.region===x),A=O(()=>[...d.value].sort((j,_)=>_.value-j.value).map((j,_)=>({...j,position:_+1,classification:C(j.region)})));return{entitiesData:t,statesDataForSlider:d,selectedStateIFSS:f,selectedStateName:c,selectedRange:l,filteredStates:r,isSliderActive:i,filtersLoading:s,getRangeStats:y,getStatesRanking:A,handleRangeChange:u,handleFilterChange:v,resetSlider:h,getStateClassification:C,isStateInRange:g,getStatePosition:x=>{const _=A.value.find(S=>S.region===x);return _?_.position:null},initialize:async()=>{try{n(),await a(),console.log(" Slider inicializado con",d.value.length,"estados")}catch(x){console.error(" Error inicializando slider:",x)}},loadFilterData:a,initializeFilters:n}}const Ab={class:"filters-toggles-row"},Cb={class:"filters-column"},wb={class:"toggles-column"},_b={class:"map-container"},Sb={key:0,class:"loading-state"},kb={key:1,class:"error-state"},$b={key:2,class:"map-content"},xb={class:"map-and-charts-wrapper"},Ib={class:"charts-section"},Eb={class:"charts-container"},Pb={key:0,class:"charts-empty-state"},Fb={key:0,class:"ranking-panel"},Mb={class:"header-ranking-panel"},Db={class:"body-ranking-panel"},Tb={class:"slider-ranking-panel"},Rb={__name:"RankingView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:n,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:y,handleStateClick:g,handleStateHover:A,handleStateLeave:w,resetSelection:I,initializeData:x}=s.mapsComposable||zt(),{setChartData:j}=Da(),{statesDataForSlider:_,selectedStateIFSS:S,handleRangeChange:m,handleFilterChange:k,initialize:P}=bl(s.mapsComposable||zt()),V=Ma(),F=async K=>{if(g(K),await ze(),i.value===K){const ee=C(K);a("region-selected",{name:K,data:ee})}else a("region-selected",null)},D=()=>{console.log("Navegando a datos regionales..."),i.value&&I()},H=()=>{console.log("Navegando a federales...")},M=()=>{console.log("Navegando a cualitativos..."),V.push("/finanzas/cualitativos")};return be(i,(K,ee)=>{if(K&&K!==ee){const te=C(K);j(te),a("region-selected",{name:K,data:te})}else!K&&ee&&a("region-selected",null)}),be(r,K=>{K&&a("map-error",K)}),Le(async()=>{await P()}),(K,ee)=>(p(),b(ge,null,[o("div",Ab,[o("div",Cb,[Ae(Oo,{entities:K.entitiesData,loading:U(l),onEntityChange:K.handleEntityChange,onYearChange:K.handleYearChange,onVariableChange:K.handleVariableChange,onFiltersChange:K.handleFiltersChange},null,8,["entities","loading","onEntityChange","onYearChange","onVariableChange","onFiltersChange"])]),o("div",wb,[Ae(hl)])]),o("div",_b,[U(l)?(p(),b("div",Sb,[...ee[1]||(ee[1]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos del mapa...",-1)])])):ce("",!0),U(r)?(p(),b("div",kb,[o("p",null,"Error: "+Y(U(r)),1),o("button",{onClick:ee[0]||(ee[0]=(...te)=>U(x)&&U(x)(...te)),class:"retry-btn"}," Reintentar ")])):ce("",!0),!U(l)&&!U(r)?(p(),b("div",$b,[o("div",xb,[Ae(Kc,{geoData:U(n),selectedState:U(i),hoveredState:U(d),mapConfig:U(f),nationalIFSS:U(v),getStateColor:U(h),getStateInfo:U(C),getIFSSLabel:U(y),onStateClick:F,onStateHover:U(A),onStateLeave:U(w),onNavigateRegional:D,onNavigateFederal:H},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","onStateHover","onStateLeave"]),o("div",{class:"retractable-view"},[o("div",{class:"expand-retractable-btn",onClick:M},"+")]),o("div",Ib,[o("div",Eb,[U(i)?(p(),Pe(eu,{key:1,selectedState:U(i),ifssData:U(C)(U(i))},null,8,["selectedState","ifssData"])):(p(),b("div",Pb,[...ee[2]||(ee[2]=[o("div",{class:"empty-state-icon"},"",-1),o("h4",null,"Anlisis de Estado",-1),o("p",null,"Haz clic en cualquier estado del mapa para ver sus grficas detalladas",-1)])]))])])]),U(i)?(p(),b("div",Fb,[o("div",Mb,[o("h2",null,"Posiciones de las entidades en el ranking del ndice de Finanzas Sostenibles Subnacional "+Y(U(i)),1),ee[3]||(ee[3]=o("div",{class:"ranking-hamburger-menu"},[o("img",{src:ou,alt:"hamburger-menu",class:"hamburger-icon"})],-1))]),o("div",Db,[o("div",Tb,[Ae(yb,{statesData:U(_),selectedStateValue:U(S),onRangeChange:U(m),onFilterChange:U(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])):ce("",!0)])):ce("",!0)])],64))}},Bb=Ee(Rb,[["__scopeId","data-v-941e133a"]]),Vb={class:"linear-chart-container"},Lb={key:0,class:"chart-header"},Nb={class:"header-content"},Ob={class:"chart-title"},zb={key:0,class:"chart-subtitle"},Yb={key:1,class:"variable-filters"},jb=["onClick"],Hb={key:2,class:"no-data"},Gb=["width","height"],qb={class:"grid"},Ub=["x1","y1","x2","y2"],Wb={class:"y-axis-labels"},Xb=["x","y"],Qb=["x1","y1","x2","y2"],Kb={class:"lines"},Jb=["d","stroke"],Zb={class:"animated-data-points"},ey=["cx","cy","fill"],ty={class:"permanent-data-points"},sy=["cx","cy","fill"],ay={class:"data-points"},oy=["cx","cy","r","fill"],ny={class:"tooltip-header"},ly={class:"tooltip-year-label"},ry={class:"tooltip-content"},iy={class:"tooltip-variable-name"},cy={class:"tooltip-variable-value"},uy={key:4,class:"x-axis-container"},dy={__name:"LinearChart",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},width:{type:Number,default:800},height:{type:Number,default:400},padding:{type:Object,default:()=>({top:30,right:40,bottom:90,left:60})},hideHeader:{type:Boolean,default:!1},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,n=z(null),l=z({width:s.width,height:s.height}),r=z({visible:!1,x:0,index:-1,label:"",previousIndex:-1}),i=z({}),d=O(()=>s.padding),f=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],c={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E",IFS:"#9E9E9E"," IFS":"#9E9E9E"},u=O(()=>Object.keys(s.data)),v=z([]),h=z({}),C=z(new Set);be(()=>s.data,(B,q)=>{const L=Object.keys(B),X=q?Object.keys(q):[];L.forEach(ae=>{h.value[ae]||(h.value[ae]=[...B[ae]||[]])});const J=X.length===0,T=L.length>0;J&&T&&v.value.length===0&&Ce(L),ze(()=>{se()})},{deep:!0}),be(u,()=>{ze(()=>{se()})}),be([()=>s.width,()=>s.height],()=>{se()});const y=O(()=>l.value.height-d.value.top-d.value.bottom),g=O(()=>l.value.width-d.value.left-d.value.right),A=O(()=>y.value/(s.gridLines-1)),w=O(()=>{const B=[];return v.value.forEach(q=>{s.data[q]&&Array.isArray(s.data[q])&&B.push(...s.data[q].filter(L=>L!=null&&!isNaN(L)))}),B.length>0?B:[0]}),I=O(()=>{if(w.value.length===0)return 100;const B=Math.max(...w.value),q=Math.min(...w.value);if(B===q)return B>0?B*1.2:B+10;const L=B-q;return B+L*.2}),x=O(()=>{if(w.value.length===0)return 0;const B=Math.max(...w.value),q=Math.min(...w.value);if(B===q)return q>0?q*.8:q-10;const L=B-q;return q-L*.2});O(()=>{const B=I.value-x.value;return B>0?y.value/B:1});const j=O(()=>v.value.length>0&&v.value.some(B=>s.data[B]&&s.data[B].length>0)),_=B=>s.data[B]||[],S=B=>{if(c[B])return c[B];const q=B.toLowerCase();if(q.includes("sostenible")||q.includes(" is")||q==="is"||q.includes("ps"))return"#7cb342";if(q.includes("carbono")||q.includes("iic")||q.includes("pic"))return"#DC143C";if(q.includes("total")||q.includes("gt")||q.includes("it")||q.includes("pt")||q.includes("ifs"))return"#9E9E9E";const L=u.value.indexOf(B);return f[L%f.length]},m=B=>{const L=S(B).replace("#",""),X=Math.max(0,parseInt(L.substr(0,2),16)-30),J=Math.max(0,parseInt(L.substr(2,2),16)-30),T=Math.max(0,parseInt(L.substr(4,2),16)-30);return`rgb(${X}, ${J}, ${T})`},k=B=>{const q=s.xLabels.length;if(q<=1)return d.value.left+g.value/2;const X=(l.value.width-d.value.left-d.value.right)/(q-1);return d.value.left+B*X},P=B=>{if(B==null||isNaN(B))return l.value.height-d.value.bottom;const q=I.value-x.value;if(q===0)return d.value.top+y.value/2;const X=(B-x.value)/q,J=d.value.top+y.value*(1-X);return Math.max(d.value.top,Math.min(l.value.height-d.value.bottom,J))},V=(B,q)=>{var X;const L=(X=h.value[B])==null?void 0:X[q];return P(L)},F=B=>{const L=(I.value-x.value)/(s.gridLines-1);return I.value-L*B},D=B=>{if(s.valueFormatter)return s.valueFormatter(B);const q=s.showCurrencySymbol?"$":s.valuePrefix,L=s.valueSuffix;return s.decimalPlaces!==null?`${q}${B.toFixed(s.decimalPlaces)}${L}`:s.showCurrencySymbol?Math.abs(B)>=1e9?`$${(B/1e9).toFixed(1)}B`:Math.abs(B)>=1e6?`$${(B/1e6).toFixed(1)}M`:Math.abs(B)>=1e3?`$${(B/1e3).toFixed(1)}K`:`$${Math.round(B)}`:Math.abs(B)>=1e9?`${q}${(B/1e9).toFixed(1)}B${L}`:Math.abs(B)>=1e6?`${q}${(B/1e6).toFixed(1)}M${L}`:Math.abs(B)>=1e3?`${q}${(B/1e3).toFixed(1)}K${L}`:Math.abs(B)<10?`${q}${B.toFixed(2)}${L}`:`${q}${Math.round(B)}${L}`},H=B=>{if(B==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(B);const q=s.showCurrencySymbol?"$":s.valuePrefix,L=s.valueSuffix;return s.decimalPlaces!==null?`${q}${B.toFixed(s.decimalPlaces)}${L}`:s.showCurrencySymbol?Math.abs(B)>=1e9?`$${(B/1e9).toFixed(1)}B`:Math.abs(B)>=1e6?`$${(B/1e6).toFixed(1)}M`:Math.abs(B)>=1e3?`$${(B/1e3).toFixed(1)}K`:`$${B.toFixed(0)}`:Math.abs(B)>=1e9?`${q}${(B/1e9).toFixed(1)}B${L}`:Math.abs(B)>=1e6?`${q}${(B/1e6).toFixed(1)}M${L}`:Math.abs(B)>=1e3?`${q}${(B/1e3).toFixed(1)}K${L}`:Math.abs(B)<10?`${q}${B.toFixed(2)}${L}`:`${q}${B.toFixed(0)}${L}`},M=B=>{const q=h.value[B];return!q||q.length===0?"":q.map((L,X)=>{const J=k(X),T=P(L);return X===0?`M ${J} ${T}`:`L ${J} ${T}`}).join(" ")},K=B=>{if(v.value.indexOf(B)>-1){C.value.add(B);const L=s.data[B];if(L){const X=[...h.value[B]],J=I.value-x.value,T=x.value-J*.5,ae=500,G=ae+300,E=Date.now(),$=()=>{const R=Date.now()-E,Q=Math.min(R/G,1);if(R<ae){const Z=R/ae,N=1-Math.pow(1-Z,3);h.value[B]=X.map(W=>W-(W-T)*N)}else h.value[B]=new Array(L.length).fill(T);Q<1?requestAnimationFrame($):(v.value.splice(v.value.indexOf(B),1),C.value.delete(B))};$()}}else{v.value.push(B),C.value.add(B);const L=s.data[B];if(L){const X=I.value-x.value,J=x.value-X*.5;h.value[B]=new Array(L.length).fill(J);const T=800,ae=Date.now(),G=()=>{const E=Date.now()-ae,$=Math.min(E/T,1),R=1-Math.pow(1-$,3);h.value[B]=L.map((Q,Z)=>{const N=J;return N+(Q-N)*R}),$<1?requestAnimationFrame(G):(h.value[B]=[...L],C.value.delete(B))};G()}}a("variable-toggle",B,v.value.includes(B))},ee=B=>i.value[`${B}-x`]||0,te=B=>i.value[`${B}-y`]||0,re=B=>{const L=B.currentTarget.getBoundingClientRect(),X=B.clientX-L.left,J=s.xLabels.length;let T=0;if(J===1)T=0;else{const E=[];for(let $=0;$<J-1;$++){const R=k($),Z=k($+1)-R;E.push(R+Z*.05)}if(X<E[0])T=0;else if(X>=E[E.length-1])T=J-1;else for(let $=0;$<E.length-1;$++)if(X>=E[$]&&X<E[$+1]){T=$+1;break}}const ae=r.value.index,G=k(T);r.value={visible:!0,x:G,index:T,label:s.xLabels[T],previousIndex:ae},ae!==T&&ae!==-1&&pe(ae,T)},pe=(B,q)=>{v.value.forEach(L=>{const X=k(B),J=k(q),T=V(L,B),ae=V(L,q),G=200,E=Date.now(),$=()=>{const R=Date.now()-E,Q=Math.min(R/G,1),Z=1-Math.pow(1-Q,3);i.value[`${L}-x`]=X+(J-X)*Z,i.value[`${L}-y`]=T+(ae-T)*Z,Q<1?requestAnimationFrame($):(delete i.value[`${L}-x`],delete i.value[`${L}-y`])};$()})},Ce=B=>{console.log(" [LinearChart] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",B),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((q,L)=>{const X=B.find(J=>J===q||J.trim()===q.trim());X?(console.log(`   Activando "${X}" en ${100+L*400}ms`),setTimeout(()=>{K(X)},100+L*400)):console.log(`   Variable "${q}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),B[0]&&setTimeout(()=>{K(B[0])},100),B[1]&&setTimeout(()=>{K(B[1])},900))},oe=()=>{r.value={visible:!1,x:0,index:-1,label:"",previousIndex:-1},i.value={}},se=()=>{l.value={width:s.width,height:s.height}};return Le(async()=>{await ze(),se(),setTimeout(()=>{const B=Object.keys(s.data);B.length>0&&v.value.length===0&&(console.log(" [LinearChart] onMounted (despus de delay) - Datos disponibles:",B),B.forEach(q=>{h.value[q]||(h.value[q]=[...s.data[q]||[]])}),Ce(B))},100)}),Pa(()=>{}),(B,q)=>(p(),b("div",Vb,[e.hideHeader?ce("",!0):(p(),b("div",Lb,[o("div",Nb,[o("h3",Ob,Y(e.title),1),e.subtitle?(p(),b("p",zb,Y(e.subtitle),1)):ce("",!0)])])),u.value.length>0?(p(),b("div",Yb,[(p(!0),b(ge,null,_e(u.value,L=>(p(),b("button",{key:L,onClick:X=>K(L),class:he(["filter-btn",{"filter-active":v.value.includes(L),"filter-inactive":!v.value.includes(L)}])},[o("span",{class:"btn-color-dot",style:fe({backgroundColor:S(L)})},null,4),Ke(" "+Y(L),1)],10,jb))),128))])):ce("",!0),j.value?(p(),b("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:n},[(p(),b("svg",{width:l.value.width,height:l.value.height,class:"line-chart",onMousemove:re,onMouseleave:oe},[o("g",qb,[(p(!0),b(ge,null,_e(e.gridLines,L=>(p(),b("line",{key:`grid-${L}`,x1:d.value.left,y1:d.value.top+(L-1)*A.value,x2:l.value.width-d.value.right,y2:d.value.top+(L-1)*A.value,class:"grid-line"},null,8,Ub))),128))]),o("g",Wb,[(p(!0),b(ge,null,_e(e.gridLines,L=>(p(),b("text",{key:`y-label-${L}`,x:d.value.left-10,y:d.value.top+(L-1)*A.value+4,class:"y-axis-label","text-anchor":"end"},Y(D(F(L-1))),9,Xb))),128))]),r.value.visible?(p(),b("line",{key:0,x1:r.value.x,y1:d.value.top,x2:r.value.x,y2:l.value.height-d.value.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,Qb)):ce("",!0),o("g",Kb,[(p(!0),b(ge,null,_e(v.value,(L,X)=>(p(),b("g",{key:`line-${L}`},[o("path",{d:M(L),stroke:S(L),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:he(["line-path",{"line-exit":C.value.has(L)}]),style:fe({animationDelay:C.value.has(L)?"400ms":`${X*.1}s`,animationDuration:C.value.has(L)?"300ms":"1.5s"})},null,14,Jb),o("g",Zb,[r.value.visible&&i.value[`${L}-x`]!==void 0?(p(),b("circle",{key:0,cx:ee(L),cy:te(L),r:5,fill:m(L),class:"data-point animated-point",style:fe({filter:`drop-shadow(0 0 8px ${m(L)})`,opacity:1})},null,12,ey)):ce("",!0)]),o("g",ty,[(p(!0),b(ge,null,_e(_(L),(J,T)=>(p(),b("circle",{key:`permanent-point-${L}-${T}`,cx:k(T),cy:V(L,T),r:2,fill:S(L),class:"data-point-permanent"},null,8,sy))),128))]),o("g",ay,[(p(!0),b(ge,null,_e(_(L),(J,T)=>(p(),b("circle",{key:`point-${L}-${T}`,cx:k(T),cy:V(L,T),r:r.value.visible&&r.value.index===T&&i.value[`${L}-x`]===void 0?5:0,fill:S(L),class:he(["data-point",{"is-hovered":r.value.visible&&r.value.index===T}]),style:fe({filter:`drop-shadow(0 0 8px ${S(L)})`})},null,14,oy))),128))])]))),128))])],40,Gb)),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[r.value.visible?(p(),b("div",{key:0,class:"tooltip-container",style:fe({left:`${r.value.x}px`})},[o("div",ny,[o("span",ly,Y(r.value.label),1)]),o("div",ry,[(p(!0),b(ge,null,_e(v.value,L=>(p(),b("div",{key:`tooltip-${L}`,class:"tooltip-item"},[o("span",{class:"tooltip-color-indicator",style:fe({backgroundColor:S(L)})},null,4),o("span",iy,Y(L)+":",1),o("span",cy,Y(H(_(L)[r.value.index])),1)]))),128))])],4)):ce("",!0)]),_:1})],512)):(p(),b("div",Hb,[...q[0]||(q[0]=[ke('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-30a2d0a8><path d="M3 3v18h18" data-v-30a2d0a8></path><path d="M18 17V9" data-v-30a2d0a8></path><path d="M13 17V5" data-v-30a2d0a8></path><path d="M8 17v-3" data-v-30a2d0a8></path></svg><p data-v-30a2d0a8>No hay datos disponibles</p>',2)])])),j.value?(p(),b("div",uy,[(p(!0),b(ge,null,_e(s.xLabels,(L,X)=>(p(),b("div",{key:`x-label-external-${X}`,class:"x-axis-label",style:fe({left:`${k(X)}px`})},Y(L),5))),128))])):ce("",!0)]))}},nu=Ee(dy,[["__scopeId","data-v-30a2d0a8"]]),fy={key:0,class:"chart-header"},vy={class:"header-content"},hy={class:"chart-title"},py={key:0,class:"chart-subtitle"},gy={key:1,class:"variable-filters"},my=["onClick"],by={key:2,class:"no-data"},yy=["width","height"],Ay={class:"grid"},Cy=["x1","y1","x2","y2"],wy={class:"y-axis-labels"},_y=["x","y"],Sy={class:"x-axis-labels"},ky=["x","y"],$y=["id"],xy=["stop-color"],Iy=["stop-color"],Ey=["x1","y1","x2","y2"],Py=["x1","y1","x2","y2"],Fy={class:"areas"},My=["d","fill"],Dy=["d","stroke"],Ty={class:"animated-data-points"},Ry=["cx","cy","fill"],By={class:"data-points"},Vy=["cx","cy","r","fill"],Ly={class:"tooltip-header"},Ny={class:"tooltip-year-label"},Oy={class:"tooltip-content"},zy={class:"tooltip-variable-name"},Yy={class:"tooltip-variable-value"},jy={__name:"StackedArea",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},hideHeader:{type:Boolean,default:!1},width:{type:Number,default:null},height:{type:Number,default:null},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,n=z(null),l=z(null),r=z(null),i=z({width:800,height:300});let d=null;const f=z({visible:!1,x:0,index:-1,label:"",yValue:null,yPosition:0,previousIndex:-1}),c=z({}),u={top:10,right:15,bottom:25,left:40},v=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],h={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},C=O(()=>Object.keys(s.data)),y=z([]),g=z({});be(()=>s.data,(G,E)=>{const $=Object.keys(G),R=E?Object.keys(E):[];console.log(" [StackedArea] Watch data ejecutado"),console.log("  - Variables anteriores:",R.length),console.log("  - Variables nuevas:",$),$.forEach(N=>{g.value[N]||(g.value[N]=new Array(s.xLabels.length).fill(0))});const Q=R.length===0,Z=$.length>0;Q&&Z&&y.value.length===0&&A($)},{deep:!0});const A=G=>{console.log(" [StackedArea] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",G),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((E,$)=>{const R=G.find(Q=>Q===E||Q.trim()===E.trim());R?(console.log(`   Activando "${R}" en ${100+$*400}ms`),setTimeout(()=>{V(R)},100+$*400)):console.log(`   Variable "${E}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),G[0]&&setTimeout(()=>{V(G[0])},100),G[1]&&setTimeout(()=>{V(G[1])},500))},w=O(()=>y.value.length>0&&y.value.some(G=>s.data[G]&&s.data[G].length>0));be(w,async G=>{G&&(await ze(),await ze(),await ze(),ae(),n.value&&(d?d.disconnect():d=new ResizeObserver(()=>{requestAnimationFrame(()=>{ae()})}),d.observe(n.value)))},{immediate:!0}),be(C,async()=>{await ze(),w.value&&ae()}),be([()=>s.width,()=>s.height],()=>{ae()});const I=O(()=>{if(!w.value)return 100;let G=0;for(let E=0;E<s.xLabels.length;E++){let $=0;y.value.forEach(R=>{var Z;const Q=((Z=g.value[R])==null?void 0:Z[E])||0;$+=Q}),G=Math.max(G,$)}return G*1.1||100}),x=G=>{const E=I.value/(s.gridLines-1);return I.value-G*E},j=G=>{if(s.valueFormatter)return s.valueFormatter(G);const E=s.showCurrencySymbol?"$":s.valuePrefix,$=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${E}${G.toFixed(s.decimalPlaces)}${$}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(G)>=1e6?`$${(G/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(G)>=1e3?`$${(G/1e3).toFixed(s.decimalPlaces)}K`:`$${G.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(1)}B`:G>=1e6?`$${(G/1e6).toFixed(1)}M`:G>=1e3?`$${(G/1e3).toFixed(0)}K`:`$${G.toFixed(0)}`:Math.abs(G)>=1e9?`${E}${(G/1e9).toFixed(1)}B${$}`:Math.abs(G)>=1e6?`${E}${(G/1e6).toFixed(1)}M${$}`:Math.abs(G)>=1e3?`${E}${(G/1e3).toFixed(1)}K${$}`:Math.abs(G)<10?`${E}${G.toFixed(2)}${$}`:`${E}${G.toFixed(0)}${$}`},_=O(()=>(i.value.height-u.top-u.bottom)/(s.gridLines-1)),S=G=>g.value[G]||[],m=G=>{if(h[G])return h[G];const E=G.toLowerCase();if(E.includes("sostenible")||E.includes(" is")||E==="is"||E.includes("ps"))return"#7cb342";if(E.includes("carbono")||E.includes("iic")||E.includes("pic"))return"#DC143C";if(E.includes("total")||E.includes("gt")||E.includes("it")||E.includes("pt"))return"#9E9E9E";const $=C.value.indexOf(G);return v[$%v.length]},k=G=>{const $=m(G).replace("#",""),R=Math.max(0,parseInt($.substr(0,2),16)-40),Q=Math.max(0,parseInt($.substr(2,2),16)-40),Z=Math.max(0,parseInt($.substr(4,2),16)-40);return`rgb(${R}, ${Q}, ${Z})`},P=G=>G.replace(/[^a-zA-Z0-9]/g,"-"),V=G=>{const E=y.value.indexOf(G);E>-1?(y.value.splice(E,1),D(G)):(y.value.push(G),F(G)),a("variable-toggle",{variable:G,visible:E===-1})},F=G=>{const $=Date.now(),R=s.data[G];g.value[G]||(g.value[G]=new Array(R.length).fill(0));const Q=()=>{const Z=Date.now()-$,N=Math.min(Z/1e3,1),W=H(N);g.value[G]=R.map(ne=>ne*W),N<1&&requestAnimationFrame(Q)};Q()},D=G=>{const $=Date.now(),R=[...g.value[G]||[]],Q=()=>{const Z=Date.now()-$,N=Math.min(Z/500,1),W=M(N);g.value[G]=R.map(ne=>ne*(1-W)),N<1?requestAnimationFrame(Q):g.value[G]=new Array(R.length).fill(0)};Q()},H=G=>1-Math.pow(1-G,3),M=G=>G*G*G,K=G=>{const $=(i.value.width-u.left-u.right)/(s.xLabels.length-1);return u.left+G*$},ee=G=>{const E=i.value.height-u.top-u.bottom,$=G/I.value;return i.value.height-u.bottom-$*E},te=(G,E,$)=>{let R=0;for(let Q=0;Q<=$;Q++){const Z=y.value[Q],N=S(Z);R+=N[E]||0}return ee(R)},re=(G,E)=>{let $=0;for(let R=0;R<G;R++){const Q=y.value[R],Z=S(Q);$+=Z[E]||0}return $},pe=(G,E)=>{const $=S(G);if(!$||$.length===0)return"";const R=$.map((N,W)=>{const ne=K(W),ie=re(E,W)+N,le=ee(ie);return{x:ne,y:le}}),Q=$.map((N,W)=>{const ne=K(W),ie=re(E,W),le=ee(ie);return{x:ne,y:le}}).reverse();let Z=Ce(R);return Q.length>0&&(Z+=" L "+Q.map(N=>`${N.x} ${N.y}`).join(" L ")),Z+=" Z",Z},Ce=G=>{if(G.length<2)return"";let E=`M ${G[0].x} ${G[0].y}`;if(G.length===2)return E+=` L ${G[1].x} ${G[1].y}`,E;for(let $=0;$<G.length-1;$++){const R=G[$],Q=G[$+1],Z=Math.abs(Q.y-R.y);Math.abs(Q.x-R.x);let N=.2;Z>50&&(N=.1),Z<5&&(N=.05);let W,ne,ie,le;if($===0)W=R.x+(Q.x-R.x)*N,ne=R.y,ie=Q.x-(Q.x-R.x)*N,le=Q.y;else{const me=G[$-1],ve=Math.abs(R.y-me.y);$<G.length-2&&Math.abs(G[$+2].y-Q.y);let ye=N;if(ve>30&&Z<10&&(ye=.05),ve<5&&Z<5&&(ye=.02),W=R.x+(Q.x-me.x)*ye*.5,ne=R.y+(Q.y-me.y)*ye*.3,$<G.length-2){const Fe=G[$+2];ie=Q.x-(Fe.x-R.x)*ye*.5,le=Q.y-(Fe.y-R.y)*ye*.3}else ie=Q.x-(Q.x-R.x)*ye,le=Q.y;const we=Math.min(R.y,Q.y),$e=Math.max(R.y,Q.y),Te=($e-we)*.1;ne=Math.max(we-Te,Math.min($e+Te,ne)),le=Math.max(we-Te,Math.min($e+Te,le))}E+=` C ${W} ${ne}, ${ie} ${le}, ${Q.x} ${Q.y}`}return E},oe=(G,E)=>{const $=S(G);if(!$||$.length===0)return"";const R=$.map((Q,Z)=>{const N=K(Z),W=re(E,Z)+Q,ne=ee(W);return{x:N,y:ne}});return Ce(R)},se=G=>{const $=G.currentTarget.getBoundingClientRect(),R=i.value.width/$.width,Q=(G.clientX-$.left)*R,Z=s.xLabels.length;let N=0;if(Z===1)N=0;else{const le=[];for(let me=0;me<Z-1;me++){const ve=K(me),we=K(me+1)-ve;le.push(ve+we*.05)}if(Q<le[0])N=0;else if(Q>=le[le.length-1])N=Z-1;else for(let me=0;me<le.length-1;me++)if(Q>=le[me]&&Q<le[me+1]){N=me+1;break}}const W=K(N);let ne=0;y.value.forEach((le,me)=>{const ve=S(le);ne+=ve[N]||0});const ie=ee(ne);N!==f.value.index&&B(N),f.value={visible:!0,x:W,index:N,label:s.xLabels[N],yValue:ne,yPosition:ie,previousIndex:f.value.index}},B=G=>{const $=Date.now();y.value.forEach((R,Q)=>{const Z=f.value.index>=0?f.value.index:G,N=K(Z),W=K(G),ne=Z>=0?re(Q,Z)+(S(R)[Z]||0):0,ie=re(Q,G)+(S(R)[G]||0),le=ee(ne),me=ee(ie),ve=()=>{const ye=Date.now()-$,we=Math.min(ye/200,1),$e=H(we);c.value[`${R}-x`]=N+(W-N)*$e,c.value[`${R}-y`]=le+(me-le)*$e,we<1?requestAnimationFrame(ve):(delete c.value[`${R}-x`],delete c.value[`${R}-y`])};ve()})},q=G=>c.value[`${G}-x`]||0,L=G=>c.value[`${G}-y`]||0,X=()=>{f.value.visible=!1,c.value={}},J=O(()=>{if(!l.value||!f.value.visible)return{};const E=l.value.getScreenCTM();if(!E)return{};const $=f.value.x,R=f.value.yPosition,Q=E.a*$+E.c*R+E.e,Z=E.b*$+E.d*R+E.f;return{left:`${Q}px`,top:`${Z}px`}}),T=G=>{if(G==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(G);const E=s.showCurrencySymbol?"$":s.valuePrefix,$=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${E}${G.toFixed(s.decimalPlaces)}${$}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(G)>=1e6?`$${(G/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(G)>=1e3?`$${(G/1e3).toFixed(s.decimalPlaces)}K`:`$${G.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(G)>=1e9?`$${(G/1e9).toFixed(2)}B`:G>=1e6?`$${(G/1e6).toFixed(2)}M`:G>=1e3?`$${(G/1e3).toFixed(2)}K`:`$${G.toFixed(2)}`:Math.abs(G)>=1e9?`${E}${(G/1e9).toFixed(2)}B${$}`:Math.abs(G)>=1e6?`${E}${(G/1e6).toFixed(2)}M${$}`:Math.abs(G)>=1e3?`${E}${(G/1e3).toFixed(2)}K${$}`:Math.abs(G)<10?`${E}${G.toFixed(2)}${$}`:`${E}${G.toFixed(2)}${$}`},ae=()=>{if(s.width!==null&&s.height!==null){i.value={width:s.width,height:s.height};return}if(s.width!==null&&n.value){const G=n.value.getBoundingClientRect();i.value={width:s.width,height:G.height>0?Math.floor(G.height):300};return}if(s.height!==null&&n.value){const G=n.value.getBoundingClientRect();i.value={width:G.width>0?Math.floor(G.width):800,height:s.height};return}if(n.value){const G=n.value.getBoundingClientRect();G.width>0&&G.height>0&&(i.value={width:Math.floor(G.width),height:Math.floor(G.height)})}};return Le(async()=>{await ze(),await ze(),setTimeout(()=>{ae();const G=Object.keys(s.data);G.length>0&&y.value.length===0&&(console.log(" [StackedArea] onMounted (despus de delay) - Datos disponibles:",G),G.forEach(E=>{g.value[E]||(g.value[E]=new Array(s.xLabels.length).fill(0))}),A(G)),n.value&&(d=new ResizeObserver(()=>{requestAnimationFrame(()=>{ae()})}),d.observe(n.value))},100),window.addEventListener("resize",ae)}),Pa(()=>{window.removeEventListener("resize",ae),d&&(d.disconnect(),d=null)}),(G,E)=>(p(),b("div",{class:"area-chart-container",ref_key:"containerRef",ref:r},[s.hideHeader?ce("",!0):(p(),b("div",fy,[o("div",vy,[o("h3",hy,Y(e.title),1),e.subtitle?(p(),b("p",py,Y(e.subtitle),1)):ce("",!0)])])),C.value.length>0?(p(),b("div",gy,[(p(!0),b(ge,null,_e(C.value,$=>(p(),b("button",{key:$,onClick:R=>V($),class:he(["filter-btn",{"filter-active":y.value.includes($),"filter-inactive":!y.value.includes($)}])},[o("span",{class:"btn-color-dot",style:fe({backgroundColor:m($)})},null,4),Ke(" "+Y($),1)],10,my))),128))])):ce("",!0),w.value?(p(),b("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:n},[(p(),b("svg",{ref_key:"svgRef",ref:l,width:i.value.width,height:i.value.height,class:"area-chart",onMousemove:se,onMouseleave:X},[o("g",Ay,[(p(!0),b(ge,null,_e(e.gridLines,$=>(p(),b("line",{key:`grid-${$}`,x1:u.left,y1:u.top+($-1)*_.value,x2:i.value.width-u.right,y2:u.top+($-1)*_.value,class:"grid-line"},null,8,Cy))),128))]),o("g",wy,[(p(!0),b(ge,null,_e(e.gridLines,$=>(p(),b("text",{key:`y-label-${$}`,x:u.left-5,y:u.top+($-1)*_.value+3,class:"y-axis-label","text-anchor":"end"},Y(j(x($-1))),9,_y))),128))]),o("g",Sy,[(p(!0),b(ge,null,_e(s.xLabels,($,R)=>(p(),b("text",{key:`x-label-${R}`,x:K(R),y:i.value.height-u.bottom+15,class:"x-axis-label-svg","text-anchor":"middle"},Y($),9,ky))),128))]),o("defs",null,[(p(!0),b(ge,null,_e(y.value,$=>(p(),b("linearGradient",{key:`gradient-${$}`,id:`gradient-${P($)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[o("stop",{offset:"0%","stop-color":m($),"stop-opacity":"0.8"},null,8,xy),o("stop",{offset:"100%","stop-color":m($),"stop-opacity":"0.2"},null,8,Iy)],8,$y))),128))]),f.value.visible?(p(),b("line",{key:0,x1:f.value.x,y1:u.top,x2:f.value.x,y2:i.value.height-u.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,Ey)):ce("",!0),f.value.visible&&f.value.yValue!==null?(p(),b("line",{key:1,x1:u.left,y1:f.value.yPosition,x2:i.value.width-u.right,y2:f.value.yPosition,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.8"},null,8,Py)):ce("",!0),o("g",Fy,[(p(!0),b(ge,null,_e(y.value,($,R)=>(p(),b("g",{key:`area-${$}`},[o("path",{d:pe($,R),fill:`url(#gradient-${P($)})`,class:"area-path",style:fe({animationDelay:`${R*.1}s`})},null,12,My),o("path",{d:oe($,R),stroke:m($),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"line-path",style:fe({animationDelay:`${R*.1}s`})},null,12,Dy),o("g",Ty,[f.value.visible&&c.value[`${$}-x`]!==void 0?(p(),b("circle",{key:0,cx:q($),cy:L($),r:3,fill:k($),class:"data-point animated-point",style:fe({filter:`drop-shadow(0 0 8px ${k($)})`,opacity:1})},null,12,Ry)):ce("",!0)]),o("g",By,[(p(!0),b(ge,null,_e(S($),(Q,Z)=>(p(),b("circle",{key:`point-${$}-${Z}`,cx:K(Z),cy:te($,Z,R),r:f.value.visible&&f.value.index===Z&&c.value[`${$}-x`]===void 0?3:0,fill:m($),class:he(["data-point",{"is-hovered":f.value.visible&&f.value.index===Z}]),style:fe({filter:`drop-shadow(0 0 8px ${m($)})`})},null,14,Vy))),128))])]))),128))])],40,yy))],512)):(p(),b("div",by,[...E[0]||(E[0]=[ke('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-32f5b5f0><path d="M3 3v18h18" data-v-32f5b5f0></path><path d="M18 17V9" data-v-32f5b5f0></path><path d="M13 17V5" data-v-32f5b5f0></path><path d="M8 17v-3" data-v-32f5b5f0></path></svg><p data-v-32f5b5f0>No hay datos disponibles</p>',2)])])),(p(),Pe(Yt,{to:"body"},[Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[f.value.visible?(p(),b("div",{key:0,class:"tooltip-container",style:fe(J.value)},[o("div",Ly,[o("span",Ny,Y(f.value.label),1)]),o("div",Oy,[(p(!0),b(ge,null,_e(y.value,$=>(p(),b("div",{key:`tooltip-${$}`,class:"tooltip-item"},[o("span",{class:"tooltip-color-indicator",style:fe({backgroundColor:m($)})},null,4),o("span",zy,Y($)+":",1),o("span",Yy,Y(T(S($)[f.value.index])),1)]))),128))])],4)):ce("",!0)]),_:1})]))],512))}},Gr=Ee(jy,[["__scopeId","data-v-32f5b5f0"]]),Hy={class:"bar-chart-container"},Gy={key:0,class:"chart-title-section"},qy={class:"chart-title"},Uy={key:1,class:"filters-wrapper"},Wy={class:"filters-section"},Xy=["onClick"],Qy={class:"chart-area"},Ky={class:"y-axis"},Jy={class:"tick-label"},Zy={class:"grid-lines"},e2={class:"bars-wrapper"},t2={key:0,class:"bar-item"},s2=["onMouseenter"],a2={class:"x-axis-labels-container"},o2={class:"x-axis-labels"},n2={class:"tooltip-header"},l2={class:"tooltip-year-label"},r2={class:"tooltip-content"},i2={class:"tooltip-item"},c2={class:"tooltip-variable-name"},u2={class:"tooltip-variable-value"},d2={__name:"HistoricBarChart",props:{title:{type:String,default:"Grfico de Barras"},data:{type:Array,required:!0},showFilters:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},visibleVariableKeys:{type:Array,default:null},variablesConfig:{type:Object,default:null},initialActiveVariables:{type:Array,default:null}},setup(e){const t=e,s=z(null),a=z({}),n=z({x:0,y:0}),l=z(null),r=z(200),i={IS:"#7cb342","IS Total":"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342",IIC:"#DC143C","IIC Total":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_T:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},d=(_,S,m)=>{if(i[_])return i[_];if(i[S])return i[S];const k=(_||"").toLowerCase();if(k==="is"||k.includes("is_")||k.includes("sostenible")||k==="ps")return"#7cb342";if(k==="iic_h")return"#8B0000";if(k==="iic_m")return"#DC143C";if(k==="iic_t")return"#FF6B6B";if(k==="iic"||k.includes("iic")||k==="pic"||k.includes("carbono"))return"#DC143C";if(k.includes("total")||k.includes("gt")||k.includes("it")||k.includes("pt"))return"#9E9E9E";const P=(S||"").toLowerCase();return P.includes("sostenible")||P.includes(" is")?"#7cb342":P.includes("carbono")||P.includes("iic")||P.includes("pic")?"#DC143C":P.includes("total")?"#9E9E9E":m},f=_=>{const S=_.target.getBoundingClientRect();n.value={x:S.left+S.width/2,y:S.top-10}},c=O(()=>{if(!t.data||t.data.length===0)return[];const _=new Map;t.data.forEach(m=>{m.variables&&Array.isArray(m.variables)&&m.variables.forEach(k=>{if(!_.has(k.key))if(t.variablesConfig&&t.variablesConfig[k.key]){const P=t.variablesConfig[k.key],V=P.color||k.color;_.set(k.key,{key:k.key,label:P.label||k.label,color:d(k.key,P.label||k.label,V),order:P.order||0})}else _.set(k.key,{key:k.key,label:k.label,color:d(k.key,k.label,k.color),order:0})})});const S=Array.from(_.values());return S.sort((m,k)=>(m.order||0)-(k.order||0)),S}),u=O(()=>!t.visibleVariableKeys||t.visibleVariableKeys.length===0?c.value:c.value.filter(_=>t.visibleVariableKeys.includes(_.key))),v=_=>{if(!_.variables||!Array.isArray(_.variables))return[];if(t.visibleVariableKeys&&t.visibleVariableKeys.length>0){const S=_.variables.filter(m=>t.visibleVariableKeys.includes(m.key));return t.variablesConfig?S.map(m=>{var V,F,D;const k=((V=t.variablesConfig[m.key])==null?void 0:V.label)||m.label,P=((F=t.variablesConfig[m.key])==null?void 0:F.color)||m.color;return{...m,label:k,color:d(m.key,k,P),order:((D=t.variablesConfig[m.key])==null?void 0:D.order)||0}}).sort((m,k)=>(m.order||0)-(k.order||0)):S.map(m=>({...m,color:d(m.key,m.label,m.color)}))}return t.variablesConfig?_.variables.map(S=>{var P,V,F;const m=((P=t.variablesConfig[S.key])==null?void 0:P.label)||S.label,k=((V=t.variablesConfig[S.key])==null?void 0:V.color)||S.color;return{...S,label:m,color:d(S.key,m,k),order:((F=t.variablesConfig[S.key])==null?void 0:F.order)||0}}).sort((S,m)=>(S.order||0)-(m.order||0)):_.variables.map(S=>({...S,color:d(S.key,S.label,S.color)}))},h=z(!1);be(u,_=>{_.forEach(S=>{S.key in a.value||(t.initialActiveVariables&&Array.isArray(t.initialActiveVariables)?a.value[S.key]=t.initialActiveVariables.includes(S.key):a.value[S.key]=!1)}),!h.value&&_.length>0&&(h.value=!0,_[0]&&setTimeout(()=>{a.value[_[0].key]=!0},100),_[1]&&setTimeout(()=>{a.value[_[1].key]=!0},400))},{immediate:!0});const C=O(()=>{if(!t.data||t.data.length===0)return 100;let _=0;return t.data.forEach(S=>{S.variables&&Array.isArray(S.variables)&&v(S).forEach(k=>{a.value[k.key]!==!1&&k.value&&k.value>_&&(_=k.value)})}),_>0?_*.8:100}),y=_=>{if(C.value===0)return 0;const S=_/C.value*100;return r.value*S/100},g=O(()=>{const _=C.value,S=_/4;return[{value:0,position:0},{value:S,position:25},{value:S*2,position:50},{value:S*3,position:75},{value:_,position:100}]}),A=O(()=>{var V;const _=Object.values(a.value).filter(F=>F!==!1).length;if((V=t.data)!=null&&V.length,_===0)return 50;if(_===1)return 120;if(_===2)return 55;if(_===3)return 38;const S=70,m=25,k=120,P=S/Math.sqrt(_*.6);return Math.max(m,Math.min(k,P))}),w=O(()=>{const _=Object.values(a.value).filter(m=>m!==!1).length,S=u.value.length;return _===S&&S>0?"2px":"1px"}),I=_=>{a.value[_]=!a.value[_]},x=_=>Math.abs(_)>=1e9?`$${(_/1e9).toFixed(1)}B`:Math.abs(_)>=1e6?`$${(_/1e6).toFixed(1)}M`:Math.abs(_)>=1e3?`$${(_/1e3).toFixed(1)}K`:`$${_.toFixed(0)}`,j=()=>{if(l.value){const _=l.value.clientHeight-30;_>0&&(r.value=_)}};return Le(async()=>{await ze(),j(),l.value&&new ResizeObserver(()=>{j()}).observe(l.value)}),be(()=>t.data,()=>{ze(()=>{j()})},{deep:!0}),(_,S)=>(p(),b("div",Hy,[e.hideHeader?ce("",!0):(p(),b("div",Gy,[o("h3",qy,Y(e.title),1)])),e.showFilters?(p(),b("div",Uy,[o("div",Wy,[(p(!0),b(ge,null,_e(u.value,m=>(p(),b("button",{key:m.key,onClick:k=>I(m.key),class:he(["filter-btn",{"filter-active":a.value[m.key]!==!1,"filter-inactive":a.value[m.key]===!1}])},[o("span",{class:"btn-color-dot",style:fe({backgroundColor:m.color})},null,4),Ke(" "+Y(m.label),1)],10,Xy))),128))])])):ce("",!0),o("div",Qy,[o("div",Ky,[(p(!0),b(ge,null,_e(g.value,m=>(p(),b("div",{key:m.value,class:"y-tick",style:fe({bottom:`${m.position}%`})},[o("span",Jy,Y(x(m.value)),1)],4))),128))]),o("div",Zy,[(p(!0),b(ge,null,_e(g.value,m=>(p(),b("div",{key:m.value,class:"grid-line",style:fe({bottom:`${m.position}%`})},null,4))),128))]),o("div",{class:"bars-container",ref_key:"barsContainerRef",ref:l},[(p(!0),b(ge,null,_e(e.data,m=>(p(),b("div",{key:m.year,class:"year-group",style:fe({marginRight:w.value})},[o("div",e2,[(p(!0),b(ge,null,_e(v(m),k=>(p(),b(ge,{key:k.key},[a.value[k.key]!==!1?(p(),b("div",t2,[o("div",{class:"bar",style:fe({height:`${y(k.value)}px`,backgroundColor:k.color,width:`${A.value}px`}),onMouseenter:P=>{s.value={year:m.year,variable:k},f(P)},onMousemove:f,onMouseleave:S[0]||(S[0]=P=>s.value=null)},null,44,s2)])):ce("",!0)],64))),128))])],4))),128))],512)]),o("div",a2,[S[1]||(S[1]=o("div",{class:"x-axis-spacer"},null,-1)),o("div",o2,[(p(!0),b(ge,null,_e(e.data,m=>(p(),b("div",{key:m.year,class:"year-label"},Y(m.year),1))),128))])]),(p(),Pe(Yt,{to:"body"},[s.value?(p(),b("div",{key:0,class:"tooltip-container",style:fe({left:`${n.value.x}px`,top:`${n.value.y}px`})},[o("div",n2,[o("span",l2,Y(s.value.year),1)]),o("div",r2,[o("div",i2,[o("span",{class:"tooltip-color-indicator",style:fe({backgroundColor:s.value.variable.color})},null,4),o("span",c2,Y(s.value.variable.label)+":",1),o("span",u2,Y(x(s.value.variable.value)),1)])])],4)):ce("",!0)]))]))}},qa=Ee(d2,[["__scopeId","data-v-e1a0fd98"]]),f2={class:"ifss-slider-container"},v2={class:"historic-table"},h2={class:"row-1"},p2={class:"chart-card IS-anual-linear-chart"},g2={class:"chart-card-body"},m2={class:"chart-card IIC-anual-linear-chart"},b2={class:"chart-card-body"},y2={class:"row-2"},A2={class:"chart-card IIC-anual-bar-chart"},C2={class:"chart-card-body"},w2={class:"chart-card IS-anual-bar-chart"},_2={class:"chart-card-body"},S2={class:"row-3"},k2={class:"chart-card PS-PIC-anual-linear-chart"},$2={class:"chart-card-body"},x2={class:"row-4"},I2={class:"chart-card PIC-anual-bar-chart"},E2={class:"chart-card-body"},P2={class:"chart-card PS-anual-bar-chart"},F2={class:"chart-card-body"},M2={__name:"HistoricalCard",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null}},setup(e){const{fetchData:t,transformToBarChartData:s,transformToLinearChartData:a,transformToStackedAreaData:n}=pt(),l=z([]),r=z([]),i=z([]),d=z([]),f=z({}),c=z({}),u=z({}),v=z(["2020","2021","2022","2023","2024"]),h=async()=>{var C,y,g,A;try{console.log(" Cargando datos de Google Sheets...");const w=await t("datosFinancieros","Hoja 1");if(console.log(" Datos raw obtenidos:",{numFilas:(w==null?void 0:w.length)||0,primeraFila:(w==null?void 0:w[0])||"No hay datos",columnas:w!=null&&w[0]?Object.keys(w[0]):[]}),!w||w.length===0){console.error(" No se obtuvieron datos del Google Sheet");return}const I=vt.mappings.iicBarChart;l.value=s(w,I);const x=vt.mappings.presupuestoBarChart;r.value=s(w,x);const j=vt.mappings.picBarChart;i.value=s(w,j);const _=vt.mappings.psBarChart;d.value=s(w,_);const S=vt.mappings.isLinearChart,m=a(w,S),k=vt.mappings.iicStackedArea;u.value=n(w,k);const P={};m.data.forEach(H=>{P[H.label]=H.data}),f.value=P,v.value=m.labels;const V=vt.mappings.pspicLinearChart;console.log(" mappingPSPIC:",V),console.log(" Valor de GT ($) en primera fila:",w[0]["GT ($)"]),console.log(" Tipo de GT ($):",typeof w[0]["GT ($)"]);const F=a(w,V);console.log(" linearResultPSPIC:",F);const D={};F.data.forEach(H=>{D[H.label]=H.data,console.log(` Serie "${H.label}":`,H.data)}),c.value=D,console.log(" Datos transformados para IIC BarChart:",((C=l.value)==null?void 0:C.length)||0,"aos"),console.log(" Datos transformados para IS BarChart:",((y=r.value)==null?void 0:y.length)||0,"aos"),console.log(" Datos transformados para PIC BarChart:",((g=i.value)==null?void 0:g.length)||0,"aos"),console.log(" Datos transformados para PS BarChart:",((A=d.value)==null?void 0:A.length)||0,"aos"),console.log(" Datos transformados para LinearChart IS:",f.value),console.log(" Datos transformados para LinearChart PS-PIC:",c.value)}catch(w){console.error(" Error cargando datos:",w),console.error("Error completo:",w.message),l.value=[],r.value=[],i.value=[],d.value=[],f.value={},c.value={},u.value={}}};return Le(async()=>{console.log(" Componente HistoricalCard montado"),setTimeout(async()=>{console.log(" Iniciando carga despus de 2 segundos..."),await h()},2e3)}),(C,y)=>(p(),b("div",f2,[o("div",v2,[o("div",h2,[o("div",p2,[y[0]||(y[0]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Anlisis histrico de los Ingresos Sostenibles (IS)")],-1)),o("div",g2,[Ae(Gr,{data:f.value,xLabels:v.value,showCurrencySymbol:!1,decimalPlaces:1,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])]),o("div",m2,[y[1]||(y[1]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Anlisis de IIC e Ingreso Total")],-1)),o("div",b2,[Ae(Gr,{data:u.value,xLabels:v.value,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])])]),o("div",y2,[o("div",A2,[y[2]||(y[2]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Ingresos de Inversin en Contribucin (IIC)")],-1)),o("div",C2,[Ae(qa,{data:l.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),o("div",w2,[y[3]||(y[3]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Ingresos Sostenibles (IS) por Ao")],-1)),o("div",_2,[Ae(qa,{data:r.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])]),o("div",S2,[o("div",k2,[y[4]||(y[4]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Anlisis histrico de los Intensivos en Carbono y Presupuestos Sostenibles (PS-PIC)")],-1)),o("div",$2,[Ae(nu,{data:c.value,xLabels:v.value,width:1900,height:340,hideHeader:!0,padding:{top:20,right:0,bottom:100,left:100}},null,8,["data","xLabels"])])])]),o("div",x2,[o("div",I2,[y[5]||(y[5]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Presupuestos Intensivos en Carbono (PIC)")],-1)),o("div",E2,[Ae(qa,{data:i.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),o("div",P2,[y[6]||(y[6]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Presupuestos Sostenibles (PS)")],-1)),o("div",F2,[Ae(qa,{data:d.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])])])]))}},lu=Ee(M2,[["__scopeId","data-v-42787392"]]),D2={class:"map-container"},T2={key:0,class:"loading-state"},R2={key:1,class:"error-state"},B2={key:2,class:"map-content"},V2={class:"ranking-panel"},L2={class:"body-ranking-panel"},N2={class:"slider-ranking-panel"},O2={__name:"HistoricalView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:n,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:y,handleStateClick:g,handleStateHover:A,handleStateLeave:w,resetSelection:I,initializeData:x}=s.mapsComposable||zt(),{setChartData:j}=Da(),{statesDataForSlider:_,selectedStateIFSS:S,handleRangeChange:m,handleFilterChange:k,initialize:P}=bl(s.mapsComposable||zt());return Ma(),be(i,(V,F)=>{if(V&&V!==F){const D=C(V);j(D),a("region-selected",{name:V,data:D})}else!V&&F&&a("region-selected",null)}),be(r,V=>{V&&a("map-error",V)}),Le(async()=>{await P()}),(V,F)=>(p(),b(ge,null,[F[3]||(F[3]=o("div",{class:"filters-toggles-row"},null,-1)),o("div",D2,[U(l)?(p(),b("div",T2,[...F[1]||(F[1]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos del mapa...",-1)])])):ce("",!0),U(r)?(p(),b("div",R2,[o("p",null,"Error: "+Y(U(r)),1),o("button",{onClick:F[0]||(F[0]=(...D)=>U(x)&&U(x)(...D)),class:"retry-btn"}," Reintentar ")])):ce("",!0),!U(l)&&!U(r)?(p(),b("div",B2,[o("div",V2,[F[2]||(F[2]=o("div",{class:"header-ranking-panel"},[o("h2",null,"Ingresos"),o("div",{class:"ranking-hamburger-menu"},[o("img",{src:ou,alt:"hamburger-menu",class:"hamburger-icon"})])],-1)),o("div",L2,[o("div",N2,[Ae(lu,{statesData:U(_),selectedStateValue:U(S),onRangeChange:U(m),onFilterChange:U(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])])):ce("",!0)])],64))}},z2=Ee(O2,[["__scopeId","data-v-21a3f982"]]);function Y2(e,t=!1){if(e==null)return 0;if(typeof e=="number")return isNaN(e)?0:e;let s=String(e).trim();if(s=s.replace(/^["']+|["']+$/g,"").trim(),s===""||s==='""'||s==="''")return 0;s=s.replace(/[$]/g,"").trim();const a=(s.match(/,/g)||[]).length,n=(s.match(/\./g)||[]).length;t&&(console.log(` parseNumber input: "${e}"  cleaned: "${s}"`),console.log(`   Comas: ${a}, Puntos: ${n}`));let l;if(a===0&&n===0)l=parseFloat(s)||0;else if(a>0&&n===0)if(a===1){const r=s.split(",");r[1].length===3&&/^\d+$/.test(r[0])&&/^\d{3}$/.test(r[1])?l=parseFloat(s.replace(",",""))||0:l=parseFloat(s.replace(",","."))||0}else l=parseFloat(s.replace(/,/g,""))||0;else if(n>0&&a===0)if(n===1){const r=s.split(".");r[1].length===3&&/^\d+$/.test(r[0])&&/^\d{3}$/.test(r[1])?l=parseFloat(s.replace(".",""))||0:l=parseFloat(s)||0}else l=parseFloat(s.replace(/\./g,""))||0;else{const r=s.lastIndexOf(","),i=s.lastIndexOf(".");r>i?l=parseFloat(s.replace(/\./g,"").replace(",","."))||0:l=parseFloat(s.replace(/,/g,""))||0}return t&&console.log(`   Resultado: ${l}`),l}function rs(e,t,s=!1){if(!e||!t)return 0;const a=e[t];return a==null?(s&&console.log(` Columna '${t}' no existe. Disponibles:`,Object.keys(e)),0):Y2(a,s)}const j2={key:0,class:"chart-card"},H2={class:"chart-card-header"},G2={class:"card-title"},q2={class:"chart-card-body"},U2={key:0,class:"loading-container"},W2={key:1,class:"error-container"},X2={key:2,class:"chart-col-bar"},Q2={key:0,class:"donut-item"},K2={key:0,class:"no-data-state green"},J2={class:"no-data-text"},Z2={key:2,class:"no-data-message"},eA={key:1,class:"donut-item"},tA={key:0,class:"no-data-state red"},sA={class:"no-data-text"},aA={key:2,class:"no-data-message"},oA={key:1,class:"chart-card"},nA={class:"chart-card-header"},lA={class:"card-title"},rA={class:"chart-card-body"},iA={key:0,class:"loading-container"},cA={key:1,class:"error-container"},uA={key:2,class:"chart-col-bar"},dA={key:0,class:"donut-item"},fA={key:0,class:"no-data-state green"},vA={class:"no-data-text"},hA={key:2,class:"no-data-message"},pA={key:1,class:"donut-item"},gA={key:0,class:"no-data-state red"},mA={class:"no-data-text"},bA={key:2,class:"no-data-message"},yA={__name:"RegionalChartsComponent",props:{selectedYear:{type:String,default:null},selectedVariable:{type:Object,default:null},ifssData:{type:Object,default:()=>({})}},emits:["years-loaded"],setup(e,{emit:t}){const s=e,a=t,n=O(()=>!!s.selectedVariable),l=O(()=>s.selectedVariable&&(s.selectedVariable.key==="PS"||s.selectedVariable.key==="PIC")),r=O(()=>s.selectedVariable&&(s.selectedVariable.key==="IS"||s.selectedVariable.key==="IIC")),{fetchData:i,loading:d,error:f}=pt(),c=z(!1),u=z([]),v=Re("chartsPresupuestosRegional"),h=Re("chartsIngresosRegional"),C=N=>{if(!N||N.length===0)return[];const W="Ao",ne=[...new Set(N.map(ie=>ie[W]).filter(ie=>ie!=null&&ie!=="").map(ie=>String(ie).trim()))];return ne.sort((ie,le)=>Number(le)-Number(ie)),console.log(" [Regional] Aos extrados:",ne),ne},y=async()=>{try{console.log(" [Regional] Cargando datos regionales...");const N=Ve("chartsPresupuestosRegional"),W=await i("chartsPresupuestosRegional",N);if(console.log(" [Regional] Datos cargados:",W==null?void 0:W.length,"filas"),W&&W.length>0){const ne=C(W);ne.length>0&&a("years-loaded",ne)}u.value=W||[],c.value=!0}catch(N){console.error(" [Regional] Error cargando datos:",N)}};Le(()=>y()),be(()=>s.selectedYear,async(N,W)=>{N!==W&&console.log(" [Regional] Ao cambi:",W,"->",N)});const g=O(()=>{if(!c.value||!u.value.length)return[];const N="Ao";return s.selectedYear?u.value.filter(W=>{const ne=String(W[N]).trim(),ie=String(s.selectedYear).trim();return ne===ie}):u.value}),A=O(()=>g.value),w=O(()=>g.value),I=(N,W,ne)=>{if(!N||!W||!ne)return{mainPercentage:0,sectors:[],totalSectorsValue:0};let ie=0;const le=W.map(ve=>{const ye=rs(N,ve.column);return ie+=ye,{key:ve.key,label:ve.label,value:ye,color:ve.color,colorClass:ve.colorClass}});return{mainPercentage:ne>0?Math.round(ie/ne*100):0,sectors:le,totalSectorsValue:ie}},x=(N,W)=>{if(!N||!(W!=null&&W.variableColumns))return{variables:[]};const ne=W.variableColumns.map(ie=>{const le=rs(N,ie.column);return{key:ie.key,label:ie.label,value:le,color:ie.color,colorClass:ie.colorClass,order:ie.order||0}});return ne.sort((ie,le)=>ie.order-le.order),{variables:ne}},j=O(()=>{if(!A.value.length)return{variables:[]};const N=x(A.value[0],v);return s.selectedVariable&&N.variables.length>=3&&(s.selectedVariable.key==="PS"?N.variables=[N.variables[0],N.variables[1]].filter(W=>W):s.selectedVariable.key==="PIC"&&(N.variables=[N.variables[0],N.variables[2]].filter(W=>W))),N}),_=O(()=>{if(!w.value.length)return{variables:[]};const N=x(w.value[0],h);return s.selectedVariable&&N.variables.length>=3&&(s.selectedVariable.key==="IS"?N.variables=[N.variables[0],N.variables[1]].filter(W=>W):s.selectedVariable.key==="IIC"&&(N.variables=[N.variables[0],N.variables[2]].filter(W=>W))),N}),S=O(()=>{var W;const N=(W=v==null?void 0:v.variableColumns)==null?void 0:W.find(ne=>ne.key==="presupuesto_total_reg"||ne.column==="PT"||ne.column==="PT ($)");return(N==null?void 0:N.column)||"PT"}),m=O(()=>{var W;const N=(W=h==null?void 0:h.variableColumns)==null?void 0:W.find(ne=>ne.key==="ingresos_total_reg"||ne.column==="IT"||ne.column==="IT ($)");return(N==null?void 0:N.column)||"IT ($)"}),k=O(()=>{if(!A.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const N=A.value[0],W=rs(N,S.value),ne=(v==null?void 0:v.donutSectorsPSRegional)||[];return I(N,ne,W)}),P=O(()=>k.value.totalSectorsValue===0),V=O(()=>{if(!A.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const N=A.value[0],W=rs(N,S.value),ne=(v==null?void 0:v.donutSectorsPICRegional)||[];return I(N,ne,W)}),F=O(()=>V.value.totalSectorsValue===0),D=O(()=>{if(!w.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const N=w.value[0],W=rs(N,m.value),ne=(h==null?void 0:h.donutSectorsISRegional)||[];return I(N,ne,W)}),H=O(()=>D.value.totalSectorsValue===0),M=O(()=>{if(!w.value.length)return{mainPercentage:0,sectors:[],totalSectorsValue:0};const N=w.value[0],W=rs(N,m.value),ne=(h==null?void 0:h.donutSectorsIICRegional)||[];return I(N,ne,W)}),K=O(()=>M.value.totalSectorsValue===0),ee=O(()=>!A.value.length||P.value?[{label:"PS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"PS",value:k.value.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-k.value.mainPercentage,color:"#E8E8E8"}]),te=O(()=>P.value?[]:k.value.sectors),re=O(()=>`${ee.value[0].value}%`),pe=O(()=>!A.value.length||F.value?[{label:"PIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"PIC",value:V.value.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-V.value.mainPercentage,color:"#E8E8E8"}]),Ce=O(()=>F.value?[]:V.value.sectors),oe=O(()=>`${pe.value[0].value}%`),se=O(()=>!w.value.length||H.value?[{label:"IS",value:0,color:"#7cb342"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"IS",value:D.value.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-D.value.mainPercentage,color:"#E8E8E8"}]),B=O(()=>H.value?[]:D.value.sectors),q=O(()=>`${se.value[0].value}%`),L=O(()=>!w.value.length||K.value?[{label:"IIC",value:0,color:"#DC143C"},{label:"Resto",value:100,color:"#E8E8E8"}]:[{label:"IIC",value:M.value.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-M.value.mainPercentage,color:"#E8E8E8"}]),X=O(()=>K.value?[]:M.value.sectors),J=O(()=>`${L.value[0].value}%`),T=O(()=>{var W,ne;const N=s.selectedYear?` en ${s.selectedYear}`:"";return((W=s.selectedVariable)==null?void 0:W.key)==="PS"?`Presupuestos Sostenibles (PS) con respecto al Presupuesto Total (PT)${N}`:((ne=s.selectedVariable)==null?void 0:ne.key)==="PIC"?`Presupuestos Intensivos en Carbono (PIC) con respecto al Presupuesto Total (PT)${N}`:`Presupuestos Intensivos en Carbono (PIC) y Presupuestos Sostenibles (PS) con respecto del gasto total${N}`}),ae=O(()=>{var W,ne;const N=s.selectedYear?` en ${s.selectedYear}`:"";return((W=s.selectedVariable)==null?void 0:W.key)==="IS"?`Ingresos Sostenibles (IS) con respecto al Ingreso Total (IT)${N}`:((ne=s.selectedVariable)==null?void 0:ne.key)==="IIC"?`Ingresos Intensivos en Carbono (IIC) con respecto al Ingreso Total (IT)${N}`:`Proporcin del gasto asignado a Ingresos${N}`}),G=O(()=>`Presupuestos - Regional${s.selectedYear?` - ${s.selectedYear}`:""}`),E=O(()=>`Ingresos - Regional${s.selectedYear?` - ${s.selectedYear}`:""}`),$=O(()=>((v==null?void 0:v.donutSectorsPSRegional)||[]).map(W=>({key:W.key,label:W.label,colorClass:W.colorClass,active:!0}))),R=O(()=>((v==null?void 0:v.donutSectorsPICRegional)||[]).map(W=>({key:W.key,label:W.label,colorClass:W.colorClass,active:!0}))),Q=O(()=>((h==null?void 0:h.donutSectorsISRegional)||[]).map(W=>({key:W.key,label:W.label,colorClass:W.colorClass,active:!0}))),Z=O(()=>((h==null?void 0:h.donutSectorsIICRegional)||[]).map(W=>({key:W.key,label:W.label,colorClass:W.colorClass,active:!0})));return(N,W)=>(p(),b("div",{class:he(["charts-wrapper",{"single-card":n.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"||e.selectedVariable.key==="IIC"?(p(),b("div",j2,[o("div",H2,[o("h4",G2,Y(E.value),1)]),o("div",q2,[U(d)?(p(),b("div",U2,[...W[0]||(W[0]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):U(f)?(p(),b("div",W2,[o("p",null,"Error: "+Y(U(f)),1)])):(p(),b("div",X2,[Ae(_o,{data:_.value,title:ae.value,headerTitle:"Anlisis de Ingresos Regionales",selectedState:"Regional",selectedYear:e.selectedYear},null,8,["data","title","selectedYear"])])),!U(d)&&!U(f)?(p(),b("div",{key:3,class:he(["chart-col-donuts",{"single-donut":r.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"?(p(),b("div",Q2,[W[5]||(W[5]=ke('<div class="donut-header-dark" data-v-91618055><div class="donut-header-icon green" data-v-91618055><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-91618055><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-91618055></path></svg></div><span class="donut-header-title" data-v-91618055>Sectores de Ingresos Sostenibles</span></div>',1)),H.value?(p(),b("div",K2,[W[4]||(W[4]=ke('<div class="no-data-icon" data-v-91618055><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-91618055><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-91618055></circle><path d="M12 8v4M12 16h.01" data-v-91618055></path></svg></div><h3 class="no-data-title" data-v-91618055>Sin datos disponibles</h3>',2)),o("p",J2,[W[1]||(W[1]=Ke(" No se registraron ingresos en los sectores de ",-1)),W[2]||(W[2]=o("strong",null,"Ingresos Sostenibles",-1)),W[3]||(W[3]=Ke(" para el ao ",-1)),o("strong",null,Y(e.selectedYear||"seleccionado"),1)])])):B.value.length>0?(p(),Pe(is,{key:`is-regional-${s.selectedYear}-${B.value.length}`,data:se.value,title:"IS",subtitle:q.value,size:220,variables:Q.value,sectors:B.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",Z2,"Sin datos disponibles"))])):ce("",!0),!e.selectedVariable||e.selectedVariable.key==="IIC"?(p(),b("div",eA,[W[10]||(W[10]=ke('<div class="donut-header-dark" data-v-91618055><div class="donut-header-icon red" data-v-91618055><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-91618055><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-91618055></path><path d="M2 17l10 5 10-5" data-v-91618055></path><path d="M2 12l10 5 10-5" data-v-91618055></path></svg></div><span class="donut-header-title" data-v-91618055>Sectores de Ingresos Int. en Carbono</span></div>',1)),K.value?(p(),b("div",tA,[W[9]||(W[9]=ke('<div class="no-data-icon" data-v-91618055><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-91618055><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-91618055></circle><path d="M12 8v4M12 16h.01" data-v-91618055></path></svg></div><h3 class="no-data-title" data-v-91618055>Sin datos disponibles</h3>',2)),o("p",sA,[W[6]||(W[6]=Ke(" No se registraron ingresos en los sectores de ",-1)),W[7]||(W[7]=o("strong",null,"Ingresos Intensivos en Carbono",-1)),W[8]||(W[8]=Ke(" para el ao ",-1)),o("strong",null,Y(e.selectedYear||"seleccionado"),1)])])):X.value.length>0?(p(),Pe(is,{key:`iic-regional-${s.selectedYear}-${X.value.length}`,data:L.value,title:"IIC",subtitle:J.value,size:220,variables:Z.value,sectors:X.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",aA,"Sin datos disponibles"))])):ce("",!0)],2)):ce("",!0)])])):ce("",!0),!e.selectedVariable||e.selectedVariable.key==="PS"||e.selectedVariable.key==="PIC"?(p(),b("div",oA,[o("div",nA,[o("h4",lA,Y(G.value),1)]),o("div",rA,[U(d)?(p(),b("div",iA,[...W[11]||(W[11]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):U(f)?(p(),b("div",cA,[o("p",null,"Error: "+Y(U(f)),1)])):(p(),b("div",uA,[Ae(_o,{data:j.value,title:T.value,headerTitle:"Anlisis de Presupuestos Regionales",selectedState:"Regional",selectedYear:e.selectedYear},null,8,["data","title","selectedYear"])])),!U(d)&&!U(f)?(p(),b("div",{key:3,class:he(["chart-col-donuts",{"single-donut":l.value}])},[!e.selectedVariable||e.selectedVariable.key==="PS"?(p(),b("div",dA,[W[16]||(W[16]=ke('<div class="donut-header-dark" data-v-91618055><div class="donut-header-icon green" data-v-91618055><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-91618055><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-91618055></path></svg></div><span class="donut-header-title" data-v-91618055>Sectores de Presupuestos Sostenibles</span></div>',1)),P.value?(p(),b("div",fA,[W[15]||(W[15]=ke('<div class="no-data-icon" data-v-91618055><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-91618055><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-91618055></circle><path d="M12 8v4M12 16h.01" data-v-91618055></path></svg></div><h3 class="no-data-title" data-v-91618055>Sin datos disponibles</h3>',2)),o("p",vA,[W[12]||(W[12]=Ke(" No se registraron egresos en los sectores de ",-1)),W[13]||(W[13]=o("strong",null,"Presupuestos Sostenibles",-1)),W[14]||(W[14]=Ke(" para el ao ",-1)),o("strong",null,Y(e.selectedYear||"seleccionado"),1)])])):te.value.length>0?(p(),Pe(is,{key:`ps-regional-${s.selectedYear}-${te.value.length}`,data:ee.value,title:"PS",subtitle:re.value,size:220,variables:$.value,sectors:te.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",hA,"Sin datos disponibles"))])):ce("",!0),!e.selectedVariable||e.selectedVariable.key==="PIC"?(p(),b("div",pA,[W[21]||(W[21]=ke('<div class="donut-header-dark" data-v-91618055><div class="donut-header-icon red" data-v-91618055><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-91618055><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-91618055></path><path d="M2 17l10 5 10-5" data-v-91618055></path><path d="M2 12l10 5 10-5" data-v-91618055></path></svg></div><span class="donut-header-title" data-v-91618055>Sectores de Presupuestos Int. en Carbono</span></div>',1)),F.value?(p(),b("div",gA,[W[20]||(W[20]=ke('<div class="no-data-icon" data-v-91618055><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-91618055><circle cx="12" cy="12" r="10" stroke-dasharray="4 2" data-v-91618055></circle><path d="M12 8v4M12 16h.01" data-v-91618055></path></svg></div><h3 class="no-data-title" data-v-91618055>Sin datos disponibles</h3>',2)),o("p",mA,[W[17]||(W[17]=Ke(" No se registraron egresos en los sectores de ",-1)),W[18]||(W[18]=o("strong",null,"Presupuestos Intensivos en Carbono",-1)),W[19]||(W[19]=Ke(" para el ao ",-1)),o("strong",null,Y(e.selectedYear||"seleccionado"),1)])])):Ce.value.length>0?(p(),Pe(is,{key:`pic-regional-${s.selectedYear}-${Ce.value.length}`,data:pe.value,title:"PIC",subtitle:oe.value,size:220,variables:R.value,sectors:Ce.value},null,8,["data","subtitle","variables","sectors"])):(p(),b("div",bA,"Sin datos disponibles"))])):ce("",!0)],2)):ce("",!0)])])):ce("",!0)],2))}},AA=Ee(yA,[["__scopeId","data-v-91618055"]]),CA={class:"ifs-regional-card"},wA={class:"header-icon"},_A={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},SA={key:1,class:"icon-dollar"},kA={class:"header-text"},$A={class:"header-title"},xA={class:"year-badge"},IA={class:"card-body"},EA={key:0,class:"loading-state"},PA={key:1,class:"error-state"},FA={key:2,class:"content-wrapper content-ifs"},MA={class:"metrics-section"},DA={class:"metrics-title"},TA={class:"title-main"},RA={class:"title-sub"},BA={class:"metrics-row"},VA={class:"metric-card ifs-metric"},LA={class:"metric-gauge"},NA={viewBox:"0 0 140 140",class:"gauge-svg"},OA=["stroke","stroke-dasharray"],zA={class:"gauge-center"},YA={class:"gauge-value"},jA={class:"metric-card position-metric"},HA={class:"position-badge position-green"},GA={class:"position-value-wrapper"},qA={class:"position-value"},UA={class:"legend-section"},WA={class:"legend-header"},XA=["innerHTML"],QA={class:"legend-scale"},KA={class:"scale-bar"},JA={class:"scale-labels"},ZA={class:"label-text"},eC={class:"label-name"},tC={class:"label-range"},sC={key:3,class:"content-wrapper content-monetary"},aC={class:"content-center"},oC={class:"monetary-row"},nC={class:"monetary-label"},lC={class:"monetary-value-row"},rC={class:"monetary-amount"},iC={class:"monetary-unit"},cC={class:"position-value-monetary"},uC={class:"legend-section"},dC={class:"legend-header"},fC=["innerHTML"],vC={__name:"IFSRegionalCard",props:{selectedYear:{type:String,default:null},selectedVariable:{type:[Object,String],default:null}},setup(e){const t=e,{fetchData:s,loading:a,error:n}=pt(),l=z(0),r=z(null),i={IFS:{key:"IFS",headerTitle:"ndice de Finanzas Sostenibles",title:"Valor IFS",subtitle:"ndice de Finanzas Sostenibles",legendTitle:"Qu es el IFS?",legendDescription:"El <strong>ndice de Finanzas Sostenibles (IFS)</strong> mide el grado de sostenibilidad fiscal de Mxico, considerando la proporcin de ingresos y egresos destinados a actividades ambientalmente sostenibles versus aquellas intensivas en carbono.",valueColumn:"IFS",positionColumn:"POS_IFS",isMonetary:!1,headerClass:"header-default",colorTheme:"green"},PS:{key:"PS",headerTitle:"Presupuestos Sostenibles",title:"Valor Total PS",subtitle:"Presupuestos Sostenibles",legendTitle:"Qu son los Presupuestos Sostenibles?",legendDescription:"Los <strong>Presupuestos Sostenibles (PS)</strong> representan el monto del presupuesto federal destinado a actividades que promueven la sostenibilidad ambiental.",valueColumn:"PS ($)",positionColumn:"POS_PS",isMonetary:!0,headerClass:"header-green",colorTheme:"green"},IS:{key:"IS",headerTitle:"Ingresos Sostenibles",title:"Valor Total IS",subtitle:"Ingresos Sostenibles",legendTitle:"Qu son los Ingresos Sostenibles?",legendDescription:"Los <strong>Ingresos Sostenibles (IS)</strong> representan el monto de los ingresos federales provenientes de fuentes que promueven la sostenibilidad ambiental.",valueColumn:"IS ($)",positionColumn:"POS_IS",isMonetary:!0,headerClass:"header-green",colorTheme:"green"},PIC:{key:"PIC",headerTitle:"Presupuestos Intensivos en Carbono",title:"Valor Total PIC",subtitle:"Presupuestos Intensivos en Carbono",legendTitle:"Qu son los PIC?",legendDescription:"Los <strong>Presupuestos Intensivos en Carbono (PIC)</strong> representan el monto destinado a actividades con alta generacin de emisiones de carbono.",valueColumn:"PIC ($)",positionColumn:"POS_PIC",isMonetary:!0,headerClass:"header-red",colorTheme:"red"},IIC:{key:"IIC",headerTitle:"Ingresos Intensivos en Carbono",title:"Valor Total IIC",subtitle:"Ingresos Intensivos en Carbono",legendTitle:"Qu son los IIC?",legendDescription:"Los <strong>Ingresos Intensivos en Carbono (IIC)</strong> representan el monto de los ingresos provenientes de actividades relacionadas con combustibles fsiles.",valueColumn:"IIC ($)",positionColumn:"POS_IIC",isMonetary:!0,headerClass:"header-red",colorTheme:"red"}},d=[{range:"0.00 - 0.25",label:"Bajo",color:"#ef4444"},{range:"0.26 - 0.50",label:"Medio",color:"#f59e0b"},{range:"0.51 - 0.75",label:"Alto",color:"#7cb342"},{range:"0.76 - 1.00",label:"ptimo",color:"#22c55e"}],f=O(()=>{var _;return t.selectedVariable?typeof t.selectedVariable=="string"?t.selectedVariable:((_=t.selectedVariable)==null?void 0:_.key)||"IFS":"IFS"}),c=O(()=>i[f.value]||i.IFS),u=O(()=>f.value==="IFS"),v=O(()=>c.value.headerClass),h=O(()=>l.value===null||l.value===void 0?"":l.value.toFixed(2)),C=O(()=>{if(l.value===null||l.value===void 0)return"";const _=l.value;return _>=1e12?(_/1e12).toFixed(2):_>=1e9?(_/1e9).toFixed(2):_>=1e6?(_/1e6).toFixed(2):_>=1e3?(_/1e3).toFixed(2):_.toFixed(2)}),y=O(()=>{const _=l.value;return _>=1e12?"Billones":_>=1e9?"MMP":_>=1e6?"MDP":_>=1e3?"Miles":"Pesos"}),g=O(()=>Math.min(l.value,1)*365),A=O(()=>{const _=l.value;return _<=.25?0:_<=.5?1:_<=.75?2:3}),w=O(()=>{var _;return((_=d[A.value])==null?void 0:_.color)||"#94a3b8"}),I=O(()=>{var _;return((_=d[A.value])==null?void 0:_.label)||""}),x=_=>A.value===_,j=async()=>{try{console.log(" [IFSRegionalCard] Cargando datos para:",f.value,"ao:",t.selectedYear);const _=Ve("chartsPresupuestosRegional"),S=await s("chartsPresupuestosRegional",_);if(!S||S.length===0){console.warn(" [IFSRegionalCard] No hay datos");return}let m=S[0];if(t.selectedYear){const F=S.find(D=>String(D.Ao).trim()===String(t.selectedYear).trim());F&&(m=F)}console.log(" [IFSRegionalCard] Fila encontrada:",m);const k=c.value,P=k.valueColumn,V=k.positionColumn;console.log(" [IFSRegionalCard] Columnas - Valor:",P,"Posicin:",V),m.hasOwnProperty(P)?l.value=rs(m,P):(console.warn(" [IFSRegionalCard] Columna no encontrada:",P),l.value=0),m.hasOwnProperty(V)?r.value=Math.round(rs(m,V)):(console.warn(" [IFSRegionalCard] Columna no encontrada:",V),r.value=null),console.log(" [IFSRegionalCard] Valor:",l.value,"Posicin:",r.value)}catch(_){console.error(" [IFSRegionalCard] Error:",_)}};return be([()=>t.selectedYear,()=>t.selectedVariable],()=>{j()},{immediate:!1}),Le(()=>{j()}),(_,S)=>(p(),b("div",CA,[o("div",{class:he(["card-header",v.value])},[o("div",wA,[u.value?(p(),b("svg",_A,[...S[0]||(S[0]=[o("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"},null,-1)])])):(p(),b("span",SA,"$"))]),o("div",kA,[o("h3",$A,Y(c.value.headerTitle),1),S[1]||(S[1]=o("p",{class:"header-subtitle"},"Datos Federales",-1))]),o("span",xA,Y(e.selectedYear||""),1)],2),o("div",IA,[U(a)?(p(),b("div",EA,[...S[2]||(S[2]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):U(n)?(p(),b("div",PA,[o("p",null,Y(U(n)),1)])):u.value?(p(),b("div",FA,[o("div",MA,[o("div",DA,[o("span",TA,Y(c.value.title),1),o("span",RA,Y(c.value.subtitle),1)]),o("div",BA,[o("div",VA,[o("div",LA,[(p(),b("svg",NA,[S[3]||(S[3]=o("circle",{cx:"70",cy:"70",r:"58",fill:"none",stroke:"#e5e7eb","stroke-width":"10"},null,-1)),o("circle",{cx:"70",cy:"70",r:"58",fill:"none",stroke:w.value,"stroke-width":"10","stroke-linecap":"round","stroke-dasharray":`${g.value} 365`,class:"gauge-progress"},null,8,OA)])),o("div",zA,[o("span",YA,Y(h.value),1),o("span",{class:"gauge-label",style:fe({color:w.value})},Y(I.value),5)])])]),S[6]||(S[6]=o("div",{class:"metrics-divider"},null,-1)),o("div",jA,[o("div",HA,[S[5]||(S[5]=o("span",{class:"position-label"},"Posicin Internacional",-1)),o("div",GA,[S[4]||(S[4]=o("span",{class:"position-hash"},"#",-1)),o("span",qA,Y(r.value||""),1)])])])])]),o("div",UA,[o("div",WA,[S[7]||(S[7]=o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M12 16v-4M12 8h.01"})],-1)),o("span",null,Y(c.value.legendTitle),1)]),o("p",{class:"legend-description",innerHTML:c.value.legendDescription},null,8,XA),o("div",QA,[o("div",KA,[(p(),b(ge,null,_e(d,(m,k)=>o("div",{key:k,class:"scale-segment",style:fe({background:m.color})},null,4)),64))]),o("div",JA,[(p(),b(ge,null,_e(d,(m,k)=>o("div",{key:k,class:he(["scale-label",{active:x(k)}])},[o("div",{class:"label-indicator",style:fe({background:m.color})},null,4),o("div",ZA,[o("span",eC,Y(m.label),1),o("span",tC,Y(m.range),1)])],2)),64))])])])])):(p(),b("div",sC,[o("div",aC,[o("div",oC,[o("div",{class:he(["monetary-main",c.value.colorTheme])},[o("div",nC,Y(c.value.title),1),o("div",lC,[S[8]||(S[8]=o("span",{class:"monetary-currency"},"$",-1)),o("span",rC,Y(C.value),1),o("span",iC,Y(y.value),1)])],2),o("div",{class:he(["position-card",c.value.colorTheme])},[S[9]||(S[9]=o("div",{class:"position-label-monetary"},"Posicin Internacional",-1)),o("div",cC,[o("span",{class:he(["position-hash-monetary",c.value.colorTheme])},"#",2),Ke(Y(r.value||""),1)])],2)])]),o("div",uC,[o("div",dC,[S[10]||(S[10]=o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M12 16v-4M12 8h.01"})],-1)),o("span",null,Y(c.value.legendTitle),1)]),o("p",{class:"legend-description",innerHTML:c.value.legendDescription},null,8,fC)])]))])]))}},hC=Ee(vC,[["__scopeId","data-v-96c81930"]]),pC={key:0,class:"chart-header"},gC={class:"chart-title"},mC={class:"chart-content"},bC=["onMouseenter"],yC={class:"state-label"},AC={class:"bar-chart-area"},CC={class:"grid-lines"},wC={class:"bar-wrapper-horizontal"},_C={class:"bar-value"},SC={key:0,class:"empty-state"},kC={class:"x-axis"},$C={class:"x-axis-labels"},xC={class:"tick-label"},IC={class:"tooltip-content"},EC={class:"tooltip-info"},PC={class:"tooltip-label"},FC={class:"tooltip-value"},MC={class:"tooltip-classification"},DC={__name:"HorizontalRankingChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"100%"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},animationDelay:{type:Number,default:800},showAllBars:{type:Boolean,default:!1},initialBarsCount:{type:Number,default:4},valueFormatter:{type:Function,default:null},selectedState:{type:String,default:null}},setup(e){ll(_=>({"145fd0f3":v.value}));const t=e,s=z(null),a=z({visible:!1,x:0,y:0,label:"",value:"",color:""}),n=z([]),l=z({}),r=_=>{const S=parseFloat(_)||0;return S>=2.5?"#6ac952":S>=2.3?"#94d351":S>=2?"#bddc50":S>=1.8?"#e6d64f":S>=1.5?"#e6a74c":S>=.7?"#e67849":"#e52845"},i=_=>{const S=parseFloat(_)||0;return S>=2.5?"Muy Alto":S>=2.3?"Alto":S>=2?"Medio Alto":S>=1.8?"Medio":S>=1.5?"Medio Bajo":S>=.7?"Bajo":"Muy Bajo"},d=()=>{n.value=t.variables.map(_=>({key:_.key,label:_.label||_.key,value:_.value||0,colorClass:_.colorClass||"default",color:r(_.value),active:!1})),l.value={},t.variables.forEach(_=>{l.value[_.key]=0})},f=async()=>{await new Promise(S=>setTimeout(S,t.animationDelay));const _=t.showAllBars?n.value.length:Math.min(t.initialBarsCount,n.value.length);for(let S=0;S<_;S++){n.value[S].active=!0,await new Promise(P=>setTimeout(P,50));const m=I(n.value[S].value);l.value[n.value[S].key]=m;const k=t.showAllBars&&_>10?20:200;await new Promise(P=>setTimeout(P,k))}};be(()=>t.variables,()=>{d(),f()},{immediate:!0,deep:!0}),Le(()=>{f()});const c=O(()=>n.value.filter(_=>_.active)),u=_=>t.selectedState?_.label===t.selectedState||_.key===t.selectedState:!1,v=O(()=>{const _=c.value.length;if(_===0)return"100%";const S=30,m=36,P=(_-1)*3;return`calc((100% - ${S}px - ${m}px - ${P}px) / ${_})`}),h=O(()=>{const _=c.value.map(S=>S.value);return Math.max(..._,1)}),C=O(()=>{const _=h.value,S=_/5,m=[];for(let k=0;k<=5;k++){const P=S*k,V=P/_*100;m.push({value:P,label:P.toFixed(1),position:V})}return m}),y=O(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-60}px`})),g=(_,S)=>{s.value=_.key,a.value={visible:!0,x:S.clientX,y:S.clientY,label:_.label,value:_.value,color:_.color}},A=_=>{a.value.visible&&(a.value.x=_.clientX,a.value.y=_.clientY)},w=()=>{s.value=null,a.value.visible=!1},I=_=>{const S=_/h.value*100;return Math.min(S,100)},x=_=>l.value[_.key]||0,j=_=>t.valueFormatter?t.valueFormatter(_):typeof _=="number"?_.toFixed(1):_;return(_,S)=>(p(),b("div",{class:"horizontal-bar-chart",style:fe({width:e.width,height:e.height})},[e.title?(p(),b("div",pC,[o("h3",gC,Y(e.title),1)])):ce("",!0),o("div",mC,[o("div",{class:he(["bars-container",{"has-hover":s.value!==null||e.selectedState!==null}])},[(p(!0),b(ge,null,_e(c.value,m=>(p(),b("div",{key:m.key,class:he(["bar-row",{"is-hovered":s.value===m.key||u(m),"is-dimmed":s.value!==null&&s.value!==m.key||e.selectedState!==null&&!u(m)}]),onMouseenter:k=>g(m,k),onMousemove:S[0]||(S[0]=k=>A(k)),onMouseleave:w},[o("div",yC,Y(m.label),1),o("div",AC,[o("div",CC,[(p(!0),b(ge,null,_e(C.value,k=>(p(),b("div",{key:k.value,class:"grid-line",style:fe({left:k.position+"%"})},null,4))),128))]),o("div",wC,[o("div",{class:he(["bar-horizontal",m.colorClass]),style:fe({width:x(m)+"%",background:m.color})},[o("span",_C,Y(j(m.value)),1)],6)])])],42,bC))),128)),c.value.length===0?(p(),b("div",SC,[o("p",null,Y(e.emptyMessage),1)])):ce("",!0)],2),o("div",kC,[S[1]||(S[1]=o("div",{class:"x-axis-spacer"},null,-1)),o("div",$C,[(p(!0),b(ge,null,_e(C.value,m=>(p(),b("div",{key:m.value,class:"x-axis-tick",style:fe({left:m.position+"%"})},[o("span",xC,Y(m.label),1)],4))),128))])])]),(p(),Pe(Yt,{to:"body"},[a.value.visible?(p(),b("div",{key:0,class:"tooltip",style:fe(y.value)},[o("div",IC,[o("div",{class:"tooltip-color",style:fe({backgroundColor:a.value.color})},null,4),o("div",EC,[o("div",PC,Y(a.value.label),1),o("div",FC,"IFS: "+Y(j(a.value.value)),1),o("div",MC,Y(i(a.value.value)),1)])])],4)):ce("",!0)]))],4))}},TC=Ee(DC,[["__scopeId","data-v-a072162e"]]),RC={class:"emisiones-chart-container"},BC={class:"chart-content"},VC=["onMouseenter"],LC={class:"bar-label"},NC={class:"bar-track"},OC={class:"bar-value"},zC={class:"tooltip-body"},YC={class:"tooltip-value"},jC={class:"tooltip-percentage"},HC={__name:"EmisionesBarChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#0F3759","#1E5A8A","#2D7BB8","#5A9BD4","#8BBDE8"]},title:{type:String,default:""}},setup(e){const t=e,s=[{label:"Fuentes Fijas",value:3},{label:"Fuente Area",value:77},{label:"Carreteros",value:101},{label:"No Carreteros",value:5},{label:"Naturales",value:124}],a=O(()=>t.excelData||s),n=O(()=>a.value.length===0?1:Math.max(...a.value.map(h=>h.value))),l=O(()=>a.value.reduce((h,C)=>h+C.value,0)),r=h=>n.value===0?0:h/n.value*100,i=h=>h?new Intl.NumberFormat("es-MX").format(Math.round(h)):"0",d=z({visible:!1,x:0,y:0,label:"",value:0,color:"",percentage:0}),f=(h,C,y)=>{const g=l.value>0?(C.value/l.value*100).toFixed(1):0;d.value={visible:!0,x:y.clientX,y:y.clientY,label:C.label,value:C.value,color:t.colors[h%t.colors.length],percentage:g}},c=h=>{d.value.visible&&(d.value.x=h.clientX,d.value.y=h.clientY)},u=()=>{d.value.visible=!1},v=O(()=>({left:`${d.value.x+15}px`,top:`${d.value.y-60}px`}));return(h,C)=>(p(),b("div",RC,[o("div",BC,[(p(!0),b(ge,null,_e(a.value,(y,g)=>(p(),b("div",{key:g,class:"bar-row",onMouseenter:A=>f(g,y,A),onMousemove:C[0]||(C[0]=A=>c(A)),onMouseleave:u},[o("div",LC,[o("div",{class:"bar-color-dot",style:fe({backgroundColor:e.colors[g%e.colors.length]})},null,4),o("span",null,Y(y.label),1)]),o("div",NC,[o("div",{class:"bar-fill",style:fe({width:r(y.value)+"%",backgroundColor:e.colors[g%e.colors.length]})},null,4)]),o("div",OC,Y(i(y.value)),1)],40,VC))),128))]),(p(),Pe(Yt,{to:"body"},[d.value.visible?(p(),b("div",{key:0,class:"chart-tooltip",style:fe(v.value)},[o("div",{class:"tooltip-header",style:fe({borderLeftColor:d.value.color})},Y(d.value.label),5),o("div",zC,[o("span",YC,Y(i(d.value.value)),1),C[1]||(C[1]=o("span",{class:"tooltip-unit"},"toneladas",-1))]),o("div",jC,Y(d.value.percentage)+"% del total ",1)],4)):ce("",!0)]))]))}},GC=Ee(HC,[["__scopeId","data-v-366f5e5f"]]),qC={class:"ambientales-container"},UC={key:0,class:"global-empty-state"},WC={key:1,class:"card-body"},XC={class:"left-card-container"},QC={class:"incendios-card"},KC={class:"incendios-body"},JC={key:0,class:"loading-state"},ZC={key:1,class:"error-state"},ew={class:"bottle-card"},tw={class:"bottle-body"},sw={key:0,class:"loading-state-small"},aw={key:1,class:"error-state-small"},ow={class:"bottle-graph-container"},nw={class:"bottle-values"},lw={class:"bottle-value-item"},rw={class:"bottle-value-number"},iw={class:"right-card-container"},cw={class:"top-right-card-container"},uw={class:"emisiones-card"},dw={class:"emisiones-body"},fw={key:0,class:"loading-state-small"},vw={key:1,class:"error-state-small"},hw={class:"energia-card"},pw={class:"energia-body"},gw={key:0,class:"loading-state-small"},mw={key:1,class:"error-state-small"},bw={class:"gauge-graph"},yw={class:"gauge-number"},Aw={class:"bottom-right-card-container"},Cw={class:"areas-card"},ww={class:"areas-body"},_w={key:0,class:"loading-state"},Sw={key:1,class:"error-state"},kw={__name:"AmbientalesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=pt(),n=z([]),l=z(!1),r=z(null),i=async(V=null,F=null)=>{try{if(l.value=!0,r.value=null,!V){n.value=[],l.value=!1;return}F&&De(F);const D=Re("incendiosForestales"),H=Ve("incendiosForestales"),M=await a("incendiosForestales",H);if(M.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const K=M.find(te=>te[D.categoryColumn]===V);if(!K){n.value=[],l.value=!1;return}const ee=D.variables.sort((te,re)=>te.order-re.order).map(te=>({key:te.key,label:te.label,value:parseFloat(K[te.column])||0,color:te.color,colorClass:te.colorClass||"default",active:!0}));n.value=ee}catch(D){console.error(" [Incendios] Error:",D),r.value=D.message}finally{l.value=!1}},d=z(0),f=z(0),c=z(!1),u=z(null),v=async(V=null,F=null)=>{try{if(c.value=!0,u.value=null,!V){d.value=0,f.value=0,c.value=!1;return}F&&De(F);const D=Re("residuosSolidos"),H=Ve("residuosSolidos"),M=await a("residuosSolidos",H);if(M.length===0)throw new Error("No se obtuvieron datos");const K=M.reduce((te,re)=>{const pe=parseFloat(re[D.valueColumn])||0;return pe>te?pe:te},0),ee=M.find(te=>te[D.categoryColumn]===V);if(ee){const te=parseFloat(ee[D.valueColumn])||0;if(d.value=te,K>0){const re=te/K*100*100;f.value=Math.min(re,100)}else f.value=0;console.log(` [Residuos] ${V}: ${te.toLocaleString()} kg (${f.value.toFixed(1)}% botellas)`)}else d.value=0,f.value=0}catch(D){console.error(" [Residuos] Error:",D),u.value=D.message}finally{c.value=!1}},h=z([]),C=z(!1),y=z(null),g=async(V=null,F=null)=>{try{if(C.value=!0,y.value=null,!V){h.value=[],C.value=!1;return}F&&De(F);const D=Re("emisiones"),H=Ve("emisiones"),M=await a("emisiones",H);if(M.length===0)throw new Error("No se obtuvieron datos");const K=M.find(ee=>ee[D.categoryColumn]===V);K?h.value=D.variables.map(ee=>({label:ee.label,value:parseFloat(K[ee.column])||0})):h.value=[]}catch(D){console.error(" [Emisiones] Error:",D),y.value=D.message}finally{C.value=!1}},A=z(0),w=z(0),I=z(!1),x=z(null),j=async(V=null,F=null)=>{console.log(" [Energa] ========== INICIANDO CARGA =========="),console.log(" [Energa] Entity:",V,"| Year:",F);try{if(I.value=!0,x.value=null,!V){console.log(" [Energa] Sin entidad, saliendo..."),A.value=0,w.value=0,I.value=!1;return}const D=Re("energia");console.log(" [Energa] Mapping:",D);const H="2024";console.log(" [Energa] Sheet name:",H);const M=await a("energia",H);if(console.log(" [Energa] Datos obtenidos:",M.length,"filas"),M.length>0&&(console.log(" [Energa] Primera fila:",M[0]),console.log(" [Energa] Columnas disponibles:",Object.keys(M[0]))),M.length===0)throw new Error("No se obtuvieron datos");const K=M.reduce((te,re)=>{const pe=parseFloat(re[D.valueColumn])||0;return pe>te?pe:te},0);console.log(" [Energa] Valor mximo encontrado:",K);const ee=M.find(te=>te[D.categoryColumn]===V);if(console.log(" [Energa] Buscando entidad:",V),console.log(" [Energa] Fila encontrada:",ee),ee){const te=parseFloat(ee[D.valueColumn])||0;A.value=te,K>0?w.value=te/K*100:w.value=0,console.log(` [Energa] ${V}: ${te.toLocaleString()} GWh (${w.value.toFixed(1)}%)`)}else console.log(" [Energa]  No se encontr la entidad en los datos"),A.value=0,w.value=0}catch(D){console.error(" [Energa] Error:",D),x.value=D.message}finally{I.value=!1,console.log(" [Energa] ========== CARGA FINALIZADA =========="),console.log(" [Energa] Valor final:",A.value),console.log(" [Energa] Porcentaje final:",w.value)}},_=z([]),S=z(!1),m=z(null),k=async(V=null,F=null)=>{try{if(S.value=!0,m.value=null,!V){_.value=[],S.value=!1;return}F&&De(F);const D=Re("areasNaturales"),H=Ve("areasNaturales"),M=await a("areasNaturales",H);if(M.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const K=M.find(te=>te[D.categoryColumn]===V);if(!K){_.value=[],S.value=!1;return}const ee=D.variables.map(te=>({key:te.key,label:te.label,value:parseFloat(K[te.column])||0,color:te.color,colorClass:te.colorClass||"default",active:!1}));_.value=ee}catch(D){console.error(" [reas Naturales] Error:",D),m.value=D.message}finally{S.value=!1}},P=V=>V?new Intl.NumberFormat("es-MX").format(V):"0";return be(()=>s.selectedEntity,V=>{console.log(" [AmbientalesView] Entity cambi a:",V),i(V,s.selectedYear),v(V,s.selectedYear),g(V,s.selectedYear),j(V,s.selectedYear),k(V,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,V=>{console.log(" [AmbientalesView] Year cambi a:",V),s.selectedEntity&&(i(s.selectedEntity,V),v(s.selectedEntity,V),g(s.selectedEntity,V),j(s.selectedEntity,V),k(s.selectedEntity,V))},{immediate:!1}),Le(async()=>{console.log(" [AmbientalesView] Montado"),console.log(" [AmbientalesView] selectedEntity:",s.selectedEntity),console.log(" [AmbientalesView] selectedYear:",s.selectedYear),s.selectedEntity&&await Promise.all([i(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),g(s.selectedEntity,s.selectedYear),j(s.selectedEntity,s.selectedYear),k(s.selectedEntity,s.selectedYear)])}),(V,F)=>(p(),b("div",qC,[e.selectedEntity?(p(),b("div",WC,[o("div",XC,[o("div",QC,[F[4]||(F[4]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Incendios forestales en hectreas</span></div>',1)),o("div",KC,[l.value?(p(),b("div",JC,[...F[3]||(F[3]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):r.value?(p(),b("div",ZC,[o("p",null,"Error: "+Y(r.value),1),o("button",{onClick:F[0]||(F[0]=D=>i(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(ml,{key:2,variables:n.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])]),o("div",ew,[F[8]||(F[8]=ke('<div class="bottle-header" data-v-75645f7d><div class="bottle-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M3 6h18" data-v-75645f7d></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-75645f7d></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-75645f7d></path><line x1="10" y1="11" x2="10" y2="17" data-v-75645f7d></line><line x1="14" y1="11" x2="14" y2="17" data-v-75645f7d></line></svg></div><span class="bottle-header-title" data-v-75645f7d>Promedio diario de residuos slidos urbanos recolectados</span></div>',1)),o("div",tw,[c.value?(p(),b("div",sw,[...F[5]||(F[5]=[o("div",{class:"spinner-small"},null,-1)])])):u.value?(p(),b("div",aw,[...F[6]||(F[6]=[o("p",null,"Error cargando datos",-1)])])):(p(),b(ge,{key:2},[o("div",ow,[Ae(su,{value:f.value},null,8,["value"])]),o("div",nw,[o("div",lw,[o("span",rw,Y(P(d.value)),1),F[7]||(F[7]=o("span",{class:"bottle-value-unit"},"kg",-1))])])],64))])])]),o("div",iw,[o("div",cw,[o("div",uw,[F[11]||(F[11]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z" data-v-75645f7d></path><path d="M22 10a3 3 0 0 0-3-3h-2.207a5.502 5.502 0 0 0-10.702.5" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Emisiones de contaminantes atmosfricos por fuente en toneladas</span></div>',1)),o("div",dw,[C.value?(p(),b("div",fw,[...F[9]||(F[9]=[o("div",{class:"spinner-small"},null,-1)])])):y.value?(p(),b("div",vw,[...F[10]||(F[10]=[o("p",null,"Error cargando datos",-1)])])):(p(),Pe(GC,{key:2,excelData:h.value},null,8,["excelData"]))])]),o("div",hw,[F[14]||(F[14]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" data-v-75645f7d></polygon></svg></div><span class="card-header-title" data-v-75645f7d>Consumo de energa elctrica</span></div>',1)),o("div",pw,[I.value?(p(),b("div",gw,[...F[12]||(F[12]=[o("div",{class:"spinner-small"},null,-1)])])):x.value?(p(),b("div",mw,[...F[13]||(F[13]=[o("p",null,"Error cargando datos",-1)])])):(p(),b(ge,{key:2},[o("div",bw,[Ae(tu,{value:w.value},null,8,["value"])]),o("div",yw,Y(P(A.value))+" GWh",1)],64))])])]),o("div",Aw,[o("div",Cw,[F[16]||(F[16]=ke('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path><path d="M7 16v6" data-v-75645f7d></path><path d="M13 19v3" data-v-75645f7d></path><path d="M18 10v.2A3 3 0 0 1 16.9 16v0H13v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>reas naturales protegidas</span></div>',1)),o("div",ww,[S.value?(p(),b("div",_w,[...F[15]||(F[15]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):m.value?(p(),b("div",Sw,[o("p",null,"Error: "+Y(m.value),1),o("button",{onClick:F[1]||(F[1]=D=>k(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(au,{key:2,variables:_.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(p(),b("div",UC,[...F[2]||(F[2]=[ke('<div class="empty-state-content" data-v-75645f7d><div class="empty-state-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-75645f7d></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-75645f7d></line><line x1="16" y1="6" x2="16" y2="22" data-v-75645f7d></line></svg></div><h2 class="empty-state-title" data-v-75645f7d>Selecciona una entidad</h2><p class="empty-state-description" data-v-75645f7d> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores ambientales. </p></div>',1)])]))]))}},$w=Ee(kw,[["__scopeId","data-v-75645f7d"]]),xw={class:"person-chart"},Iw={class:"persons-container"},Ew={class:"person-svg",viewBox:"0 0 32 44",preserveAspectRatio:"xMidYMid meet"},Pw=["id"],Fw=["id"],Mw=["id"],Dw=["fill"],Tw=["fill"],Rw=["clip-path"],Bw=["y","height","fill"],Vw={key:0,cx:"13",cy:"7",r:"2",fill:"rgba(255,255,255,0.35)",class:"shine"},Lw={__name:"PersonChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=z([0,0,0,0,0,0,0,0,0,0]),a=r=>{const i=[];for(let c=0;c<10;c++){const u=c*10,v=(c+1)*10;if(r<=u)i.push(0);else if(r>=v)i.push(100);else{const h=(r-u)/10*100;i.push(h)}}return i},n=r=>{s.value=[0,0,0,0,0,0,0,0,0,0];const i=120;r.forEach((d,f)=>{d>0&&setTimeout(()=>{l(f,d)},i*(f+1))})},l=(r,i)=>{const f=Date.now(),c=s.value[r],u=()=>{const v=Date.now()-f,h=Math.min(v/350,1),C=1-Math.pow(1-h,3);s.value[r]=c+(i-c)*C,s.value=[...s.value],h<1&&requestAnimationFrame(u)};requestAnimationFrame(u)};return be(()=>t.value,r=>{const i=a(r);n(i)},{immediate:!1}),Le(()=>{setTimeout(()=>{const r=a(t.value);n(r)},200)}),(r,i)=>(p(),b("div",xw,[o("div",Iw,[(p(),b(ge,null,_e(10,d=>o("div",{key:d,class:"person-wrapper"},[(p(),b("svg",Ew,[o("defs",null,[o("linearGradient",{id:"emptyPersonGradient-"+d,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...i[0]||(i[0]=[o("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),o("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),o("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,Pw),o("linearGradient",{id:"filledPersonGradient-"+d,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...i[1]||(i[1]=[o("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),o("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),o("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,Fw),o("clipPath",{id:"personClip-"+d},[...i[2]||(i[2]=[o("circle",{cx:"16",cy:"10",r:"8"},null,-1),o("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z"},null,-1)])],8,Mw)]),o("circle",{cx:"16",cy:"10",r:"8",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,Dw),o("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,Tw),o("g",{"clip-path":"url(#personClip-"+d+")"},[o("rect",{x:"0",y:44-s.value[d-1]/100*44,width:"32",height:s.value[d-1]/100*44,fill:"url(#filledPersonGradient-"+d+")",class:"fill-rect"},null,8,Bw)],8,Rw),s.value[d-1]>=90?(p(),b("circle",Vw)):ce("",!0)]))])),64))])]))}},Nw=Ee(Lw,[["__scopeId","data-v-75983bbd"]]),Ow={class:"left-panel"},zw={class:"donut-container"},Yw={class:"donut-svg",viewBox:"0 0 100 100"},jw=["stroke-dasharray","stroke-dashoffset"],Hw={class:"donut-inner"},Gw=["src","alt"],qw={key:1,class:"donut-icon-placeholder"},Uw={class:"donut-percent"},Ww={class:"right-panel"},Xw={class:"main-value-section"},Qw={class:"main-label"},Kw={class:"main-value-row"},Jw={key:0,class:"currency-symbol"},Zw={class:"main-value"},e_={key:1,class:"value-unit"},t_={class:"info-grid"},s_={class:"info-item"},a_={class:"info-value"},o_={class:"info-item"},n_={class:"info-value"},l_={__name:"IconPercentageChart",props:{iconPath:{type:String,default:""},value:{type:Number,default:0,validator:e=>e>=0&&e<=100},fillColor:{type:String,default:"#1e3a5f"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},showPercentage:{type:Boolean,default:!0},altText:{type:String,default:"Icono"},animated:{type:Boolean,default:!0},animationDuration:{type:Number,default:1.5},progressiveAnimation:{type:Boolean,default:!0},startDelay:{type:Number,default:300},mainValue:{type:Number,default:0},mainLabel:{type:String,default:"PIB Estatal"},currencySymbol:{type:String,default:"$"},valueUnit:{type:String,default:"MDP"},entity:{type:String,default:""},period:{type:[String,Number],default:""}},setup(e){const t=e,s=z(0),a=z(0),n=z(!1),l=z(!1),r=O(()=>2*Math.PI*46),i=O(()=>{const u=s.value/100;return r.value*(1-u)}),d=O(()=>({width:typeof t.width=="number"?`${t.width}px`:t.width,height:typeof t.height=="number"?`${t.height}px`:t.height})),f=O(()=>t.mainValue?new Intl.NumberFormat("es-MX").format(t.mainValue):"0"),c=u=>{if(!t.progressiveAnimation||!t.animated){s.value=u,a.value=Math.round(u*100)/100;return}n.value=!0;const v=t.animationDuration*1e3,h=v*.33,C=v*.33,y=v*.34,g=Date.now(),A=()=>{const w=Date.now()-g;if(w<h){const I=w/h,x=1-Math.pow(1-I,3);s.value=x*100,a.value=Math.round(x*100*100)/100,requestAnimationFrame(A)}else if(w<h+C){const x=(w-h)/C,j=1-Math.pow(1-x,3);s.value=100-j*100,a.value=Math.round((100-j*100)*100)/100,requestAnimationFrame(A)}else if(w<v){const x=(w-h-C)/y,j=1-Math.pow(1-x,3);s.value=j*u,a.value=Math.round(j*u*100)/100,requestAnimationFrame(A)}else s.value=u,a.value=Math.round(u*100)/100,n.value=!1};requestAnimationFrame(A)};return be(()=>t.value,u=>{t.startDelay>0?setTimeout(()=>c(u),t.startDelay):c(u)}),be(()=>t.iconPath,()=>{l.value=!1}),Le(()=>{t.startDelay>0?setTimeout(()=>c(t.value),t.startDelay):c(t.value)}),(u,v)=>(p(),b("div",{class:"icon-percentage-container",style:fe(d.value)},[o("div",Ow,[o("div",zw,[(p(),b("svg",Yw,[v[1]||(v[1]=o("circle",{class:"donut-bg",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#e2e8f0","stroke-width":"5"},null,-1)),o("circle",{class:"donut-progress",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#1e3a5f","stroke-width":"5","stroke-linecap":"round","stroke-dasharray":r.value,"stroke-dashoffset":i.value,transform:"rotate(-90 50 50)"},null,8,jw)])),o("div",Hw,[e.iconPath&&!l.value?(p(),b("img",{key:0,src:e.iconPath,alt:e.altText,class:"donut-icon",onError:v[0]||(v[0]=h=>l.value=!0)},null,40,Gw)):(p(),b("div",qw,[...v[2]||(v[2]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})],-1)])]))])]),o("div",Uw,Y(a.value)+"%",1)]),o("div",Ww,[o("div",Xw,[o("span",Qw,Y(e.mainLabel),1),o("div",Kw,[e.currencySymbol?(p(),b("span",Jw,Y(e.currencySymbol),1)):ce("",!0),o("span",Zw,Y(f.value),1),e.valueUnit?(p(),b("span",e_,Y(e.valueUnit),1)):ce("",!0)])]),o("div",t_,[o("div",s_,[v[3]||(v[3]=o("span",{class:"info-label"},"Entidad",-1)),o("span",a_,Y(e.entity),1)]),o("div",o_,[v[4]||(v[4]=o("span",{class:"info-label"},"Periodo",-1)),o("span",n_,Y(e.period),1)])])])],4))}},r_=Ee(l_,[["__scopeId","data-v-5b6394c5"]]),i_={class:"bullet-chart-container"},c_={key:0,class:"chart-header"},u_={class:"chart-title"},d_={class:"bullet-label"},f_={class:"bullet-bar-container"},v_={key:1,class:"chart-legend"},h_={__name:"BulletChart",props:{variables:{type:Array,required:!0,default:()=>[]},title:{type:String,default:""},highlightState:{type:String,default:null},showLegend:{type:Boolean,default:!1},maxValue:{type:Number,default:20}},setup(e){const t=e,s=z(null),a=z(!1),n=O(()=>!t.variables||t.variables.length===0?[]:[...t.variables].sort((c,u)=>u.value-c.value)),l=()=>new Promise(c=>{if(!t.highlightState||!s.value){c();return}ze(()=>{setTimeout(()=>{const u=s.value,v=u==null?void 0:u.querySelector(".bullet-row.highlight");if(v&&u){const h=v.offsetTop,C=v.offsetHeight,y=u.clientHeight,g=h-y/2+C/2;u.scrollTo({top:Math.max(0,g),behavior:"smooth"}),setTimeout(()=>{c()},500)}else c()},100)})}),r=()=>{a.value=!0};be(()=>t.highlightState,async c=>{c&&(a.value=!1,await l(),r())},{immediate:!1}),be(()=>[t.variables,t.highlightState],async([c,u])=>{c&&c.length>0&&(a.value=!1,await ze(),u?(await l(),r()):setTimeout(()=>{r()},200))},{immediate:!0,deep:!0});const i=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),C=u*.05;return a.value?c>=0?{left:"50%",width:`${h}%`,transitionDelay:`${C}s`}:{right:"50%",width:`${h}%`,transitionDelay:`${C}s`}:{left:"50%",width:"0%",transitionDelay:`${C}s`}},d=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),C=u*.05;return a.value?c>=0?{left:`${50+h}%`,transform:"translateX(-50%)",transitionDelay:`${C}s`}:{left:`${50-h}%`,transform:"translateX(-50%)",transitionDelay:`${C}s`}:{left:"50%",transform:"translateX(-50%)",transitionDelay:`${C}s`}},f=c=>!c&&c!==0?"0.0":c>=0?`+${c.toFixed(1)}`:c.toFixed(1);return(c,u)=>(p(),b("div",i_,[e.title?(p(),b("div",c_,[o("h3",u_,Y(e.title),1)])):ce("",!0),o("div",{class:"chart-body",ref_key:"chartBodyRef",ref:s},[(p(!0),b(ge,null,_e(n.value,(v,h)=>(p(),b("div",{key:v.key||h,class:he(["bullet-row",{highlight:v.label===e.highlightState}])},[o("div",d_,Y(v.label),1),o("div",f_,[u[0]||(u[0]=o("div",{class:"background-line"},null,-1)),u[1]||(u[1]=o("div",{class:"center-marker"},null,-1)),o("div",{class:he(["value-line",{positive:v.value>=0,negative:v.value<0}]),style:fe(i(v.value,h))},null,6),o("div",{class:he(["value-dot",{positive:v.value>=0,negative:v.value<0}]),style:fe(d(v.value,h))},null,6)]),o("div",{class:he(["bullet-value",{positive:v.value>=0,negative:v.value<0}])},Y(f(v.value))+"% ",3)],2))),128))],512),e.showLegend?(p(),b("div",v_,[...u[2]||(u[2]=[o("div",{class:"legend-item"},[o("div",{class:"legend-dot negative"}),o("span",null,"Decrecimiento")],-1),o("div",{class:"legend-item"},[o("div",{class:"legend-dot positive"}),o("span",null,"Crecimiento")],-1)])])):ce("",!0)]))}},p_=Ee(h_,[["__scopeId","data-v-e6f596a8"]]),g_={class:"economicos-container"},m_={key:0,class:"global-empty-state"},b_={key:1,class:"card-body"},y_={class:"left-card-container"},A_={class:"itaee-card"},C_={class:"card-header-dark"},w_={class:"info-tooltip"},__={key:0,class:"tooltip-content"},S_={class:"itaee-body"},k_={key:0,class:"loading-state"},$_={key:1,class:"error-state"},x_={class:"pea-card"},I_={class:"card-header-dark"},E_={class:"info-tooltip"},P_={key:0,class:"tooltip-content"},F_={class:"pea-body"},M_={key:0,class:"loading-state-small"},D_={key:1,class:"error-state-small"},T_={class:"person-graph-container"},R_={class:"person-values"},B_={class:"person-value-item"},V_={class:"person-value-number"},L_={class:"right-card-container"},N_={class:"top-right-card-container"},O_={class:"pib-card"},z_={class:"card-header-dark"},Y_={class:"info-tooltip"},j_={key:0,class:"tooltip-content"},H_={class:"pib-body"},G_={key:0,class:"loading-state-small"},q_={key:1,class:"error-state-small"},U_={class:"bottom-right-card-container"},W_={class:"ingresos-card"},X_={class:"card-header-dark"},Q_={class:"info-tooltip"},K_={key:0,class:"tooltip-content"},J_={class:"ingresos-body"},Z_={key:0,class:"loading-state"},eS={key:1,class:"error-state"},tS={__name:"EconomicosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=pt(),n=z(!1),l=z(!1),r=z(!1),i=z(!1),d=F=>{if(typeof F=="number")return F;if(!F||F==="")return 0;let D=String(F).trim();if(D=D.replace(/\s/g,""),D.includes(",")&&D.includes("."))D=D.replace(/\./g,""),D=D.replace(/,/g,".");else if(D.includes(","))D=D.replace(/,/g,".");else if(D.includes(".")){const K=D.split("."),ee=K.length>2,te=K[K.length-1].length===3;(ee||K.length===2&&te)&&(D=D.replace(/\./g,""))}const M=parseFloat(D);return isNaN(M)?0:M},f=z([]),c=z(!1),u=z(null),v=async(F=null,D=null)=>{try{if(c.value=!0,u.value=null,!F){f.value=[],c.value=!1;return}D&&De(D);const H=Re("ingresoTotal"),M=Ve("ingresoTotal"),K=await a("ingresoTotal",M);if(K.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const ee=K.find(re=>re[H.categoryColumn]===F);if(!ee){f.value=[],c.value=!1;return}const te=H.variables.sort((re,pe)=>re.order-pe.order).map(re=>({key:re.key,label:re.label,value:d(ee[re.column]),color:re.color,colorClass:re.colorClass||"default",active:!0}));f.value=te}catch(H){console.error(" [Ingreso Total] Error:",H),u.value=H.message}finally{c.value=!1}},h=z(0),C=z(0),y=z(!1),g=z(null),A=async(F=null,D=null)=>{try{if(y.value=!0,g.value=null,!F){h.value=0,C.value=0,y.value=!1;return}D&&De(D);const H=Re("pea"),M=Ve("pea"),K=await a("pea",M);if(K.length===0)throw new Error("No se obtuvieron datos");const ee=K.find(te=>te[H.categoryColumn]===F);if(ee){h.value=d(ee[H.valueColumn]);const te=K.map(pe=>d(pe[H.valueColumn])).filter(pe=>pe>0),re=Math.max(...te);C.value=re>0?h.value/re*100:0}else h.value=0,C.value=0}catch(H){console.error(" [PEA] Error:",H),g.value=H.message}finally{y.value=!1}},w=z(0),I=z(0),x=z(!1),j=z(null),_=async(F=null,D=null)=>{try{if(x.value=!0,j.value=null,!F){w.value=0,I.value=0,x.value=!1;return}D&&De(D);const H=Re("pib"),M=Ve("pib"),K=await a("pib",M);if(K.length===0)throw new Error("No se obtuvieron datos");const ee=K.find(te=>te[H.categoryColumn]===F);if(ee){w.value=d(ee[H.valueColumn]);const re=K.map(pe=>d(pe[H.valueColumn])).filter(pe=>pe>0).reduce((pe,Ce)=>pe+Ce,0);I.value=re>0?w.value/re*100:0}else w.value=0,I.value=0}catch(H){console.error(" [PIB] Error:",H),j.value=H.message}finally{x.value=!1}},S=z([]),m=z(!1),k=z(null),P=async(F=null,D=null)=>{try{if(m.value=!0,k.value=null,!F){S.value=[],m.value=!1;return}D&&De(D);const H=Re("itaee"),M=Ve("itaee"),K=await a("itaee",M);if(K.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const ee=H.variables[0],te=K.map(re=>{const pe=re[H.categoryColumn],Ce=re[ee.column],oe=d(Ce);return{key:pe,label:pe,value:oe,active:!0}}).filter(re=>re.label&&re.label.trim()!=="");S.value=te}catch(H){console.error(" [ITAEE] Error:",H),k.value=H.message}finally{m.value=!1}},V=F=>F?new Intl.NumberFormat("es-MX").format(F):"0";return be(()=>s.selectedEntity,F=>{v(F,s.selectedYear),A(F,s.selectedYear),_(F,s.selectedYear),F?P(F,s.selectedYear):S.value=[]},{immediate:!1}),be(()=>s.selectedYear,F=>{s.selectedEntity&&(v(s.selectedEntity,F),A(s.selectedEntity,F),_(s.selectedEntity,F),P(s.selectedEntity,F))},{immediate:!1}),Le(async()=>{await Promise.all([v(s.selectedEntity,s.selectedYear),A(s.selectedEntity,s.selectedYear),_(s.selectedEntity,s.selectedYear),P(s.selectedEntity,s.selectedYear)])}),(F,D)=>(p(),b("div",g_,[e.selectedEntity?(p(),b("div",b_,[o("div",y_,[o("div",A_,[o("div",C_,[D[9]||(D[9]=o("div",{class:"card-header-icon"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),D[10]||(D[10]=o("span",{class:"card-header-title"},"Indicador Trimestral de la Actividad Econmica Estatal (ITAEE)",-1)),o("div",w_,[o("button",{class:"info-btn",onClick:D[0]||(D[0]=H=>i.value=!i.value)},[...D[8]||(D[8]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[i.value?(p(),b("div",__," Indicador que mide la evolucin trimestral de la actividad econmica de las entidades federativas. ")):ce("",!0)]),_:1})])]),o("div",S_,[m.value?(p(),b("div",k_,[...D[11]||(D[11]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):k.value?(p(),b("div",$_,[o("p",null,"Error: "+Y(k.value),1),o("button",{onClick:D[1]||(D[1]=H=>P(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(p_,{key:2,variables:S.value,title:"",highlightState:e.selectedEntity,showLegend:!1,maxValue:20},null,8,["variables","highlightState"]))])]),o("div",x_,[o("div",I_,[D[13]||(D[13]=ke('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-c7eae3ac></path><circle cx="9" cy="7" r="4" data-v-c7eae3ac></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-c7eae3ac></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>Poblacin econmicamente activa</span>',2)),o("div",E_,[o("button",{class:"info-btn",onClick:D[2]||(D[2]=H=>l.value=!l.value)},[...D[12]||(D[12]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[l.value?(p(),b("div",P_," Poblacin de 15 aos y ms que trabaja o busca activamente empleo en la entidad. ")):ce("",!0)]),_:1})])]),o("div",F_,[y.value?(p(),b("div",M_,[...D[14]||(D[14]=[o("div",{class:"spinner-small"},null,-1)])])):g.value?(p(),b("div",D_,[...D[15]||(D[15]=[o("p",null,"Error cargando datos",-1)])])):(p(),b(ge,{key:2},[o("div",T_,[Ae(Nw,{value:C.value},null,8,["value"])]),o("div",R_,[o("div",B_,[o("span",V_,Y(V(h.value)),1),D[16]||(D[16]=o("span",{class:"person-value-unit"},"Personas",-1))])])],64))])])]),o("div",L_,[o("div",N_,[o("div",O_,[o("div",z_,[D[18]||(D[18]=ke('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><line x1="12" y1="1" x2="12" y2="23" data-v-c7eae3ac></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>PIB Estatal (millones de pesos)</span>',2)),o("div",Y_,[o("button",{class:"info-btn",onClick:D[3]||(D[3]=H=>r.value=!r.value)},[...D[17]||(D[17]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[r.value?(p(),b("div",j_," Producto Interno Bruto Estatal (PIBE), valor anual en millones de pesos corrientes. ")):ce("",!0)]),_:1})])]),o("div",H_,[x.value?(p(),b("div",G_,[...D[19]||(D[19]=[o("div",{class:"spinner-small"},null,-1)])])):j.value?(p(),b("div",q_,[D[20]||(D[20]=o("p",null,"Error al cargar datos",-1)),o("button",{onClick:D[4]||(D[4]=H=>_(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(r_,{key:2,iconPath:"/public/icons/pib-icon.png",value:I.value,mainValue:w.value,mainLabel:"PIB Estatal",currencySymbol:"$",valueUnit:"MDP",entity:e.selectedEntity,period:e.selectedYear,animated:!0,animationDuration:1.5,startDelay:300,showPercentage:!0},null,8,["value","mainValue","entity","period"]))])])]),o("div",U_,[o("div",W_,[o("div",X_,[D[22]||(D[22]=ke('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><rect x="1" y="4" width="22" height="16" rx="2" ry="2" data-v-c7eae3ac></rect><line x1="1" y1="10" x2="23" y2="10" data-v-c7eae3ac></line></svg></div><span class="card-header-title" data-v-c7eae3ac>Ingresos y Egresos Totales</span>',2)),o("div",Q_,[o("button",{class:"info-btn",onClick:D[5]||(D[5]=H=>n.value=!n.value)},[...D[21]||(D[21]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[n.value?(p(),b("div",K_," Comparativa de ingresos y egresos totales de la entidad federativa seleccionada en miles de pesos. ")):ce("",!0)]),_:1})])]),o("div",J_,[c.value?(p(),b("div",Z_,[...D[23]||(D[23]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):u.value?(p(),b("div",eS,[o("p",null,"Error: "+Y(u.value),1),o("button",{onClick:D[6]||(D[6]=H=>v(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(ml,{key:2,variables:f.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(p(),b("div",m_,[...D[7]||(D[7]=[ke('<div class="empty-state-content" data-v-c7eae3ac><div class="empty-state-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-c7eae3ac></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-c7eae3ac></line><line x1="16" y1="6" x2="16" y2="22" data-v-c7eae3ac></line></svg></div><h2 class="empty-state-title" data-v-c7eae3ac>Selecciona una entidad</h2><p class="empty-state-description" data-v-c7eae3ac> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores econmicos. </p></div>',1)])]))]))}},sS=Ee(tS,[["__scopeId","data-v-c7eae3ac"]]),aS={class:"bars-list"},oS={class:"bar-left"},nS={class:"bar-label"},lS={class:"bar-center"},rS={class:"bar-background"},iS={class:"bar-right"},cS={class:"bar-value"},uS={class:"bar-percentage"},dS={__name:"HorizontalBarsList",props:{data:{type:Array,required:!0,default:()=>[]},showIcons:{type:Boolean,default:!0},formatAsCurrency:{type:Boolean,default:!1}},setup(e){const t=e,s=z(null),a=O(()=>!t.data||t.data.length===0?[]:[...t.data].sort((u,v)=>v.value-u.value)),n=O(()=>a.value.length===0?0:a.value.reduce((u,v)=>u+v.value,0)),l=O(()=>a.value.length===0?100:Math.max(...a.value.map(u=>u.value))),r=u=>n.value===0?0:Math.round(u/n.value*100),i=u=>l.value===0?0:Math.round(u/l.value*100),d=u=>u?t.formatAsCurrency?u>=1e6?`$${(u/1e6).toFixed(1)}M`:u>=1e3?`$${(u/1e3).toFixed(0)}K`:`$${Math.round(u)}`:u<10?u.toFixed(1):Math.round(u).toString():"0",f=u=>{(!u||!u.startsWith("#"))&&(u="#0F3759");const v=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),C=parseInt(u.slice(5,7),16),y=Math.max(0,v-30),g=Math.max(0,h-30),A=Math.max(0,C-30);return`linear-gradient(135deg, rgb(${v}, ${h}, ${C}) 0%, rgb(${y}, ${g}, ${A}) 100%)`},c=u=>({"Tasa de participacin":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),de("circle",{cx:"9",cy:"7",r:"4"}),de("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),de("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]),"Tasa de informalidad laboral":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),de("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]),"Tasa de desocupacin":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"}),de("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]),"CONEVAL 2020":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),de("polyline",{points:"14 2 14 8 20 8"}),de("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),de("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]),"PNUD 2022":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"}),de("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),de("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]),"Agua y drenaje":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})]),Residuos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polyline",{points:"3 6 5 6 21 6"}),de("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M12 2v20M2 12h20M7.5 7.5l9 9M16.5 7.5l-9 9"})]),"Cambio Climtico":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})]),Asentamientos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),de("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),de("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]),Admsostenible:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),de("path",{d:"M9 9h6v6H9z"})]),Transporte:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"1",y:"3",width:"15",height:"13"}),de("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),de("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),de("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),de("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),de("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),de("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),de("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),de("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})])})[u]||(()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"})]));return(u,v)=>(p(),b("div",{class:"horizontal-bars-container",ref_key:"containerRef",ref:s},[o("div",aS,[(p(!0),b(ge,null,_e(a.value,(h,C)=>(p(),b("div",{key:C,class:"bar-item",style:fe({animationDelay:`${C*.05}s`})},[o("div",oS,[o("div",{class:"bar-icon",style:fe({background:f(h.color)})},[(p(),Pe(Yi(c(h.label))))],4),o("span",nS,Y(h.label),1)]),o("div",lS,[o("div",rS,[o("div",{class:"bar-fill",style:fe({width:`${i(h.value)}%`,background:h.color})},null,4)])]),o("div",iS,[o("span",cS,Y(d(h.value)),1),o("span",uS,Y(r(h.value))+"%",1)])],4))),128))])],512))}},qr=Ee(dS,[["__scopeId","data-v-80a58244"]]),fS={class:"person-chart"},vS=["viewBox"],hS=["cy","r","stroke"],pS=["cy","rx","ry"],gS=["transform"],mS={class:"scale-dots-indicator"},bS={class:"dots-container"},yS={__name:"ScalablePerson",props:{value:{type:Number,default:0}},setup(e){const t=e,s=O(()=>{if(t.value===0)return 0;const i=5e4,d=1e7,f=Math.log10(t.value),c=Math.log10(i),u=Math.log10(d),v=(f-c)/(u-c)*100;return Math.max(0,Math.min(100,v))}),a=O(()=>{const i=t.value;return i>=8e6?5:i>=4e6?4:i>=2e6?3:i>=1e6?2:1}),n=O(()=>95),l=O(()=>.9+s.value/100*.4),r=O(()=>n.value-22);return(i,d)=>(p(),b("div",fS,[(p(),b("svg",{viewBox:`0 0 100 ${n.value}`,class:"person-svg"},[d[1]||(d[1]=ke('<defs data-v-c85839ac><linearGradient id="personGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#2d5a87" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><linearGradient id="personGradientHead" x1="0%" y1="0%" x2="100%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#1e3a5f" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><filter id="personShadow" data-v-c85839ac><feDropShadow dx="0" dy="3" stdDeviation="2" flood-opacity="0.25" data-v-c85839ac></feDropShadow></filter></defs>',1)),(p(),b(ge,null,_e(3,(f,c)=>o("circle",{key:"ring-"+c,cx:"50",cy:r.value,r:l.value*(25+c*15),fill:"none",stroke:"rgba(30, 58, 95, "+(.15-c*.04)+")","stroke-width":"1.5",class:"pulse-ring",style:fe({animationDelay:c*.4+"s"})},null,12,hS)),64)),o("ellipse",{cx:50,cy:n.value-2,rx:l.value*15,ry:l.value*4,fill:"rgba(15, 55, 89, 0.15)",class:"ground-shadow"},null,8,pS),o("g",{transform:`translate(50, ${r.value}) scale(${l.value})`,class:"person-figure",filter:"url(#personShadow)"},[...d[0]||(d[0]=[ke('<circle cx="0" cy="-30" r="10" fill="url(#personGradientHead)" class="person-head" data-v-c85839ac></circle><ellipse cx="-3" cy="-33" rx="3" ry="2" fill="rgba(255, 255, 255, 0.25)" data-v-c85839ac></ellipse><rect x="-7" y="-20" width="14" height="24" rx="3" fill="url(#personGradient)" class="person-body" data-v-c85839ac></rect><rect x="-15" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-left" data-v-c85839ac></rect><rect x="7" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-right" data-v-c85839ac></rect><rect x="-6" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-left" data-v-c85839ac></rect><rect x="2" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-right" data-v-c85839ac></rect>',7)])],8,gS)],8,vS)),o("div",mS,[o("div",bS,[(p(),b(ge,null,_e(5,f=>o("span",{key:f,class:he(["dot",{active:f<=a.value}])},null,2)),64))])])]))}},AS=Ee(yS,[["__scopeId","data-v-c85839ac"]]),CS={class:"idh-tree-container"},wS={__name:"IDHGauge",props:{value:{type:Number,default:0},maxValue:{type:Number,default:1}},setup(e){return(t,s)=>(p(),b("div",CS,[...s[0]||(s[0]=[ke('<svg viewBox="0 0 100 100" class="tree-svg" data-v-dc59d38c><defs data-v-dc59d38c><linearGradient id="trunkGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#0F3759" data-v-dc59d38c></stop><stop offset="100%" stop-color="#1a4d7a" data-v-dc59d38c></stop></linearGradient><linearGradient id="leavesGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#1a4d7a" data-v-dc59d38c></stop><stop offset="100%" stop-color="#2d5f8d" data-v-dc59d38c></stop></linearGradient></defs><g class="roots" opacity="0.3" data-v-dc59d38c><path d="M 50 85 Q 42 90 38 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path><path d="M 50 85 Q 58 90 62 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path></g><rect x="45" y="60" width="10" height="25" rx="1" fill="url(#trunkGradient)" class="trunk" data-v-dc59d38c></rect><g class="leaves" data-v-dc59d38c><ellipse cx="50" cy="60" rx="24" ry="16" fill="url(#leavesGradient)" class="leaf-layer leaf-bottom" data-v-dc59d38c></ellipse><ellipse cx="50" cy="50" rx="20" ry="14" fill="url(#leavesGradient)" class="leaf-layer leaf-middle" opacity="0.9" data-v-dc59d38c></ellipse><ellipse cx="50" cy="42" rx="15" ry="12" fill="url(#leavesGradient)" class="leaf-layer leaf-top" opacity="0.85" data-v-dc59d38c></ellipse></g><g class="detail-leaves" data-v-dc59d38c><circle cx="38" cy="56" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-1" data-v-dc59d38c></circle><circle cx="62" cy="54" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-2" data-v-dc59d38c></circle><circle cx="46" cy="46" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-3" data-v-dc59d38c></circle><circle cx="54" cy="48" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-4" data-v-dc59d38c></circle></g><g class="star-top" data-v-dc59d38c><circle cx="50" cy="34" r="3.5" fill="#4E6D82" opacity="0.8" class="star-glow" data-v-dc59d38c></circle><path d="M 50 30 L 50.5 33 L 53.5 33 L 51 35 L 52 38 L 50 36 L 48 38 L 49 35 L 46.5 33 L 49.5 33 Z" fill="white" opacity="0.9" class="star-shape" data-v-dc59d38c></path></g></svg>',1)])]))}},_S=Ee(wS,[["__scopeId","data-v-dc59d38c"]]),SS={class:"sociales-container"},kS={key:0,class:"global-empty-state"},$S={key:1,class:"card-body"},xS={class:"top-row"},IS={class:"desocupacion-section card"},ES={class:"card-header-dark"},PS={class:"info-tooltip"},FS={key:0,class:"tooltip-content"},MS={class:"card-body-content"},DS={key:0,class:"loading-state"},TS={key:1,class:"error-state"},RS={class:"rezago-section card"},BS={class:"card-header-dark"},VS={class:"info-tooltip"},LS={key:0,class:"tooltip-content"},NS={class:"card-body-content"},OS={key:0,class:"loading-state-small"},zS={key:1,class:"error-state-small"},YS={key:2,class:"indicator-content"},jS={class:"indicator-stats-row"},HS={class:"indicator-stat-card"},GS={class:"stat-info"},qS={class:"stat-value"},US={class:"indicator-stat-card"},WS={class:"stat-info full-width"},XS={class:"indicator-progress-section"},QS={class:"progress-header"},KS={class:"progress-value-text"},JS={class:"animated-progress-bar"},ZS={class:"progress-track"},ek={class:"gini-section card"},tk={class:"card-header-dark"},sk={class:"info-tooltip"},ak={key:0,class:"tooltip-content"},ok={class:"card-body-content"},nk={key:0,class:"loading-state"},lk={key:1,class:"error-state"},rk={class:"bottom-row"},ik={class:"marginacion-section card"},ck={class:"card-header-dark"},uk={class:"info-tooltip"},dk={key:0,class:"tooltip-content"},fk={class:"card-body-content"},vk={key:0,class:"loading-state-small"},hk={key:1,class:"error-state-small"},pk={key:2,class:"indicator-content horizontal-layout"},gk={class:"indicator-stats-column"},mk={class:"indicator-stat-card horizontal"},bk={class:"stat-info"},yk={class:"stat-value large"},Ak={class:"indicator-stat-card horizontal"},Ck={class:"stat-info"},wk={class:"indicator-progress-column"},_k={class:"circular-progress-container"},Sk={class:"circular-progress",viewBox:"0 0 100 100"},kk={class:"circular-progress-text"},$k={class:"progress-number"},xk={class:"idh-section card"},Ik={class:"card-header-dark"},Ek={class:"info-tooltip"},Pk={key:0,class:"tooltip-content"},Fk={class:"card-body-content"},Mk={key:0,class:"loading-state-small"},Dk={key:1,class:"error-state-small"},Tk={key:2,class:"idh-content"},Rk={class:"idh-main-content"},Bk={class:"idh-value-display"},Vk={class:"idh-big-value"},Lk={class:"idh-gauge-container"},Nk={class:"poblacion-section card"},Ok={class:"card-header-dark"},zk={class:"info-tooltip"},Yk={key:0,class:"tooltip-content"},jk={class:"card-body-content"},Hk={key:0,class:"loading-state-small"},Gk={key:1,class:"error-state-small"},qk={key:2,class:"poblacion-content-new"},Uk={class:"poblacion-header"},Wk={class:"poblacion-value-large"},Xk={class:"poblacion-visual"},Qk={__name:"SocialesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=pt(),n=z(!1),l=z(!1),r=z(!1),i=z(!1),d=z(!1),f=z(!1),c=J=>{if(typeof J=="number")return J;if(!J||J==="")return 0;let T=String(J).trim();T=T.replace(/\s/g,""),T=T.replace(/\./g,""),T=T.replace(/,/g,".");const ae=parseFloat(T);return isNaN(ae)?0:ae},u=J=>{if(!J)return"badge-blue-default";const T=J.toLowerCase();return T.includes("muy bajo")?"badge-blue-lightest":T.includes("bajo")?"badge-blue-light":T.includes("medio")?"badge-blue-medium":T.includes("alto")&&!T.includes("muy")?"badge-blue-dark":T.includes("muy alto")?"badge-blue-darkest":"badge-blue-default"},v=J=>{const T=2*Math.PI*40;return T-J/100*T},h=z([]),C=z(!1),y=z(null),g=async(J=null,T=null)=>{try{if(C.value=!0,y.value=null,!J){h.value=[],C.value=!1;return}T&&De(T);const ae=Re("desocupacion"),G=Ve("desocupacion"),E=await a("desocupacion",G);if(E.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const $=E.find(Q=>Q[ae.categoryColumn]===J);if(!$){h.value=[],C.value=!1;return}const R=ae.variables.sort((Q,Z)=>Q.order-Z.order).map(Q=>({key:Q.key,label:Q.label,value:c($[Q.column]),color:Q.color||"#0F3759",colorClass:Q.colorClass||"blue",active:!0}));h.value=R}catch(ae){console.error(" [Desocupacin] Error:",ae),y.value=ae.message}finally{C.value=!1}},A=z(0),w=z(""),I=z(0),x=z(!1),j=z(null),_=async(J=null,T=null)=>{try{if(x.value=!0,j.value=null,!J){A.value=0,w.value="",I.value=0,x.value=!1;return}T&&De(T);const ae=Re("marginacion"),G=Ve("marginacion"),E=await a("marginacion",G);if(E.length===0)throw new Error("No se obtuvieron datos");const $=E.find(R=>R[ae.categoryColumn]===J);$?(A.value=c($[ae.variables[0].column]),w.value=$[ae.variables[1].column]||"",I.value=c($[ae.variables[2].column])):(A.value=0,w.value="",I.value=0)}catch(ae){console.error(" [Marginacin] Error:",ae),j.value=ae.message}finally{x.value=!1}},S=z(0),m=z(!1),k=z(null),P=async(J=null,T=null)=>{try{if(m.value=!0,k.value=null,!J){S.value=0,m.value=!1;return}T&&De(T);const ae=Re("idh"),G=Ve("idh"),E=await a("idh",G);if(E.length===0)throw new Error("No se obtuvieron datos");const $=E.find(R=>R[ae.categoryColumn]===J);$?S.value=c($[ae.variables[0].column]):S.value=0}catch(ae){console.error(" [IDH] Error:",ae),k.value=ae.message}finally{m.value=!1}},V=z(0),F=z(0),D=z(!1),H=z(null),M=async(J=null,T=null)=>{try{if(D.value=!0,H.value=null,!J){V.value=0,F.value=0,D.value=!1;return}T&&De(T);const ae=Re("poblacion"),G=Ve("poblacion"),E=await a("poblacion",G);if(E.length===0)throw new Error("No se obtuvieron datos");const $=E.find(R=>R[ae.categoryColumn]===J);if($){V.value=c($[ae.variables[0].column]);const R=E.map(Z=>c(Z[ae.variables[0].column])).filter(Z=>Z>0),Q=Math.max(...R);F.value=Q>0?V.value/Q*100:0}else V.value=0,F.value=0}catch(ae){console.error(" [Poblacin] Error:",ae),H.value=ae.message}finally{D.value=!1}},K=z(0),ee=z(""),te=z(!1),re=z(null),pe=async(J=null,T=null)=>{try{if(te.value=!0,re.value=null,!J){K.value=0,ee.value="",te.value=!1;return}T&&De(T);const ae=Re("rezagoSocial"),G=Ve("rezagoSocial"),E=await a("rezagoSocial",G);if(E.length===0)throw new Error("No se obtuvieron datos");const $=E.find(R=>R[ae.categoryColumn]===J);$?(K.value=c($[ae.variables[0].column]),ee.value=$[ae.variables[1].column]||""):(K.value=0,ee.value="")}catch(ae){console.error(" [Rezago Social] Error:",ae),re.value=ae.message}finally{te.value=!1}},Ce=J=>{if(J===0)return 50;if(J<0){const G=50-Math.abs(J)/Math.abs(-13e5)*50;return Math.max(0,G)}else{const G=50+J/27e5*50;return Math.min(100,G)}},oe=z([]),se=z(!1),B=z(null),q=async(J=null,T=null)=>{try{if(se.value=!0,B.value=null,!J){oe.value=[],se.value=!1;return}T&&De(T);const ae=Re("indiceGini"),G=Ve("indiceGini"),E=await a("indiceGini",G);if(E.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const $=E.find(Q=>Q[ae.categoryColumn]===J);if(!$){oe.value=[],se.value=!1;return}const R=ae.variables.sort((Q,Z)=>Q.order-Z.order).map(Q=>({key:Q.key,label:Q.label,value:c($[Q.column]),color:Q.color||"#0F3759",colorClass:Q.colorClass||"blue",active:!0}));oe.value=R}catch(ae){console.error(" [ndice Gini] Error:",ae),B.value=ae.message}finally{se.value=!1}},L=J=>J?new Intl.NumberFormat("es-MX").format(J):"0",X=J=>J?J>=1e6?(J/1e6).toFixed(2)+"M":J>=1e3?(J/1e3).toFixed(0)+"K":new Intl.NumberFormat("es-MX").format(J):"0";return be(()=>s.selectedEntity,J=>{g(J,s.selectedYear),_(J,s.selectedYear),P(J,s.selectedYear),M(J,s.selectedYear),pe(J,s.selectedYear),q(J,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,J=>{s.selectedEntity&&(g(s.selectedEntity,J),_(s.selectedEntity,J),P(s.selectedEntity,J),M(s.selectedEntity,J),pe(s.selectedEntity,J),q(s.selectedEntity,J))},{immediate:!1}),Le(async()=>{await Promise.all([g(s.selectedEntity,s.selectedYear),_(s.selectedEntity,s.selectedYear),P(s.selectedEntity,s.selectedYear),M(s.selectedEntity,s.selectedYear),pe(s.selectedEntity,s.selectedYear),q(s.selectedEntity,s.selectedYear)])}),(J,T)=>(p(),b("div",SS,[e.selectedEntity?(p(),b("div",$S,[o("div",xS,[o("div",IS,[o("div",ES,[T[10]||(T[10]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="12" cy="7" r="4" data-v-ca4b2c59></circle><line x1="8" y1="11" x2="16" y2="11" data-v-ca4b2c59></line></svg></div><span class="card-header-title" data-v-ca4b2c59>Tasas de Desocupacin y Participacin</span>',2)),o("div",PS,[o("button",{class:"info-btn",onClick:T[0]||(T[0]=ae=>n.value=!n.value)},[...T[9]||(T[9]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[n.value?(p(),b("div",FS," Indicadores de empleo que muestran la tasa de desocupacin y participacin laboral en la entidad. ")):ce("",!0)]),_:1})])]),o("div",MS,[C.value?(p(),b("div",DS,[...T[11]||(T[11]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):y.value?(p(),b("div",TS,[o("p",null,"Error: "+Y(y.value),1),o("button",{onClick:T[1]||(T[1]=ae=>g(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(qr,{key:2,data:h.value,showIcons:!0},null,8,["data"]))])]),o("div",RS,[o("div",BS,[T[13]||(T[13]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" data-v-ca4b2c59></path><polyline points="9 22 9 12 15 12 15 22" data-v-ca4b2c59></polyline></svg></div><span class="card-header-title" data-v-ca4b2c59>Rezago Social</span>',2)),o("div",VS,[o("button",{class:"info-btn",onClick:T[2]||(T[2]=ae=>l.value=!l.value)},[...T[12]||(T[12]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[l.value?(p(),b("div",LS," ndice que mide carencias sociales como educacin, salud, servicios bsicos y vivienda. ")):ce("",!0)]),_:1})])]),o("div",NS,[te.value?(p(),b("div",OS,[...T[14]||(T[14]=[o("div",{class:"spinner-small"},null,-1)])])):re.value?(p(),b("div",zS,[...T[15]||(T[15]=[o("p",null,"Error cargando datos",-1)])])):(p(),b("div",YS,[o("div",jS,[o("div",HS,[T[17]||(T[17]=o("div",{class:"stat-icon-wrapper blue-gradient"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})])],-1)),o("div",GS,[T[16]||(T[16]=o("span",{class:"stat-label"},"NDICE",-1)),o("span",qS,Y(L(K.value)),1)])]),o("div",US,[o("div",WS,[T[18]||(T[18]=o("span",{class:"stat-label"},"GRADO",-1)),o("div",{class:he(["stat-badge",u(ee.value)])},Y(ee.value||"Sin datos"),3)])])]),o("div",XS,[o("div",QS,[T[19]||(T[19]=o("span",{class:"progress-title"},"NORMALIZADO",-1)),o("span",KS,Y(Ce(K.value).toFixed(1))+"%",1)]),o("div",JS,[o("div",ZS,[o("div",{class:"progress-fill animated",style:fe({"--target-width":Ce(K.value)+"%"})},null,4),T[20]||(T[20]=ke('<div class="progress-markers" data-v-ca4b2c59><span class="marker" style="left:0%;" data-v-ca4b2c59>0</span><span class="marker" style="left:25%;" data-v-ca4b2c59>25</span><span class="marker center" style="left:50%;" data-v-ca4b2c59>50</span><span class="marker" style="left:75%;" data-v-ca4b2c59>75</span><span class="marker" style="left:100%;" data-v-ca4b2c59>100</span></div>',1))])])])]))])]),o("div",ek,[o("div",tk,[T[22]||(T[22]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><line x1="18" y1="20" x2="18" y2="10" data-v-ca4b2c59></line><line x1="12" y1="20" x2="12" y2="4" data-v-ca4b2c59></line><line x1="6" y1="20" x2="6" y2="14" data-v-ca4b2c59></line><path d="M2 20h20" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Gini (Desigualdad)</span>',2)),o("div",sk,[o("button",{class:"info-btn",onClick:T[3]||(T[3]=ae=>r.value=!r.value)},[...T[21]||(T[21]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[r.value?(p(),b("div",ak," Mide la desigualdad en la distribucin del ingreso. 0 = igualdad perfecta, 1 = desigualdad mxima. ")):ce("",!0)]),_:1})])]),o("div",ok,[se.value?(p(),b("div",nk,[...T[23]||(T[23]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):B.value?(p(),b("div",lk,[o("p",null,"Error: "+Y(B.value),1),o("button",{onClick:T[4]||(T[4]=ae=>q(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(p(),Pe(qr,{key:2,data:oe.value,showIcons:!0},null,8,["data"]))])])]),o("div",rk,[o("div",ik,[o("div",ck,[T[25]||(T[25]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" data-v-ca4b2c59></path><circle cx="12" cy="10" r="3" data-v-ca4b2c59></circle></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Marginacin</span>',2)),o("div",uk,[o("button",{class:"info-btn",onClick:T[5]||(T[5]=ae=>i.value=!i.value)},[...T[24]||(T[24]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[i.value?(p(),b("div",dk," Medida de dficit y carencias que padece la poblacin en educacin, vivienda e ingresos. ")):ce("",!0)]),_:1})])]),o("div",fk,[x.value?(p(),b("div",vk,[...T[26]||(T[26]=[o("div",{class:"spinner-small"},null,-1)])])):j.value?(p(),b("div",hk,[...T[27]||(T[27]=[o("p",null,"Error cargando datos",-1)])])):(p(),b("div",pk,[o("div",gk,[o("div",mk,[T[29]||(T[29]=o("div",{class:"stat-icon-wrapper blue-gradient"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),o("circle",{cx:"12",cy:"10",r:"3"})])],-1)),o("div",bk,[T[28]||(T[28]=o("span",{class:"stat-label"},"NDICE",-1)),o("span",yk,Y(L(A.value)),1)])]),o("div",Ak,[o("div",Ck,[T[30]||(T[30]=o("span",{class:"stat-label"},"GRADO DE MARGINACIN",-1)),o("div",{class:he(["stat-badge large",u(w.value)])},Y(w.value||"Sin datos"),3)])])]),o("div",wk,[o("div",_k,[(p(),b("svg",Sk,[T[31]||(T[31]=o("circle",{class:"progress-bg",cx:"50",cy:"50",r:"40"},null,-1)),o("circle",{class:"progress-ring animated",cx:"50",cy:"50",r:"40",style:fe({"--target-offset":v(I.value*100)})},null,4)])),o("div",kk,[o("span",$k,Y((I.value*100).toFixed(0)),1),T[32]||(T[32]=o("span",{class:"progress-percent"},"%",-1))])]),T[33]||(T[33]=o("span",{class:"progress-subtitle"},"Normalizado",-1))])]))])]),o("div",xk,[o("div",Ik,[T[35]||(T[35]=o("div",{class:"card-header-icon"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),T[36]||(T[36]=o("span",{class:"card-header-title"},"ndice de Desarrollo Humano (IDH)",-1)),o("div",Ek,[o("button",{class:"info-btn",onClick:T[6]||(T[6]=ae=>d.value=!d.value)},[...T[34]||(T[34]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[d.value?(p(),b("div",Pk," Indicador que mide el desarrollo humano considerando salud, educacin y nivel de vida. ")):ce("",!0)]),_:1})])]),o("div",Fk,[m.value?(p(),b("div",Mk,[...T[37]||(T[37]=[o("div",{class:"spinner-small"},null,-1)])])):k.value?(p(),b("div",Dk,[...T[38]||(T[38]=[o("p",null,"Error cargando datos",-1)])])):(p(),b("div",Tk,[o("div",Rk,[o("div",Bk,[o("span",Vk,Y(S.value.toFixed(3)),1),T[39]||(T[39]=o("span",{class:"idh-label"},"ndice de Desarrollo Humano",-1))]),o("div",Lk,[Ae(_S,{value:S.value,maxValue:1},null,8,["value"])])])]))])]),o("div",Nk,[o("div",Ok,[T[41]||(T[41]=ke('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="9" cy="7" r="4" data-v-ca4b2c59></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-ca4b2c59></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>Poblacin Total</span>',2)),o("div",zk,[o("button",{class:"info-btn",onClick:T[7]||(T[7]=ae=>f.value=!f.value)},[...T[40]||(T[40]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),Ae(mt,{name:"tooltip-fade"},{default:ut(()=>[f.value?(p(),b("div",Yk," Nmero total de habitantes en la entidad federativa segn el ltimo censo. ")):ce("",!0)]),_:1})])]),o("div",jk,[D.value?(p(),b("div",Hk,[...T[42]||(T[42]=[o("div",{class:"spinner-small"},null,-1)])])):H.value?(p(),b("div",Gk,[...T[43]||(T[43]=[o("p",null,"Error cargando datos",-1)])])):(p(),b("div",qk,[o("div",Uk,[o("span",Wk,Y(X(V.value)),1),T[44]||(T[44]=o("span",{class:"poblacion-subtitle"},"Personas",-1))]),o("div",Xk,[Ae(AS,{value:V.value},null,8,["value"])])]))])])])])):(p(),b("div",kS,[...T[8]||(T[8]=[ke('<div class="empty-state-content" data-v-ca4b2c59><div class="empty-state-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-ca4b2c59></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-ca4b2c59></line><line x1="16" y1="6" x2="16" y2="22" data-v-ca4b2c59></line></svg></div><h2 class="empty-state-title" data-v-ca4b2c59>Selecciona una entidad</h2><p class="empty-state-description" data-v-ca4b2c59> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores sociales. </p></div>',1)])]))]))}},Kk=Ee(Qk,[["__scopeId","data-v-ca4b2c59"]]),Jk={class:"gobernabilidad-container"},Zk={key:0,class:"global-empty-state"},e$={key:1,class:"card-body"},t$={class:"main-header"},s$={class:"header-left"},a$={class:"header-info"},o$={class:"header-title"},n$={class:"header-subtitle"},l$={class:"header-right"},r$={class:"mini-donut"},i$={width:"32",height:"32",class:"donut-svg"},c$=["stroke-dashoffset"],u$={class:"donut-value"},d$={class:"mini-donut-label"},f$={class:"top-row"},v$={class:"section-card"},h$={class:"section-header"},p$={class:"section-value"},g$={key:0,class:"section-content loading-state"},m$={key:1,class:"section-content satisfaccion-content"},b$={class:"bars-container"},y$={class:"bar-column"},A$={class:"bar-value-text federal-color"},C$={class:"bar-track"},w$={class:"bar-column"},_$={class:"bar-value-text estatal-color"},S$={class:"bar-track"},k$={class:"section-card"},$$={key:0,class:"section-content loading-state"},x$={key:1,class:"section-content indices-content"},I$={class:"indice-row"},E$={class:"indice-content"},P$={class:"indice-header"},F$={class:"indice-value"},M$={class:"indice-bar"},D$={class:"indice-row"},T$={class:"indice-content"},R$={class:"indice-header"},B$={class:"indice-value"},V$={class:"indice-bar"},L$={class:"indice-row"},N$={class:"indice-content"},O$={class:"indice-header"},z$={class:"indice-value"},Y$={class:"indice-bar"},j$={class:"section-card"},H$={key:0,class:"section-content loading-state"},G$={key:1,class:"section-content pbrsed-content"},q$={class:"pbrsed-grid"},U$={class:"pbrsed-card"},W$={class:"pbrsed-icon-wrapper"},X$={class:"pbrsed-mini-ring"},Q$={width:"16",height:"16",viewBox:"0 0 16 16"},K$=["stroke-dashoffset"],J$={class:"pbrsed-value"},Z$={class:"pbrsed-card"},e4={class:"pbrsed-icon-wrapper"},t4=["stroke"],s4={class:"bottom-row"},a4={class:"section-card ici-card"},o4={class:"section-header"},n4={class:"section-value"},l4={key:0,class:"section-content loading-state"},r4={key:1,class:"section-content ici-content"},i4={class:"ici-row"},c4={class:"ici-bar-container"},u4={class:"ici-bar"},d4={class:"ici-bar-value"},f4={class:"ici-row"},v4={class:"ici-bar-container"},h4={class:"ici-bar"},p4={class:"ici-bar-value"},g4={class:"ici-row"},m4={class:"ici-bar-container"},b4={class:"ici-bar"},y4={class:"ici-bar-value"},A4={class:"ici-row"},C4={class:"ici-bar-container"},w4={class:"ici-bar"},_4={class:"ici-bar-value"},S4={__name:"GobernabilidadView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=pt(),n=H=>{if(typeof H=="number")return H;if(!H||H===""||H==="NA"||H==="ND")return 0;let M=String(H).trim();M=M.replace(/\s/g,""),M=M.replace(/\./g,""),M=M.replace(/,/g,".");const K=parseFloat(M);return isNaN(K)?0:K},l=z(0),r=z(0),i=z(!1),d=O(()=>((l.value+r.value)/2).toFixed(1)),f=async(H,M)=>{try{if(i.value=!0,!H){l.value=0,r.value=0;return}M&&De(M);const K=Re("satisfaccionFederal"),ee=Ve("satisfaccionFederal"),te=await a("satisfaccionFederal",ee),re=Re("satisfaccionEstatal"),pe=Ve("satisfaccionEstatal"),Ce=await a("satisfaccionEstatal",pe),oe=te.find(B=>B[K.categoryColumn]===H),se=Ce.find(B=>B[re.categoryColumn]===H);l.value=oe?n(oe[K.variables[0].column]):0,r.value=se?n(se[re.variables[0].column]):0}catch(K){console.error(" [Satisfaccin] Error:",K)}finally{i.value=!1}},c=z(0),u=z(0),v=z(0),h=z(!1),C=O(()=>[{label:"IGOPP",value:c.value},{label:"BIPE",value:u.value},{label:"ITDIF",value:v.value}]),y=async(H,M)=>{try{if(h.value=!0,!H){c.value=0,u.value=0,v.value=0;return}M&&De(M);const K=Re("IGOPP"),ee=Ve("IGOPP"),re=(await a("IGOPP",ee)).find(J=>J[K.categoryColumn]===H);c.value=re?n(re[K.variables[0].column]):0;const pe=Re("BIPE"),Ce=Ve("BIPE"),se=(await a("BIPE",Ce)).find(J=>J[pe.categoryColumn]===H);u.value=se?n(se[pe.variables[0].column]):0;const B=Re("ITDIF"),q=Ve("ITDIF"),X=(await a("ITDIF",q)).find(J=>J[B.categoryColumn]===H);v.value=X?n(X[B.variables[0].column]):0}catch(K){console.error(" [ndices] Error:",K)}finally{h.value=!1}},g=z(0),A=z(0),w=z(0),I=z(0),x=z(!1),j=async(H,M)=>{try{if(x.value=!0,!H){g.value=0,A.value=0,w.value=0,I.value=0;return}M&&De(M);const K=Re("ICI"),ee=Ve("ICI"),re=(await a("ICI",ee)).find(pe=>pe[K.categoryColumn]===H);re&&(g.value=n(re[K.variables[0].column]),A.value=n(re[K.variables[1].column]),w.value=n(re[K.variables[2].column]),I.value=n(re[K.variables[3].column]))}catch(K){console.error(" [ICI] Error:",K)}finally{x.value=!1}},_=z(0),S=z("N/A"),m=z(!1),k=O(()=>{const H=S.value.toLowerCase();return H.includes("alto")&&!H.includes("medio")?"diagnostico-alto":H.includes("medio")?"diagnostico-medio":H.includes("bajo")?"diagnostico-bajo":""}),P=O(()=>{const H=S.value.toLowerCase();return H.includes("alto")&&!H.includes("medio")?"diagnostico-bg-alto":H.includes("medio")?"diagnostico-bg-medio":H.includes("bajo")?"diagnostico-bg-bajo":"diagnostico-bg-default"}),V=O(()=>{const H=S.value.toLowerCase();return H.includes("alto")&&!H.includes("medio")?"#059669":H.includes("medio")?"#d97706":H.includes("bajo")?"#dc2626":"#0F3759"}),F=async(H,M)=>{try{if(m.value=!0,!H){_.value=0,S.value="N/A";return}M&&De(M);const K=Re("PBRSED"),ee=Ve("PBRSED"),re=(await a("PBRSED",ee)).find(pe=>pe[K.categoryColumn]===H);re&&(_.value=n(re[K.variables[0].column]),S.value=re[K.variables[1].column]||"N/A")}catch(K){console.error(" [PBRSED] Error:",K)}finally{m.value=!1}},D=async(H,M)=>{await Promise.all([f(H,M),y(H,M),j(H,M),F(H,M)])};return be(()=>s.selectedEntity,H=>{D(H,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,H=>{s.selectedEntity&&D(s.selectedEntity,H)},{immediate:!1}),Le(()=>{D(s.selectedEntity,s.selectedYear)}),(H,M)=>(p(),b("div",Jk,[e.selectedEntity?(p(),b("div",e$,[o("div",t$,[o("div",s$,[M[1]||(M[1]=o("div",{class:"header-icon-badge"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[o("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o("polyline",{points:"9 22 9 12 15 12 15 22"})])],-1)),o("div",a$,[o("span",o$,"Gobernabilidad y Transparencia "+Y(e.selectedYear),1),o("span",n$,Y(e.selectedEntity),1)])]),o("div",l$,[(p(!0),b(ge,null,_e(C.value,(K,ee)=>(p(),b("div",{key:ee,class:"mini-donut-container"},[o("div",r$,[(p(),b("svg",i$,[M[2]||(M[2]=o("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"rgba(255,255,255,0.2)","stroke-width":"2.5"},null,-1)),o("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"white","stroke-width":"2.5","stroke-dasharray":75.4,"stroke-dashoffset":75.4-K.value/100*75.4,"stroke-linecap":"round",class:"progress-ring"},null,8,c$)])),o("span",u$,Y(Math.round(K.value)),1)]),o("span",d$,Y(K.label),1)]))),128))])]),o("div",f$,[o("div",v$,[o("div",h$,[M[3]||(M[3]=ke('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-4b3266d1></path><circle cx="9" cy="7" r="4" data-v-4b3266d1></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-4b3266d1></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>Satisfaccin Ciudadana</span></div>',1)),o("span",p$,Y(d.value)+"%",1)]),i.value?(p(),b("div",g$,[...M[4]||(M[4]=[o("div",{class:"spinner"},null,-1)])])):(p(),b("div",m$,[o("div",b$,[o("div",y$,[o("span",A$,Y(l.value)+"%",1),o("div",C$,[o("div",{class:"bar-fill federal-fill",style:fe({height:l.value+"%"})},null,4)]),M[5]||(M[5]=o("div",{class:"bar-label"},[o("span",{class:"dot federal-dot"}),o("span",null,"Federal")],-1))]),M[7]||(M[7]=o("div",{class:"separator"},[o("div",{class:"sep-line"}),o("span",{class:"sep-text"},"vs"),o("div",{class:"sep-line"})],-1)),o("div",w$,[o("span",_$,Y(r.value)+"%",1),o("div",S$,[o("div",{class:"bar-fill estatal-fill",style:fe({height:r.value+"%"})},null,4)]),M[6]||(M[6]=o("div",{class:"bar-label"},[o("span",{class:"dot estatal-dot"}),o("span",null,"Estatal")],-1))])])]))]),o("div",k$,[M[15]||(M[15]=ke('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><path d="M12 6v6l4 2" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>ndices de Gobierno</span></div></div>',1)),h.value?(p(),b("div",$$,[...M[8]||(M[8]=[o("div",{class:"spinner"},null,-1)])])):(p(),b("div",x$,[o("div",I$,[M[10]||(M[10]=ke('<div class="indice-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><path d="M3 21h18" data-v-4b3266d1></path><path d="M5 21V7l7-4 7 4v14" data-v-4b3266d1></path><path d="M9 21v-6h6v6" data-v-4b3266d1></path></svg></div>',1)),o("div",E$,[o("div",P$,[M[9]||(M[9]=o("span",{class:"indice-label"},"IGOPP",-1)),o("span",F$,Y(c.value),1)]),o("div",M$,[o("div",{class:"indice-bar-fill",style:fe({width:c.value+"%"})},null,4)])])]),o("div",D$,[M[12]||(M[12]=o("div",{class:"indice-icon"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[o("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),o("path",{d:"M9 12l2 2 4-4"})])],-1)),o("div",T$,[o("div",R$,[M[11]||(M[11]=o("span",{class:"indice-label"},"BIPE",-1)),o("span",B$,Y(u.value),1)]),o("div",V$,[o("div",{class:"indice-bar-fill",style:fe({width:u.value+"%"})},null,4)])])]),o("div",L$,[M[14]||(M[14]=o("div",{class:"indice-icon"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[o("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o("polyline",{points:"14 2 14 8 20 8"})])],-1)),o("div",N$,[o("div",O$,[M[13]||(M[13]=o("span",{class:"indice-label"},"ITDIF",-1)),o("span",z$,Y(v.value),1)]),o("div",Y$,[o("div",{class:"indice-bar-fill",style:fe({width:Math.min(v.value,100)+"%"})},null,4)])])])]))]),o("div",j$,[M[22]||(M[22]=ke('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="12" y1="1" x2="12" y2="23" data-v-4b3266d1></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>PbR-SED</span></div></div>',1)),m.value?(p(),b("div",H$,[...M[16]||(M[16]=[o("div",{class:"spinner"},null,-1)])])):(p(),b("div",G$,[o("div",q$,[o("div",U$,[o("div",W$,[M[18]||(M[18]=ke('<div class="pbrsed-icon-bg" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div>',1)),o("div",X$,[(p(),b("svg",Q$,[M[17]||(M[17]=o("circle",{cx:"8",cy:"8",r:"6",fill:"white",stroke:"#e5e7eb","stroke-width":"1.5"},null,-1)),o("circle",{cx:"8",cy:"8",r:"5",fill:"none",stroke:"#0F3759","stroke-width":"1.5","stroke-dasharray":31.4,"stroke-dashoffset":31.4-_.value/100*31.4,"stroke-linecap":"round",transform:"rotate(-90 8 8)"},null,8,K$)]))])]),o("span",J$,Y(_.value),1),M[19]||(M[19]=o("span",{class:"pbrsed-label"},"PBRSED",-1))]),o("div",Z$,[o("div",e4,[o("div",{class:he(["pbrsed-icon-bg",P.value])},[(p(),b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:V.value,"stroke-width":"2"},[...M[20]||(M[20]=[o("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),o("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"},null,-1),o("path",{d:"M9 14l2 2 4-4"},null,-1)])],8,t4))],2)]),o("span",{class:he(["pbrsed-value diagnostico-text",k.value])},Y(S.value),3),M[21]||(M[21]=o("span",{class:"pbrsed-label"},"DIAGNSTICO",-1))])])]))])]),o("div",s4,[o("div",a4,[o("div",o4,[M[23]||(M[23]=ke('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div><span class="section-title" data-v-4b3266d1>ICI</span></div>',1)),o("span",n4,Y(g.value),1)]),x.value?(p(),b("div",l4,[...M[24]||(M[24]=[o("div",{class:"spinner"},null,-1)])])):(p(),b("div",r4,[o("div",i4,[M[25]||(M[25]=ke('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><rect x="3" y="3" width="18" height="18" rx="2" data-v-4b3266d1></rect><line x1="8" y1="15" x2="8" y2="9" data-v-4b3266d1></line><line x1="12" y1="15" x2="12" y2="7" data-v-4b3266d1></line><line x1="16" y1="15" x2="16" y2="11" data-v-4b3266d1></line></svg></div><span class="ici-label" data-v-4b3266d1>ICI General</span>',2)),o("div",c4,[o("div",u4,[o("div",{class:"ici-bar-fill",style:fe({width:Math.min(g.value,100)+"%"})},[o("span",d4,Y(g.value),1)],4)])])]),o("div",f4,[M[26]||(M[26]=ke('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><line x1="10" y1="6" x2="21" y2="6" data-v-4b3266d1></line><line x1="10" y1="12" x2="21" y2="12" data-v-4b3266d1></line><line x1="10" y1="18" x2="21" y2="18" data-v-4b3266d1></line><path d="M3 6l2 2 4-4" data-v-4b3266d1></path><path d="M3 12l2 2 4-4" data-v-4b3266d1></path><path d="M3 18l2 2 4-4" data-v-4b3266d1></path></svg></div><span class="ici-label" data-v-4b3266d1>Consistencia</span>',2)),o("div",v4,[o("div",h4,[o("div",{class:"ici-bar-fill",style:fe({width:Math.min(A.value,100)+"%"})},[o("span",p4,Y(A.value),1)],4)])])]),o("div",g4,[M[27]||(M[27]=o("div",{class:"ici-icon"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[o("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])],-1)),M[28]||(M[28]=o("span",{class:"ici-label"},"Proyectos",-1)),o("div",m4,[o("div",b4,[o("div",{class:"ici-bar-fill",style:fe({width:Math.min(w.value,100)+"%"})},[o("span",y4,Y(w.value),1)],4)])])]),o("div",A4,[M[29]||(M[29]=ke('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><circle cx="12" cy="12" r="6" data-v-4b3266d1></circle><circle cx="12" cy="12" r="2" data-v-4b3266d1></circle></svg></div><span class="ici-label" data-v-4b3266d1>Indicadores</span>',2)),o("div",C4,[o("div",w4,[o("div",{class:"ici-bar-fill",style:fe({width:Math.min(I.value,100)+"%"})},[o("span",_4,Y(I.value),1)],4)])])])]))])])])):(p(),b("div",Zk,[...M[0]||(M[0]=[ke('<div class="empty-state-content" data-v-4b3266d1><div class="empty-state-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-4b3266d1><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-4b3266d1></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-4b3266d1></line><line x1="16" y1="6" x2="16" y2="22" data-v-4b3266d1></line></svg></div><h2 class="empty-state-title" data-v-4b3266d1>Selecciona una entidad</h2><p class="empty-state-description" data-v-4b3266d1> Selecciona una entidad federativa para ver los indicadores de gobernabilidad. </p></div>',1)])]))]))}},k4=Ee(S4,[["__scopeId","data-v-4b3266d1"]]),$4={class:"sector-finance-container"},x4={class:"section-header"},I4={class:"section-title"},E4={class:"header-stats"},P4={class:"stat-pill finance"},F4={class:"stat-value"},M4={class:"stat-pill programs"},D4={class:"stat-value"},T4={class:"sectors-grid"},R4={class:"sector-main"},B4={class:"sector-name-row"},V4={class:"sector-name"},L4={class:"sector-percentage"},N4={class:"bar-track"},O4={class:"sector-values"},z4={class:"value-finance"},Y4={class:"value-number"},j4={class:"value-programs"},H4={class:"section-footer"},G4={class:"footer-stat"},q4={class:"footer-value"},U4={class:"footer-stat"},W4={class:"footer-value"},X4={class:"footer-stat"},Q4={class:"footer-value"},K4={__name:"SectorFinanceCard",props:{financiamientos:{type:Array,default:()=>[]},programas:{type:Array,default:()=>[]},title:{type:String,default:"Financiamientos y Programas por Sector"}},setup(e){const t=e,s=O(()=>!t.financiamientos||t.financiamientos.length===0?[]:t.financiamientos.map(g=>{const A=t.programas.find(w=>{var I,x;return w.key===g.key||w.label===g.label||((I=w.label)==null?void 0:I.toLowerCase())===((x=g.label)==null?void 0:x.toLowerCase())});return{key:g.key,label:g.label,financiamiento:g.value||0,programas:A?A.value:0,color:g.color||"#0F3759"}}).sort((g,A)=>A.financiamiento-g.financiamiento)),a=O(()=>s.value.reduce((g,A)=>g+A.financiamiento,0)),n=O(()=>s.value.reduce((g,A)=>g+A.programas,0)),l=O(()=>s.value.filter(g=>g.financiamiento>0||g.programas>0).length),r=O(()=>l.value===0?0:a.value/l.value),i=O(()=>s.value.length===0?0:n.value/s.value.length),d=O(()=>s.value.length===0?100:Math.max(...s.value.map(g=>g.financiamiento))),f=g=>d.value===0?0:Math.round(g/d.value*100),c=g=>a.value===0?0:Math.round(g/a.value*100),u=g=>!g||g===0?"$0":g>=1e9?`$${(g/1e9).toFixed(1)}B`:g>=1e6?`$${(g/1e6).toFixed(1)}M`:g>=1e3?`$${(g/1e3).toFixed(0)}K`:`$${Math.round(g).toLocaleString("es-MX")}`,v=g=>((!g||!g.startsWith("#"))&&(g="#0F3759"),`linear-gradient(135deg, ${g} 0%, ${C(g,15)} 100%)`),h=(g,A)=>{if(!g||!g.startsWith("#"))return"#4a90d9";const w=parseInt(g.slice(1),16),I=Math.round(2.55*A),x=Math.min(255,(w>>16)+I),j=Math.min(255,(w>>8&255)+I),_=Math.min(255,(w&255)+I);return`#${(1<<24|x<<16|j<<8|_).toString(16).slice(1)}`},C=(g,A)=>{if(!g||!g.startsWith("#"))return"#0a2540";const w=parseInt(g.slice(1),16),I=Math.round(2.55*A),x=Math.max(0,(w>>16)-I),j=Math.max(0,(w>>8&255)-I),_=Math.max(0,(w&255)-I);return`#${(1<<24|x<<16|j<<8|_).toString(16).slice(1)}`},y=g=>({"Agua y drenaje":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),de("path",{d:"M3 9h18M9 21V9"})]),Residuos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polyline",{points:"3 6 5 6 21 6"}),de("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M7 20l4-16M17 20V4M3 8h4M17 8h4M6 16h4"})]),"Cambio Climtico":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"5"}),de("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),de("line",{x1:"12",y1:"21",x2:"12",y2:"23"})]),Asentamientos:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),de("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),de("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]),Admsostenible:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),de("polyline",{points:"22 4 12 14.01 9 11.01"})]),Transporte:()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("rect",{x:"1",y:"3",width:"15",height:"13"}),de("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),de("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),de("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"1"}),de("circle",{cx:"19",cy:"12",r:"1"}),de("circle",{cx:"5",cy:"12",r:"1"})])})[g]||(()=>de("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[de("circle",{cx:"12",cy:"12",r:"10"})]));return(g,A)=>(p(),b("div",$4,[o("div",x4,[o("h3",I4,Y(e.title),1),o("div",E4,[o("div",P4,[A[0]||(A[0]=o("span",{class:"stat-icon"},"",-1)),o("span",F4,Y(u(a.value)),1)]),o("div",M4,[A[1]||(A[1]=o("span",{class:"stat-icon"},"",-1)),o("span",D4,Y(n.value)+" prog.",1)])])]),o("div",T4,[(p(!0),b(ge,null,_e(s.value,(w,I)=>(p(),b("div",{key:w.key,class:he(["sector-row",{"has-data":w.financiamiento>0||w.programas>0}]),style:fe({animationDelay:`${I*.03}s`})},[o("div",{class:"sector-icon",style:fe({background:v(w.color)})},[(p(),Pe(Yi(y(w.label))))],4),o("div",R4,[o("div",B4,[o("span",V4,Y(w.label),1),o("span",L4,Y(c(w.financiamiento))+"%",1)]),o("div",N4,[o("div",{class:"bar-fill",style:fe({width:`${f(w.financiamiento)}%`,background:`linear-gradient(90deg, ${w.color} 0%, ${h(w.color,20)} 100%)`})},null,4)])]),o("div",O4,[o("div",z4,[o("span",Y4,Y(u(w.financiamiento)),1),A[2]||(A[2]=o("span",{class:"value-label"},"Financiamiento",-1))]),A[4]||(A[4]=o("div",{class:"value-divider"},null,-1)),o("div",j4,[o("div",{class:he(["programs-circle",{active:w.programas>0}]),style:fe(w.programas>0?{background:w.color}:{})},Y(w.programas),7),A[3]||(A[3]=o("span",{class:"value-label"},"Prog.",-1))])])],6))),128))]),o("div",H4,[o("div",G4,[o("span",q4,Y(l.value)+"/"+Y(s.value.length),1),A[5]||(A[5]=o("span",{class:"footer-label"},"Sectores",-1))]),A[8]||(A[8]=o("div",{class:"footer-divider"},null,-1)),o("div",U4,[o("span",W4,Y(u(r.value)),1),A[6]||(A[6]=o("span",{class:"footer-label"},"Prom/sector",-1))]),A[9]||(A[9]=o("div",{class:"footer-divider"},null,-1)),o("div",X4,[o("span",Q4,Y(i.value.toFixed(1)),1),A[7]||(A[7]=o("span",{class:"footer-label"},"Prog. prom",-1))])])]))}},J4=Ee(K4,[["__scopeId","data-v-bcf9c46f"]]),Z4={class:"presupuestos-container"},ex={key:0,class:"global-empty-state"},tx={key:1,class:"card-body"},sx={class:"top-section"},ax={key:0,class:"loading-state-inline"},ox={key:1,class:"error-state-inline"},nx={key:2,class:"presupuesto-compact"},lx={class:"presupuesto-left"},rx={class:"presupuesto-info"},ix={class:"presupuesto-label"},cx={class:"presupuesto-entity"},ux={class:"presupuesto-center"},dx={class:"presupuesto-value"},fx={class:"presupuesto-right"},vx={class:"mini-stat"},hx={class:"mini-stat-value"},px={class:"mini-stat"},gx={class:"mini-stat-value"},mx={class:"mini-stat"},bx={class:"mini-stat-value"},yx={class:"bottom-section"},Ax={class:"combined-section"},Cx={key:0,class:"loading-state"},wx={key:1,class:"error-state"},_x={__name:"PresupuestosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=pt(),n=S=>{if(typeof S=="number")return S;if(!S||S===""||S==="NA"||S==="ND"||S==="N/A")return 0;let m=String(S).trim();m=m.replace(/\s/g,""),m=m.replace(/\./g,""),m=m.replace(/,/g,".");const k=parseFloat(m);return isNaN(k)?0:k},l=z(0),r=z(!1),i=z(null),d=async(S=null,m=null)=>{try{if(r.value=!0,i.value=null,!S){l.value=0,r.value=!1;return}m&&De(m);const k=Re("presupuestoEstatal"),P=Ve("presupuestoEstatal"),V=await a("presupuestoEstatal",P);if(V.length===0)throw new Error("No se obtuvieron datos");const F=V.find(D=>D[k.categoryColumn]===S);F?l.value=n(F[k.variables[0].column]):l.value=0}catch(k){i.value=k.message}finally{r.value=!1}},f=z([]),c=z(!1),u=z(null),v=async(S=null,m=null)=>{try{if(c.value=!0,u.value=null,!S){f.value=[],c.value=!1;return}m&&De(m);const k=Re("financiamientos"),P=Ve("financiamientos"),V=await a("financiamientos",P);if(V.length===0)throw new Error("No se obtuvieron datos");const F=V.find(H=>H[k.categoryColumn]===S);if(!F){f.value=[],c.value=!1;return}const D=k.variables.sort((H,M)=>H.order-M.order).map(H=>({key:H.key,label:H.label,value:n(F[H.column]),color:H.color,colorClass:H.colorClass||"blue",active:!0}));f.value=D}catch(k){u.value=k.message}finally{c.value=!1}},h=z([]),C=z(!1),y=z(null),g=async(S=null,m=null)=>{try{if(C.value=!0,y.value=null,!S){h.value=[],C.value=!1;return}m&&De(m);const k=Re("programas"),P=Ve("programas"),V=await a("programas",P);if(V.length===0)throw new Error("No se obtuvieron datos");const F=V.find(H=>H[k.categoryColumn]===S);if(!F){h.value=[],C.value=!1;return}const D=k.variables.sort((H,M)=>H.order-M.order).map(H=>({key:H.key,label:H.label,value:n(F[H.column]),color:H.color,colorClass:H.colorClass||"blue",active:!0}));h.value=D}catch(k){y.value=k.message}finally{C.value=!1}},A=O(()=>f.value.filter(S=>S.value>0).length),w=O(()=>h.value.reduce((S,m)=>S+m.value,0)),I=O(()=>f.value.reduce((S,m)=>S+m.value,0)),x=S=>S?S>=1e9?(S/1e9).toFixed(2)+" B":S>=1e6?(S/1e6).toFixed(2)+" M":S>=1e3?(S/1e3).toFixed(2)+" K":new Intl.NumberFormat("es-MX").format(S):"0",j=S=>!S||S===0?"$0":S>=1e9?`$${(S/1e9).toFixed(1)}B`:S>=1e6?`$${(S/1e6).toFixed(1)}M`:S>=1e3?`$${(S/1e3).toFixed(0)}K`:`$${Math.round(S)}`,_=()=>{d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),g(s.selectedEntity,s.selectedYear)};return be(()=>s.selectedEntity,S=>{d(S,s.selectedYear),v(S,s.selectedYear),g(S,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,S=>{s.selectedEntity&&(d(s.selectedEntity,S),v(s.selectedEntity,S),g(s.selectedEntity,S))},{immediate:!1}),Le(async()=>{await Promise.all([d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),g(s.selectedEntity,s.selectedYear)])}),(S,m)=>(p(),b("div",Z4,[e.selectedEntity?(p(),b("div",tx,[o("div",sx,[r.value?(p(),b("div",ax,[...m[1]||(m[1]=[o("div",{class:"spinner-mini"},null,-1)])])):i.value?(p(),b("div",ox,[...m[2]||(m[2]=[o("span",null,"Error cargando datos",-1)])])):(p(),b("div",nx,[o("div",lx,[m[3]||(m[3]=o("div",{class:"icon-badge"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),o("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})])],-1)),o("div",rx,[o("span",ix,"Presupuesto Estatal "+Y(e.selectedYear),1),o("span",cx,Y(e.selectedEntity),1)])]),o("div",ux,[m[4]||(m[4]=o("span",{class:"currency"},"$",-1)),o("span",dx,Y(x(l.value)),1),m[5]||(m[5]=o("span",{class:"currency-unit"},"MDP",-1))]),o("div",fx,[o("div",vx,[o("span",hx,Y(A.value),1),m[6]||(m[6]=o("span",{class:"mini-stat-label"},"Sectores",-1))]),o("div",px,[o("span",gx,Y(w.value),1),m[7]||(m[7]=o("span",{class:"mini-stat-label"},"Programas",-1))]),o("div",mx,[o("span",bx,Y(j(I.value)),1),m[8]||(m[8]=o("span",{class:"mini-stat-label"},"Financ.",-1))])])]))]),o("div",yx,[o("div",Ax,[c.value||C.value?(p(),b("div",Cx,[...m[9]||(m[9]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):u.value||y.value?(p(),b("div",wx,[o("p",null,"Error: "+Y(u.value||y.value),1),o("button",{onClick:_,class:"retry-btn"},"Reintentar")])):(p(),Pe(J4,{key:2,financiamientos:f.value,programas:h.value,title:"Financiamientos y Programas por Sector"},null,8,["financiamientos","programas"]))])])])):(p(),b("div",ex,[...m[0]||(m[0]=[ke('<div class="empty-state-content" data-v-12808adb><div class="empty-state-icon" data-v-12808adb><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-12808adb><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-12808adb></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-12808adb></line><line x1="16" y1="6" x2="16" y2="22" data-v-12808adb></line></svg></div><h2 class="empty-state-title" data-v-12808adb>Selecciona una entidad</h2><p class="empty-state-description" data-v-12808adb> Selecciona una entidad federativa para ver los indicadores de presupuesto. </p></div>',1)])]))]))}},Sx=Ee(_x,[["__scopeId","data-v-12808adb"]]),kx={key:0,class:"collapsed-view"},$x={key:1,class:"expanded-view"},xx={key:0,class:"buttons-container"},Ix={key:1,class:"inner-card"},Ex={key:2,class:"inner-card"},Px={key:3,class:"inner-card"},Fx={key:4,class:"inner-card"},Mx={key:5,class:"inner-card"},Dx={key:6,class:"inner-card"},Tx={class:"card-header"},Rx={class:"card-header-title"},Bx={class:"empty-state"},Vx={__name:"QualitativePanel",props:{isExpanded:{type:Boolean,default:!1},selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["toggle","category-click","years-loaded","panel-closed"],setup(e,{emit:t}){const s=e,a=t,n=z(null),{fetchSheetNames:l}=pt(),u={ambientales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet AMBIENTALES...");const A=(await l("incendiosForestales")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos AMBIENTALES encontrados:",A),a("years-loaded",A)}catch(g){console.error(" [QualitativePanel] Error cargando aos ambientales:",g)}},economicos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet ECONMICOS...");const A=(await l("ingresoTotal")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos ECONMICOS encontrados:",A),a("years-loaded",A)}catch(g){console.error(" [QualitativePanel] Error cargando aos econmicos:",g)}},sociales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet SOCIALES...");const A=(await l("desocupacion")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos SOCIALES encontrados:",A),a("years-loaded",A)}catch(g){console.error(" [QualitativePanel] Error cargando aos sociales:",g)}},presupuestos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet PRESUPUESTOS...");const A=(await l("presupuestoEstatal")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos PRESUPUESTOS encontrados:",A),a("years-loaded",A)}catch(g){console.error(" [QualitativePanel] Error cargando aos presupuestos:",g)}},gobernabilidad:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet GOBERNABILIDAD...");const A=(await l("satisfaccionFederal")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos GOBERNABILIDAD encontrados:",A),a("years-loaded",A)}catch(g){console.error(" [QualitativePanel] Error cargando aos gobernabilidad:",g)}}};be(()=>s.selectedEntity,(g,A)=>{console.log(" [QualitativePanel] Entidad cambi"),console.log("  - Anterior:",A),console.log("  - Nueva:",g),console.log("  - Categora activa:",n.value)},{immediate:!0}),be(()=>s.selectedYear,(g,A)=>{console.log(" [QualitativePanel] Ao cambi"),console.log("  - Anterior:",A),console.log("  - Nuevo:",g),console.log("  - Categora activa:",n.value)},{immediate:!0});const v=()=>{console.log(" [QualitativePanel] Toggle panel"),console.log("  - isExpanded:",s.isExpanded),console.log("  - selectedCategory:",n.value),s.isExpanded&&n.value?(console.log(" Volviendo a men de categoras..."),n.value=null,a("panel-closed")):s.isExpanded&&!n.value?(console.log(" Cerrando panel completamente..."),a("toggle"),a("panel-closed")):(console.log(" Abriendo panel..."),a("toggle"))},h=async g=>{console.log(" [QualitativePanel] Categora seleccionada:",g),console.log(" Entidad actual:",s.selectedEntity),console.log(" Ao actual:",s.selectedYear),n.value=g;const A=u[g];A?(console.log(` Cargando aos para categora: ${g}...`),await A()):console.warn(` No hay cargador de aos definido para: ${g}`)},C=()=>{console.log(" [QualitativePanel] Volviendo al men principal..."),n.value=null,a("panel-closed")},y=g=>({ambientales:"Ambientales",economicos:"Econmicos",sociales:"Sociales",presupuestos:"Presupuestos y financiamiento",gobernabilidad:"Gobernabilidad y transparencia"})[g]||g;return(g,A)=>(p(),b("div",{class:he(["qualitative-panel",{expanded:e.isExpanded}])},[e.isExpanded?(p(),b("div",$x,[o("div",{class:"header-panel"},[A[5]||(A[5]=o("div",{class:"hamburger-menu"},[o("img",{src:gl,alt:"hamburger-menu",class:"hamburger-icon"})],-1)),A[6]||(A[6]=o("h1",{class:"header-title"},"Indicadores Cualitativos",-1)),o("div",{class:"expand-btn",onClick:v},"  ")]),n.value?n.value==="ambientales"?(p(),b("div",Ix,[Ae($w,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):n.value==="economicos"?(p(),b("div",Ex,[Ae(sS,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):n.value==="sociales"?(p(),b("div",Px,[Ae(Kk,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):n.value==="presupuestos"?(p(),b("div",Fx,[Ae(Sx,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):n.value==="gobernabilidad"?(p(),b("div",Mx,[Ae(k4,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:C},null,8,["selectedEntity","selectedYear"])])):(p(),b("div",Dx,[o("div",Tx,[o("button",{class:"back-btn",onClick:C}," Volver"),o("h1",Rx,Y(y(n.value)),1)]),o("div",Bx,[A[12]||(A[12]=o("div",{class:"empty-icon"},"",-1)),A[13]||(A[13]=o("h3",null,"Prximamente",-1)),o("p",null,"Los indicadores de "+Y(y(n.value).toLowerCase())+" estarn disponibles pronto.",1)])])):(p(),b("div",xx,[o("div",{class:"qualitative-btn",onClick:A[0]||(A[0]=kt(w=>h("ambientales"),["stop"]))},[...A[7]||(A[7]=[o("span",{class:"title-btn"},"Ambientales",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:A[1]||(A[1]=kt(w=>h("economicos"),["stop"]))},[...A[8]||(A[8]=[o("span",{class:"title-btn"},"Econmicos",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:A[2]||(A[2]=kt(w=>h("sociales"),["stop"]))},[...A[9]||(A[9]=[o("span",{class:"title-btn"},"Sociales",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:A[3]||(A[3]=kt(w=>h("presupuestos"),["stop"]))},[...A[10]||(A[10]=[o("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),o("span",{class:"plus-btn"},"+",-1)])]),o("div",{class:"qualitative-btn",onClick:A[4]||(A[4]=kt(w=>h("gobernabilidad"),["stop"]))},[...A[11]||(A[11]=[o("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),o("span",{class:"plus-btn"},"+",-1)])])]))])):(p(),b("div",kx,[o("div",{class:"expand-btn",onClick:v}," + ")]))],2))}},Lx=Ee(Vx,[["__scopeId","data-v-e2a5a907"]]);function Nx(){const e=z([]),t=z(!1),s=z(null),a=z([]),n=z(null),{fetchData:l}=pt(),r=u=>{const v=Re("rankingCuantitativo");if(!u||!u.key)return console.log(" Usando columna por defecto: IFSS"),v.columnsByVariable.IFSS;const h=v.columnsByVariable[u.key];return h?(console.log(` Usando columna: ${h} para variable: ${u.key}`),h):(console.warn(` No se encontr columna para variable: ${u.key}, usando IFSS`),v.columnsByVariable.IFSS)},i=(u,v)=>{const C=Re("rankingCuantitativo").stateColumn,g=u.map(A=>{const w=A[C],I=A[v];let x=I;return typeof I=="string"&&(x=I.replace(/^["']+|["']+$/g,"").trim(),x===""||x==='""'||x==='"""'?x="0":x.includes(",")&&(x=x.replace(/\./g,"").replace(",","."))),{key:w,label:w,value:parseFloat(x)||0,colorClass:"blue",color:null}}).filter(A=>A.label&&A.label.trim()!=="").sort((A,w)=>w.value-A.value);return console.log(` Ranking transformado: ${g.length} estados`),console.log(` Ejemplo de valores: ${g.slice(0,3).map(A=>`${A.label}: ${A.value}`).join(", ")}`),g},d=async(u=null)=>{t.value=!0,s.value=null;try{console.log(" Cargando ranking de estados..."),console.log(" Variable seleccionada:",u);const v=Ve("datosCuantitativos");console.log(` Cargando ranking desde hoja: "${v}"`);const h=await l("datosCuantitativos",v);if(!h||h.length===0){console.warn(" No se encontraron datos en el sheet"),e.value=[];return}a.value=h,n.value=u;const C=r(u),y=i(h,C);e.value=y,console.log(` Ranking cargado: ${y.length} estados`)}catch(v){console.error(" Error cargando ranking:",v),s.value=v.message,e.value=[]}finally{t.value=!1}};return{rankingData:e,loading:t,error:s,currentVariable:n,loadAllStatesRanking:d,updateRankingByVariable:u=>{if(!a.value||a.value.length===0){console.warn(" No hay datos cargados, cargando..."),d(u);return}try{console.log(" Actualizando ranking por variable:",u),n.value=u;const v=r(u),h=i(a.value,v);e.value=h,console.log(` Ranking actualizado: ${h.length} estados`)}catch(v){console.error(" Error actualizando ranking:",v),s.value=v.message}},reset:()=>{e.value=[],a.value=[],n.value=null,s.value=null}}}function Ox(){const e=z({}),t=z([]),s=z(!1),a=z(null),{fetchData:n}=pt(),l=(u,v)=>{if(console.log(" [processIFSData] Iniciando procesamiento manual..."),!u||u.length===0)throw new Error("No hay datos para procesar");const h=v.yearColumn,C=v.variableColumns[0],y=C.column,g=C.label;console.log(` Buscando columna de aos: "${h}"`),console.log(` Buscando columna de IFS: "${y}"`);const A=[],w=[];u.length>0&&(console.log(" [DEBUG] Claves disponibles en primera fila:",Object.keys(u[0])),console.log(" [DEBUG] Primera fila completa:",JSON.stringify(u[0],null,2)));for(let x=0;x<u.length;x++){const j=u[x];x<3&&(console.log(` [DEBUG] Fila ${x} completa:`,JSON.stringify(j,null,2)),console.log(` [DEBUG] Fila ${x} - Claves:`,Object.keys(j)));const _=j[h];if(console.log(` [DEBUG] Fila ${x} - Buscando key "${h}", encontrado:`,_,`(tipo: ${typeof _})`),!_){console.warn(` Fila ${x} no tiene ao, saltando...`);continue}const S=j[y];if(console.log(` Fila ${x}: Ao=${_}, IFS=${S}`),S!=null&&S!==""){const m=parseFloat(S);isNaN(m)?console.warn(` Valor IFS invlido en ao ${_}: "${S}"`):(A.push(_.toString()),w.push(m))}else console.warn(` Ao ${_} no tiene valor IFS`)}if(console.log(" Procesamiento completado:"),console.log(" Aos extrados:",A),console.log(" Valores IFS:",w),A.length===0||w.length===0)throw new Error("No se encontraron datos vlidos en las columnas especificadas");return{chartData:{[g]:w},years:A}},r=async()=>{try{console.log(`
 ===== [useStackedAreaData] INICIANDO CARGA =====`),s.value=!0,a.value=null;const u=Re("ifssStackedArea"),v=Ve("indicadores");console.log(" Mapping ifssStackedArea:",JSON.stringify(u,null,2)),console.log(" Nombre de hoja (sheet principal):",v),console.log(" Sheet ID que se usar: VITE_GOOGLE_SHEET_ID (principal)"),console.log(" Solicitando datos desde sheet principal...");const h=await n("indicadores",v);if(console.log(` Datos crudos recibidos: ${h.length} filas`),h.length>0&&(console.log(" Encabezados disponibles:",Object.keys(h[0])),console.log(" Primera fila completa:",h[0]),console.log(" Segunda fila completa:",h[1])),!h||h.length===0)throw new Error("No se obtuvieron datos de Google Sheets");const C=l(h,u);console.log(" Datos procesados exitosamente"),console.log(" Chart Data final:",C.chartData),console.log(" Years final:",C.years),e.value=C.chartData,t.value=C.years,console.log(` ===== CARGA COMPLETADA EXITOSAMENTE =====
`)}catch(u){console.error(" ===== ERROR EN CARGA ====="),console.error("Error completo:",u),console.error("Stack:",u.stack),a.value=u.message,console.warn(" Usando datos de fallback para IFS"),e.value={IFS:[45.2,48.7,52.1,55.8,59.3]},t.value=["2020","2021","2022","2023","2024"]}finally{s.value=!1}},i=O(()=>Object.keys(e.value).length>0&&t.value.length>0),d=O(()=>Object.keys(e.value).length),f=O(()=>t.value.length);return{chartData:e,years:t,loading:s,error:a,hasData:i,seriesCount:d,yearsCount:f,title:"Anlisis histrico del ranking de Indice de Finanzas Sostenibles (IFS)",loadIFSSData:r}}const zx={class:"filters-toggles-row"},Yx={class:"filters-column"},jx={class:"map-container"},Hx={key:0,class:"loading-state"},Gx={key:1,class:"error-state"},qx={key:2,class:"map-content"},Ux={class:"overlay-message"},Wx={class:"overlay-text"},Xx={key:0,class:"charts-section"},Qx={class:"charts-container"},Kx={class:"ranking-chart-section",style:{height:"100%",display:"flex","flex-direction":"column"}},Jx={key:0,class:"chart-card linear-chart-card"},Zx={key:1,class:"chart-card linear-chart-card"},e5={class:"chart-card-body"},t5={class:"ranking-error"},s5={key:2,class:"chart-card linear-chart-card"},a5={class:"chart-card-header"},o5={class:"card-title"},n5={class:"chart-card-body"},l5={key:4,class:"ranking-loading"},r5={key:5,class:"ranking-error"},i5={key:7,class:"charts-empty-state"},c5={class:"body-ranking-panel"},u5={__name:"HomePage",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:n,loading:l,error:r,selectedState:i,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:C,getIFSSLabel:y,handleStateClick:g,handleStateHover:A,handleStateLeave:w,resetSelection:I,initializeData:x}=s.mapsComposable||zt(),{setChartData:j}=Da(),{statesDataForSlider:_,selectedStateIFSS:S,handleRangeChange:m,handleFilterChange:k,initialize:P}=bl(s.mapsComposable||zt()),{rankingData:V,loading:F,error:D,loadAllStatesRanking:H,updateRankingByVariable:M}=Nx(),{chartData:K,years:ee,loading:te,error:re,title:pe,loadIFSSData:Ce}=Ox();Ma();const oe=z(null),se=z(null),B=z(""),q=z(0),{fetchData:L,fetchSheetNames:X}=pt(),J=z(null),T=z([]),ae=z([]),G=z([]),E=z({entity:"",year:null,variable:null});be(B,(ue,Se)=>{console.log(" [HomePage] selectedEntity cambi"),console.log("  - Anterior:",Se),console.log("  - Nuevo:",ue)},{immediate:!0});const $=z([]),R=z(!1),Q=z(null),Z=z(!1);O(()=>!T.value||T.value.length===0?null:T.value.find(ue=>ue!=null&&ue!=="")||null);const N=O(()=>{const ue=B.value===null,Se=se.value===null,st=oe.value===null,Is=ue&&Se&&st;return console.log(" [areAllFiltersOnTodas]:",{entity:B.value,entityIsTodas:ue,year:se.value,yearIsTodos:Se,variable:oe.value,variableIsTodas:st,result:Is}),Is}),W=O(()=>B.value===""||oe.value===""),ne=O(()=>oe.value!==null&&oe.value!==""),ie=O(()=>Z.value?!1:N.value),le=O(()=>Z.value?!1:N.value||$e.value),me=O(()=>N.value?"Haz click en cualquier entidad del mapa para regresar a los resultados subnacionales":$e.value?"Te encuentras en la vista de resultados federales. Haz clic en cualquier seccin del rea azul encima del mapa para regresar a los datos subnacionales.":""),ve=O(()=>Z.value?!1:N.value),ye=O(()=>W.value),we=O(()=>ye.value?!1:!i.value&&N.value),$e=O(()=>ye.value||i.value||N.value?!1:B.value===null&&se.value!==null),Te=O(()=>ye.value?!1:i.value||we.value||$e.value),Fe=async()=>{try{R.value=!0,Q.value=null;const ue=Re("chartsPresupuestos"),Se=Ve("chartsPresupuestos"),st=await L("chartsPresupuestos",Se),Is=ue.stateColumn,pu=[...new Set(st.map(Es=>Es[Is]))].filter(Es=>Es&&Es.trim()!=="").sort();$.value=pu.map(Es=>({name:Es,value:null}))}catch(ue){console.error(" Error cargando entidades:",ue),Q.value=ue.message}finally{R.value=!1}},et=async()=>{try{console.log(" [HomePage] Obteniendo aos de sheet cuantitativos...");const Se=(await X("datosCuantitativos")).filter(st=>/^\d{4}$/.test(st)).sort((st,Is)=>Is-st);return console.log(" [HomePage] Aos de cuantitativos:",Se),ae.value=[...Se],T.value=[...Se],Se}catch(ue){return console.error(" [HomePage] Error obteniendo aos:",ue),[]}},tt=ue=>{if(console.log(" [HomePage] handleEntityChange llamado con:",ue),B.value=ue,ue===""){I(),xs();return}if(ue===null){I(),!Z.value&&!N.value&&(oe.value&&oe.value!==""&&oe.value!==null?M(oe.value):oe.value===null&&se.value!==null&&H(null));return}xs(),g(ue),console.log(" [HomePage] Mapa actualizado con:",ue)},Ct=async ue=>{console.log(" [HomePage] handleYearChange llamado con:",ue),se.value=ue,ue&&De(ue),N.value&&await Ce()},wt=ue=>{console.log(" [HomePage] handleVariableChange llamado con:",ue),oe.value=ue,ue!==""&&!i.value&&!N.value&&(ue===null?H(null):M(ue))},vs=ue=>{console.log(" Filtros aplicados:",ue)},Ta=async ue=>{if(console.log(" [HomePage] Click en estado:",ue),!ue){I(),B.value="",a("region-selected",null),xs(),Z.value||(oe.value&&oe.value!==""&&oe.value!==null?M(oe.value):N.value||H(null));return}if(g(ue),B.value=ue,xs(),await ze(),i.value===ue){const Se=C(ue);a("region-selected",{name:ue,data:Se}),console.log(" [HomePage] Estado seleccionado y sincronizado:",ue)}else a("region-selected",null)},lt=ue=>{console.log(" [HomePage] Vista cambiada a:",ue),J.value=ue},_t=async()=>{console.log(" [HomePage] Cambiando a vista IFS Regional"),J.value="regional",i.value&&I(),B.value=null,se.value=null,oe.value=null,await ze(),await Ce(),console.log(' [HomePage] Vista IFS Regional activada con filtros en "Todas..."')},Ra=async()=>{console.log(" [HomePage] Click en Plataforma de Finanzas Sostenibles")},Ba=()=>{console.log(" Toggling panel cualitativo:",!Z.value),Z.value=!Z.value},cu=async ue=>{if(console.log(" [HomePage] Aos recibidos de ambientales:",ue),ue&&ue.length>0){T.value=ue;const Se=ue[0];se.value=Se,De(Se),q.value++,await ze(),console.log(" Filtro actualizado con aos de ambientales")}},uu=async ue=>{if(console.log(" [HomePage] Aos recibidos de RegionalChartsComponent:",ue),ue&&ue.length>0){if(G.value=[...ue],T.value=ue,!ue.includes(se.value)){const Se=ue[0];se.value=Se,De(Se),console.log(" [Regional] Ao actualizado al primero disponible:",Se)}q.value++,await ze(),console.log(" [HomePage] Filtro actualizado con aos regionales:",ue)}},xs=async()=>{if(ae.value.length>0){if(console.log(" [HomePage] Restaurando aos iniciales:",ae.value),T.value=[...ae.value],!ae.value.includes(se.value)){const ue=ae.value[0];se.value=ue,De(ue),console.log(" Ao restaurado al primero de cuantitativos:",ue)}q.value++,await ze()}},du=async()=>{if(console.log(" [HomePage] Panel cualitativo cerrado, reseteando filtros a DEFAULT..."),B.value="",oe.value=null,T.value=[...ae.value],ae.value.length>0){const ue=ae.value[0];se.value=ue,De(ue),console.log(" Ao restaurado a DEFAULT:",ue)}q.value++,await ze(),I(),await H(null),J.value=null,console.log(" Filtros reseteados a DEFAULT")},fu=ue=>{(ue.target.classList.contains("map-svg-container")||ue.target.tagName==="svg"||ue.target.classList.contains("map-background"))&&(I(),a("region-selected",null))},vu=async()=>{if(console.log(" [HomePage] Click en overlay, cambiando a DEFAULT..."),B.value="",oe.value=null,xs(),T.value.length>0){const ue=T.value[0];se.value=ue,De(ue)}I(),a("region-selected",null),await H(null),J.value=null,q.value++,await ze(),console.log(" Cambiado a DEFAULT")};O(()=>!i.value);const hu=O(()=>{const ue=se.value?` - ${se.value}`:"";return!oe.value||!oe.value.key?`Ranking IFSS por Estado${ue}`:`Ranking ${{PS:"Presupuestos Sostenibles (PS)",IIC:"Ingresos Intensivos en Carbono (IIC)",PIC:"Presupuestos Intensivos en Carbono (PIC)",IS:"Ingresos Sostenibles (IS)"}[oe.value.key]||"IFSS"} por Estado${ue}`});return be(N,async(ue,Se)=>{console.log(" [areAllFiltersOnTodas] cambi de",Se,"a",ue),ue&&!Se&&(console.log(' [HomePage] Filtros en "Todas...", cargando LinearChart'),await Ce())}),be($e,async(ue,Se)=>{console.log(" [showRegionalCharts] cambi de",Se,"a",ue),!ue&&Se&&(console.log(" [HomePage] RegionalCharts se ocult, restaurando aos iniciales..."),await xs())}),be(oe,ue=>{ue!==""&&(N.value||i.value||(ue===null?H(null):M(ue)))}),be(se,async(ue,Se)=>{ue!==Se&&(await Fe(),N.value||(oe.value!==""&&oe.value!==null?await M(oe.value):oe.value===null&&await H(null)))}),be(i,(ue,Se)=>{if(console.log(" [HomePage] Watch selectedState:",{newState:ue,oldState:Se}),ue&&ue!==Se){B.value!==ue&&(B.value=ue,console.log(" [HomePage] selectedEntity sincronizado con mapa:",ue));const st=C(ue);j(st),a("region-selected",{name:ue,data:st})}else!ue&&Se&&(!Z.value&&B.value!==null&&(B.value=""),a("region-selected",null),!Z.value&&!N.value&&(oe.value&&oe.value!==""&&oe.value!==null?M(oe.value):H(null)))}),be(r,ue=>{ue&&a("map-error",ue)}),Le(async()=>{if(console.log(`
 ===== INICIALIZANDO HomePage =====`),await et(),await Fe(),await P(),B.value="",oe.value=null,T.value.length>0){const ue=T.value[0];se.value=ue,De(ue),console.log(" Ao inicial establecido:",ue)}await H(null),E.value={entity:"",year:se.value,variable:null},console.log(" Estado inicial de filtros (DEFAULT):",E.value),console.log(" Aos iniciales guardados:",ae.value),console.log(" Vista inicial: ninguna activa (null)"),console.log(" HomePage inicializado"),console.log("   areAllFiltersOnTodas:",N.value),console.log(`
`)}),(ue,Se)=>(p(),b(ge,null,[o("div",zx,[o("div",Yx,[(p(),Pe(Oo,{key:q.value,entities:$.value,loading:R.value,selectedState:U(i),isLocked:ve.value,availableYears:T.value,initialEntity:B.value,initialYear:se.value,initialVariable:oe.value,onEntityChange:tt,onYearChange:Ct,onVariableChange:wt,onFiltersChange:vs},null,8,["entities","loading","selectedState","isLocked","availableYears","initialEntity","initialYear","initialVariable"]))])]),o("div",jx,[U(l)?(p(),b("div",Hx,[...Se[3]||(Se[3]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos del mapa...",-1)])])):ce("",!0),U(r)?(p(),b("div",Gx,[o("p",null,"Error: "+Y(U(r)),1),o("button",{onClick:Se[0]||(Se[0]=(...st)=>U(x)&&U(x)(...st)),class:"retry-btn"}," Reintentar ")])):ce("",!0),!U(l)&&!U(r)?(p(),b("div",qx,[o("div",{class:he(["map-and-charts-wrapper",{"no-gap":Z.value}]),onClick:fu},[Ae(Kc,{geoData:U(n),selectedState:U(i),hoveredState:U(d),mapConfig:U(f),nationalIFSS:U(v),getStateColor:U(h),getStateInfo:U(C),getIFSSLabel:U(y),"show-info-card":!Z.value,"show-navigation":!Z.value,"active-view":J.value,onStateClick:Ta,onStateHover:U(A),onStateLeave:U(w),onNavigateRegional:_t,onNavigateFederal:Ra,onViewChange:lt},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","show-info-card","show-navigation","active-view","onStateHover","onStateLeave"]),Ae(mt,{name:"overlay-fade"},{default:ut(()=>[le.value?(p(),b("div",{key:0,class:he(["map-overlay-filter",{"regional-overlay":$e.value&&!N.value}]),onClick:kt(vu,["stop"])},[o("div",Ux,[o("h2",Wx,Y(me.value),1)])],2)):ce("",!0)]),_:1}),Ae(Lx,{isExpanded:Z.value,selectedEntity:B.value,selectedYear:se.value,onToggle:Ba,onYearsLoaded:cu,onPanelClosed:du},null,8,["isExpanded","selectedEntity","selectedYear"]),Z.value?ce("",!0):(p(),b("div",Xx,[o("div",Qx,[o("div",Kx,[ie.value&&U(te)?(p(),b("div",Jx,[...Se[4]||(Se[4]=[ke('<div class="chart-card-header" data-v-e99d5175><h4 class="card-title" data-v-e99d5175>Evolucin IFS</h4></div><div class="chart-card-body" data-v-e99d5175><div class="ranking-loading" data-v-e99d5175><div class="spinner-small" data-v-e99d5175></div><p data-v-e99d5175>Cargando evolucin IFS...</p></div></div>',2)])])):ie.value&&U(re)?(p(),b("div",Zx,[Se[5]||(Se[5]=o("div",{class:"chart-card-header"},[o("h4",{class:"card-title"},"Evolucin IFS")],-1)),o("div",e5,[o("div",t5,[o("p",null,"Error: "+Y(U(re)),1),o("button",{onClick:Se[1]||(Se[1]=(...st)=>U(Ce)&&U(Ce)(...st)),class:"retry-btn-small"}," Reintentar ")])])])):ie.value&&U(K)&&Object.keys(U(K)).length>0?(p(),b("div",s5,[o("div",a5,[o("h4",o5,Y(U(pe)),1)]),o("div",n5,[Ae(nu,{data:U(K),xLabels:U(ee),showCurrencySymbol:!1,width:940,height:440,hideHeader:!0,initialVisibleVariables:["IFS"],padding:{top:20,right:70,bottom:100,left:60}},null,8,["data","xLabels"])])])):$e.value?(p(),Pe(hC,{key:3,selectedYear:se.value,selectedVariable:oe.value},null,8,["selectedYear","selectedVariable"])):U(F)?(p(),b("div",l5,[...Se[6]||(Se[6]=[o("div",{class:"spinner-small"},null,-1),o("p",null,"Cargando datos...",-1)])])):U(D)?(p(),b("div",r5,[o("p",null,"Error: "+Y(U(D)),1),o("button",{onClick:Se[2]||(Se[2]=st=>U(H)(oe.value)),class:"retry-btn-small"}," Reintentar ")])):U(V).length>0?(p(),Pe(TC,{key:6,variables:U(V),title:hu.value,showAllBars:!0,animationDelay:0,selectedState:U(i)},null,8,["variables","title","selectedState"])):(p(),b("div",i5,[...Se[7]||(Se[7]=[o("div",{class:"empty-state-icon"},"",-1),o("h4",null,"Ranking IFSS",-1),o("p",null,"No hay datos de ranking disponibles",-1)])]))])])]))],2),Te.value&&!Z.value?(p(),b("div",{key:0,class:he(["ranking-panel",{"historical-view":we.value,"regional-view":$e.value,"variable-view":ne.value&&!we.value&&!$e.value}])},[Se[8]||(Se[8]=o("div",{class:"header-ranking-panel"},null,-1)),o("div",c5,[we.value?(p(),Pe(lu,{key:0,statesData:U(_),selectedStateValue:U(S),onRangeChange:U(m),onFilterChange:U(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])):$e.value?(p(),Pe(AA,{key:1,selectedYear:se.value,selectedVariable:oe.value,class:"regional-charts-spacing",onYearsLoaded:uu},null,8,["selectedYear","selectedVariable"])):(p(),Pe(eu,{key:2,selectedState:U(i),selectedYear:se.value,selectedVariable:oe.value,ifssData:U(C)(U(i))},null,8,["selectedState","selectedYear","selectedVariable","ifssData"]))])],2)):ce("",!0)])):ce("",!0)])],64))}},d5=Ee(u5,[["__scopeId","data-v-e99d5175"]]),f5={style:{padding:"40px","font-family":"monospace"}},v5={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},h5={key:0},p5={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},g5={key:0,style:{color:"red","font-weight":"bold"}},m5={key:1,style:{color:"red","font-weight":"bold"}},b5={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},y5={key:0,style:{color:"orange"}},A5={key:1,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},C5={key:2},w5={style:{background:"white",padding:"15px","border-radius":"5px"}},_5={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},S5={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},k5={key:0},$5={key:0,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},x5={style:{background:"white",padding:"10px"}},I5={key:1},E5={style:{background:"white",padding:"15px","border-radius":"5px"}},P5={key:0,style:{border:"2px solid #28a745",padding:"20px",margin:"20px 0",background:"#d4edda"}},F5={__name:"TestRanking",setup(e){const t=z(null),s=z(null),a=z(null),n=z(!1),l=z(null),{fetchData:r}=pt(),i=async()=>{n.value=!0,l.value=null,t.value=null,s.value=null,a.value=null;try{if(console.log("=== PASO 1: Variables de entorno ==="),t.value={provider:"googlesheets",apiKeyExists:!0,sheetIdExists:!0},console.log("Variables:",t.value),!t.value.apiKeyExists||!t.value.sheetIdExists){l.value="Faltan variables de entorno en el archivo .env",n.value=!1;return}console.log("=== PASO 2: Obteniendo datos ===");const d=await r("datosCuantitativos","2024");if(!d||d.length===0){l.value="El sheet est vaco o no se pudo conectar",n.value=!1;return}s.value={rowCount:d.length,columns:Object.keys(d[0]),firstRow:d[0]},console.log("Datos obtenidos:",s.value),console.log("=== PASO 3: Transformando datos ===");const f="Entidad Federativa",c="IFSS";console.log(`Buscando columnas: "${f}" y "${c}"`);const h=d.map(C=>{const y=C[f],g=C[c];console.log(`Fila: ${y} = ${g}`);const A=typeof g=="string"?g.replace(/[,.]/g,""):g,w=parseFloat(A)||0;return{key:(y==null?void 0:y.toLowerCase().replace(/\s+/g,"_"))||"unknown",label:y||"Desconocido",value:w,color:w>=2?"#22c55e":w>=1.5?"#fb923c":"#ef4444"}}).filter(C=>C.label!=="Desconocido"&&C.value>0).sort((C,y)=>y.value-C.value);a.value={count:h.length,top5:h.slice(0,5).map(C=>({estado:C.label,ifss:C.value}))},console.log("Transformacin completa:",a.value)}catch(d){console.error("Error en debug:",d),l.value=d.message}finally{n.value=!1}};return(d,f)=>{var c;return p(),b("div",f5,[f[19]||(f[19]=o("h1",null," Debug Ranking IFSS",-1)),o("button",{onClick:i,style:{padding:"15px 30px",background:"#0F3759",color:"white",border:"none","border-radius":"8px",cursor:"pointer","font-size":"16px",margin:"20px 0"}},"  Ejecutar Debug "),o("div",v5,[f[0]||(f[0]=o("h2",null," PASO 1: Variables de Entorno",-1)),t.value?(p(),b("div",h5,[o("pre",p5,Y(t.value),1),t.value.apiKeyExists?ce("",!0):(p(),b("p",g5,"  FALTA API KEY - Revisa tu archivo .env ")),t.value.sheetIdExists?ce("",!0):(p(),b("p",m5,"  FALTA SHEET ID - Revisa tu archivo .env "))])):ce("",!0)]),o("div",b5,[f[5]||(f[5]=o("h2",null," PASO 2: Datos del Google Sheet",-1)),n.value?(p(),b("div",y5," Cargando...")):ce("",!0),l.value?(p(),b("div",A5,[f[1]||(f[1]=o("strong",null," ERROR:",-1)),Ke(" "+Y(l.value),1)])):ce("",!0),s.value?(p(),b("div",C5,[o("p",null,[f[2]||(f[2]=o("strong",null,"Filas obtenidas:",-1)),Ke(" "+Y(s.value.rowCount),1)]),f[3]||(f[3]=o("p",null,[o("strong",null,"Columnas detectadas:")],-1)),o("pre",w5,Y(s.value.columns),1),f[4]||(f[4]=o("p",null,[o("strong",null,"Primera fila:")],-1)),o("pre",_5,Y(s.value.firstRow),1)])):ce("",!0)]),o("div",S5,[f[17]||(f[17]=o("h2",null," PASO 3: Datos Transformados",-1)),a.value?(p(),b("div",k5,[o("p",null,[f[6]||(f[6]=o("strong",null,"Estados transformados:",-1)),Ke(" "+Y(a.value.count),1)]),a.value.count===0?(p(),b("div",$5,[f[7]||(f[7]=o("strong",null," PROBLEMA:",-1)),f[8]||(f[8]=Ke(" Los datos se transformaron pero resultaron en 0 estados. ",-1)),f[9]||(f[9]=o("br",null,null,-1)),f[10]||(f[10]=Ke("Esto significa que los nombres de columnas no coinciden. ",-1)),f[11]||(f[11]=o("br",null,null,-1)),f[12]||(f[12]=o("br",null,null,-1)),f[13]||(f[13]=o("strong",null,"Columnas que estamos buscando:",-1)),f[14]||(f[14]=o("ul",null,[o("li",null,"Entidad Federativa"),o("li",null,"IFSS")],-1)),f[15]||(f[15]=o("strong",null,"Columnas que encontramos:",-1)),o("pre",x5,Y((c=s.value)==null?void 0:c.columns),1)])):ce("",!0),a.value.count>0?(p(),b("div",I5,[f[16]||(f[16]=o("p",null,[o("strong",null," Top 5 estados:")],-1)),o("pre",E5,Y(a.value.top5),1)])):ce("",!0)])):ce("",!0)]),a.value&&a.value.count>0?(p(),b("div",P5,[...f[18]||(f[18]=[o("h2",null," PASO 4: Grfica",-1),o("p",null,"Los datos estn listos. Usa el componente as:",-1),o("pre",{style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto","font-size":"12px"}},`<script setup>
import { useStateRanking } from '@/composables/useStateRanking'
import HorizontalRankingChart from '@/modules/charts/components/HorizontalRankingChart.vue'

const { rankingData, loadAllStatesRanking } = useStateRanking()
onMounted(() => loadAllStatesRanking())
<\/script>

<template>
  <HorizontalRankingChart
    :variables="rankingData"
    :showLabels="true"
    :showValues="true"
    :showAllBars="true"
    :valueFormatter="(v) => v.toFixed(1)"
  />
</template>`,-1)])])):ce("",!0)])}}},M5=[{path:"/",redirect:"/finanzas/home"},{path:"/finanzas/home",name:"HomePage",component:d5,meta:{title:"Plataforma de Finanzas Sostenibles"}},{path:"/finanzas/cualitativos",name:"FinanzasCualitativos",component:Wg,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/cualitativos/item",name:"FinanzasCualitativosItem",component:Zm,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/ranking",name:"RankingView",component:Bb,meta:{title:"RankingView - Finanzas Sostenibles"}},{path:"/finanzas/historicos",name:"HistoricalView",component:z2,meta:{title:"HistoricalView - Finanzas Sostenibles"}},{path:"/finanzas/testRanking",name:"TestRanking",component:F5,meta:{title:"Home- Finanzas Sostenibles"}}],ru=zv({history:gv("/PlataformaFinanzasSostenibles/"),routes:M5});ru.beforeEach((e,t,s)=>{e.meta.title&&(document.title=e.meta.title),s()});const iu=Vf(Jv);iu.use(ru);iu.mount("#app");
