(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function No(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const je={},Fs=[],It=()=>{},qi=()=>!1,wn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Oo=e=>e.startsWith("onUpdate:"),Qe=Object.assign,zo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},cu=Object.prototype.hasOwnProperty,Le=(e,t)=>cu.call(e,t),ke=Array.isArray,Ds=e=>Cn(e)==="[object Map]",Ui=e=>Cn(e)==="[object Set]",xe=e=>typeof e=="function",Ue=e=>typeof e=="string",us=e=>typeof e=="symbol",Ge=e=>e!==null&&typeof e=="object",Wi=e=>(Ge(e)||xe(e))&&xe(e.then)&&xe(e.catch),Xi=Object.prototype.toString,Cn=e=>Xi.call(e),uu=e=>Cn(e).slice(8,-1),Ki=e=>Cn(e)==="[object Object]",jo=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sa=No(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_n=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},du=/-\w/g,xt=_n(e=>e.replace(du,t=>t.slice(1).toUpperCase())),fu=/\B([A-Z])/g,Cs=_n(e=>e.replace(fu,"-$1").toLowerCase()),kn=_n(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ln=_n(e=>e?`on${kn(e)}`:""),is=(e,t)=>!Object.is(e,t),Ga=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Qi=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},lo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},vu=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let ml;const $n=()=>ml||(ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fe(e){if(ke(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],o=Ue(a)?mu(a):fe(a);if(o)for(const l in o)t[l]=o[l]}return t}else if(Ue(e)||Ge(e))return e}const hu=/;(?![^(]*\))/g,pu=/:([^]+)/,gu=/\/\*[^]*?\*\//g;function mu(e){const t={};return e.replace(gu,"").split(hu).forEach(s=>{if(s){const a=s.split(pu);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function pe(e){let t="";if(Ue(e))t=e;else if(ke(e))for(let s=0;s<e.length;s++){const a=pe(e[s]);a&&(t+=a+" ")}else if(Ge(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const bu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yu=No(bu);function Ji(e){return!!e||e===""}const Zi=e=>!!(e&&e.__v_isRef===!0),Y=e=>Ue(e)?e:e==null?"":ke(e)||Ge(e)&&(e.toString===Xi||!xe(e.toString))?Zi(e)?Y(e.value):JSON.stringify(e,er,2):String(e),er=(e,t)=>Zi(t)?er(e,t.value):Ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,o],l)=>(s[Nn(a,l)+" =>"]=o,s),{})}:Ui(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Nn(s))}:us(t)?Nn(t):Ge(t)&&!ke(t)&&!Ki(t)?String(t):t,Nn=(e,t="")=>{var s;return us(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};function Au(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dt;class wu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=dt,!t&&dt&&(this.index=(dt.scopes||(dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=dt;try{return dt=this,t()}finally{dt=s}}}on(){++this._on===1&&(this.prevScope=dt,dt=this)}off(){this._on>0&&--this._on===0&&(dt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Cu(){return dt}let He;const On=new WeakSet;class tr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,dt&&dt.active&&dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,On.has(this)&&(On.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ar(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bl(this),nr(this);const t=He,s=Pt;He=this,Pt=!0;try{return this.fn()}finally{or(this),He=t,Pt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Go(t);this.deps=this.depsTail=void 0,bl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?On.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){io(this)&&this.run()}get dirty(){return io(this)}}let sr=0,aa,na;function ar(e,t=!1){if(e.flags|=8,t){e.next=na,na=e;return}e.next=aa,aa=e}function Ho(){sr++}function Yo(){if(--sr>0)return;if(na){let t=na;for(na=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;aa;){let t=aa;for(aa=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function nr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function or(e){let t,s=e.depsTail,a=s;for(;a;){const o=a.prevDep;a.version===-1?(a===s&&(s=o),Go(a),_u(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=o}e.deps=t,e.depsTail=s}function io(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function lr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ha)||(e.globalVersion=ha,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!io(e))))return;e.flags|=2;const t=e.dep,s=He,a=Pt;He=e,Pt=!0;try{nr(e);const o=e.fn(e._value);(t.version===0||is(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{He=s,Pt=a,or(e),e.flags&=-3}}function Go(e,t=!1){const{dep:s,prevSub:a,nextSub:o}=e;if(a&&(a.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)Go(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function _u(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Pt=!0;const ir=[];function Qt(){ir.push(Pt),Pt=!1}function Jt(){const e=ir.pop();Pt=e===void 0?!0:e}function bl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=He;He=void 0;try{t()}finally{He=s}}}let ha=0;class ku{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!He||!Pt||He===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==He)s=this.activeLink=new ku(He,this),He.deps?(s.prevDep=He.depsTail,He.depsTail.nextDep=s,He.depsTail=s):He.deps=He.depsTail=s,rr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=He.depsTail,s.nextDep=void 0,He.depsTail.nextDep=s,He.depsTail=s,He.deps===s&&(He.deps=a)}return s}trigger(t){this.version++,ha++,this.notify(t)}notify(t){Ho();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Yo()}}}function rr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)rr(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ro=new WeakMap,bs=Symbol(""),co=Symbol(""),pa=Symbol("");function st(e,t,s){if(Pt&&He){let a=ro.get(e);a||ro.set(e,a=new Map);let o=a.get(s);o||(a.set(s,o=new qo),o.map=a,o.key=s),o.track()}}function Wt(e,t,s,a,o,l){const i=ro.get(e);if(!i){ha++;return}const r=d=>{d&&d.trigger()};if(Ho(),t==="clear")i.forEach(r);else{const d=ke(e),f=d&&jo(s);if(d&&s==="length"){const c=Number(a);i.forEach((u,v)=>{(v==="length"||v===pa||!us(v)&&v>=c)&&r(u)})}else switch((s!==void 0||i.has(void 0))&&r(i.get(s)),f&&r(i.get(pa)),t){case"add":d?f&&r(i.get("length")):(r(i.get(bs)),Ds(e)&&r(i.get(co)));break;case"delete":d||(r(i.get(bs)),Ds(e)&&r(i.get(co)));break;case"set":Ds(e)&&r(i.get(bs));break}}Yo()}function Ss(e){const t=De(e);return t===e?t:(st(t,"iterate",pa),St(e)?t:t.map(Je))}function Sn(e){return st(e=De(e),"iterate",pa),e}const $u={__proto__:null,[Symbol.iterator](){return zn(this,Symbol.iterator,Je)},concat(...e){return Ss(this).concat(...e.map(t=>ke(t)?Ss(t):t))},entries(){return zn(this,"entries",e=>(e[1]=Je(e[1]),e))},every(e,t){return Ht(this,"every",e,t,void 0,arguments)},filter(e,t){return Ht(this,"filter",e,t,s=>s.map(Je),arguments)},find(e,t){return Ht(this,"find",e,t,Je,arguments)},findIndex(e,t){return Ht(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ht(this,"findLast",e,t,Je,arguments)},findLastIndex(e,t){return Ht(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ht(this,"forEach",e,t,void 0,arguments)},includes(...e){return jn(this,"includes",e)},indexOf(...e){return jn(this,"indexOf",e)},join(e){return Ss(this).join(e)},lastIndexOf(...e){return jn(this,"lastIndexOf",e)},map(e,t){return Ht(this,"map",e,t,void 0,arguments)},pop(){return Hs(this,"pop")},push(...e){return Hs(this,"push",e)},reduce(e,...t){return yl(this,"reduce",e,t)},reduceRight(e,...t){return yl(this,"reduceRight",e,t)},shift(){return Hs(this,"shift")},some(e,t){return Ht(this,"some",e,t,void 0,arguments)},splice(...e){return Hs(this,"splice",e)},toReversed(){return Ss(this).toReversed()},toSorted(e){return Ss(this).toSorted(e)},toSpliced(...e){return Ss(this).toSpliced(...e)},unshift(...e){return Hs(this,"unshift",e)},values(){return zn(this,"values",Je)}};function zn(e,t,s){const a=Sn(e),o=a[t]();return a!==e&&!St(e)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.value&&(l.value=s(l.value)),l}),o}const Su=Array.prototype;function Ht(e,t,s,a,o,l){const i=Sn(e),r=i!==e&&!St(e),d=i[t];if(d!==Su[t]){const u=d.apply(e,l);return r?Je(u):u}let f=s;i!==e&&(r?f=function(u,v){return s.call(this,Je(u),v,e)}:s.length>2&&(f=function(u,v){return s.call(this,u,v,e)}));const c=d.call(i,f,a);return r&&o?o(c):c}function yl(e,t,s,a){const o=Sn(e);let l=s;return o!==e&&(St(e)?s.length>3&&(l=function(i,r,d){return s.call(this,i,r,d,e)}):l=function(i,r,d){return s.call(this,i,Je(r),d,e)}),o[t](l,...a)}function jn(e,t,s){const a=De(e);st(a,"iterate",pa);const o=a[t](...s);return(o===-1||o===!1)&&Xo(s[0])?(s[0]=De(s[0]),a[t](...s)):o}function Hs(e,t,s=[]){Qt(),Ho();const a=De(e)[t].apply(e,s);return Yo(),Jt(),a}const xu=No("__proto__,__v_isRef,__isVue"),cr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(us));function Eu(e){us(e)||(e=String(e));const t=De(this);return st(t,"has",e),t.hasOwnProperty(e)}class ur{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return l;if(s==="__v_raw")return a===(o?l?Lu:hr:l?vr:fr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const i=ke(t);if(!o){let d;if(i&&(d=$u[s]))return d;if(s==="hasOwnProperty")return Eu}const r=Reflect.get(t,s,nt(t)?t:a);return(us(s)?cr.has(s):xu(s))||(o||st(t,"get",s),l)?r:nt(r)?i&&jo(s)?r:r.value:Ge(r)?o?gr(r):xn(r):r}}class dr extends ur{constructor(t=!1){super(!1,t)}set(t,s,a,o){let l=t[s];if(!this._isShallow){const d=rs(l);if(!St(a)&&!rs(a)&&(l=De(l),a=De(a)),!ke(t)&&nt(l)&&!nt(a))return d||(l.value=a),!0}const i=ke(t)&&jo(s)?Number(s)<t.length:Le(t,s),r=Reflect.set(t,s,a,nt(t)?t:o);return t===De(o)&&(i?is(a,l)&&Wt(t,"set",s,a):Wt(t,"add",s,a)),r}deleteProperty(t,s){const a=Le(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&a&&Wt(t,"delete",s,void 0),o}has(t,s){const a=Reflect.has(t,s);return(!us(s)||!cr.has(s))&&st(t,"has",s),a}ownKeys(t){return st(t,"iterate",ke(t)?"length":bs),Reflect.ownKeys(t)}}class Iu extends ur{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Pu=new dr,Mu=new Iu,Fu=new dr(!0);const uo=e=>e,Ta=e=>Reflect.getPrototypeOf(e);function Du(e,t,s){return function(...a){const o=this.__v_raw,l=De(o),i=Ds(l),r=e==="entries"||e===Symbol.iterator&&i,d=e==="keys"&&i,f=o[e](...a),c=s?uo:t?Ja:Je;return!t&&st(l,"iterate",d?co:bs),{next(){const{value:u,done:v}=f.next();return v?{value:u,done:v}:{value:r?[c(u[0]),c(u[1])]:c(u),done:v}},[Symbol.iterator](){return this}}}}function Ba(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Tu(e,t){const s={get(o){const l=this.__v_raw,i=De(l),r=De(o);e||(is(o,r)&&st(i,"get",o),st(i,"get",r));const{has:d}=Ta(i),f=t?uo:e?Ja:Je;if(d.call(i,o))return f(l.get(o));if(d.call(i,r))return f(l.get(r));l!==i&&l.get(o)},get size(){const o=this.__v_raw;return!e&&st(De(o),"iterate",bs),o.size},has(o){const l=this.__v_raw,i=De(l),r=De(o);return e||(is(o,r)&&st(i,"has",o),st(i,"has",r)),o===r?l.has(o):l.has(o)||l.has(r)},forEach(o,l){const i=this,r=i.__v_raw,d=De(r),f=t?uo:e?Ja:Je;return!e&&st(d,"iterate",bs),r.forEach((c,u)=>o.call(l,f(c),f(u),i))}};return Qe(s,e?{add:Ba("add"),set:Ba("set"),delete:Ba("delete"),clear:Ba("clear")}:{add(o){!t&&!St(o)&&!rs(o)&&(o=De(o));const l=De(this);return Ta(l).has.call(l,o)||(l.add(o),Wt(l,"add",o,o)),this},set(o,l){!t&&!St(l)&&!rs(l)&&(l=De(l));const i=De(this),{has:r,get:d}=Ta(i);let f=r.call(i,o);f||(o=De(o),f=r.call(i,o));const c=d.call(i,o);return i.set(o,l),f?is(l,c)&&Wt(i,"set",o,l):Wt(i,"add",o,l),this},delete(o){const l=De(this),{has:i,get:r}=Ta(l);let d=i.call(l,o);d||(o=De(o),d=i.call(l,o)),r&&r.call(l,o);const f=l.delete(o);return d&&Wt(l,"delete",o,void 0),f},clear(){const o=De(this),l=o.size!==0,i=o.clear();return l&&Wt(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Du(o,e,t)}),s}function Uo(e,t){const s=Tu(e,t);return(a,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?a:Reflect.get(Le(s,o)&&o in a?s:a,o,l)}const Bu={get:Uo(!1,!1)},Ru={get:Uo(!1,!0)},Vu={get:Uo(!0,!1)};const fr=new WeakMap,vr=new WeakMap,hr=new WeakMap,Lu=new WeakMap;function Nu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ou(e){return e.__v_skip||!Object.isExtensible(e)?0:Nu(uu(e))}function xn(e){return rs(e)?e:Wo(e,!1,Pu,Bu,fr)}function pr(e){return Wo(e,!1,Fu,Ru,vr)}function gr(e){return Wo(e,!0,Mu,Vu,hr)}function Wo(e,t,s,a,o){if(!Ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Ou(e);if(l===0)return e;const i=o.get(e);if(i)return i;const r=new Proxy(e,l===2?a:s);return o.set(e,r),r}function Ts(e){return rs(e)?Ts(e.__v_raw):!!(e&&e.__v_isReactive)}function rs(e){return!!(e&&e.__v_isReadonly)}function St(e){return!!(e&&e.__v_isShallow)}function Xo(e){return e?!!e.__v_raw:!1}function De(e){const t=e&&e.__v_raw;return t?De(t):e}function zu(e){return!Le(e,"__v_skip")&&Object.isExtensible(e)&&Qi(e,"__v_skip",!0),e}const Je=e=>Ge(e)?xn(e):e,Ja=e=>Ge(e)?gr(e):e;function nt(e){return e?e.__v_isRef===!0:!1}function L(e){return mr(e,!1)}function ju(e){return mr(e,!0)}function mr(e,t){return nt(e)?e:new Hu(e,t)}class Hu{constructor(t,s){this.dep=new qo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:De(t),this._value=s?t:Je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||St(t)||rs(t);t=a?t:De(t),is(t,s)&&(this._rawValue=t,this._value=a?t:Je(t),this.dep.trigger())}}function q(e){return nt(e)?e.value:e}const Yu={get:(e,t,s)=>t==="__v_raw"?e:q(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const o=e[t];return nt(o)&&!nt(s)?(o.value=s,!0):Reflect.set(e,t,s,a)}};function br(e){return Ts(e)?e:new Proxy(e,Yu)}class Gu{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new qo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ha-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return ar(this,!0),!0}get value(){const t=this.dep.track();return lr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qu(e,t,s=!1){let a,o;return xe(e)?a=e:(a=e.get,o=e.set),new Gu(a,o,s)}const Ra={},Za=new WeakMap;let gs;function Uu(e,t=!1,s=gs){if(s){let a=Za.get(s);a||Za.set(s,a=[]),a.push(e)}}function Wu(e,t,s=je){const{immediate:a,deep:o,once:l,scheduler:i,augmentJob:r,call:d}=s,f=$=>o?$:St($)||o===!1||o===0?Xt($,1):Xt($);let c,u,v,h,A=!1,m=!1;if(nt(e)?(u=()=>e.value,A=St(e)):Ts(e)?(u=()=>f(e),A=!0):ke(e)?(m=!0,A=e.some($=>Ts($)||St($)),u=()=>e.map($=>{if(nt($))return $.value;if(Ts($))return f($);if(xe($))return d?d($,2):$()})):xe(e)?t?u=d?()=>d(e,2):e:u=()=>{if(v){Qt();try{v()}finally{Jt()}}const $=gs;gs=c;try{return d?d(e,3,[h]):e(h)}finally{gs=$}}:u=It,t&&o){const $=u,z=o===!0?1/0:o;u=()=>Xt($(),z)}const p=Cu(),y=()=>{c.stop(),p&&p.active&&zo(p.effects,c)};if(l&&t){const $=t;t=(...z)=>{$(...z),y()}}let w=m?new Array(e.length).fill(Ra):Ra;const I=$=>{if(!(!(c.flags&1)||!c.dirty&&!$))if(t){const z=c.run();if(o||A||(m?z.some((S,x)=>is(S,w[x])):is(z,w))){v&&v();const S=gs;gs=c;try{const x=[z,w===Ra?void 0:m&&w[0]===Ra?[]:w,h];w=z,d?d(t,3,x):t(...x)}finally{gs=S}}}else c.run()};return r&&r(I),c=new tr(u),c.scheduler=i?()=>i(I,!1):I,h=$=>Uu($,!1,c),v=c.onStop=()=>{const $=Za.get(c);if($){if(d)d($,4);else for(const z of $)z();Za.delete(c)}},t?a?I(!0):w=c.run():i?i(I.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Xt(e,t=1/0,s){if(t<=0||!Ge(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,nt(e))Xt(e.value,t,s);else if(ke(e))for(let a=0;a<e.length;a++)Xt(e[a],t,s);else if(Ui(e)||Ds(e))e.forEach(a=>{Xt(a,t,s)});else if(Ki(e)){for(const a in e)Xt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Xt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Sa(e,t,s,a){try{return a?e(...a):e()}catch(o){En(o,t,s)}}function Ft(e,t,s,a){if(xe(e)){const o=Sa(e,t,s,a);return o&&Wi(o)&&o.catch(l=>{En(l,t,s)}),o}if(ke(e)){const o=[];for(let l=0;l<e.length;l++)o.push(Ft(e[l],t,s,a));return o}}function En(e,t,s,a=!0){const o=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||je;if(t){let r=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,d,f)===!1)return}r=r.parent}if(l){Qt(),Sa(l,null,10,[e,d,f]),Jt();return}}Xu(e,s,o,a,i)}function Xu(e,t,s,a=!0,o=!1){if(o)throw e;console.error(e)}const rt=[];let Rt=-1;const Bs=[];let ns=null,xs=0;const yr=Promise.resolve();let en=null;function ze(e){const t=en||yr;return e?t.then(this?e.bind(this):e):t}function Ku(e){let t=Rt+1,s=rt.length;for(;t<s;){const a=t+s>>>1,o=rt[a],l=ga(o);l<e||l===e&&o.flags&2?t=a+1:s=a}return t}function Ko(e){if(!(e.flags&1)){const t=ga(e),s=rt[rt.length-1];!s||!(e.flags&2)&&t>=ga(s)?rt.push(e):rt.splice(Ku(t),0,e),e.flags|=1,Ar()}}function Ar(){en||(en=yr.then(_r))}function wr(e){ke(e)?Bs.push(...e):ns&&e.id===-1?ns.splice(xs+1,0,e):e.flags&1||(Bs.push(e),e.flags|=1),Ar()}function Al(e,t,s=Rt+1){for(;s<rt.length;s++){const a=rt[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;rt.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Cr(e){if(Bs.length){const t=[...new Set(Bs)].sort((s,a)=>ga(s)-ga(a));if(Bs.length=0,ns){ns.push(...t);return}for(ns=t,xs=0;xs<ns.length;xs++){const s=ns[xs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ns=null,xs=0}}const ga=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _r(e){try{for(Rt=0;Rt<rt.length;Rt++){const t=rt[Rt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Sa(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Rt<rt.length;Rt++){const t=rt[Rt];t&&(t.flags&=-2)}Rt=-1,rt.length=0,Cr(),en=null,(rt.length||Bs.length)&&_r()}}let gt=null,kr=null;function tn(e){const t=gt;return gt=e,kr=e&&e.type.__scopeId||null,t}function ct(e,t=gt,s){if(!t||e._n)return e;const a=(...o)=>{a._d&&nn(-1);const l=tn(t);let i;try{i=e(...o)}finally{tn(l),a._d&&nn(1)}return i};return a._n=!0,a._c=!0,a._d=!0,a}function Rs(e,t){if(gt===null)return e;const s=Tn(gt),a=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[l,i,r,d=je]=t[o];l&&(xe(l)&&(l={mounted:l,updated:l}),l.deep&&Xt(i),a.push({dir:l,instance:s,value:i,oldValue:void 0,arg:r,modifiers:d}))}return e}function fs(e,t,s,a){const o=e.dirs,l=t&&t.dirs;for(let i=0;i<o.length;i++){const r=o[i];l&&(r.oldValue=l[i].value);let d=r.dir[a];d&&(Qt(),Ft(d,s,8,[e.el,r,e,t]),Jt())}}const $r=Symbol("_vte"),Sr=e=>e.__isTeleport,oa=e=>e&&(e.disabled||e.disabled===""),wl=e=>e&&(e.defer||e.defer===""),Cl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_l=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,fo=(e,t)=>{const s=e&&e.to;return Ue(s)?t?t(s):null:s},xr={name:"Teleport",__isTeleport:!0,process(e,t,s,a,o,l,i,r,d,f){const{mc:c,pc:u,pbc:v,o:{insert:h,querySelector:A,createText:m,createComment:p}}=f,y=oa(t.props);let{shapeFlag:w,children:I,dynamicChildren:$}=t;if(e==null){const z=t.el=m(""),S=t.anchor=m("");h(z,s,a),h(S,s,a);const x=(k,P)=>{w&16&&(o&&o.isCE&&(o.ce._teleportTarget=k),c(I,k,P,o,l,i,r,d))},b=()=>{const k=t.target=fo(t.props,A),P=Er(k,t,m,h);k&&(i!=="svg"&&Cl(k)?i="svg":i!=="mathml"&&_l(k)&&(i="mathml"),y||(x(k,P),qa(t,!1)))};y&&(x(s,S),qa(t,!0)),wl(t.props)?(t.el.__isMounted=!1,it(()=>{b(),delete t.el.__isMounted},l)):b()}else{if(wl(t.props)&&e.el.__isMounted===!1){it(()=>{xr.process(e,t,s,a,o,l,i,r,d,f)},l);return}t.el=e.el,t.targetStart=e.targetStart;const z=t.anchor=e.anchor,S=t.target=e.target,x=t.targetAnchor=e.targetAnchor,b=oa(e.props),k=b?s:S,P=b?z:x;if(i==="svg"||Cl(S)?i="svg":(i==="mathml"||_l(S))&&(i="mathml"),$?(v(e.dynamicChildren,$,k,o,l,i,r),tl(e,t,!0)):d||u(e,t,k,P,o,l,i,r,!1),y)b?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Va(t,s,z,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=fo(t.props,A);V&&Va(t,V,null,f,0)}else b&&Va(t,S,x,f,1);qa(t,y)}},remove(e,t,s,{um:a,o:{remove:o}},l){const{shapeFlag:i,children:r,anchor:d,targetStart:f,targetAnchor:c,target:u,props:v}=e;if(u&&(o(f),o(c)),l&&o(d),i&16){const h=l||!oa(v);for(let A=0;A<r.length;A++){const m=r[A];a(m,t,s,h,!!m.dynamicChildren)}}},move:Va,hydrate:Qu};function Va(e,t,s,{o:{insert:a},m:o},l=2){l===0&&a(e.targetAnchor,t,s);const{el:i,anchor:r,shapeFlag:d,children:f,props:c}=e,u=l===2;if(u&&a(i,t,s),(!u||oa(c))&&d&16)for(let v=0;v<f.length;v++)o(f[v],t,s,2);u&&a(r,t,s)}function Qu(e,t,s,a,o,l,{o:{nextSibling:i,parentNode:r,querySelector:d,insert:f,createText:c}},u){function v(m,p,y,w){p.anchor=u(i(m),p,r(m),s,a,o,l),p.targetStart=y,p.targetAnchor=w}const h=t.target=fo(t.props,d),A=oa(t.props);if(h){const m=h._lpa||h.firstChild;if(t.shapeFlag&16)if(A)v(e,t,m,m&&i(m));else{t.anchor=i(e);let p=m;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}}p=i(p)}t.targetAnchor||Er(h,t,c,f),u(m&&i(m),t,h,s,a,o,l)}qa(t,A)}else A&&t.shapeFlag&16&&v(e,t,e,i(e));return t.anchor&&i(t.anchor)}const jt=xr;function qa(e,t){const s=e.ctx;if(s&&s.ut){let a,o;for(t?(a=e.el,o=e.anchor):(a=e.targetStart,o=e.targetAnchor);a&&a!==o;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function Er(e,t,s,a){const o=t.targetStart=s(""),l=t.targetAnchor=s("");return o[$r]=l,e&&(a(o,e),a(l,e)),l}const Ut=Symbol("_leaveCb"),La=Symbol("_enterCb");function Ir(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oe(()=>{e.isMounted=!0}),Jo(()=>{e.isUnmounting=!0}),e}const Ct=[Function,Array],Pr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ct,onEnter:Ct,onAfterEnter:Ct,onEnterCancelled:Ct,onBeforeLeave:Ct,onLeave:Ct,onAfterLeave:Ct,onLeaveCancelled:Ct,onBeforeAppear:Ct,onAppear:Ct,onAfterAppear:Ct,onAppearCancelled:Ct},Mr=e=>{const t=e.subTree;return t.component?Mr(t.component):t},Ju={name:"BaseTransition",props:Pr,setup(e,{slots:t}){const s=Dn(),a=Ir();return()=>{const o=t.default&&Qo(t.default(),!0);if(!o||!o.length)return;const l=Fr(o),i=De(e),{mode:r}=i;if(a.isLeaving)return Hn(l);const d=kl(l);if(!d)return Hn(l);let f=ma(d,i,a,s,u=>f=u);d.type!==ut&&ys(d,f);let c=s.subTree&&kl(s.subTree);if(c&&c.type!==ut&&!ms(c,d)&&Mr(s).type!==ut){let u=ma(c,i,a,s);if(ys(c,u),r==="out-in"&&d.type!==ut)return a.isLeaving=!0,u.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete u.afterLeave,c=void 0},Hn(l);r==="in-out"&&d.type!==ut?u.delayLeave=(v,h,A)=>{const m=Dr(a,c);m[String(c.key)]=c,v[Ut]=()=>{h(),v[Ut]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{A(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return l}}};function Fr(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==ut){t=s;break}}return t}const Zu=Ju;function Dr(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function ma(e,t,s,a,o){const{appear:l,mode:i,persisted:r=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:v,onLeave:h,onAfterLeave:A,onLeaveCancelled:m,onBeforeAppear:p,onAppear:y,onAfterAppear:w,onAppearCancelled:I}=t,$=String(e.key),z=Dr(s,e),S=(k,P)=>{k&&Ft(k,a,9,P)},x=(k,P)=>{const V=P[1];S(k,P),ke(k)?k.every(M=>M.length<=1)&&V():k.length<=1&&V()},b={mode:i,persisted:r,beforeEnter(k){let P=d;if(!s.isMounted)if(l)P=p||d;else return;k[Ut]&&k[Ut](!0);const V=z[$];V&&ms(e,V)&&V.el[Ut]&&V.el[Ut](),S(P,[k])},enter(k){let P=f,V=c,M=u;if(!s.isMounted)if(l)P=y||f,V=w||c,M=I||u;else return;let T=!1;const j=k[La]=F=>{T||(T=!0,F?S(M,[k]):S(V,[k]),b.delayedLeave&&b.delayedLeave(),k[La]=void 0)};P?x(P,[k,j]):j()},leave(k,P){const V=String(e.key);if(k[La]&&k[La](!0),s.isUnmounting)return P();S(v,[k]);let M=!1;const T=k[Ut]=j=>{M||(M=!0,P(),j?S(m,[k]):S(A,[k]),k[Ut]=void 0,z[V]===e&&delete z[V])};z[V]=e,h?x(h,[k,T]):T()},clone(k){const P=ma(k,t,s,a,o);return o&&o(P),P}};return b}function Hn(e){if(In(e))return e=cs(e),e.children=null,e}function kl(e){if(!In(e))return Sr(e.type)&&e.children?Fr(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&xe(s.default))return s.default()}}function ys(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ys(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qo(e,t=!1,s){let a=[],o=0;for(let l=0;l<e.length;l++){let i=e[l];const r=s==null?i.key:String(s)+String(i.key!=null?i.key:l);i.type===ge?(i.patchFlag&128&&o++,a=a.concat(Qo(i.children,t,r))):(t||i.type!==ut)&&a.push(r!=null?cs(i,{key:r}):i)}if(o>1)for(let l=0;l<a.length;l++)a[l].patchFlag=-2;return a}function Tr(e,t){return xe(e)?Qe({name:e.name},t,{setup:e}):e}function Br(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const sn=new WeakMap;function la(e,t,s,a,o=!1){if(ke(e)){e.forEach((A,m)=>la(A,t&&(ke(t)?t[m]:t),s,a,o));return}if(ia(a)&&!o){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&la(e,t,s,a.component.subTree);return}const l=a.shapeFlag&4?Tn(a.component):a.el,i=o?null:l,{i:r,r:d}=e,f=t&&t.r,c=r.refs===je?r.refs={}:r.refs,u=r.setupState,v=De(u),h=u===je?qi:A=>Le(v,A);if(f!=null&&f!==d){if($l(t),Ue(f))c[f]=null,h(f)&&(u[f]=null);else if(nt(f)){f.value=null;const A=t;A.k&&(c[A.k]=null)}}if(xe(d))Sa(d,r,12,[i,c]);else{const A=Ue(d),m=nt(d);if(A||m){const p=()=>{if(e.f){const y=A?h(d)?u[d]:c[d]:d.value;if(o)ke(y)&&zo(y,l);else if(ke(y))y.includes(l)||y.push(l);else if(A)c[d]=[l],h(d)&&(u[d]=c[d]);else{const w=[l];d.value=w,e.k&&(c[e.k]=w)}}else A?(c[d]=i,h(d)&&(u[d]=i)):m&&(d.value=i,e.k&&(c[e.k]=i))};if(i){const y=()=>{p(),sn.delete(e)};y.id=-1,sn.set(e,y),it(y,s)}else $l(e),p()}}}function $l(e){const t=sn.get(e);t&&(t.flags|=8,sn.delete(e))}$n().requestIdleCallback;$n().cancelIdleCallback;const ia=e=>!!e.type.__asyncLoader,In=e=>e.type.__isKeepAlive;function ed(e,t){Rr(e,"a",t)}function td(e,t){Rr(e,"da",t)}function Rr(e,t,s=at){const a=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Pn(t,a,s),s){let o=s.parent;for(;o&&o.parent;)In(o.parent.vnode)&&sd(a,t,s,o),o=o.parent}}function sd(e,t,s,a){const o=Pn(t,e,a,!0);xa(()=>{zo(a[t],o)},s)}function Pn(e,t,s=at,a=!1){if(s){const o=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...i)=>{Qt();const r=Ea(s),d=Ft(t,s,e,i);return r(),Jt(),d});return a?o.unshift(l):o.push(l),l}}const Zt=e=>(t,s=at)=>{(!ya||e==="sp")&&Pn(e,(...a)=>t(...a),s)},ad=Zt("bm"),Oe=Zt("m"),Vr=Zt("bu"),Lr=Zt("u"),Jo=Zt("bum"),xa=Zt("um"),nd=Zt("sp"),od=Zt("rtg"),ld=Zt("rtc");function id(e,t=at){Pn("ec",e,t)}const Nr="components";function rd(e,t){return jr(Nr,e,!0,t)||e}const Or=Symbol.for("v-ndc");function zr(e){return Ue(e)?jr(Nr,e,!1)||e:e||Or}function jr(e,t,s=!0,a=!1){const o=gt||at;if(o){const l=o.type;{const r=Xd(l,!1);if(r&&(r===t||r===xt(t)||r===kn(xt(t))))return l}const i=Sl(o[e]||l[e],t)||Sl(o.appContext[e],t);return!i&&a?l:i}}function Sl(e,t){return e&&(e[t]||e[xt(t)]||e[kn(xt(t))])}function _e(e,t,s,a){let o;const l=s,i=ke(e);if(i||Ue(e)){const r=i&&Ts(e);let d=!1,f=!1;r&&(d=!St(e),f=rs(e),e=Sn(e)),o=new Array(e.length);for(let c=0,u=e.length;c<u;c++)o[c]=t(d?f?Ja(Je(e[c])):Je(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,l)}else if(Ge(e))if(e[Symbol.iterator])o=Array.from(e,(r,d)=>t(r,d,void 0,l));else{const r=Object.keys(e);o=new Array(r.length);for(let d=0,f=r.length;d<f;d++){const c=r[d];o[d]=t(e[c],c,d,l)}}else o=[];return o}const vo=e=>e?ic(e)?Tn(e):vo(e.parent):null,ra=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vo(e.parent),$root:e=>vo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Yr(e),$forceUpdate:e=>e.f||(e.f=()=>{Ko(e.update)}),$nextTick:e=>e.n||(e.n=ze.bind(e.proxy)),$watch:e=>Id.bind(e)}),Yn=(e,t)=>e!==je&&!e.__isScriptSetup&&Le(e,t),cd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:o,props:l,accessCache:i,type:r,appContext:d}=e;let f;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return a[t];case 2:return o[t];case 4:return s[t];case 3:return l[t]}else{if(Yn(a,t))return i[t]=1,a[t];if(o!==je&&Le(o,t))return i[t]=2,o[t];if((f=e.propsOptions[0])&&Le(f,t))return i[t]=3,l[t];if(s!==je&&Le(s,t))return i[t]=4,s[t];ho&&(i[t]=0)}}const c=ra[t];let u,v;if(c)return t==="$attrs"&&st(e.attrs,"get",""),c(e);if((u=r.__cssModules)&&(u=u[t]))return u;if(s!==je&&Le(s,t))return i[t]=4,s[t];if(v=d.config.globalProperties,Le(v,t))return v[t]},set({_:e},t,s){const{data:a,setupState:o,ctx:l}=e;return Yn(o,t)?(o[t]=s,!0):a!==je&&Le(a,t)?(a[t]=s,!0):Le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:o,propsOptions:l,type:i}},r){let d,f;return!!(s[r]||e!==je&&r[0]!=="$"&&Le(e,r)||Yn(t,r)||(d=l[0])&&Le(d,r)||Le(a,r)||Le(ra,r)||Le(o.config.globalProperties,r)||(f=i.__cssModules)&&f[r])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Le(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function xl(e){return ke(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ho=!0;function ud(e){const t=Yr(e),s=e.proxy,a=e.ctx;ho=!1,t.beforeCreate&&El(t.beforeCreate,e,"bc");const{data:o,computed:l,methods:i,watch:r,provide:d,inject:f,created:c,beforeMount:u,mounted:v,beforeUpdate:h,updated:A,activated:m,deactivated:p,beforeDestroy:y,beforeUnmount:w,destroyed:I,unmounted:$,render:z,renderTracked:S,renderTriggered:x,errorCaptured:b,serverPrefetch:k,expose:P,inheritAttrs:V,components:M,directives:T,filters:j}=t;if(f&&dd(f,a,null),i)for(const J in i){const Z=i[J];xe(Z)&&(a[J]=Z.bind(s))}if(o){const J=o.call(s,s);Ge(J)&&(e.data=xn(J))}if(ho=!0,l)for(const J in l){const Z=l[J],ne=xe(Z)?Z.bind(s,s):xe(Z.get)?Z.get.bind(s,s):It,he=!xe(Z)&&xe(Z.set)?Z.set.bind(s):It,we=K({get:ne,set:he});Object.defineProperty(a,J,{enumerable:!0,configurable:!0,get:()=>we.value,set:se=>we.value=se})}if(r)for(const J in r)Hr(r[J],a,s,J);if(d){const J=xe(d)?d.call(s):d;Reflect.ownKeys(J).forEach(Z=>{Ua(Z,J[Z])})}c&&El(c,e,"c");function U(J,Z){ke(Z)?Z.forEach(ne=>J(ne.bind(s))):Z&&J(Z.bind(s))}if(U(ad,u),U(Oe,v),U(Vr,h),U(Lr,A),U(ed,m),U(td,p),U(id,b),U(ld,S),U(od,x),U(Jo,w),U(xa,$),U(nd,k),ke(P))if(P.length){const J=e.exposed||(e.exposed={});P.forEach(Z=>{Object.defineProperty(J,Z,{get:()=>s[Z],set:ne=>s[Z]=ne,enumerable:!0})})}else e.exposed||(e.exposed={});z&&e.render===It&&(e.render=z),V!=null&&(e.inheritAttrs=V),M&&(e.components=M),T&&(e.directives=T),k&&Br(e)}function dd(e,t,s=It){ke(e)&&(e=po(e));for(const a in e){const o=e[a];let l;Ge(o)?"default"in o?l=Mt(o.from||a,o.default,!0):l=Mt(o.from||a):l=Mt(o),nt(l)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:i=>l.value=i}):t[a]=l}}function El(e,t,s){Ft(ke(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function Hr(e,t,s,a){let o=a.includes(".")?sc(s,a):()=>s[a];if(Ue(e)){const l=t[e];xe(l)&&be(o,l)}else if(xe(e))be(o,e.bind(s));else if(Ge(e))if(ke(e))e.forEach(l=>Hr(l,t,s,a));else{const l=xe(e.handler)?e.handler.bind(s):t[e.handler];xe(l)&&be(o,l,e)}}function Yr(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:o,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,r=l.get(t);let d;return r?d=r:!o.length&&!s&&!a?d=t:(d={},o.length&&o.forEach(f=>an(d,f,i,!0)),an(d,t,i)),Ge(t)&&l.set(t,d),d}function an(e,t,s,a=!1){const{mixins:o,extends:l}=t;l&&an(e,l,s,!0),o&&o.forEach(i=>an(e,i,s,!0));for(const i in t)if(!(a&&i==="expose")){const r=fd[i]||s&&s[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const fd={data:Il,props:Pl,emits:Pl,methods:Ks,computed:Ks,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:Ks,directives:Ks,watch:hd,provide:Il,inject:vd};function Il(e,t){return t?e?function(){return Qe(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function vd(e,t){return Ks(po(e),po(t))}function po(e){if(ke(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function lt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ks(e,t){return e?Qe(Object.create(null),e,t):t}function Pl(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Qe(Object.create(null),xl(e),xl(t??{})):t}function hd(e,t){if(!e)return t;if(!t)return e;const s=Qe(Object.create(null),e);for(const a in t)s[a]=lt(e[a],t[a]);return s}function Gr(){return{app:null,config:{isNativeTag:qi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pd=0;function gd(e,t){return function(a,o=null){xe(a)||(a=Qe({},a)),o!=null&&!Ge(o)&&(o=null);const l=Gr(),i=new WeakSet,r=[];let d=!1;const f=l.app={_uid:pd++,_component:a,_props:o,_container:null,_context:l,_instance:null,version:Qd,get config(){return l.config},set config(c){},use(c,...u){return i.has(c)||(c&&xe(c.install)?(i.add(c),c.install(f,...u)):xe(c)&&(i.add(c),c(f,...u))),f},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),f},component(c,u){return u?(l.components[c]=u,f):l.components[c]},directive(c,u){return u?(l.directives[c]=u,f):l.directives[c]},mount(c,u,v){if(!d){const h=f._ceVNode||ye(a,o);return h.appContext=l,v===!0?v="svg":v===!1&&(v=void 0),e(h,c,v),d=!0,f._container=c,c.__vue_app__=f,Tn(h.component)}},onUnmount(c){r.push(c)},unmount(){d&&(Ft(r,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,u){return l.provides[c]=u,f},runWithContext(c){const u=Vs;Vs=f;try{return c()}finally{Vs=u}}};return f}}let Vs=null;function Ua(e,t){if(at){let s=at.provides;const a=at.parent&&at.parent.provides;a===s&&(s=at.provides=Object.create(a)),s[e]=t}}function Mt(e,t,s=!1){const a=Dn();if(a||Vs){let o=Vs?Vs._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&xe(t)?t.call(a&&a.proxy):t}}const qr={},Ur=()=>Object.create(qr),Wr=e=>Object.getPrototypeOf(e)===qr;function md(e,t,s,a=!1){const o={},l=Ur();e.propsDefaults=Object.create(null),Xr(e,t,o,l);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=a?o:pr(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function bd(e,t,s,a){const{props:o,attrs:l,vnode:{patchFlag:i}}=e,r=De(o),[d]=e.propsOptions;let f=!1;if((a||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let v=c[u];if(Mn(e.emitsOptions,v))continue;const h=t[v];if(d)if(Le(l,v))h!==l[v]&&(l[v]=h,f=!0);else{const A=xt(v);o[A]=go(d,r,A,h,e,!1)}else h!==l[v]&&(l[v]=h,f=!0)}}}else{Xr(e,t,o,l)&&(f=!0);let c;for(const u in r)(!t||!Le(t,u)&&((c=Cs(u))===u||!Le(t,c)))&&(d?s&&(s[u]!==void 0||s[c]!==void 0)&&(o[u]=go(d,r,u,void 0,e,!0)):delete o[u]);if(l!==r)for(const u in l)(!t||!Le(t,u))&&(delete l[u],f=!0)}f&&Wt(e.attrs,"set","")}function Xr(e,t,s,a){const[o,l]=e.propsOptions;let i=!1,r;if(t)for(let d in t){if(sa(d))continue;const f=t[d];let c;o&&Le(o,c=xt(d))?!l||!l.includes(c)?s[c]=f:(r||(r={}))[c]=f:Mn(e.emitsOptions,d)||(!(d in a)||f!==a[d])&&(a[d]=f,i=!0)}if(l){const d=De(s),f=r||je;for(let c=0;c<l.length;c++){const u=l[c];s[u]=go(o,d,u,f[u],e,!Le(f,u))}}return i}function go(e,t,s,a,o,l){const i=e[s];if(i!=null){const r=Le(i,"default");if(r&&a===void 0){const d=i.default;if(i.type!==Function&&!i.skipFactory&&xe(d)){const{propsDefaults:f}=o;if(s in f)a=f[s];else{const c=Ea(o);a=f[s]=d.call(null,t),c()}}else a=d;o.ce&&o.ce._setProp(s,a)}i[0]&&(l&&!r?a=!1:i[1]&&(a===""||a===Cs(s))&&(a=!0))}return a}const yd=new WeakMap;function Kr(e,t,s=!1){const a=s?yd:t.propsCache,o=a.get(e);if(o)return o;const l=e.props,i={},r=[];let d=!1;if(!xe(e)){const c=u=>{d=!0;const[v,h]=Kr(u,t,!0);Qe(i,v),h&&r.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!d)return Ge(e)&&a.set(e,Fs),Fs;if(ke(l))for(let c=0;c<l.length;c++){const u=xt(l[c]);Ml(u)&&(i[u]=je)}else if(l)for(const c in l){const u=xt(c);if(Ml(u)){const v=l[c],h=i[u]=ke(v)||xe(v)?{type:v}:Qe({},v),A=h.type;let m=!1,p=!0;if(ke(A))for(let y=0;y<A.length;++y){const w=A[y],I=xe(w)&&w.name;if(I==="Boolean"){m=!0;break}else I==="String"&&(p=!1)}else m=xe(A)&&A.name==="Boolean";h[0]=m,h[1]=p,(m||Le(h,"default"))&&r.push(u)}}const f=[i,r];return Ge(e)&&a.set(e,f),f}function Ml(e){return e[0]!=="$"&&!sa(e)}const Zo=e=>e==="_"||e==="_ctx"||e==="$stable",el=e=>ke(e)?e.map(Vt):[Vt(e)],Ad=(e,t,s)=>{if(t._n)return t;const a=ct((...o)=>el(t(...o)),s);return a._c=!1,a},Qr=(e,t,s)=>{const a=e._ctx;for(const o in e){if(Zo(o))continue;const l=e[o];if(xe(l))t[o]=Ad(o,l,a);else if(l!=null){const i=el(l);t[o]=()=>i}}},Jr=(e,t)=>{const s=el(t);e.slots.default=()=>s},Zr=(e,t,s)=>{for(const a in t)(s||!Zo(a))&&(e[a]=t[a])},wd=(e,t,s)=>{const a=e.slots=Ur();if(e.vnode.shapeFlag&32){const o=t._;o?(Zr(a,t,s),s&&Qi(a,"_",o,!0)):Qr(t,a)}else t&&Jr(e,t)},Cd=(e,t,s)=>{const{vnode:a,slots:o}=e;let l=!0,i=je;if(a.shapeFlag&32){const r=t._;r?s&&r===1?l=!1:Zr(o,t,s):(l=!t.$stable,Qr(t,o)),i=t}else t&&(Jr(e,t),i={default:1});if(l)for(const r in o)!Zo(r)&&i[r]==null&&delete o[r]},it=Vd;function _d(e){return kd(e)}function kd(e,t){const s=$n();s.__VUE__=!0;const{insert:a,remove:o,patchProp:l,createElement:i,createText:r,createComment:d,setText:f,setElementText:c,parentNode:u,nextSibling:v,setScopeId:h=It,insertStaticContent:A}=e,m=(E,_,B,H=null,Q=null,ee=null,re=void 0,ie=null,ue=!!_.dynamicChildren)=>{if(E===_)return;E&&!ms(E,_)&&(H=W(E),se(E,Q,ee,!0),E=null),_.patchFlag===-2&&(ue=!1,_.dynamicChildren=null);const{type:oe,ref:me,shapeFlag:ve}=_;switch(oe){case Fn:p(E,_,B,H);break;case ut:y(E,_,B,H);break;case ca:E==null&&w(_,B,H,re);break;case ge:M(E,_,B,H,Q,ee,re,ie,ue);break;default:ve&1?z(E,_,B,H,Q,ee,re,ie,ue):ve&6?T(E,_,B,H,Q,ee,re,ie,ue):(ve&64||ve&128)&&oe.process(E,_,B,H,Q,ee,re,ie,ue,te)}me!=null&&Q?la(me,E&&E.ref,ee,_||E,!_):me==null&&E&&E.ref!=null&&la(E.ref,null,ee,E,!0)},p=(E,_,B,H)=>{if(E==null)a(_.el=r(_.children),B,H);else{const Q=_.el=E.el;_.children!==E.children&&f(Q,_.children)}},y=(E,_,B,H)=>{E==null?a(_.el=d(_.children||""),B,H):_.el=E.el},w=(E,_,B,H)=>{[E.el,E.anchor]=A(E.children,_,B,H,E.el,E.anchor)},I=({el:E,anchor:_},B,H)=>{let Q;for(;E&&E!==_;)Q=v(E),a(E,B,H),E=Q;a(_,B,H)},$=({el:E,anchor:_})=>{let B;for(;E&&E!==_;)B=v(E),o(E),E=B;o(_)},z=(E,_,B,H,Q,ee,re,ie,ue)=>{_.type==="svg"?re="svg":_.type==="math"&&(re="mathml"),E==null?S(_,B,H,Q,ee,re,ie,ue):k(E,_,Q,ee,re,ie,ue)},S=(E,_,B,H,Q,ee,re,ie)=>{let ue,oe;const{props:me,shapeFlag:ve,transition:Ae,dirs:Ce}=E;if(ue=E.el=i(E.type,ee,me&&me.is,me),ve&8?c(ue,E.children):ve&16&&b(E.children,ue,null,H,Q,Gn(E,ee),re,ie),Ce&&fs(E,null,H,"created"),x(ue,E,E.scopeId,re,H),me){for(const Fe in me)Fe!=="value"&&!sa(Fe)&&l(ue,Fe,null,me[Fe],ee,H);"value"in me&&l(ue,"value",null,me.value,ee),(oe=me.onVnodeBeforeMount)&&Tt(oe,H,E)}Ce&&fs(E,null,H,"beforeMount");const Ee=$d(Q,Ae);Ee&&Ae.beforeEnter(ue),a(ue,_,B),((oe=me&&me.onVnodeMounted)||Ee||Ce)&&it(()=>{oe&&Tt(oe,H,E),Ee&&Ae.enter(ue),Ce&&fs(E,null,H,"mounted")},Q)},x=(E,_,B,H,Q)=>{if(B&&h(E,B),H)for(let ee=0;ee<H.length;ee++)h(E,H[ee]);if(Q){let ee=Q.subTree;if(_===ee||nc(ee.type)&&(ee.ssContent===_||ee.ssFallback===_)){const re=Q.vnode;x(E,re,re.scopeId,re.slotScopeIds,Q.parent)}}},b=(E,_,B,H,Q,ee,re,ie,ue=0)=>{for(let oe=ue;oe<E.length;oe++){const me=E[oe]=ie?os(E[oe]):Vt(E[oe]);m(null,me,_,B,H,Q,ee,re,ie)}},k=(E,_,B,H,Q,ee,re)=>{const ie=_.el=E.el;let{patchFlag:ue,dynamicChildren:oe,dirs:me}=_;ue|=E.patchFlag&16;const ve=E.props||je,Ae=_.props||je;let Ce;if(B&&vs(B,!1),(Ce=Ae.onVnodeBeforeUpdate)&&Tt(Ce,B,_,E),me&&fs(_,E,B,"beforeUpdate"),B&&vs(B,!0),(ve.innerHTML&&Ae.innerHTML==null||ve.textContent&&Ae.textContent==null)&&c(ie,""),oe?P(E.dynamicChildren,oe,ie,B,H,Gn(_,Q),ee):re||Z(E,_,ie,null,B,H,Gn(_,Q),ee,!1),ue>0){if(ue&16)V(ie,ve,Ae,B,Q);else if(ue&2&&ve.class!==Ae.class&&l(ie,"class",null,Ae.class,Q),ue&4&&l(ie,"style",ve.style,Ae.style,Q),ue&8){const Ee=_.dynamicProps;for(let Fe=0;Fe<Ee.length;Fe++){const Pe=Ee[Fe],Ze=ve[Pe],et=Ae[Pe];(et!==Ze||Pe==="value")&&l(ie,Pe,Ze,et,Q,B)}}ue&1&&E.children!==_.children&&c(ie,_.children)}else!re&&oe==null&&V(ie,ve,Ae,B,Q);((Ce=Ae.onVnodeUpdated)||me)&&it(()=>{Ce&&Tt(Ce,B,_,E),me&&fs(_,E,B,"updated")},H)},P=(E,_,B,H,Q,ee,re)=>{for(let ie=0;ie<_.length;ie++){const ue=E[ie],oe=_[ie],me=ue.el&&(ue.type===ge||!ms(ue,oe)||ue.shapeFlag&198)?u(ue.el):B;m(ue,oe,me,null,H,Q,ee,re,!0)}},V=(E,_,B,H,Q)=>{if(_!==B){if(_!==je)for(const ee in _)!sa(ee)&&!(ee in B)&&l(E,ee,_[ee],null,Q,H);for(const ee in B){if(sa(ee))continue;const re=B[ee],ie=_[ee];re!==ie&&ee!=="value"&&l(E,ee,ie,re,Q,H)}"value"in B&&l(E,"value",_.value,B.value,Q)}},M=(E,_,B,H,Q,ee,re,ie,ue)=>{const oe=_.el=E?E.el:r(""),me=_.anchor=E?E.anchor:r("");let{patchFlag:ve,dynamicChildren:Ae,slotScopeIds:Ce}=_;Ce&&(ie=ie?ie.concat(Ce):Ce),E==null?(a(oe,B,H),a(me,B,H),b(_.children||[],B,me,Q,ee,re,ie,ue)):ve>0&&ve&64&&Ae&&E.dynamicChildren?(P(E.dynamicChildren,Ae,B,Q,ee,re,ie),(_.key!=null||Q&&_===Q.subTree)&&tl(E,_,!0)):Z(E,_,B,me,Q,ee,re,ie,ue)},T=(E,_,B,H,Q,ee,re,ie,ue)=>{_.slotScopeIds=ie,E==null?_.shapeFlag&512?Q.ctx.activate(_,B,H,re,ue):j(_,B,H,Q,ee,re,ue):F(E,_,ue)},j=(E,_,B,H,Q,ee,re)=>{const ie=E.component=Yd(E,H,Q);if(In(E)&&(ie.ctx.renderer=te),Gd(ie,!1,re),ie.asyncDep){if(Q&&Q.registerDep(ie,U,re),!E.el){const ue=ie.subTree=ye(ut);y(null,ue,_,B),E.placeholder=ue.el}}else U(ie,E,_,B,Q,ee,re)},F=(E,_,B)=>{const H=_.component=E.component;if(Bd(E,_,B))if(H.asyncDep&&!H.asyncResolved){J(H,_,B);return}else H.next=_,H.update();else _.el=E.el,H.vnode=_},U=(E,_,B,H,Q,ee,re)=>{const ie=()=>{if(E.isMounted){let{next:ve,bu:Ae,u:Ce,parent:Ee,vnode:Fe}=E;{const At=ec(E);if(At){ve&&(ve.el=Fe.el,J(E,ve,re)),At.asyncDep.then(()=>{E.isUnmounted||ie()});return}}let Pe=ve,Ze;vs(E,!1),ve?(ve.el=Fe.el,J(E,ve,re)):ve=Fe,Ae&&Ga(Ae),(Ze=ve.props&&ve.props.onVnodeBeforeUpdate)&&Tt(Ze,Ee,ve,Fe),vs(E,!0);const et=Dl(E),yt=E.subTree;E.subTree=et,m(yt,et,u(yt.el),W(yt),E,Q,ee),ve.el=et.el,Pe===null&&Rd(E,et.el),Ce&&it(Ce,Q),(Ze=ve.props&&ve.props.onVnodeUpdated)&&it(()=>Tt(Ze,Ee,ve,Fe),Q)}else{let ve;const{el:Ae,props:Ce}=_,{bm:Ee,m:Fe,parent:Pe,root:Ze,type:et}=E,yt=ia(_);vs(E,!1),Ee&&Ga(Ee),!yt&&(ve=Ce&&Ce.onVnodeBeforeMount)&&Tt(ve,Pe,_),vs(E,!0);{Ze.ce&&Ze.ce._def.shadowRoot!==!1&&Ze.ce._injectChildStyle(et);const At=E.subTree=Dl(E);m(null,At,B,H,E,Q,ee),_.el=At.el}if(Fe&&it(Fe,Q),!yt&&(ve=Ce&&Ce.onVnodeMounted)){const At=_;it(()=>Tt(ve,Pe,At),Q)}(_.shapeFlag&256||Pe&&ia(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&E.a&&it(E.a,Q),E.isMounted=!0,_=B=H=null}};E.scope.on();const ue=E.effect=new tr(ie);E.scope.off();const oe=E.update=ue.run.bind(ue),me=E.job=ue.runIfDirty.bind(ue);me.i=E,me.id=E.uid,ue.scheduler=()=>Ko(me),vs(E,!0),oe()},J=(E,_,B)=>{_.component=E;const H=E.vnode.props;E.vnode=_,E.next=null,bd(E,_.props,H,B),Cd(E,_.children,B),Qt(),Al(E),Jt()},Z=(E,_,B,H,Q,ee,re,ie,ue=!1)=>{const oe=E&&E.children,me=E?E.shapeFlag:0,ve=_.children,{patchFlag:Ae,shapeFlag:Ce}=_;if(Ae>0){if(Ae&128){he(oe,ve,B,H,Q,ee,re,ie,ue);return}else if(Ae&256){ne(oe,ve,B,H,Q,ee,re,ie,ue);return}}Ce&8?(me&16&&N(oe,Q,ee),ve!==oe&&c(B,ve)):me&16?Ce&16?he(oe,ve,B,H,Q,ee,re,ie,ue):N(oe,Q,ee,!0):(me&8&&c(B,""),Ce&16&&b(ve,B,H,Q,ee,re,ie,ue))},ne=(E,_,B,H,Q,ee,re,ie,ue)=>{E=E||Fs,_=_||Fs;const oe=E.length,me=_.length,ve=Math.min(oe,me);let Ae;for(Ae=0;Ae<ve;Ae++){const Ce=_[Ae]=ue?os(_[Ae]):Vt(_[Ae]);m(E[Ae],Ce,B,null,Q,ee,re,ie,ue)}oe>me?N(E,Q,ee,!0,!1,ve):b(_,B,H,Q,ee,re,ie,ue,ve)},he=(E,_,B,H,Q,ee,re,ie,ue)=>{let oe=0;const me=_.length;let ve=E.length-1,Ae=me-1;for(;oe<=ve&&oe<=Ae;){const Ce=E[oe],Ee=_[oe]=ue?os(_[oe]):Vt(_[oe]);if(ms(Ce,Ee))m(Ce,Ee,B,null,Q,ee,re,ie,ue);else break;oe++}for(;oe<=ve&&oe<=Ae;){const Ce=E[ve],Ee=_[Ae]=ue?os(_[Ae]):Vt(_[Ae]);if(ms(Ce,Ee))m(Ce,Ee,B,null,Q,ee,re,ie,ue);else break;ve--,Ae--}if(oe>ve){if(oe<=Ae){const Ce=Ae+1,Ee=Ce<me?_[Ce].el:H;for(;oe<=Ae;)m(null,_[oe]=ue?os(_[oe]):Vt(_[oe]),B,Ee,Q,ee,re,ie,ue),oe++}}else if(oe>Ae)for(;oe<=ve;)se(E[oe],Q,ee,!0),oe++;else{const Ce=oe,Ee=oe,Fe=new Map;for(oe=Ee;oe<=Ae;oe++){const ot=_[oe]=ue?os(_[oe]):Vt(_[oe]);ot.key!=null&&Fe.set(ot.key,oe)}let Pe,Ze=0;const et=Ae-Ee+1;let yt=!1,At=0;const ds=new Array(et);for(oe=0;oe<et;oe++)ds[oe]=0;for(oe=Ce;oe<=ve;oe++){const ot=E[oe];if(Ze>=et){se(ot,Q,ee,!0);continue}let wt;if(ot.key!=null)wt=Fe.get(ot.key);else for(Pe=Ee;Pe<=Ae;Pe++)if(ds[Pe-Ee]===0&&ms(ot,_[Pe])){wt=Pe;break}wt===void 0?se(ot,Q,ee,!0):(ds[wt-Ee]=oe+1,wt>=At?At=wt:yt=!0,m(ot,_[wt],B,null,Q,ee,re,ie,ue),Ze++)}const Ma=yt?Sd(ds):Fs;for(Pe=Ma.length-1,oe=et-1;oe>=0;oe--){const ot=Ee+oe,wt=_[ot],Fa=_[ot+1],Da=ot+1<me?Fa.el||Fa.placeholder:H;ds[oe]===0?m(null,wt,B,Da,Q,ee,re,ie,ue):yt&&(Pe<0||oe!==Ma[Pe]?we(wt,B,Da,2):Pe--)}}},we=(E,_,B,H,Q=null)=>{const{el:ee,type:re,transition:ie,children:ue,shapeFlag:oe}=E;if(oe&6){we(E.component.subTree,_,B,H);return}if(oe&128){E.suspense.move(_,B,H);return}if(oe&64){re.move(E,_,B,te);return}if(re===ge){a(ee,_,B);for(let ve=0;ve<ue.length;ve++)we(ue[ve],_,B,H);a(E.anchor,_,B);return}if(re===ca){I(E,_,B);return}if(H!==2&&oe&1&&ie)if(H===0)ie.beforeEnter(ee),a(ee,_,B),it(()=>ie.enter(ee),Q);else{const{leave:ve,delayLeave:Ae,afterLeave:Ce}=ie,Ee=()=>{E.ctx.isUnmounted?o(ee):a(ee,_,B)},Fe=()=>{ee._isLeaving&&ee[Ut](!0),ve(ee,()=>{Ee(),Ce&&Ce()})};Ae?Ae(ee,Ee,Fe):Fe()}else a(ee,_,B)},se=(E,_,B,H=!1,Q=!1)=>{const{type:ee,props:re,ref:ie,children:ue,dynamicChildren:oe,shapeFlag:me,patchFlag:ve,dirs:Ae,cacheIndex:Ce}=E;if(ve===-2&&(Q=!1),ie!=null&&(Qt(),la(ie,null,B,E,!0),Jt()),Ce!=null&&(_.renderCache[Ce]=void 0),me&256){_.ctx.deactivate(E);return}const Ee=me&1&&Ae,Fe=!ia(E);let Pe;if(Fe&&(Pe=re&&re.onVnodeBeforeUnmount)&&Tt(Pe,_,E),me&6)G(E.component,B,H);else{if(me&128){E.suspense.unmount(B,H);return}Ee&&fs(E,null,_,"beforeUnmount"),me&64?E.type.remove(E,_,B,te,H):oe&&!oe.hasOnce&&(ee!==ge||ve>0&&ve&64)?N(oe,_,B,!1,!0):(ee===ge&&ve&384||!Q&&me&16)&&N(ue,_,B),H&&ae(E)}(Fe&&(Pe=re&&re.onVnodeUnmounted)||Ee)&&it(()=>{Pe&&Tt(Pe,_,E),Ee&&fs(E,null,_,"unmounted")},B)},ae=E=>{const{type:_,el:B,anchor:H,transition:Q}=E;if(_===ge){R(B,H);return}if(_===ca){$(E);return}const ee=()=>{o(B),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(E.shapeFlag&1&&Q&&!Q.persisted){const{leave:re,delayLeave:ie}=Q,ue=()=>re(B,ee);ie?ie(E.el,ee,ue):ue()}else ee()},R=(E,_)=>{let B;for(;E!==_;)B=v(E),o(E),E=B;o(_)},G=(E,_,B)=>{const{bum:H,scope:Q,job:ee,subTree:re,um:ie,m:ue,a:oe}=E;Fl(ue),Fl(oe),H&&Ga(H),Q.stop(),ee&&(ee.flags|=8,se(re,E,_,B)),ie&&it(ie,_),it(()=>{E.isUnmounted=!0},_)},N=(E,_,B,H=!1,Q=!1,ee=0)=>{for(let re=ee;re<E.length;re++)se(E[re],_,B,H,Q)},W=E=>{if(E.shapeFlag&6)return W(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const _=v(E.anchor||E.el),B=_&&_[$r];return B?v(B):_};let X=!1;const D=(E,_,B)=>{E==null?_._vnode&&se(_._vnode,null,null,!0):m(_._vnode||null,E,_,null,null,null,B),_._vnode=E,X||(X=!0,Al(),Cr(),X=!1)},te={p:m,um:se,m:we,r:ae,mt:j,mc:b,pc:Z,pbc:P,n:W,o:e};return{render:D,hydrate:void 0,createApp:gd(D)}}function Gn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function vs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function $d(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function tl(e,t,s=!1){const a=e.children,o=t.children;if(ke(a)&&ke(o))for(let l=0;l<a.length;l++){const i=a[l];let r=o[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=o[l]=os(o[l]),r.el=i.el),!s&&r.patchFlag!==-2&&tl(i,r)),r.type===Fn&&r.patchFlag!==-1&&(r.el=i.el),r.type===ut&&!r.el&&(r.el=i.el)}}function Sd(e){const t=e.slice(),s=[0];let a,o,l,i,r;const d=e.length;for(a=0;a<d;a++){const f=e[a];if(f!==0){if(o=s[s.length-1],e[o]<f){t[a]=o,s.push(a);continue}for(l=0,i=s.length-1;l<i;)r=l+i>>1,e[s[r]]<f?l=r+1:i=r;f<e[s[l]]&&(l>0&&(t[a]=s[l-1]),s[l]=a)}}for(l=s.length,i=s[l-1];l-- >0;)s[l]=i,i=t[i];return s}function ec(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ec(t)}function Fl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const xd=Symbol.for("v-scx"),Ed=()=>Mt(xd);function be(e,t,s){return tc(e,t,s)}function tc(e,t,s=je){const{immediate:a,deep:o,flush:l,once:i}=s,r=Qe({},s),d=t&&a||!t&&l!=="post";let f;if(ya){if(l==="sync"){const h=Ed();f=h.__watcherHandles||(h.__watcherHandles=[])}else if(!d){const h=()=>{};return h.stop=It,h.resume=It,h.pause=It,h}}const c=at;r.call=(h,A,m)=>Ft(h,c,A,m);let u=!1;l==="post"?r.scheduler=h=>{it(h,c&&c.suspense)}:l!=="sync"&&(u=!0,r.scheduler=(h,A)=>{A?h():Ko(h)}),r.augmentJob=h=>{t&&(h.flags|=4),u&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const v=Wu(e,t,r);return ya&&(f?f.push(v):d&&v()),v}function Id(e,t,s){const a=this.proxy,o=Ue(e)?e.includes(".")?sc(a,e):()=>a[e]:e.bind(a,a);let l;xe(t)?l=t:(l=t.handler,s=t);const i=Ea(this),r=tc(o,l.bind(a),s);return i(),r}function sc(e,t){const s=t.split(".");return()=>{let a=e;for(let o=0;o<s.length&&a;o++)a=a[s[o]];return a}}const Pd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xt(t)}Modifiers`]||e[`${Cs(t)}Modifiers`];function Md(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||je;let o=s;const l=t.startsWith("update:"),i=l&&Pd(a,t.slice(7));i&&(i.trim&&(o=s.map(c=>Ue(c)?c.trim():c)),i.number&&(o=s.map(lo)));let r,d=a[r=Ln(t)]||a[r=Ln(xt(t))];!d&&l&&(d=a[r=Ln(Cs(t))]),d&&Ft(d,e,6,o);const f=a[r+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Ft(f,e,6,o)}}const Fd=new WeakMap;function ac(e,t,s=!1){const a=s?Fd:t.emitsCache,o=a.get(e);if(o!==void 0)return o;const l=e.emits;let i={},r=!1;if(!xe(e)){const d=f=>{const c=ac(f,t,!0);c&&(r=!0,Qe(i,c))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!r?(Ge(e)&&a.set(e,null),null):(ke(l)?l.forEach(d=>i[d]=null):Qe(i,l),Ge(e)&&a.set(e,i),i)}function Mn(e,t){return!e||!wn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Le(e,t[0].toLowerCase()+t.slice(1))||Le(e,Cs(t))||Le(e,t))}function Dl(e){const{type:t,vnode:s,proxy:a,withProxy:o,propsOptions:[l],slots:i,attrs:r,emit:d,render:f,renderCache:c,props:u,data:v,setupState:h,ctx:A,inheritAttrs:m}=e,p=tn(e);let y,w;try{if(s.shapeFlag&4){const $=o||a,z=$;y=Vt(f.call(z,$,c,u,h,v,A)),w=r}else{const $=t;y=Vt($.length>1?$(u,{attrs:r,slots:i,emit:d}):$(u,null)),w=t.props?r:Dd(r)}}catch($){ua.length=0,En($,e,1),y=ye(ut)}let I=y;if(w&&m!==!1){const $=Object.keys(w),{shapeFlag:z}=I;$.length&&z&7&&(l&&$.some(Oo)&&(w=Td(w,l)),I=cs(I,w,!1,!0))}return s.dirs&&(I=cs(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&ys(I,s.transition),y=I,tn(p),y}const Dd=e=>{let t;for(const s in e)(s==="class"||s==="style"||wn(s))&&((t||(t={}))[s]=e[s]);return t},Td=(e,t)=>{const s={};for(const a in e)(!Oo(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Bd(e,t,s){const{props:a,children:o,component:l}=e,{props:i,children:r,patchFlag:d}=t,f=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return a?Tl(a,i,f):!!i;if(d&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const v=c[u];if(i[v]!==a[v]&&!Mn(f,v))return!0}}}else return(o||r)&&(!r||!r.$stable)?!0:a===i?!1:a?i?Tl(a,i,f):!0:!!i;return!1}function Tl(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let o=0;o<a.length;o++){const l=a[o];if(t[l]!==e[l]&&!Mn(s,l))return!0}return!1}function Rd({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const nc=e=>e.__isSuspense;function Vd(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):wr(e)}const ge=Symbol.for("v-fgt"),Fn=Symbol.for("v-txt"),ut=Symbol.for("v-cmt"),ca=Symbol.for("v-stc"),ua=[];let mt=null;function g(e=!1){ua.push(mt=e?null:[])}function Ld(){ua.pop(),mt=ua[ua.length-1]||null}let ba=1;function nn(e,t=!1){ba+=e,e<0&&mt&&t&&(mt.hasOnce=!0)}function oc(e){return e.dynamicChildren=ba>0?mt||Fs:null,Ld(),ba>0&&mt&&mt.push(e),e}function C(e,t,s,a,o,l){return oc(n(e,t,s,a,o,l,!0))}function Re(e,t,s,a,o){return oc(ye(e,t,s,a,o,!0))}function on(e){return e?e.__v_isVNode===!0:!1}function ms(e,t){return e.type===t.type&&e.key===t.key}const lc=({key:e})=>e??null,Wa=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||nt(e)||xe(e)?{i:gt,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,a=0,o=null,l=e===ge?0:1,i=!1,r=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&lc(t),ref:t&&Wa(t),scopeId:kr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:gt};return r?(sl(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=Ue(s)?8:16),ba>0&&!i&&mt&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&mt.push(d),d}const ye=Nd;function Nd(e,t=null,s=null,a=0,o=null,l=!1){if((!e||e===Or)&&(e=ut),on(e)){const r=cs(e,t,!0);return s&&sl(r,s),ba>0&&!l&&mt&&(r.shapeFlag&6?mt[mt.indexOf(e)]=r:mt.push(r)),r.patchFlag=-2,r}if(Kd(e)&&(e=e.__vccOpts),t){t=Od(t);let{class:r,style:d}=t;r&&!Ue(r)&&(t.class=pe(r)),Ge(d)&&(Xo(d)&&!ke(d)&&(d=Qe({},d)),t.style=fe(d))}const i=Ue(e)?1:nc(e)?128:Sr(e)?64:Ge(e)?4:xe(e)?2:0;return n(e,t,s,a,o,i,l,!0)}function Od(e){return e?Xo(e)||Wr(e)?Qe({},e):e:null}function cs(e,t,s=!1,a=!1){const{props:o,ref:l,patchFlag:i,children:r,transition:d}=e,f=t?zd(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&lc(f),ref:t&&t.ref?s&&l?ke(l)?l.concat(Wa(t)):[l,Wa(t)]:Wa(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cs(e.ssContent),ssFallback:e.ssFallback&&cs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&a&&ys(c,d.clone(c)),c}function Lt(e=" ",t=0){return ye(Fn,null,e,t)}function Se(e,t){const s=ye(ca,null,e);return s.staticCount=t,s}function le(e="",t=!1){return t?(g(),Re(ut,null,e)):ye(ut,null,e)}function Vt(e){return e==null||typeof e=="boolean"?ye(ut):ke(e)?ye(ge,null,e.slice()):on(e)?os(e):ye(Fn,null,String(e))}function os(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cs(e)}function sl(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(ke(t))s=16;else if(typeof t=="object")if(a&65){const o=t.default;o&&(o._c&&(o._d=!1),sl(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!Wr(t)?t._ctx=gt:o===3&&gt&&(gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:gt},s=32):(t=String(t),a&64?(s=16,t=[Lt(t)]):s=8);e.children=t,e.shapeFlag|=s}function zd(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const o in a)if(o==="class")t.class!==a.class&&(t.class=pe([t.class,a.class]));else if(o==="style")t.style=fe([t.style,a.style]);else if(wn(o)){const l=t[o],i=a[o];i&&l!==i&&!(ke(l)&&l.includes(i))&&(t[o]=l?[].concat(l,i):i)}else o!==""&&(t[o]=a[o])}return t}function Tt(e,t,s,a=null){Ft(e,t,7,[s,a])}const jd=Gr();let Hd=0;function Yd(e,t,s){const a=e.type,o=(t?t.appContext:e.appContext)||jd,l={uid:Hd++,vnode:e,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kr(a,o),emitsOptions:ac(a,o),emit:null,emitted:null,propsDefaults:je,inheritAttrs:a.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Md.bind(null,l),e.ce&&e.ce(l),l}let at=null;const Dn=()=>at||gt;let ln,mo;{const e=$n(),t=(s,a)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(a),l=>{o.length>1?o.forEach(i=>i(l)):o[0](l)}};ln=t("__VUE_INSTANCE_SETTERS__",s=>at=s),mo=t("__VUE_SSR_SETTERS__",s=>ya=s)}const Ea=e=>{const t=at;return ln(e),e.scope.on(),()=>{e.scope.off(),ln(t)}},Bl=()=>{at&&at.scope.off(),ln(null)};function ic(e){return e.vnode.shapeFlag&4}let ya=!1;function Gd(e,t=!1,s=!1){t&&mo(t);const{props:a,children:o}=e.vnode,l=ic(e);md(e,a,l,t),wd(e,o,s||t);const i=l?qd(e,t):void 0;return t&&mo(!1),i}function qd(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,cd);const{setup:a}=s;if(a){Qt();const o=e.setupContext=a.length>1?Wd(e):null,l=Ea(e),i=Sa(a,e,0,[e.props,o]),r=Wi(i);if(Jt(),l(),(r||e.sp)&&!ia(e)&&Br(e),r){if(i.then(Bl,Bl),t)return i.then(d=>{Rl(e,d)}).catch(d=>{En(d,e,0)});e.asyncDep=i}else Rl(e,i)}else rc(e)}function Rl(e,t,s){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ge(t)&&(e.setupState=br(t)),rc(e)}function rc(e,t,s){const a=e.type;e.render||(e.render=a.render||It);{const o=Ea(e);Qt();try{ud(e)}finally{Jt(),o()}}}const Ud={get(e,t){return st(e,"get",""),e[t]}};function Wd(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Ud),slots:e.slots,emit:e.emit,expose:t}}function Tn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(br(zu(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ra)return ra[s](e)},has(t,s){return s in t||s in ra}})):e.proxy}function Xd(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function Kd(e){return xe(e)&&"__vccOpts"in e}const K=(e,t)=>qu(e,t,ya);function ce(e,t,s){const a=(l,i,r)=>{nn(-1);try{return ye(l,i,r)}finally{nn(1)}},o=arguments.length;return o===2?Ge(t)&&!ke(t)?on(t)?a(e,null,[t]):a(e,t):a(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&on(s)&&(s=[s]),a(e,t,s))}const Qd="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bo;const Vl=typeof window<"u"&&window.trustedTypes;if(Vl)try{bo=Vl.createPolicy("vue",{createHTML:e=>e})}catch{}const cc=bo?e=>bo.createHTML(e):e=>e,Jd="http://www.w3.org/2000/svg",Zd="http://www.w3.org/1998/Math/MathML",Gt=typeof document<"u"?document:null,Ll=Gt&&Gt.createElement("template"),ef={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const o=t==="svg"?Gt.createElementNS(Jd,e):t==="mathml"?Gt.createElementNS(Zd,e):s?Gt.createElement(e,{is:s}):Gt.createElement(e);return e==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:e=>Gt.createTextNode(e),createComment:e=>Gt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Gt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,o,l){const i=s?s.previousSibling:t.lastChild;if(o&&(o===l||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===l||!(o=o.nextSibling)););else{Ll.innerHTML=cc(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const r=Ll.content;if(a==="svg"||a==="mathml"){const d=r.firstChild;for(;d.firstChild;)r.appendChild(d.firstChild);r.removeChild(d)}t.insertBefore(r,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},es="transition",Ys="animation",Ls=Symbol("_vtc"),uc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dc=Qe({},Pr,uc),tf=e=>(e.displayName="Transition",e.props=dc,e),pt=tf((e,{slots:t})=>ce(Zu,fc(e),t)),hs=(e,t=[])=>{ke(e)?e.forEach(s=>s(...t)):e&&e(...t)},Nl=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function fc(e){const t={};for(const M in e)M in uc||(t[M]=e[M]);if(e.css===!1)return t;const{name:s="v",type:a,duration:o,enterFromClass:l=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:r=`${s}-enter-to`,appearFromClass:d=l,appearActiveClass:f=i,appearToClass:c=r,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=e,A=sf(o),m=A&&A[0],p=A&&A[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:I,onLeave:$,onLeaveCancelled:z,onBeforeAppear:S=y,onAppear:x=w,onAppearCancelled:b=I}=t,k=(M,T,j,F)=>{M._enterCancelled=F,as(M,T?c:r),as(M,T?f:i),j&&j()},P=(M,T)=>{M._isLeaving=!1,as(M,u),as(M,h),as(M,v),T&&T()},V=M=>(T,j)=>{const F=M?x:w,U=()=>k(T,M,j);hs(F,[T,U]),Ol(()=>{as(T,M?d:l),Bt(T,M?c:r),Nl(F)||zl(T,a,m,U)})};return Qe(t,{onBeforeEnter(M){hs(y,[M]),Bt(M,l),Bt(M,i)},onBeforeAppear(M){hs(S,[M]),Bt(M,d),Bt(M,f)},onEnter:V(!1),onAppear:V(!0),onLeave(M,T){M._isLeaving=!0;const j=()=>P(M,T);Bt(M,u),M._enterCancelled?(Bt(M,v),yo()):(yo(),Bt(M,v)),Ol(()=>{M._isLeaving&&(as(M,u),Bt(M,h),Nl($)||zl(M,a,p,j))}),hs($,[M,j])},onEnterCancelled(M){k(M,!1,void 0,!0),hs(I,[M])},onAppearCancelled(M){k(M,!0,void 0,!0),hs(b,[M])},onLeaveCancelled(M){P(M),hs(z,[M])}})}function sf(e){if(e==null)return null;if(Ge(e))return[qn(e.enter),qn(e.leave)];{const t=qn(e);return[t,t]}}function qn(e){return vu(e)}function Bt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Ls]||(e[Ls]=new Set)).add(t)}function as(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const s=e[Ls];s&&(s.delete(t),s.size||(e[Ls]=void 0))}function Ol(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let af=0;function zl(e,t,s,a){const o=e._endId=++af,l=()=>{o===e._endId&&a()};if(s!=null)return setTimeout(l,s);const{type:i,timeout:r,propCount:d}=vc(e,t);if(!i)return a();const f=i+"end";let c=0;const u=()=>{e.removeEventListener(f,v),l()},v=h=>{h.target===e&&++c>=d&&u()};setTimeout(()=>{c<d&&u()},r+1),e.addEventListener(f,v)}function vc(e,t){const s=window.getComputedStyle(e),a=A=>(s[A]||"").split(", "),o=a(`${es}Delay`),l=a(`${es}Duration`),i=jl(o,l),r=a(`${Ys}Delay`),d=a(`${Ys}Duration`),f=jl(r,d);let c=null,u=0,v=0;t===es?i>0&&(c=es,u=i,v=l.length):t===Ys?f>0&&(c=Ys,u=f,v=d.length):(u=Math.max(i,f),c=u>0?i>f?es:Ys:null,v=c?c===es?l.length:d.length:0);const h=c===es&&/\b(?:transform|all)(?:,|$)/.test(a(`${es}Property`).toString());return{type:c,timeout:u,propCount:v,hasTransform:h}}function jl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>Hl(s)+Hl(e[a])))}function Hl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function yo(){return document.body.offsetHeight}function nf(e,t,s){const a=e[Ls];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const rn=Symbol("_vod"),hc=Symbol("_vsh"),of={name:"show",beforeMount(e,{value:t},{transition:s}){e[rn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Gs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Gs(e,!0),a.enter(e)):a.leave(e,()=>{Gs(e,!1)}):Gs(e,t))},beforeUnmount(e,{value:t}){Gs(e,t)}};function Gs(e,t){e.style.display=t?e[rn]:"none",e[hc]=!t}const pc=Symbol("");function al(e){const t=Dn();if(!t)return;const s=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(l=>cn(l,o))},a=()=>{const o=e(t.proxy);t.ce?cn(t.ce,o):Ao(t.subTree,o),s(o)};Vr(()=>{wr(a)}),Oe(()=>{be(a,It,{flush:"post"});const o=new MutationObserver(a);o.observe(t.subTree.el.parentNode,{childList:!0}),xa(()=>o.disconnect())})}function Ao(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{Ao(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)cn(e.el,t);else if(e.type===ge)e.children.forEach(s=>Ao(s,t));else if(e.type===ca){let{el:s,anchor:a}=e;for(;s&&(cn(s,t),s!==a);)s=s.nextSibling}}function cn(e,t){if(e.nodeType===1){const s=e.style;let a="";for(const o in t){const l=Au(t[o]);s.setProperty(`--${o}`,l),a+=`--${o}: ${l};`}s[pc]=a}}const lf=/(?:^|;)\s*display\s*:/;function rf(e,t,s){const a=e.style,o=Ue(s);let l=!1;if(s&&!o){if(t)if(Ue(t))for(const i of t.split(";")){const r=i.slice(0,i.indexOf(":")).trim();s[r]==null&&Xa(a,r,"")}else for(const i in t)s[i]==null&&Xa(a,i,"");for(const i in s)i==="display"&&(l=!0),Xa(a,i,s[i])}else if(o){if(t!==s){const i=a[pc];i&&(s+=";"+i),a.cssText=s,l=lf.test(s)}}else t&&e.removeAttribute("style");rn in e&&(e[rn]=l?a.display:"",e[hc]&&(a.display="none"))}const Yl=/\s*!important$/;function Xa(e,t,s){if(ke(s))s.forEach(a=>Xa(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=cf(e,t);Yl.test(s)?e.setProperty(Cs(a),s.replace(Yl,""),"important"):e[a]=s}}const Gl=["Webkit","Moz","ms"],Un={};function cf(e,t){const s=Un[t];if(s)return s;let a=xt(t);if(a!=="filter"&&a in e)return Un[t]=a;a=kn(a);for(let o=0;o<Gl.length;o++){const l=Gl[o]+a;if(l in e)return Un[t]=l}return t}const ql="http://www.w3.org/1999/xlink";function Ul(e,t,s,a,o,l=yu(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ql,t.slice(6,t.length)):e.setAttributeNS(ql,t,s):s==null||l&&!Ji(s)?e.removeAttribute(t):e.setAttribute(t,l?"":us(s)?String(s):s)}function Wl(e,t,s,a,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?cc(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const r=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(r!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=Ji(s):s==null&&r==="string"?(s="",i=!0):r==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(o||t)}function Es(e,t,s,a){e.addEventListener(t,s,a)}function uf(e,t,s,a){e.removeEventListener(t,s,a)}const Xl=Symbol("_vei");function df(e,t,s,a,o=null){const l=e[Xl]||(e[Xl]={}),i=l[t];if(a&&i)i.value=a;else{const[r,d]=ff(t);if(a){const f=l[t]=pf(a,o);Es(e,r,f,d)}else i&&(uf(e,r,i,d),l[t]=void 0)}}const Kl=/(?:Once|Passive|Capture)$/;function ff(e){let t;if(Kl.test(e)){t={};let a;for(;a=e.match(Kl);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Cs(e.slice(2)),t]}let Wn=0;const vf=Promise.resolve(),hf=()=>Wn||(vf.then(()=>Wn=0),Wn=Date.now());function pf(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Ft(gf(a,s.value),t,5,[a])};return s.value=e,s.attached=hf(),s}function gf(e,t){if(ke(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>o=>!o._stopped&&a&&a(o))}else return t}const Ql=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,mf=(e,t,s,a,o,l)=>{const i=o==="svg";t==="class"?nf(e,a,i):t==="style"?rf(e,s,a):wn(t)?Oo(t)||df(e,t,s,a,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):bf(e,t,a,i))?(Wl(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ul(e,t,a,i,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(a))?Wl(e,xt(t),a,l,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Ul(e,t,a,i))};function bf(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ql(t)&&xe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Ql(t)&&Ue(s)?!1:t in e}const gc=new WeakMap,mc=new WeakMap,un=Symbol("_moveCb"),Jl=Symbol("_enterCb"),yf=e=>(delete e.props.mode,e),Af=yf({name:"TransitionGroup",props:Qe({},dc,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Dn(),a=Ir();let o,l;return Lr(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!$f(o[0].el,s.vnode.el,i)){o=[];return}o.forEach(Cf),o.forEach(_f);const r=o.filter(kf);yo(),r.forEach(d=>{const f=d.el,c=f.style;Bt(f,i),c.transform=c.webkitTransform=c.transitionDuration="";const u=f[un]=v=>{v&&v.target!==f||(!v||v.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",u),f[un]=null,as(f,i))};f.addEventListener("transitionend",u)}),o=[]}),()=>{const i=De(e),r=fc(i);let d=i.tag||ge;if(o=[],l)for(let f=0;f<l.length;f++){const c=l[f];c.el&&c.el instanceof Element&&(o.push(c),ys(c,ma(c,r,a,s)),gc.set(c,c.el.getBoundingClientRect()))}l=t.default?Qo(t.default()):[];for(let f=0;f<l.length;f++){const c=l[f];c.key!=null&&ys(c,ma(c,r,a,s))}return ye(d,null,l)}}}),wf=Af;function Cf(e){const t=e.el;t[un]&&t[un](),t[Jl]&&t[Jl]()}function _f(e){mc.set(e,e.el.getBoundingClientRect())}function kf(e){const t=gc.get(e),s=mc.get(e),a=t.left-s.left,o=t.top-s.top;if(a||o){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${a}px,${o}px)`,l.transitionDuration="0s",e}}function $f(e,t,s){const a=e.cloneNode(),o=e[Ls];o&&o.forEach(r=>{r.split(/\s+/).forEach(d=>d&&a.classList.remove(d))}),s.split(/\s+/).forEach(r=>r&&a.classList.add(r)),a.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(a);const{hasTransform:i}=vc(a);return l.removeChild(a),i}const Zl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?s=>Ga(t,s):t};function Sf(e){e.target.composing=!0}function ei(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Xn=Symbol("_assign"),da={created(e,{modifiers:{lazy:t,trim:s,number:a}},o){e[Xn]=Zl(o);const l=a||o.props&&o.props.type==="number";Es(e,t?"change":"input",i=>{if(i.target.composing)return;let r=e.value;s&&(r=r.trim()),l&&(r=lo(r)),e[Xn](r)}),s&&Es(e,"change",()=>{e.value=e.value.trim()}),t||(Es(e,"compositionstart",Sf),Es(e,"compositionend",ei),Es(e,"change",ei))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:o,number:l}},i){if(e[Xn]=Zl(i),e.composing)return;const r=(l||e.type==="number")&&!/^0\d/.test(e.value)?lo(e.value):e.value,d=t??"";r!==d&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||o&&e.value.trim()===d)||(e.value=d))}},xf=["ctrl","shift","alt","meta"],Ef={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>xf.some(s=>e[`${s}Key`]&&!t.includes(s))},_t=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(o,...l)=>{for(let i=0;i<t.length;i++){const r=Ef[t[i]];if(r&&r(o,t))return}return e(o,...l)})},If=Qe({patchProp:mf},ef);let ti;function Pf(){return ti||(ti=_d(If))}const Mf=(...e)=>{const t=Pf().createApp(...e),{mount:s}=t;return t.mount=a=>{const o=Df(a);if(!o)return;const l=t._component;!xe(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=s(o,!1,Ff(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Ff(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Df(e){return Ue(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Is=typeof document<"u";function bc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Tf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&bc(e.default)}const Ve=Object.assign;function Kn(e,t){const s={};for(const a in t){const o=t[a];s[a]=Dt(o)?o.map(e):e(o)}return s}const fa=()=>{},Dt=Array.isArray,yc=/#/g,Bf=/&/g,Rf=/\//g,Vf=/=/g,Lf=/\?/g,Ac=/\+/g,Nf=/%5B/g,Of=/%5D/g,wc=/%5E/g,zf=/%60/g,Cc=/%7B/g,jf=/%7C/g,_c=/%7D/g,Hf=/%20/g;function nl(e){return encodeURI(""+e).replace(jf,"|").replace(Nf,"[").replace(Of,"]")}function Yf(e){return nl(e).replace(Cc,"{").replace(_c,"}").replace(wc,"^")}function wo(e){return nl(e).replace(Ac,"%2B").replace(Hf,"+").replace(yc,"%23").replace(Bf,"%26").replace(zf,"`").replace(Cc,"{").replace(_c,"}").replace(wc,"^")}function Gf(e){return wo(e).replace(Vf,"%3D")}function qf(e){return nl(e).replace(yc,"%23").replace(Lf,"%3F")}function Uf(e){return e==null?"":qf(e).replace(Rf,"%2F")}function Aa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Wf=/\/$/,Xf=e=>e.replace(Wf,"");function Qn(e,t,s="/"){let a,o={},l="",i="";const r=t.indexOf("#");let d=t.indexOf("?");return r<d&&r>=0&&(d=-1),d>-1&&(a=t.slice(0,d),l=t.slice(d+1,r>-1?r:t.length),o=e(l)),r>-1&&(a=a||t.slice(0,r),i=t.slice(r,t.length)),a=Zf(a??t,s),{fullPath:a+(l&&"?")+l+i,path:a,query:o,hash:Aa(i)}}function Kf(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function si(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Qf(e,t,s){const a=t.matched.length-1,o=s.matched.length-1;return a>-1&&a===o&&Ns(t.matched[a],s.matched[o])&&kc(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ns(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Jf(e[s],t[s]))return!1;return!0}function Jf(e,t){return Dt(e)?ai(e,t):Dt(t)?ai(t,e):e===t}function ai(e,t){return Dt(t)?e.length===t.length&&e.every((s,a)=>s===t[a]):e.length===1&&e[0]===t}function Zf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),a=e.split("/"),o=a[a.length-1];(o===".."||o===".")&&a.push("");let l=s.length-1,i,r;for(i=0;i<a.length;i++)if(r=a[i],r!==".")if(r==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+a.slice(i).join("/")}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var wa;(function(e){e.pop="pop",e.push="push"})(wa||(wa={}));var va;(function(e){e.back="back",e.forward="forward",e.unknown=""})(va||(va={}));function ev(e){if(!e)if(Is){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Xf(e)}const tv=/^[^#]+#/;function sv(e,t){return e.replace(tv,"#")+t}function av(e,t){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-s.left-(t.left||0),top:a.top-s.top-(t.top||0)}}const Bn=()=>({left:window.scrollX,top:window.scrollY});function nv(e){let t;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=av(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ni(e,t){return(history.state?history.state.position-t:-1)+e}const Co=new Map;function ov(e,t){Co.set(e,t)}function lv(e){const t=Co.get(e);return Co.delete(e),t}let iv=()=>location.protocol+"//"+location.host;function $c(e,t){const{pathname:s,search:a,hash:o}=t,l=e.indexOf("#");if(l>-1){let r=o.includes(e.slice(l))?e.slice(l).length:1,d=o.slice(r);return d[0]!=="/"&&(d="/"+d),si(d,"")}return si(s,e)+a+o}function rv(e,t,s,a){let o=[],l=[],i=null;const r=({state:v})=>{const h=$c(e,location),A=s.value,m=t.value;let p=0;if(v){if(s.value=h,t.value=v,i&&i===A){i=null;return}p=m?v.position-m.position:0}else a(h);o.forEach(y=>{y(s.value,A,{delta:p,type:wa.pop,direction:p?p>0?va.forward:va.back:va.unknown})})};function d(){i=s.value}function f(v){o.push(v);const h=()=>{const A=o.indexOf(v);A>-1&&o.splice(A,1)};return l.push(h),h}function c(){const{history:v}=window;v.state&&v.replaceState(Ve({},v.state,{scroll:Bn()}),"")}function u(){for(const v of l)v();l=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:d,listen:f,destroy:u}}function oi(e,t,s,a=!1,o=!1){return{back:e,current:t,forward:s,replaced:a,position:window.history.length,scroll:o?Bn():null}}function cv(e){const{history:t,location:s}=window,a={value:$c(e,s)},o={value:t.state};o.value||l(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,f,c){const u=e.indexOf("#"),v=u>-1?(s.host&&document.querySelector("base")?e:e.slice(u))+d:iv()+e+d;try{t[c?"replaceState":"pushState"](f,"",v),o.value=f}catch(h){console.error(h),s[c?"replace":"assign"](v)}}function i(d,f){const c=Ve({},t.state,oi(o.value.back,d,o.value.forward,!0),f,{position:o.value.position});l(d,c,!0),a.value=d}function r(d,f){const c=Ve({},o.value,t.state,{forward:d,scroll:Bn()});l(c.current,c,!0);const u=Ve({},oi(a.value,d,null),{position:c.position+1},f);l(d,u,!1),a.value=d}return{location:a,state:o,push:r,replace:i}}function uv(e){e=ev(e);const t=cv(e),s=rv(e,t.state,t.location,t.replace);function a(l,i=!0){i||s.pauseListeners(),history.go(l)}const o=Ve({location:"",base:e,go:a,createHref:sv.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function dv(e){return typeof e=="string"||e&&typeof e=="object"}function Sc(e){return typeof e=="string"||typeof e=="symbol"}const xc=Symbol("");var li;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(li||(li={}));function Os(e,t){return Ve(new Error,{type:e,[xc]:!0},t)}function Yt(e,t){return e instanceof Error&&xc in e&&(t==null||!!(e.type&t))}const ii="[^/]+?",fv={sensitive:!1,strict:!1,start:!0,end:!0},vv=/[.+*?^${}()[\]/\\]/g;function hv(e,t){const s=Ve({},fv,t),a=[];let o=s.start?"^":"";const l=[];for(const f of e){const c=f.length?[]:[90];s.strict&&!f.length&&(o+="/");for(let u=0;u<f.length;u++){const v=f[u];let h=40+(s.sensitive?.25:0);if(v.type===0)u||(o+="/"),o+=v.value.replace(vv,"\\$&"),h+=40;else if(v.type===1){const{value:A,repeatable:m,optional:p,regexp:y}=v;l.push({name:A,repeatable:m,optional:p});const w=y||ii;if(w!==ii){h+=10;try{new RegExp(`(${w})`)}catch($){throw new Error(`Invalid custom RegExp for param "${A}" (${w}): `+$.message)}}let I=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;u||(I=p&&f.length<2?`(?:/${I})`:"/"+I),p&&(I+="?"),o+=I,h+=20,p&&(h+=-8),m&&(h+=-20),w===".*"&&(h+=-50)}c.push(h)}a.push(c)}if(s.strict&&s.end){const f=a.length-1;a[f][a[f].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,s.sensitive?"":"i");function r(f){const c=f.match(i),u={};if(!c)return null;for(let v=1;v<c.length;v++){const h=c[v]||"",A=l[v-1];u[A.name]=h&&A.repeatable?h.split("/"):h}return u}function d(f){let c="",u=!1;for(const v of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const h of v)if(h.type===0)c+=h.value;else if(h.type===1){const{value:A,repeatable:m,optional:p}=h,y=A in f?f[A]:"";if(Dt(y)&&!m)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const w=Dt(y)?y.join("/"):y;if(!w)if(p)v.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${A}"`);c+=w}}return c||"/"}return{re:i,score:a,keys:l,parse:r,stringify:d}}function pv(e,t){let s=0;for(;s<e.length&&s<t.length;){const a=t[s]-e[s];if(a)return a;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ec(e,t){let s=0;const a=e.score,o=t.score;for(;s<a.length&&s<o.length;){const l=pv(a[s],o[s]);if(l)return l;s++}if(Math.abs(o.length-a.length)===1){if(ri(a))return 1;if(ri(o))return-1}return o.length-a.length}function ri(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const gv={type:0,value:""},mv=/[a-zA-Z0-9_]/;function bv(e){if(!e)return[[]];if(e==="/")return[[gv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${f}": ${h}`)}let s=0,a=s;const o=[];let l;function i(){l&&o.push(l),l=[]}let r=0,d,f="",c="";function u(){f&&(s===0?l.push({type:0,value:f}):s===1||s===2||s===3?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:f,regexp:c,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=d}for(;r<e.length;){if(d=e[r++],d==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:d==="/"?(f&&u(),i()):d===":"?(u(),s=1):v();break;case 4:v(),s=a;break;case 1:d==="("?s=2:mv.test(d)?v():(u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&r--);break;case 2:d===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+d:s=3:c+=d;break;case 3:u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&r--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${f}"`),u(),i(),o}function yv(e,t,s){const a=hv(bv(e.path),s),o=Ve(a,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Av(e,t){const s=[],a=new Map;t=fi({strict:!1,end:!0,sensitive:!1},t);function o(u){return a.get(u)}function l(u,v,h){const A=!h,m=ui(u);m.aliasOf=h&&h.record;const p=fi(t,u),y=[m];if("alias"in u){const $=typeof u.alias=="string"?[u.alias]:u.alias;for(const z of $)y.push(ui(Ve({},m,{components:h?h.record.components:m.components,path:z,aliasOf:h?h.record:m})))}let w,I;for(const $ of y){const{path:z}=$;if(v&&z[0]!=="/"){const S=v.record.path,x=S[S.length-1]==="/"?"":"/";$.path=v.record.path+(z&&x+z)}if(w=yv($,v,p),h?h.alias.push(w):(I=I||w,I!==w&&I.alias.push(w),A&&u.name&&!di(w)&&i(u.name)),Ic(w)&&d(w),m.children){const S=m.children;for(let x=0;x<S.length;x++)l(S[x],w,h&&h.children[x])}h=h||w}return I?()=>{i(I)}:fa}function i(u){if(Sc(u)){const v=a.get(u);v&&(a.delete(u),s.splice(s.indexOf(v),1),v.children.forEach(i),v.alias.forEach(i))}else{const v=s.indexOf(u);v>-1&&(s.splice(v,1),u.record.name&&a.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function r(){return s}function d(u){const v=_v(u,s);s.splice(v,0,u),u.record.name&&!di(u)&&a.set(u.record.name,u)}function f(u,v){let h,A={},m,p;if("name"in u&&u.name){if(h=a.get(u.name),!h)throw Os(1,{location:u});p=h.record.name,A=Ve(ci(v.params,h.keys.filter(I=>!I.optional).concat(h.parent?h.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),u.params&&ci(u.params,h.keys.map(I=>I.name))),m=h.stringify(A)}else if(u.path!=null)m=u.path,h=s.find(I=>I.re.test(m)),h&&(A=h.parse(m),p=h.record.name);else{if(h=v.name?a.get(v.name):s.find(I=>I.re.test(v.path)),!h)throw Os(1,{location:u,currentLocation:v});p=h.record.name,A=Ve({},v.params,u.params),m=h.stringify(A)}const y=[];let w=h;for(;w;)y.unshift(w.record),w=w.parent;return{name:p,path:m,params:A,matched:y,meta:Cv(y)}}e.forEach(u=>l(u));function c(){s.length=0,a.clear()}return{addRoute:l,resolve:f,removeRoute:i,clearRoutes:c,getRoutes:r,getRecordMatcher:o}}function ci(e,t){const s={};for(const a of t)a in e&&(s[a]=e[a]);return s}function ui(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:wv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function wv(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const a in e.components)t[a]=typeof s=="object"?s[a]:s;return t}function di(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Cv(e){return e.reduce((t,s)=>Ve(t,s.meta),{})}function fi(e,t){const s={};for(const a in e)s[a]=a in t?t[a]:e[a];return s}function _v(e,t){let s=0,a=t.length;for(;s!==a;){const l=s+a>>1;Ec(e,t[l])<0?a=l:s=l+1}const o=kv(e);return o&&(a=t.lastIndexOf(o,a-1)),a}function kv(e){let t=e;for(;t=t.parent;)if(Ic(t)&&Ec(e,t)===0)return t}function Ic({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $v(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<a.length;++o){const l=a[o].replace(Ac," "),i=l.indexOf("="),r=Aa(i<0?l:l.slice(0,i)),d=i<0?null:Aa(l.slice(i+1));if(r in t){let f=t[r];Dt(f)||(f=t[r]=[f]),f.push(d)}else t[r]=d}return t}function vi(e){let t="";for(let s in e){const a=e[s];if(s=Gf(s),a==null){a!==void 0&&(t+=(t.length?"&":"")+s);continue}(Dt(a)?a.map(l=>l&&wo(l)):[a&&wo(a)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function Sv(e){const t={};for(const s in e){const a=e[s];a!==void 0&&(t[s]=Dt(a)?a.map(o=>o==null?null:""+o):a==null?a:""+a)}return t}const xv=Symbol(""),hi=Symbol(""),Rn=Symbol(""),ol=Symbol(""),_o=Symbol("");function qs(){let e=[];function t(a){return e.push(a),()=>{const o=e.indexOf(a);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function ls(e,t,s,a,o,l=i=>i()){const i=a&&(a.enterCallbacks[o]=a.enterCallbacks[o]||[]);return()=>new Promise((r,d)=>{const f=v=>{v===!1?d(Os(4,{from:s,to:t})):v instanceof Error?d(v):dv(v)?d(Os(2,{from:t,to:v})):(i&&a.enterCallbacks[o]===i&&typeof v=="function"&&i.push(v),r())},c=l(()=>e.call(a&&a.instances[o],t,s,f));let u=Promise.resolve(c);e.length<3&&(u=u.then(f)),u.catch(v=>d(v))})}function Jn(e,t,s,a,o=l=>l()){const l=[];for(const i of e)for(const r in i.components){let d=i.components[r];if(!(t!=="beforeRouteEnter"&&!i.instances[r]))if(bc(d)){const c=(d.__vccOpts||d)[t];c&&l.push(ls(c,s,a,i,r,o))}else{let f=d();l.push(()=>f.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${r}" at "${i.path}"`);const u=Tf(c)?c.default:c;i.mods[r]=c,i.components[r]=u;const h=(u.__vccOpts||u)[t];return h&&ls(h,s,a,i,r,o)()}))}}return l}function pi(e){const t=Mt(Rn),s=Mt(ol),a=K(()=>{const d=q(e.to);return t.resolve(d)}),o=K(()=>{const{matched:d}=a.value,{length:f}=d,c=d[f-1],u=s.matched;if(!c||!u.length)return-1;const v=u.findIndex(Ns.bind(null,c));if(v>-1)return v;const h=gi(d[f-2]);return f>1&&gi(c)===h&&u[u.length-1].path!==h?u.findIndex(Ns.bind(null,d[f-2])):v}),l=K(()=>o.value>-1&&Fv(s.params,a.value.params)),i=K(()=>o.value>-1&&o.value===s.matched.length-1&&kc(s.params,a.value.params));function r(d={}){if(Mv(d)){const f=t[q(e.replace)?"replace":"push"](q(e.to)).catch(fa);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:a,href:K(()=>a.value.href),isActive:l,isExactActive:i,navigate:r}}function Ev(e){return e.length===1?e[0]:e}const Iv=Tr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:pi,setup(e,{slots:t}){const s=xn(pi(e)),{options:a}=Mt(Rn),o=K(()=>({[mi(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[mi(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Ev(t.default(s));return e.custom?l:ce("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},l)}}}),Pv=Iv;function Mv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fv(e,t){for(const s in t){const a=t[s],o=e[s];if(typeof a=="string"){if(a!==o)return!1}else if(!Dt(o)||o.length!==a.length||a.some((l,i)=>l!==o[i]))return!1}return!0}function gi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const mi=(e,t,s)=>e??t??s,Dv=Tr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const a=Mt(_o),o=K(()=>e.route||a.value),l=Mt(hi,0),i=K(()=>{let f=q(l);const{matched:c}=o.value;let u;for(;(u=c[f])&&!u.components;)f++;return f}),r=K(()=>o.value.matched[i.value]);Ua(hi,K(()=>i.value+1)),Ua(xv,r),Ua(_o,o);const d=L();return be(()=>[d.value,r.value,e.name],([f,c,u],[v,h,A])=>{c&&(c.instances[u]=f,h&&h!==c&&f&&f===v&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),f&&c&&(!h||!Ns(c,h)||!v)&&(c.enterCallbacks[u]||[]).forEach(m=>m(f))},{flush:"post"}),()=>{const f=o.value,c=e.name,u=r.value,v=u&&u.components[c];if(!v)return bi(s.default,{Component:v,route:f});const h=u.props[c],A=h?h===!0?f.params:typeof h=="function"?h(f):h:null,p=ce(v,Ve({},A,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[c]=null)},ref:d}));return bi(s.default,{Component:p,route:f})||p}}});function bi(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Tv=Dv;function Bv(e){const t=Av(e.routes,e),s=e.parseQuery||$v,a=e.stringifyQuery||vi,o=e.history,l=qs(),i=qs(),r=qs(),d=ju(ts);let f=ts;Is&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Kn.bind(null,W=>""+W),u=Kn.bind(null,Uf),v=Kn.bind(null,Aa);function h(W,X){let D,te;return Sc(W)?(D=t.getRecordMatcher(W),te=X):te=W,t.addRoute(te,D)}function A(W){const X=t.getRecordMatcher(W);X&&t.removeRoute(X)}function m(){return t.getRoutes().map(W=>W.record)}function p(W){return!!t.getRecordMatcher(W)}function y(W,X){if(X=Ve({},X||d.value),typeof W=="string"){const B=Qn(s,W,X.path),H=t.resolve({path:B.path},X),Q=o.createHref(B.fullPath);return Ve(B,H,{params:v(H.params),hash:Aa(B.hash),redirectedFrom:void 0,href:Q})}let D;if(W.path!=null)D=Ve({},W,{path:Qn(s,W.path,X.path).path});else{const B=Ve({},W.params);for(const H in B)B[H]==null&&delete B[H];D=Ve({},W,{params:u(B)}),X.params=u(X.params)}const te=t.resolve(D,X),O=W.hash||"";te.params=c(v(te.params));const E=Kf(a,Ve({},W,{hash:Yf(O),path:te.path})),_=o.createHref(E);return Ve({fullPath:E,hash:O,query:a===vi?Sv(W.query):W.query||{}},te,{redirectedFrom:void 0,href:_})}function w(W){return typeof W=="string"?Qn(s,W,d.value.path):Ve({},W)}function I(W,X){if(f!==W)return Os(8,{from:X,to:W})}function $(W){return x(W)}function z(W){return $(Ve(w(W),{replace:!0}))}function S(W){const X=W.matched[W.matched.length-1];if(X&&X.redirect){const{redirect:D}=X;let te=typeof D=="function"?D(W):D;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=w(te):{path:te},te.params={}),Ve({query:W.query,hash:W.hash,params:te.path!=null?{}:W.params},te)}}function x(W,X){const D=f=y(W),te=d.value,O=W.state,E=W.force,_=W.replace===!0,B=S(D);if(B)return x(Ve(w(B),{state:typeof B=="object"?Ve({},O,B.state):O,force:E,replace:_}),X||D);const H=D;H.redirectedFrom=X;let Q;return!E&&Qf(a,te,D)&&(Q=Os(16,{to:H,from:te}),we(te,te,!0,!1)),(Q?Promise.resolve(Q):P(H,te)).catch(ee=>Yt(ee)?Yt(ee,2)?ee:he(ee):Z(ee,H,te)).then(ee=>{if(ee){if(Yt(ee,2))return x(Ve({replace:_},w(ee.to),{state:typeof ee.to=="object"?Ve({},O,ee.to.state):O,force:E}),X||H)}else ee=M(H,te,!0,_,O);return V(H,te,ee),ee})}function b(W,X){const D=I(W,X);return D?Promise.reject(D):Promise.resolve()}function k(W){const X=R.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(W):W()}function P(W,X){let D;const[te,O,E]=Rv(W,X);D=Jn(te.reverse(),"beforeRouteLeave",W,X);for(const B of te)B.leaveGuards.forEach(H=>{D.push(ls(H,W,X))});const _=b.bind(null,W,X);return D.push(_),N(D).then(()=>{D=[];for(const B of l.list())D.push(ls(B,W,X));return D.push(_),N(D)}).then(()=>{D=Jn(O,"beforeRouteUpdate",W,X);for(const B of O)B.updateGuards.forEach(H=>{D.push(ls(H,W,X))});return D.push(_),N(D)}).then(()=>{D=[];for(const B of E)if(B.beforeEnter)if(Dt(B.beforeEnter))for(const H of B.beforeEnter)D.push(ls(H,W,X));else D.push(ls(B.beforeEnter,W,X));return D.push(_),N(D)}).then(()=>(W.matched.forEach(B=>B.enterCallbacks={}),D=Jn(E,"beforeRouteEnter",W,X,k),D.push(_),N(D))).then(()=>{D=[];for(const B of i.list())D.push(ls(B,W,X));return D.push(_),N(D)}).catch(B=>Yt(B,8)?B:Promise.reject(B))}function V(W,X,D){r.list().forEach(te=>k(()=>te(W,X,D)))}function M(W,X,D,te,O){const E=I(W,X);if(E)return E;const _=X===ts,B=Is?history.state:{};D&&(te||_?o.replace(W.fullPath,Ve({scroll:_&&B&&B.scroll},O)):o.push(W.fullPath,O)),d.value=W,we(W,X,D,_),he()}let T;function j(){T||(T=o.listen((W,X,D)=>{if(!G.listening)return;const te=y(W),O=S(te);if(O){x(Ve(O,{replace:!0,force:!0}),te).catch(fa);return}f=te;const E=d.value;Is&&ov(ni(E.fullPath,D.delta),Bn()),P(te,E).catch(_=>Yt(_,12)?_:Yt(_,2)?(x(Ve(w(_.to),{force:!0}),te).then(B=>{Yt(B,20)&&!D.delta&&D.type===wa.pop&&o.go(-1,!1)}).catch(fa),Promise.reject()):(D.delta&&o.go(-D.delta,!1),Z(_,te,E))).then(_=>{_=_||M(te,E,!1),_&&(D.delta&&!Yt(_,8)?o.go(-D.delta,!1):D.type===wa.pop&&Yt(_,20)&&o.go(-1,!1)),V(te,E,_)}).catch(fa)}))}let F=qs(),U=qs(),J;function Z(W,X,D){he(W);const te=U.list();return te.length?te.forEach(O=>O(W,X,D)):console.error(W),Promise.reject(W)}function ne(){return J&&d.value!==ts?Promise.resolve():new Promise((W,X)=>{F.add([W,X])})}function he(W){return J||(J=!W,j(),F.list().forEach(([X,D])=>W?D(W):X()),F.reset()),W}function we(W,X,D,te){const{scrollBehavior:O}=e;if(!Is||!O)return Promise.resolve();const E=!D&&lv(ni(W.fullPath,0))||(te||!D)&&history.state&&history.state.scroll||null;return ze().then(()=>O(W,X,E)).then(_=>_&&nv(_)).catch(_=>Z(_,W,X))}const se=W=>o.go(W);let ae;const R=new Set,G={currentRoute:d,listening:!0,addRoute:h,removeRoute:A,clearRoutes:t.clearRoutes,hasRoute:p,getRoutes:m,resolve:y,options:e,push:$,replace:z,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:l.add,beforeResolve:i.add,afterEach:r.add,onError:U.add,isReady:ne,install(W){const X=this;W.component("RouterLink",Pv),W.component("RouterView",Tv),W.config.globalProperties.$router=X,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>q(d)}),Is&&!ae&&d.value===ts&&(ae=!0,$(o.location).catch(O=>{}));const D={};for(const O in ts)Object.defineProperty(D,O,{get:()=>d.value[O],enumerable:!0});W.provide(Rn,X),W.provide(ol,pr(D)),W.provide(_o,d);const te=W.unmount;R.add(W),W.unmount=function(){R.delete(W),R.size<1&&(f=ts,T&&T(),T=null,d.value=ts,ae=!1,J=!1),te()}}};function N(W){return W.reduce((X,D)=>X.then(()=>k(D)),Promise.resolve())}return G}function Rv(e,t){const s=[],a=[],o=[],l=Math.max(t.matched.length,e.matched.length);for(let i=0;i<l;i++){const r=t.matched[i];r&&(e.matched.find(f=>Ns(f,r))?a.push(r):s.push(r));const d=e.matched[i];d&&(t.matched.find(f=>Ns(f,d))||o.push(d))}return[s,a,o]}function Ia(){return Mt(Rn)}function Pc(e){return Mt(ol)}const Ie=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s},Vv={class:"title-bar"},Lv={class:"title-container"},Nv={class:"title-content"},Ov={class:"page-title"},zv={class:"last-update"},jv={__name:"TitleBarComponent",props:{title:{type:String,default:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)"},lastUpdate:{type:String,default:"24 de septiembre de 2025"}},setup(e){return(t,s)=>(g(),C("div",Vv,[n("div",Lv,[n("div",Nv,[n("h1",Ov,Y(e.title),1),n("p",zv,"ltima actualizacin: "+Y(e.lastUpdate),1)]),s[0]||(s[0]=n("div",{class:"action-buttons"},null,-1))])]))}},Hv=Ie(jv,[["__scopeId","data-v-c868bc03"]]),Yv={id:"app"},Gv={class:"app-main"},qv={__name:"App",setup(e){return(t,s)=>{const a=rd("router-view");return g(),C("div",Yv,[ye(Hv,{title:"Plataforma del ndice de Finanzas Sostenibles Subnacional (IFSS)",lastUpdate:"24 de septiembre de 2025"}),n("main",Gv,[ye(a)])])}}},zt=()=>{const e=L(null),t=L(null),s=L(!0),a=L(null),o=L(null),l=L(null),i=L({width:470.2,height:300.4,scale:700,center:[-106,25],projection:"geoMercator"}),r=K(()=>{if(!t.value)return null;const k=Object.values(t.value).filter(M=>M.value&&M.value>0),V=k.reduce((M,T)=>M+T.value,0)/k.length;return{value:Math.round(V*100)/100,label:x(V)}}),d=async()=>{try{const b=await fetch("/PlataformaFinanzasSostenibles/mexicoStates.json");if(!b.ok)throw new Error("Error al cargar datos geogrficos");e.value=await b.json(),console.log("GeoData cargado:",e.value)}catch(b){console.error("Error cargando GeoJSON:",b),a.value=b.message}},f=async()=>{try{const b=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!b.ok)throw new Error("Error al cargar datos de sustentabilidad");const k=await b.json();t.value=k.reduce((P,V)=>(P[V.region]=V,P),{}),console.log("Datos procesados:",t.value)}catch(b){console.error("Error cargando datos de sustentabilidad:",b),a.value=b.message}},c=async()=>{s.value=!0,a.value=null;try{await Promise.all([d(),f()])}catch(b){a.value=b.message}finally{s.value=!1}},u=b=>{if(!t.value||!t.value[b])return"#e0e0e0";const P=t.value[b].value||0;return P>=2.5?"#6ac952":P>=2?"#94d351":P>=1.8?"#bddc50":P>=1.5?"#e6d64f":P>=1?"#e6a74c":P>=.7?"#e67849":"#e52845"},v=b=>{if(!t.value||!t.value[b])return{region:b,value:0,year:2023,descripcion:"Sin datos IFSS disponibles"};const k=t.value[b];return{region:k.region,year:k.year,value:k.value,descripcion:`IFSS: ${k.value} - ${x(k.value).label} nivel de finanzas sostenibles.`}},h=K(()=>{if(!t.value)return null;const k=Object.values(t.value).map(j=>j.value||0).filter(j=>j>0);if(k.length===0)return null;const P=k.length,V=k.reduce((j,F)=>j+F,0)/P,M=Math.max(...k),T=Math.min(...k);return{totalStates:P,avgIFSS:Math.round(V*100)/100,maxIFSS:M,minIFSS:T,year:2023}}),A=K(()=>t.value?Object.entries(t.value).sort((b,k)=>(k[1].value||0)-(b[1].value||0)).slice(0,5).map(([b,k])=>({name:b,region:k.region,year:k.year,value:k.value})):[]),m=K(()=>t.value?Object.entries(t.value).sort((b,k)=>(b[1].value||0)-(k[1].value||0)).slice(0,5).map(([b,k])=>({name:b,region:k.region,year:k.year,value:k.value})):[]),p=b=>{if(console.log("=== USEMAPS: handleStateClick llamado con ===",b),console.log("=== USEMAPS: sustainabilityData disponible? ===",!!t.value),!b){o.value=null;return}const k=b.trim();console.log("=== USEMAPS: Nombre normalizado ===",k),t.value&&(console.log("=== USEMAPS: Keys en sustainabilityData ===",Object.keys(t.value)),t.value[k]?(o.value=o.value===k?null:k,console.log("=== USEMAPS: selectedState actualizado a ===",o.value)):console.warn("=== USEMAPS: Estado NO encontrado ===",k))},y=b=>{l.value=b},w=()=>{l.value=null},I=()=>{o.value=null,l.value=null},$=(b,k)=>{i.value={...i.value,width:b,height:k}},z=b=>{if(!t.value||!b)return[];const k=b.toLowerCase();return Object.keys(t.value).filter(P=>P.toLowerCase().includes(k)).map(P=>({name:P,region:t.value[P].region,year:t.value[P].year,value:t.value[P].value}))},S=(b=0,k=3)=>t.value?Object.entries(t.value).filter(([P,V])=>{const M=V.value||0;return M>=b&&M<=k}).map(([P,V])=>({name:P,region:V.region,year:V.year,value:V.value})):[],x=b=>b>=2.5?{label:"Muy alto",color:"#6ac952"}:b>=2?{label:"Alto",color:"#94d351"}:b>=1.8?{label:"Medio alto",color:"#bddc50"}:b>=1.5?{label:"Medio",color:"#e6d64f"}:b>=1?{label:"Medio bajo",color:"#e6a74c"}:b>=.7?{label:"Bajo",color:"#e67849"}:{label:"Muy bajo",color:"#e52845"};return Oe(()=>{c()}),{geoData:e,sustainabilityData:t,loading:s,error:a,selectedState:o,hoveredState:l,mapConfig:i,generalStats:h,topPerformingStates:A,worstPerformingStates:m,nationalIFSS:r,getStateColor:u,getStateInfo:v,getIFSSLabel:x,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:I,setMapSize:$,searchState:z,filterByRange:S,initializeData:c}},Pa=()=>{const e=L("donut"),t=L(null),s=L(!1),a=L(null),o=L([{id:"donut",name:"Grficas de Dona",description:"Visualizacin circular de porcentajes"},{id:"bar",name:"Grficas de Barras",description:"Comparacin visual de valores"},{id:"line",name:"Grficas de Lnea",description:"Tendencias temporales"},{id:"area",name:"Grficas de rea",description:"Evolucin de datos en el tiempo"}]),l=(m,p="")=>{const y=Math.round(m/2.9*100);return[{label:`IFSS ${p}`,value:y,color:"#DC143C",rawValue:m},{label:"Restante",value:100-y,color:"#E8E8E8",rawValue:2.9-m}]},i=(m,p=8,y="Indicador")=>[{label:y,value:m,maxValue:p,percentage:m/p*100}],r=m=>{if(!m||!m.value)return d();const p=m.value;return m.region,{donuts:[{id:"q1",title:"Q1",subtitle:`${Math.round(p*.9*10)/10}`,data:l(p*.9,"Q1")},{id:"q2",title:"Q2",subtitle:`${Math.round(p*.8*10)/10}`,data:l(p*.8,"Q2")},{id:"q3",title:"Q3",subtitle:`${Math.round(p*1.1*10)/10}`,data:l(p*1.1,"Q3")},{id:"q4",title:"Q4",subtitle:`${Math.round(p*.7*10)/10}`,data:l(p*.7,"Q4")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:i(Math.min(8,Math.round(p*2.8)),8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:i(Math.min(8,Math.round(p*2.5)),8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:i(Math.min(8,Math.round(p*3)),8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:i(Math.min(8,Math.round(p*2.2)),8,"Innovacin")}]}},d=()=>({donuts:[{id:"q1",title:"Q1",subtitle:"35%",data:l(1,"Nacional")},{id:"q2",title:"Q2",subtitle:"30%",data:l(.9,"Nacional")},{id:"q3",title:"Q3",subtitle:"35%",data:l(1,"Nacional")},{id:"q4",title:"Q4",subtitle:"30%",data:l(.9,"Nacional")}],bars:[{id:"indicator1",title:"Transparencia",color:"#9ACD32",data:i(6,8,"Transparencia")},{id:"indicator2",title:"Participacin",color:"#DC143C",data:i(5,8,"Participacin")},{id:"indicator3",title:"Sostenibilidad",color:"#9ACD32",data:i(7,8,"Sostenibilidad")},{id:"indicator4",title:"Innovacin",color:"#DC143C",data:i(4,8,"Innovacin")}]}),f=K(()=>t.value||d());return{selectedChartType:e,chartData:t,loading:s,error:a,availableChartTypes:o,currentChartsData:f,setChartData:m=>{t.value=r(m)},setChartType:m=>{e.value=m},resetCharts:()=>{t.value=null,e.value="donut",a.value=null},generateDonutData:l,generateBarData:i,getStateChartsData:r,getDefaultChartsData:d,exportChartsData:(m="Mexico")=>{const p=f.value,y=["Tipo","Indicador","Valor","Estado"],w=[];p.donuts.forEach(x=>{w.push(["Dona",x.title,x.subtitle,m])}),p.bars.forEach(x=>{var k;const b=((k=x.data[0])==null?void 0:k.value)||0;w.push(["Barra",x.title,b,m])});const I=[y.join(","),...w.map(x=>x.join(","))].join(`
`),$=new Blob([I],{type:"text/csv"}),z=window.URL.createObjectURL($),S=document.createElement("a");S.href=z,S.download=`IFSS_Charts_${m}_${new Date().toISOString().split("T")[0]}.csv`,S.click(),window.URL.revokeObjectURL(z)},getIFSSColor:m=>m>=2.4?"#6ac952":m>=2?"#94d351":m>=1.8?"#bddc50":m>=1.6?"#e6d64f":m>=1.2?"#e6a74c":m>=.8?"#e67849":"#e52845"}};class As{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const s=this._partials;let a=0;for(let o=0;o<this._n&&o<32;o++){const l=s[o],i=t+l,r=Math.abs(t)<Math.abs(l)?t-(i-l):l-(i-t);r&&(s[a++]=r),t=i}return s[a]=t,this._n=a+1,this}valueOf(){const t=this._partials;let s=this._n,a,o,l,i=0;if(s>0){for(i=t[--s];s>0&&(a=i,o=t[--s],i=a+o,l=o-(i-a),!l););s>0&&(l<0&&t[s-1]<0||l>0&&t[s-1]>0)&&(o=l*2,a=i+o,o==a-i&&(i=a))}return i}}function*Uv(e){for(const t of e)yield*t}function Mc(e){return Array.from(Uv(e))}var Ye=1e-6,Me=Math.PI,vt=Me/2,yi=Me/4,bt=Me*2,ht=180/Me,Ke=Me/180,qe=Math.abs,Fc=Math.atan,Ca=Math.atan2,We=Math.cos,Wv=Math.exp,Xv=Math.log,Xe=Math.sin,Kv=Math.sign||function(e){return e>0?1:e<0?-1:0},_s=Math.sqrt,Qv=Math.tan;function Jv(e){return e>1?0:e<-1?Me:Math.acos(e)}function _a(e){return e>1?vt:e<-1?-vt:Math.asin(e)}function $t(){}function dn(e,t){e&&wi.hasOwnProperty(e.type)&&wi[e.type](e,t)}var Ai={Feature:function(e,t){dn(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,a=-1,o=s.length;++a<o;)dn(s[a].geometry,t)}},wi={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)e=s[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){ko(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)ko(s[a],t,0)},Polygon:function(e,t){Ci(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,a=-1,o=s.length;++a<o;)Ci(s[a],t)},GeometryCollection:function(e,t){for(var s=e.geometries,a=-1,o=s.length;++a<o;)dn(s[a],t)}};function ko(e,t,s){var a=-1,o=e.length-s,l;for(t.lineStart();++a<o;)l=e[a],t.point(l[0],l[1],l[2]);t.lineEnd()}function Ci(e,t){var s=-1,a=e.length;for(t.polygonStart();++s<a;)ko(e[s],t,1);t.polygonEnd()}function Ps(e,t){e&&Ai.hasOwnProperty(e.type)?Ai[e.type](e,t):dn(e,t)}function $o(e){return[Ca(e[1],e[0]),_a(e[2])]}function zs(e){var t=e[0],s=e[1],a=We(s);return[a*We(t),a*Xe(t),Xe(s)]}function Na(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function fn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Zn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Oa(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function So(e){var t=_s(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function xo(e,t){function s(a,o){return a=e(a,o),t(a[0],a[1])}return e.invert&&t.invert&&(s.invert=function(a,o){return a=t.invert(a,o),a&&e.invert(a[0],a[1])}),s}function Eo(e,t){return qe(e)>Me&&(e-=Math.round(e/bt)*bt),[e,t]}Eo.invert=Eo;function Dc(e,t,s){return(e%=bt)?t||s?xo(ki(e),$i(t,s)):ki(e):t||s?$i(t,s):Eo}function _i(e){return function(t,s){return t+=e,qe(t)>Me&&(t-=Math.round(t/bt)*bt),[t,s]}}function ki(e){var t=_i(e);return t.invert=_i(-e),t}function $i(e,t){var s=We(e),a=Xe(e),o=We(t),l=Xe(t);function i(r,d){var f=We(d),c=We(r)*f,u=Xe(r)*f,v=Xe(d),h=v*s+c*a;return[Ca(u*o-h*l,c*s-v*a),_a(h*o+u*l)]}return i.invert=function(r,d){var f=We(d),c=We(r)*f,u=Xe(r)*f,v=Xe(d),h=v*o-u*l;return[Ca(u*o+v*l,c*s+h*a),_a(h*s-c*a)]},i}function Zv(e){e=Dc(e[0]*Ke,e[1]*Ke,e.length>2?e[2]*Ke:0);function t(s){return s=e(s[0]*Ke,s[1]*Ke),s[0]*=ht,s[1]*=ht,s}return t.invert=function(s){return s=e.invert(s[0]*Ke,s[1]*Ke),s[0]*=ht,s[1]*=ht,s},t}function eh(e,t,s,a,o,l){if(s){var i=We(t),r=Xe(t),d=a*s;o==null?(o=t+a*bt,l=t-d/2):(o=Si(i,o),l=Si(i,l),(a>0?o<l:o>l)&&(o+=a*bt));for(var f,c=o;a>0?c>l:c<l;c-=d)f=$o([i,-r*We(c),-r*Xe(c)]),e.point(f[0],f[1])}}function Si(e,t){t=zs(t),t[0]-=e,So(t);var s=Jv(-t[1]);return((-t[2]<0?-s:s)+bt-Ye)%bt}function Tc(){var e=[],t;return{point:function(s,a,o){t.push([s,a,o])},lineStart:function(){e.push(t=[])},lineEnd:$t,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function Ka(e,t){return qe(e[0]-t[0])<Ye&&qe(e[1]-t[1])<Ye}function za(e,t,s,a){this.x=e,this.z=t,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Bc(e,t,s,a,o){var l=[],i=[],r,d;if(e.forEach(function(A){if(!((m=A.length-1)<=0)){var m,p=A[0],y=A[m],w;if(Ka(p,y)){if(!p[2]&&!y[2]){for(o.lineStart(),r=0;r<m;++r)o.point((p=A[r])[0],p[1]);o.lineEnd();return}y[0]+=2*Ye}l.push(w=new za(p,A,null,!0)),i.push(w.o=new za(p,null,w,!1)),l.push(w=new za(y,A,null,!1)),i.push(w.o=new za(y,null,w,!0))}}),!!l.length){for(i.sort(t),xi(l),xi(i),r=0,d=i.length;r<d;++r)i[r].e=s=!s;for(var f=l[0],c,u;;){for(var v=f,h=!0;v.v;)if((v=v.n)===f)return;c=v.z,o.lineStart();do{if(v.v=v.o.v=!0,v.e){if(h)for(r=0,d=c.length;r<d;++r)o.point((u=c[r])[0],u[1]);else a(v.x,v.n.x,1,o);v=v.n}else{if(h)for(c=v.p.z,r=c.length-1;r>=0;--r)o.point((u=c[r])[0],u[1]);else a(v.x,v.p.x,-1,o);v=v.p}v=v.o,c=v.z,h=!h}while(!v.v);o.lineEnd()}}}function xi(e){if(t=e.length){for(var t,s=0,a=e[0],o;++s<t;)a.n=o=e[s],o.p=a,a=o;a.n=o=e[0],o.p=a}}function eo(e){return qe(e[0])<=Me?e[0]:Kv(e[0])*((qe(e[0])+Me)%bt-Me)}function th(e,t){var s=eo(t),a=t[1],o=Xe(a),l=[Xe(s),-We(s),0],i=0,r=0,d=new As;o===1?a=vt+Ye:o===-1&&(a=-vt-Ye);for(var f=0,c=e.length;f<c;++f)if(v=(u=e[f]).length)for(var u,v,h=u[v-1],A=eo(h),m=h[1]/2+yi,p=Xe(m),y=We(m),w=0;w<v;++w,A=$,p=S,y=x,h=I){var I=u[w],$=eo(I),z=I[1]/2+yi,S=Xe(z),x=We(z),b=$-A,k=b>=0?1:-1,P=k*b,V=P>Me,M=p*S;if(d.add(Ca(M*k*Xe(P),y*x+M*We(P))),i+=V?b+k*bt:b,V^A>=s^$>=s){var T=fn(zs(h),zs(I));So(T);var j=fn(l,T);So(j);var F=(V^b>=0?-1:1)*_a(j[2]);(a>F||a===F&&(T[0]||T[1]))&&(r+=V^b>=0?1:-1)}}return(i<-Ye||i<Ye&&d<-1e-12)^r&1}function Rc(e,t,s,a){return function(o){var l=t(o),i=Tc(),r=t(i),d=!1,f,c,u,v={point:h,lineStart:m,lineEnd:p,polygonStart:function(){v.point=y,v.lineStart=w,v.lineEnd=I,c=[],f=[]},polygonEnd:function(){v.point=h,v.lineStart=m,v.lineEnd=p,c=Mc(c);var $=th(f,a);c.length?(d||(o.polygonStart(),d=!0),Bc(c,ah,$,s,o)):$&&(d||(o.polygonStart(),d=!0),o.lineStart(),s(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),c=f=null},sphere:function(){o.polygonStart(),o.lineStart(),s(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h($,z){e($,z)&&o.point($,z)}function A($,z){l.point($,z)}function m(){v.point=A,l.lineStart()}function p(){v.point=h,l.lineEnd()}function y($,z){u.push([$,z]),r.point($,z)}function w(){r.lineStart(),u=[]}function I(){y(u[0][0],u[0][1]),r.lineEnd();var $=r.clean(),z=i.result(),S,x=z.length,b,k,P;if(u.pop(),f.push(u),u=null,!!x){if($&1){if(k=z[0],(b=k.length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),S=0;S<b;++S)o.point((P=k[S])[0],P[1]);o.lineEnd()}return}x>1&&$&2&&z.push(z.pop().concat(z.shift())),c.push(z.filter(sh))}}return v}}function sh(e){return e.length>1}function ah(e,t){return((e=e.x)[0]<0?e[1]-vt-Ye:vt-e[1])-((t=t.x)[0]<0?t[1]-vt-Ye:vt-t[1])}const Ei=Rc(function(){return!0},nh,lh,[-Me,-vt]);function nh(e){var t=NaN,s=NaN,a=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(l,i){var r=l>0?Me:-Me,d=qe(l-t);qe(d-Me)<Ye?(e.point(t,s=(s+i)/2>0?vt:-vt),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(r,s),e.point(l,s),o=0):a!==r&&d>=Me&&(qe(t-a)<Ye&&(t-=a*Ye),qe(l-r)<Ye&&(l-=r*Ye),s=oh(t,s,l,i),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(r,s),o=0),e.point(t=l,s=i),a=r},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-o}}}function oh(e,t,s,a){var o,l,i=Xe(e-s);return qe(i)>Ye?Fc((Xe(t)*(l=We(a))*Xe(s)-Xe(a)*(o=We(t))*Xe(e))/(o*l*i)):(t+a)/2}function lh(e,t,s,a){var o;if(e==null)o=s*vt,a.point(-Me,o),a.point(0,o),a.point(Me,o),a.point(Me,0),a.point(Me,-o),a.point(0,-o),a.point(-Me,-o),a.point(-Me,0),a.point(-Me,o);else if(qe(e[0]-t[0])>Ye){var l=e[0]<t[0]?Me:-Me;o=s*l/2,a.point(-l,o),a.point(0,o),a.point(l,o)}else a.point(t[0],t[1])}function ih(e){var t=We(e),s=2*Ke,a=t>0,o=qe(t)>Ye;function l(c,u,v,h){eh(h,e,s,v,c,u)}function i(c,u){return We(c)*We(u)>t}function r(c){var u,v,h,A,m;return{lineStart:function(){A=h=!1,m=1},point:function(p,y){var w=[p,y],I,$=i(p,y),z=a?$?0:f(p,y):$?f(p+(p<0?Me:-Me),y):0;if(!u&&(A=h=$)&&c.lineStart(),$!==h&&(I=d(u,w),(!I||Ka(u,I)||Ka(w,I))&&(w[2]=1)),$!==h)m=0,$?(c.lineStart(),I=d(w,u),c.point(I[0],I[1])):(I=d(u,w),c.point(I[0],I[1],2),c.lineEnd()),u=I;else if(o&&u&&a^$){var S;!(z&v)&&(S=d(w,u,!0))&&(m=0,a?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}$&&(!u||!Ka(u,w))&&c.point(w[0],w[1]),u=w,h=$,v=z},lineEnd:function(){h&&c.lineEnd(),u=null},clean:function(){return m|(A&&h)<<1}}}function d(c,u,v){var h=zs(c),A=zs(u),m=[1,0,0],p=fn(h,A),y=Na(p,p),w=p[0],I=y-w*w;if(!I)return!v&&c;var $=t*y/I,z=-t*w/I,S=fn(m,p),x=Oa(m,$),b=Oa(p,z);Zn(x,b);var k=S,P=Na(x,k),V=Na(k,k),M=P*P-V*(Na(x,x)-1);if(!(M<0)){var T=_s(M),j=Oa(k,(-P-T)/V);if(Zn(j,x),j=$o(j),!v)return j;var F=c[0],U=u[0],J=c[1],Z=u[1],ne;U<F&&(ne=F,F=U,U=ne);var he=U-F,we=qe(he-Me)<Ye,se=we||he<Ye;if(!we&&Z<J&&(ne=J,J=Z,Z=ne),se?we?J+Z>0^j[1]<(qe(j[0]-F)<Ye?J:Z):J<=j[1]&&j[1]<=Z:he>Me^(F<=j[0]&&j[0]<=U)){var ae=Oa(k,(-P+T)/V);return Zn(ae,x),[j,$o(ae)]}}}function f(c,u){var v=a?e:Me-e,h=0;return c<-v?h|=1:c>v&&(h|=2),u<-v?h|=4:u>v&&(h|=8),h}return Rc(i,r,l,a?[0,-e]:[-Me,e-Me])}function rh(e,t,s,a,o,l){var i=e[0],r=e[1],d=t[0],f=t[1],c=0,u=1,v=d-i,h=f-r,A;if(A=s-i,!(!v&&A>0)){if(A/=v,v<0){if(A<c)return;A<u&&(u=A)}else if(v>0){if(A>u)return;A>c&&(c=A)}if(A=o-i,!(!v&&A<0)){if(A/=v,v<0){if(A>u)return;A>c&&(c=A)}else if(v>0){if(A<c)return;A<u&&(u=A)}if(A=a-r,!(!h&&A>0)){if(A/=h,h<0){if(A<c)return;A<u&&(u=A)}else if(h>0){if(A>u)return;A>c&&(c=A)}if(A=l-r,!(!h&&A<0)){if(A/=h,h<0){if(A>u)return;A>c&&(c=A)}else if(h>0){if(A<c)return;A<u&&(u=A)}return c>0&&(e[0]=i+c*v,e[1]=r+c*h),u<1&&(t[0]=i+u*v,t[1]=r+u*h),!0}}}}}var Qs=1e9,ja=-Qs;function ch(e,t,s,a){function o(f,c){return e<=f&&f<=s&&t<=c&&c<=a}function l(f,c,u,v){var h=0,A=0;if(f==null||(h=i(f,u))!==(A=i(c,u))||d(f,c)<0^u>0)do v.point(h===0||h===3?e:s,h>1?a:t);while((h=(h+u+4)%4)!==A);else v.point(c[0],c[1])}function i(f,c){return qe(f[0]-e)<Ye?c>0?0:3:qe(f[0]-s)<Ye?c>0?2:1:qe(f[1]-t)<Ye?c>0?1:0:c>0?3:2}function r(f,c){return d(f.x,c.x)}function d(f,c){var u=i(f,1),v=i(c,1);return u!==v?u-v:u===0?c[1]-f[1]:u===1?f[0]-c[0]:u===2?f[1]-c[1]:c[0]-f[0]}return function(f){var c=f,u=Tc(),v,h,A,m,p,y,w,I,$,z,S,x={point:b,lineStart:M,lineEnd:T,polygonStart:P,polygonEnd:V};function b(F,U){o(F,U)&&c.point(F,U)}function k(){for(var F=0,U=0,J=h.length;U<J;++U)for(var Z=h[U],ne=1,he=Z.length,we=Z[0],se,ae,R=we[0],G=we[1];ne<he;++ne)se=R,ae=G,we=Z[ne],R=we[0],G=we[1],ae<=a?G>a&&(R-se)*(a-ae)>(G-ae)*(e-se)&&++F:G<=a&&(R-se)*(a-ae)<(G-ae)*(e-se)&&--F;return F}function P(){c=u,v=[],h=[],S=!0}function V(){var F=k(),U=S&&F,J=(v=Mc(v)).length;(U||J)&&(f.polygonStart(),U&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),J&&Bc(v,r,F,l,f),f.polygonEnd()),c=f,v=h=A=null}function M(){x.point=j,h&&h.push(A=[]),z=!0,$=!1,w=I=NaN}function T(){v&&(j(m,p),y&&$&&u.rejoin(),v.push(u.result())),x.point=b,$&&c.lineEnd()}function j(F,U){var J=o(F,U);if(h&&A.push([F,U]),z)m=F,p=U,y=J,z=!1,J&&(c.lineStart(),c.point(F,U));else if(J&&$)c.point(F,U);else{var Z=[w=Math.max(ja,Math.min(Qs,w)),I=Math.max(ja,Math.min(Qs,I))],ne=[F=Math.max(ja,Math.min(Qs,F)),U=Math.max(ja,Math.min(Qs,U))];rh(Z,ne,e,t,s,a)?($||(c.lineStart(),c.point(Z[0],Z[1])),c.point(ne[0],ne[1]),J||c.lineEnd(),S=!1):J&&(c.lineStart(),c.point(F,U),S=!1)}w=F,I=U,$=J}return x}}const Io=e=>e;var to=new As,Po=new As,Vc,Lc,Mo,Fo,Kt={point:$t,lineStart:$t,lineEnd:$t,polygonStart:function(){Kt.lineStart=uh,Kt.lineEnd=fh},polygonEnd:function(){Kt.lineStart=Kt.lineEnd=Kt.point=$t,to.add(qe(Po)),Po=new As},result:function(){var e=to/2;return to=new As,e}};function uh(){Kt.point=dh}function dh(e,t){Kt.point=Nc,Vc=Mo=e,Lc=Fo=t}function Nc(e,t){Po.add(Fo*e-Mo*t),Mo=e,Fo=t}function fh(){Nc(Vc,Lc)}var js=1/0,vn=js,ka=-js,hn=ka,pn={point:vh,lineStart:$t,lineEnd:$t,polygonStart:$t,polygonEnd:$t,result:function(){var e=[[js,vn],[ka,hn]];return ka=hn=-(vn=js=1/0),e}};function vh(e,t){e<js&&(js=e),e>ka&&(ka=e),t<vn&&(vn=t),t>hn&&(hn=t)}var Do=0,To=0,Js=0,gn=0,mn=0,Ms=0,Bo=0,Ro=0,Zs=0,Oc,zc,Nt,Ot,kt={point:ws,lineStart:Ii,lineEnd:Pi,polygonStart:function(){kt.lineStart=gh,kt.lineEnd=mh},polygonEnd:function(){kt.point=ws,kt.lineStart=Ii,kt.lineEnd=Pi},result:function(){var e=Zs?[Bo/Zs,Ro/Zs]:Ms?[gn/Ms,mn/Ms]:Js?[Do/Js,To/Js]:[NaN,NaN];return Do=To=Js=gn=mn=Ms=Bo=Ro=Zs=0,e}};function ws(e,t){Do+=e,To+=t,++Js}function Ii(){kt.point=hh}function hh(e,t){kt.point=ph,ws(Nt=e,Ot=t)}function ph(e,t){var s=e-Nt,a=t-Ot,o=_s(s*s+a*a);gn+=o*(Nt+e)/2,mn+=o*(Ot+t)/2,Ms+=o,ws(Nt=e,Ot=t)}function Pi(){kt.point=ws}function gh(){kt.point=bh}function mh(){jc(Oc,zc)}function bh(e,t){kt.point=jc,ws(Oc=Nt=e,zc=Ot=t)}function jc(e,t){var s=e-Nt,a=t-Ot,o=_s(s*s+a*a);gn+=o*(Nt+e)/2,mn+=o*(Ot+t)/2,Ms+=o,o=Ot*e-Nt*t,Bo+=o*(Nt+e),Ro+=o*(Ot+t),Zs+=o*3,ws(Nt=e,Ot=t)}function Hc(e){this._context=e}Hc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,bt);break}}},result:$t};var Vo=new As,so,Yc,Gc,ea,ta,$a={point:$t,lineStart:function(){$a.point=yh},lineEnd:function(){so&&qc(Yc,Gc),$a.point=$t},polygonStart:function(){so=!0},polygonEnd:function(){so=null},result:function(){var e=+Vo;return Vo=new As,e}};function yh(e,t){$a.point=qc,Yc=ea=e,Gc=ta=t}function qc(e,t){ea-=e,ta-=t,Vo.add(_s(ea*ea+ta*ta)),ea=e,ta=t}let Mi,bn,Fi,Di;class Ti{constructor(t){this._append=t==null?Uc:Ah(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,s){switch(this._point){case 0:{this._append`M${t},${s}`,this._point=1;break}case 1:{this._append`L${t},${s}`;break}default:{if(this._append`M${t},${s}`,this._radius!==Fi||this._append!==bn){const a=this._radius,o=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,Fi=a,bn=this._append,Di=this._,this._=o}this._+=Di;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Uc(e){let t=1;this._+=e[0];for(const s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function Ah(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Uc;if(t!==Mi){const s=10**t;Mi=t,bn=function(o){let l=1;this._+=o[0];for(const i=o.length;l<i;++l)this._+=Math.round(arguments[l]*s)/s+o[l]}}return bn}function ll(e,t){let s=3,a=4.5,o,l;function i(r){return r&&(typeof a=="function"&&l.pointRadius(+a.apply(this,arguments)),Ps(r,o(l))),l.result()}return i.area=function(r){return Ps(r,o(Kt)),Kt.result()},i.measure=function(r){return Ps(r,o($a)),$a.result()},i.bounds=function(r){return Ps(r,o(pn)),pn.result()},i.centroid=function(r){return Ps(r,o(kt)),kt.result()},i.projection=function(r){return arguments.length?(o=r==null?(e=null,Io):(e=r).stream,i):e},i.context=function(r){return arguments.length?(l=r==null?(t=null,new Ti(s)):new Hc(t=r),typeof a!="function"&&l.pointRadius(a),i):t},i.pointRadius=function(r){return arguments.length?(a=typeof r=="function"?r:(l.pointRadius(+r),+r),i):a},i.digits=function(r){if(!arguments.length)return s;if(r==null)s=null;else{const d=Math.floor(r);if(!(d>=0))throw new RangeError(`invalid digits: ${r}`);s=d}return t===null&&(l=new Ti(s)),i},i.projection(e).digits(s).context(t)}function il(e){return function(t){var s=new Lo;for(var a in e)s[a]=e[a];return s.stream=t,s}}function Lo(){}Lo.prototype={constructor:Lo,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rl(e,t,s){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),Ps(s,e.stream(pn)),t(pn.result()),a!=null&&e.clipExtent(a),e}function Wc(e,t,s){return rl(e,function(a){var o=t[1][0]-t[0][0],l=t[1][1]-t[0][1],i=Math.min(o/(a[1][0]-a[0][0]),l/(a[1][1]-a[0][1])),r=+t[0][0]+(o-i*(a[1][0]+a[0][0]))/2,d=+t[0][1]+(l-i*(a[1][1]+a[0][1]))/2;e.scale(150*i).translate([r,d])},s)}function wh(e,t,s){return Wc(e,[[0,0],t],s)}function Ch(e,t,s){return rl(e,function(a){var o=+t,l=o/(a[1][0]-a[0][0]),i=(o-l*(a[1][0]+a[0][0]))/2,r=-l*a[0][1];e.scale(150*l).translate([i,r])},s)}function _h(e,t,s){return rl(e,function(a){var o=+t,l=o/(a[1][1]-a[0][1]),i=-l*a[0][0],r=(o-l*(a[1][1]+a[0][1]))/2;e.scale(150*l).translate([i,r])},s)}var Bi=16,kh=We(30*Ke);function Ri(e,t){return+t?Sh(e,t):$h(e)}function $h(e){return il({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function Sh(e,t){function s(a,o,l,i,r,d,f,c,u,v,h,A,m,p){var y=f-a,w=c-o,I=y*y+w*w;if(I>4*t&&m--){var $=i+v,z=r+h,S=d+A,x=_s($*$+z*z+S*S),b=_a(S/=x),k=qe(qe(S)-1)<Ye||qe(l-u)<Ye?(l+u)/2:Ca(z,$),P=e(k,b),V=P[0],M=P[1],T=V-a,j=M-o,F=w*T-y*j;(F*F/I>t||qe((y*T+w*j)/I-.5)>.3||i*v+r*h+d*A<kh)&&(s(a,o,l,i,r,d,V,M,k,$/=x,z/=x,S,m,p),p.point(V,M),s(V,M,k,$,z,S,f,c,u,v,h,A,m,p))}}return function(a){var o,l,i,r,d,f,c,u,v,h,A,m,p={point:y,lineStart:w,lineEnd:$,polygonStart:function(){a.polygonStart(),p.lineStart=z},polygonEnd:function(){a.polygonEnd(),p.lineStart=w}};function y(b,k){b=e(b,k),a.point(b[0],b[1])}function w(){u=NaN,p.point=I,a.lineStart()}function I(b,k){var P=zs([b,k]),V=e(b,k);s(u,v,c,h,A,m,u=V[0],v=V[1],c=b,h=P[0],A=P[1],m=P[2],Bi,a),a.point(u,v)}function $(){p.point=y,a.lineEnd()}function z(){w(),p.point=S,p.lineEnd=x}function S(b,k){I(o=b,k),l=u,i=v,r=h,d=A,f=m,p.point=I}function x(){s(u,v,c,h,A,m,l,i,o,r,d,f,Bi,a),p.lineEnd=$,$()}return p}}var xh=il({point:function(e,t){this.stream.point(e*Ke,t*Ke)}});function Eh(e){return il({point:function(t,s){var a=e(t,s);return this.stream.point(a[0],a[1])}})}function Ih(e,t,s,a,o){function l(i,r){return i*=a,r*=o,[t+e*i,s-e*r]}return l.invert=function(i,r){return[(i-t)/e*a,(s-r)/e*o]},l}function Vi(e,t,s,a,o,l){if(!l)return Ih(e,t,s,a,o);var i=We(l),r=Xe(l),d=i*e,f=r*e,c=i/e,u=r/e,v=(r*s-i*t)/e,h=(r*t+i*s)/e;function A(m,p){return m*=a,p*=o,[d*m-f*p+t,s-f*m-d*p]}return A.invert=function(m,p){return[a*(c*m-u*p+v),o*(h-u*m-c*p)]},A}function Ph(e){return Mh(function(){return e})()}function Mh(e){var t,s=150,a=480,o=250,l=0,i=0,r=0,d=0,f=0,c,u=0,v=1,h=1,A=null,m=Ei,p=null,y,w,I,$=Io,z=.5,S,x,b,k,P;function V(F){return b(F[0]*Ke,F[1]*Ke)}function M(F){return F=b.invert(F[0],F[1]),F&&[F[0]*ht,F[1]*ht]}V.stream=function(F){return k&&P===F?k:k=xh(Eh(c)(m(S($(P=F)))))},V.preclip=function(F){return arguments.length?(m=F,A=void 0,j()):m},V.postclip=function(F){return arguments.length?($=F,p=y=w=I=null,j()):$},V.clipAngle=function(F){return arguments.length?(m=+F?ih(A=F*Ke):(A=null,Ei),j()):A*ht},V.clipExtent=function(F){return arguments.length?($=F==null?(p=y=w=I=null,Io):ch(p=+F[0][0],y=+F[0][1],w=+F[1][0],I=+F[1][1]),j()):p==null?null:[[p,y],[w,I]]},V.scale=function(F){return arguments.length?(s=+F,T()):s},V.translate=function(F){return arguments.length?(a=+F[0],o=+F[1],T()):[a,o]},V.center=function(F){return arguments.length?(l=F[0]%360*Ke,i=F[1]%360*Ke,T()):[l*ht,i*ht]},V.rotate=function(F){return arguments.length?(r=F[0]%360*Ke,d=F[1]%360*Ke,f=F.length>2?F[2]%360*Ke:0,T()):[r*ht,d*ht,f*ht]},V.angle=function(F){return arguments.length?(u=F%360*Ke,T()):u*ht},V.reflectX=function(F){return arguments.length?(v=F?-1:1,T()):v<0},V.reflectY=function(F){return arguments.length?(h=F?-1:1,T()):h<0},V.precision=function(F){return arguments.length?(S=Ri(x,z=F*F),j()):_s(z)},V.fitExtent=function(F,U){return Wc(V,F,U)},V.fitSize=function(F,U){return wh(V,F,U)},V.fitWidth=function(F,U){return Ch(V,F,U)},V.fitHeight=function(F,U){return _h(V,F,U)};function T(){var F=Vi(s,0,0,v,h,u).apply(null,t(l,i)),U=Vi(s,a-F[0],o-F[1],v,h,u);return c=Dc(r,d,f),x=xo(t,U),b=xo(c,x),S=Ri(x,z),j()}function j(){return k=P=null,V}return function(){return t=e.apply(this,arguments),V.invert=t.invert&&M,T()}}function cl(e,t){return[e,Xv(Qv((vt+t)/2))]}cl.invert=function(e,t){return[e,2*Fc(Wv(t))-vt]};function ul(){return Fh(cl).scale(961/bt)}function Fh(e){var t=Ph(e),s=t.center,a=t.scale,o=t.translate,l=t.clipExtent,i=null,r,d,f;t.scale=function(u){return arguments.length?(a(u),c()):a()},t.translate=function(u){return arguments.length?(o(u),c()):o()},t.center=function(u){return arguments.length?(s(u),c()):s()},t.clipExtent=function(u){return arguments.length?(u==null?i=r=d=f=null:(i=+u[0][0],r=+u[0][1],d=+u[1][0],f=+u[1][1]),c()):i==null?null:[[i,r],[d,f]]};function c(){var u=Me*a(),v=t(Zv(t.rotate()).invert([0,0]));return l(i==null?[[v[0]-u,v[1]-u],[v[0]+u,v[1]+u]]:e===cl?[[Math.max(v[0]-u,i),r],[Math.min(v[0]+u,d),f]]:[[i,Math.max(v[1]-u,r)],[d,Math.min(v[1]+u,f)]])}return c()}const Dh={class:"card-content"},Th={class:"card-position-title"},Bh={class:"card-top-row"},Rh={class:"card-position-number"},Vh={class:"card-ifss-info"},Lh={class:"ifss-value-text"},Nh={key:0,class:"card-bottom-stack"},Oh={class:"hover-info-box"},zh={key:0,class:"info-content"},jh={class:"location-label"},Hh={class:"value-display"},Yh={key:1,class:"info-content"},Gh={class:"location-label"},qh={class:"value-display"},Uh={key:2,class:"info-content"},Wh={class:"value-display"},Xh={class:"color-legend"},Kh={key:0,class:"legend-items-horizontal"},Qh={key:1,class:"legend-selected-state"},Jh={class:"selected-state-label"},Zh=["width","height"],ep=["d","fill","stroke","stroke-width","onClick","onMouseenter"],tp={class:"tooltip-info"},sp={class:"tooltip-state-name"},ap={class:"tooltip-stats"},np={class:"tooltip-stat"},op={class:"tooltip-stat-value"},lp={class:"tooltip-stat"},ip={class:"tooltip-stat-value"},rp={__name:"MexicoMapSVG",props:{geoData:{type:Object,required:!0},selectedState:{type:String,default:null},hoveredState:{type:String,default:null},mapConfig:{type:Object,required:!0},nationalIFSS:{type:Object,default:null},getStateColor:{type:Function,required:!0},getStateInfo:{type:Function,required:!0},getIFSSLabel:{type:Function,required:!0},showNavigation:{type:Boolean,default:!0},showInfoCard:{type:Boolean,default:!0},activeView:{type:String,default:null}},emits:["state-click","state-hover","state-leave","navigate-regional","view-change"],setup(e,{emit:t}){const s=e,a=t,o=L({x:0,y:0}),l=K(()=>ul().scale(s.mapConfig.scale).center(s.mapConfig.center).translate([s.mapConfig.width/2,s.mapConfig.height/2])),i=K(()=>ll().projection(l.value)),r=M=>i.value(M),d=M=>{const T=["state-path"];return s.selectedState===M?T.push("state-selected"):s.hoveredState===M&&T.push("state-hovered"),s.selectedState&&s.selectedState!==M&&T.push("state-dimmed"),T.join(" ")},f=M=>s.selectedState===M?"#1a202c":(s.hoveredState===M,"#555555"),c=M=>s.selectedState===M?3:s.hoveredState===M?2:1,u=()=>{var M;return s.selectedState?s.getStateInfo(s.selectedState).value||0:((M=s.nationalIFSS)==null?void 0:M.value)||0},v=()=>{const M=u();return s.getIFSSLabel(M).label},h=()=>{const M=u();return s.getIFSSLabel(M).color||"#ddb891"},A=()=>s.selectedState?"--":"15",m=()=>s.selectedState?s.getStateColor(s.selectedState):"#cccccc",p=()=>{if(!s.selectedState)return"";const T=s.getStateInfo(s.selectedState).value||0;return s.getIFSSLabel(T).label},y=()=>{if(!s.hoveredState)return"#718096";const T=s.getStateInfo(s.hoveredState).value||0;return s.getIFSSLabel(T).color||"#718096"},w=()=>{const M=y();return`linear-gradient(135deg, ${M} 0%, ${I(M,-20)} 100%)`},I=(M,T)=>{const j=M.replace("#",""),F=Math.max(0,Math.min(255,parseInt(j.substring(0,2),16)+T)),U=Math.max(0,Math.min(255,parseInt(j.substring(2,4),16)+T)),J=Math.max(0,Math.min(255,parseInt(j.substring(4,6),16)+T));return`rgb(${F}, ${U}, ${J})`},$=(M,T)=>{o.value={x:T.clientX,y:T.clientY},a("state-hover",M)},z=()=>{a("state-leave")},S=M=>{a("state-click",M)},x=M=>{M.target.classList.contains("map-wrapper")&&a("state-click",null)},b=M=>{(M.target.tagName==="svg"||M.target.tagName==="g")&&a("state-click",null)},k=()=>{a("view-change","regional"),a("navigate-regional")},P=()=>{a("view-change","federal"),window.open("https://plataformafinanzassostenibles.gflac.org/ranking","_blank")},V=K(()=>s.hoveredState?{position:"fixed",left:`${o.value.x+28}px`,top:`${o.value.y-75}px`,pointerEvents:"none",zIndex:99999,transform:"translate(0, 0)"}:{display:"none"});return(M,T)=>{var j;return g(),C("div",{class:"map-wrapper",onClick:x},[e.showInfoCard?(g(),C("div",{key:0,class:pe(["map-info-card",{"state-selected":e.selectedState}])},[n("div",Dh,[n("div",Th,Y(e.selectedState?`Estado: ${e.selectedState}`:"Posicin del pas en el ndice de Finanzas Sostenibles (IFS) en 2024"),1),n("div",Bh,[n("div",Rh,Y(A()),1),n("div",Vh,[n("div",Lh,Y(e.selectedState?"IFSS":"IFS")+": "+Y(u()),1),n("div",{class:"ifss-classification",style:fe({color:h()})},Y(v()),5)])]),e.showNavigation?(g(),C("div",Nh,[n("div",{class:pe(["card-label-pill",{active:e.activeView==="regional"}]),onClick:_t(k,["stop"])}," IFS Regional ",2),n("div",{class:pe(["card-label-pill",{active:e.activeView==="federal"}]),onClick:_t(P,["stop"])}," Plataforma de Finanzas Sostenibles ",2)])):le("",!0)])],2)):le("",!0),n("div",Oh,[e.selectedState?(g(),C("div",zh,[n("div",jh,Y(e.selectedState),1),n("div",Hh,"IFSS: "+Y(e.getStateInfo(e.selectedState).value||0),1)])):e.hoveredState?(g(),C("div",Yh,[n("div",Gh,Y(e.hoveredState),1),n("div",qh,"IFSS: "+Y(e.getStateInfo(e.hoveredState).value||0),1)])):e.nationalIFSS?(g(),C("div",Uh,[T[0]||(T[0]=n("div",{class:"location-label"},"Mxico",-1)),n("div",Wh,"IFS: "+Y(e.nationalIFSS.value),1)])):le("",!0)]),n("div",Xh,[e.selectedState?(g(),C("div",Qh,[n("div",{class:"selected-state-bar",style:fe({backgroundColor:m()})},[n("span",Jh,Y(p()),1)],4)])):(g(),C("div",Kh,[...T[1]||(T[1]=[Se('<div class="legend-item-horizontal" data-v-a48bb7e2><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-a48bb7e2></div><span data-v-a48bb7e2>Muy Alto</span></div><div class="legend-item-horizontal" data-v-a48bb7e2><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-a48bb7e2></div><span data-v-a48bb7e2>Alto</span></div><div class="legend-item-horizontal" data-v-a48bb7e2><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-a48bb7e2></div><span data-v-a48bb7e2>Medio Alto</span></div><div class="legend-item-horizontal" data-v-a48bb7e2><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-a48bb7e2></div><span data-v-a48bb7e2>Medio</span></div><div class="legend-item-horizontal" data-v-a48bb7e2><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-a48bb7e2></div><span data-v-a48bb7e2>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-a48bb7e2><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-a48bb7e2></div><span data-v-a48bb7e2>Bajo</span></div><div class="legend-item-horizontal" data-v-a48bb7e2><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-a48bb7e2></div><span data-v-a48bb7e2>Muy Bajo</span></div>',7)])]))]),(g(),C("svg",{width:e.mapConfig.width,height:e.mapConfig.height,class:"mexico-map",viewBox:"55 32 485 275",preserveAspectRatio:"xMidYMid meet",onClick:b},[n("g",null,[(g(!0),C(ge,null,_e(((j=e.geoData)==null?void 0:j.features)||[],F=>(g(),C("path",{key:F.properties.state_name,d:r(F),fill:e.getStateColor(F.properties.state_name),stroke:f(F.properties.state_name),"stroke-width":c(F.properties.state_name),class:pe(d(F.properties.state_name)),onClick:_t(U=>S(F.properties.state_name),["stop"]),onMouseenter:U=>$(F.properties.state_name,U),onMouseleave:z},null,42,ep))),128))])],8,Zh)),(g(),Re(jt,{to:"body"},[e.hoveredState?(g(),C("div",{key:0,class:"mexico-map-tooltip",style:fe(V.value)},[n("div",{class:"tooltip-icon-circle",style:fe({background:w()})},[...T[2]||(T[2]=[n("svg",{viewBox:"0 0 24 24"},[n("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})],-1)])],4),n("div",tp,[n("div",sp,Y(e.hoveredState),1),n("div",{class:"tooltip-classification",style:fe({color:y()})},Y(e.getIFSSLabel(e.getStateInfo(e.hoveredState).value||0).label),5),n("div",ap,[n("div",np,[n("div",op,Y(e.getStateInfo(e.hoveredState).value||0),1),T[3]||(T[3]=n("div",{class:"tooltip-stat-label"},"IFSS",-1))]),n("div",lp,[n("div",ip,Y(e.getStateInfo(e.hoveredState).year||"-"),1),T[4]||(T[4]=n("div",{class:"tooltip-stat-label"},"Ao",-1))])])])],4)):le("",!0)]))])}}},Xc=Ie(rp,[["__scopeId","data-v-a48bb7e2"]]);console.log("API Key:","AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0");console.log("Sheet ID Principal:","1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo");console.log("Sheet ID Cuantitativos:","1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A");console.log("Sheet ID Incendios Forestales:","1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk");console.log("Sheet ID Residuos Slidos:","15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g");console.log("Sheet ID Emisiones:","1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc");console.log("Sheet ID Energa:","1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg");console.log("Sheet ID reas Naturales:","1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0");console.log("Provider:","googlesheets");let yn="2024";const ft={provider:"googlesheets",googlesheets:{apiKey:"AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",sheets:{principal:{sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Hoja 1",gastos:"Gastos",estados:"Estados"}},cuantitativos:{sheetId:"1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",files:{datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024"}},cuantitativosRegional:{sheetId:"1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",files:{chartsPresupuestosRegional:"2024",chartsIngresosRegional:"2024"}},ambientales:{incendiosForestales:{sheetId:"1RwpD1j2FcLId25ltQlulM_yQZY8w4sg4kKX9TxHbKAk",files:{incendiosForestales:"2024"}},residuosSolidos:{sheetId:"15dSU5o9JNKp3D6fqsRLrsBiRz5dYYiLBo19RWLJRO0g",files:{residuosSolidos:"2024"}},emisiones:{sheetId:"1hUd4oDW2aKlhXUomNZbzeDqRaRaR1hY-3Gq48ea7YGc",files:{emisiones:"2024"}},energia:{sheetId:"1u7y3JLuZewQogjY63Xq974Yik495TnbJ8JLAVydapHg",files:{energia:"2024"}},areasNaturales:{sheetId:"1-Pa1EwJECjjIfORBKE3OKVCkxOkfZzmlq2GcpmTRpt0",files:{areasNaturales:"2024"}}},economicos:{ingresoTotal:{sheetId:"1JbfkVJWcjB6HeslWG4c_72QsqiGazGFTkqMRFz90kwM",files:{ingresoTotal:"2024"}},egresoTotal:{sheetId:"1V_q6gPsW7NRpRfJz7sZB06b2X-fNgNcgN0UAZ8Jbw6A",files:{egresoTotal:"2024"}},pea:{sheetId:"1SLFuSyZ2oPtxedl8egYWZN40rGsN5Bt8m-wtmyKJzz8",files:{pea:"2024"}},pib:{sheetId:"15V60tJVicbTxHuc5gJeSRQ1whMykYkPRQ1qE8GgS_bo",files:{pib:"2024"}},itaee:{sheetId:"1a-JW6JWGV2IHDCHOiAEkXm-Mx9DX0SWOiEKGmoI5Klc",files:{itaee:"2024"}}},sociales:{desocupacion:{sheetId:"15a00iOynv6qhKpqI1bkYtWUmTnlEHlG6TgTkIksJEhg",files:{desocupacion:"2024"}},marginacion:{sheetId:"1LEL4tOhRC2_Vt-km43t7pqC4LKqix2V2lh4ZAiTJSAc",files:{marginacion:"2024"}},idh:{sheetId:"1vL7ythk7R15sbWu0fUq6Tfhxv8nLJtnb4eDL8_0e8QI",files:{idh:"2024"}},rezagoSocial:{sheetId:"17VuzaOXYkhLXLOVqelpO0mOSq7PXeL557t5w7v3BsZ0",files:{rezagoSocial:"2024"}},indiceGini:{sheetId:"1035e5y9y8y9fldFtijVmmQA5Og6_1ISg-PjnYikLU80",files:{indiceGini:"2024"}},poblacion:{sheetId:"1khFqaL2fxq3r8dKydaiKqaX5x3IfTUNHiz-TEmjzrDk",files:{poblacion:"2024"}}},gobernabilidad:{satisfaccionFederal:{sheetId:"1wOl0W7S859xOeScLNzMqvmJ7K46OExvTG4M9RgHeQYE",files:{satisfaccionFederal:"2024"}},satisfaccionEstatal:{sheetId:"1ADRSFL4htYoYjJ5G9PMZbZtWgQVdBw2z0f7Hqgl64kc",files:{satisfaccionEstatal:"2024"}},IGOPP:{sheetId:"1mABONqRevHO5mTfPkdy2nrRBTUS4xDeIBuUO2E3NdUk",files:{IGOPP:"2024"}},BIPE:{sheetId:"1MFvElQy-McXx0BDYI_65mfVAyK5QXwLcSTMV_tuDpJM",files:{BIPE:"2024"}},ITDIF:{sheetId:"1IlgbVnXTKPn_SxKivY8nCVMzoQ-2rj3nLPyhdMTbA18",files:{ITDIF:"2024"}},ICI:{sheetId:"17lV0T7CFL4sIdlwXHGosCSCRhYfc06K8qiUjvK9Vc4g",files:{ICI:"2024"}},PBRSED:{sheetId:"1XvVqd25zVILItNUh1lhT7H5yOrDTuClEDouz4YZgPBY",files:{PBRSED:"2024"}}},presupuestos:{presupuestoEstatal:{sheetId:"1cJmIqYcXNuUMxN_CYR80hCilTeX8fpZBTdyy1lvIKgw",files:{presupuestoEstatal:"2024"}},financiamientos:{sheetId:"17Gg_GKAF9w_SAj0uDHfg5WtddF-LPVc1LveRvmubSNU",files:{financiamientos:"2024"}},programas:{sheetId:"1RfZyCkhabT0shMHyD03u8-_GPU-jU5FZMFvizBnSV-E",files:{programas:"2024"}}}},sheetId:"1POSwnqYsIXIaQfctkGGDFUFPRcdHwSm4R-FcgIN85Jo",files:{datosFinancieros:"Hoja 1",presupuesto:"Hoja 1",indicadores:"Indicadores",gastos:"Gastos",estados:"Estados",datosCuantitativos:"2024",chartsPresupuestos:"2024",chartsIngresos:"2024",incendiosForestales:"2024",residuosSolidos:"2024",emisiones:"2024",energia:"2024",areasNaturales:"2024",ingresoTotal:"2024",egresoTotal:"2024",pea:"2024",pib:"2024",itaee:"2024",satisfaccionFederal:"2024",satisfaccionEstatal:"2024",IGOPP:"2024",BIPE:"2024",ITDIF:"2024",ICI:"2024",PBRSED:"2024",presupuestoEstatal:"2024",financiamientos:"2024",programas:"2024",chartsPresupuestosRegional:"Hoja 1",chartsIngresosRegional:"Hoja 1"}},mappings:{presupuestoEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Presupuesto Total",column:"Presupuesto Total",label:"Presupuesto Total",color:"#0F3759",order:1}]},financiamientos:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bioecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Eduambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},programas:{categoryColumn:"Entidad Federativa",variables:[{key:"Agua y drenaje",column:"Agua y drenaje",label:"Agua y drenaje",color:"#0F3759",order:1},{key:"Suelos",column:"Suelos",label:"Suelos",color:"#3B5A70",order:2},{key:"Residuos",column:"Residuos",label:"Residuos",color:"#4E6D82",order:3},{key:"Energa",column:"Energa",label:"Energa",color:"#6B8FA3",order:4},{key:"Atmsfera",column:"Atmsfera",label:"Atmsfera",color:"#0F3759",order:5},{key:"Bioecosistemas",column:"Bio-ecosistemas",label:"Bioecosistemas",color:"#3B5A70",order:6},{key:"Cambio Climtico",column:"Cambio Climtico",label:"Cambio Climtico",color:"#4E6D82",order:7},{key:"Asentamientos",column:"Asentamientos",label:"Asentamientos",color:"#6B8FA3",order:8},{key:"Eduambiental",column:"Edu-Ambiental",label:"Eduambiental",color:"#0F3759",order:9},{key:"Admsostenible",column:"Admsostenible",label:"Admsostenible",color:"#3B5A70",order:10},{key:"Transporte",column:"Transporte",label:"Transporte",color:"#4E6D82",order:11},{key:"Otros Programas",column:"Otros Programas",label:"Otros Programas",color:"#6B8FA3",order:12}]},satisfaccionFederal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},satisfaccionEstatal:{categoryColumn:"Entidad Federativa",variables:[{key:"Porcentaje de satisfacin",column:"Porcentaje de satisfacin",label:"Porcentaje de satisfacin",color:"#0F3759",order:1}]},IGOPP:{categoryColumn:"Entidad Federativa",variables:[{key:"IGOPP",column:"IGOPP",label:"IGOPP",color:"#0F3759",order:1}]},BIPE:{categoryColumn:"Entidad Federativa",variables:[{key:"BIPE",column:"BIPE",label:"BIPE",color:"#0F3759",order:1}]},ITDIF:{categoryColumn:"Entidad Federativa",variables:[{key:"ITDIF",column:"ITDIF",label:"ITDIF",color:"#0F3759",order:1}]},ICI:{categoryColumn:"Entidad Federativa",variables:[{key:"ICI",column:"ICI",label:"ICI",color:"#0F3759",order:1},{key:"Consistencia en RT",column:"Consistencia en RT",label:"Consistencia en RT",color:"#0F3759",order:2},{key:"Proyectos",column:"Proyectos",label:"Proyectos",color:"#0F3759",order:3},{key:"Indicadores",column:"Indicadores",label:"Indicadores",color:"#0F3759",order:4}]},PBRSED:{categoryColumn:"Entidad Federativa",variables:[{key:"PBRSED",column:"PBRSED",label:"PBRSED",color:"#0F3759",order:1},{key:"Diagnstico",column:"Diagnstico",label:"Diagnstico",color:"#0F3759",order:2}]},ingresoTotal:{categoryColumn:"Entidad Federativa",variables:[{key:"Ingresos",column:"Ingresos",label:"Ingresos",color:"#0F3759",colorClass:"blue",order:1},{key:"Egresos",column:"Egresos",label:"Egresos",color:"#3B5A70",colorClass:"blue",order:1}]},egresoTotal:{categoryColumn:"Entidad Federativa",valueColumn:"Egresos"},pea:{categoryColumn:"Entidad Federativa",valueColumn:"Personas"},pib:{categoryColumn:"Entidad Federativa",valueColumn:"PIBE",variables:[{key:"PIBE",column:"PIBE",label:"PIB Estatal",color:"#0F3759",order:1}]},itaee:{categoryColumn:"Entidad Federativa",variables:[{key:"variacion",column:"Variacin porcentual anual",label:"Variacin %",color:"#0F3759",colorClass:"blue",order:1}]},desocupacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Tasa de desocupacin",column:"Tasa de desocupacin",label:"Tasa de desocupacin",color:"#0F3759",order:1},{key:"Tasa de informalidad laboral",column:"Tasa de informalidad laboral",label:"Tasa de informalidad laboral",color:"#3B5A70",order:2},{key:"Tasa de participacin",column:"Tasa de participacin",label:"Tasa de participacin",color:"#4E6D82",order:3}]},marginacion:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Marginacin",column:"ndice de Marginacin",label:"ndice de Marginacin",color:"#0F3759",order:1},{key:"Grado de marginacin",column:"Grado de marginacin",label:"Grado de marginacin",color:"#3B5A70",order:2},{key:"ndice de marginacin normalizado",column:"ndice de marginacin normalizado",label:"ndice de marginacin normalizado",color:"#4E6D82",order:3}]},idh:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Desarrollo Humano",column:"ndice de Desarrollo Humano",label:"ndice de Desarrollo Humano",color:"#0F3759",order:1}]},rezagoSocial:{categoryColumn:"Entidad Federativa",variables:[{key:"ndice de Rezago Social",column:"ndice de Rezago Social",label:"ndice de Rezago Social",color:"#0F3759",order:1},{key:"Grado de Rezago Social",column:"Grado de Rezago Social",label:"Grado de Rezago Social",color:"#0F3759",order:2}]},indiceGini:{categoryColumn:"Entidad Federativa",variables:[{key:"CONEVAL 2020",column:"CONEVAL 2020",label:"CONEVAL 2020",color:"#0F3759",order:1},{key:"PNUD 2022",column:"PNUD 2022",label:"PNUD 2022",color:"#0F3759",order:2}]},poblacion:{categoryColumn:"Entidad Federativa",variables:[{key:"Personas",column:"Personas",label:"Personas",color:"#0F3759",order:1}]},incendiosForestales:{categoryColumn:"Entidad Federativa",variables:[{key:"arbolado",column:"Arbolado Adulto",label:"Arbolado Adulto",color:"#0F3759",colorClass:"blue",order:1},{key:"renuevo",column:"Renuevo",label:"Renuevo",color:"#3B5A70",colorClass:"blue",order:2},{key:"arbustivo",column:"Arbustivo",label:"Arbustivo",color:"#4E6D82",colorClass:"blue",order:3},{key:"herbaceo",column:"Herbaceo",label:"Herbaceo",color:"#D6D6D6",colorClass:"gray",order:4},{key:"hojarasca",column:"Hojarasca",label:"Hojarasca",color:"#A1A1A1",colorClass:"gray",order:5},{key:"total",column:"Total de Hectreas",label:"Total de Hectreas",color:"#B0B0B0",colorClass:"gray",order:6}]},residuosSolidos:{categoryColumn:"Entidad Federativa",valueColumn:"Slidos Urbanos"},emisiones:{categoryColumn:"Entidad Federativa",variables:[{key:"Fuentes Fijas",column:"Fuentes Fijas",label:"Fuentes Fijas",color:"#DC143C",order:1},{key:"Fuente erea",column:"Fuente erea",label:"Fuente erea",color:"#0F3759",order:2},{key:"Carreteros",column:"Carreteros",label:"Carreteros",color:"#7cb342",order:3},{key:"No Carreteros",column:"No Carreteros",label:"No Carreteros",color:"#FF9800",order:4},{key:"Naturales",column:"Naturales",label:"Naturales",color:"#9C27B0",order:5}]},energia:{categoryColumn:"Entidad Federativa",valueColumn:"Consumo Energa"},areasNaturales:{categoryColumn:"Entidad Federativa",variables:[{key:"Flora y fauna",column:"Flora y fauna",label:"Flora y fauna",color:"#0F3759",colorClass:"blue",order:1},{key:"Recursos naturales",column:"Recursos naturales",label:"Recursos naturales",color:"#3B5A70",colorClass:"blue",order:2},{key:"Monumento Natural",column:"Monumento Natural",label:"Monumento Natural",color:"#4E6D82",colorClass:"blue",order:3},{key:"Parque Nacional",column:"Parque Nacional",label:"Parque Nacional",color:"#B0B0B0",colorClass:"gray",order:4},{key:"Reserva de la bisfera",column:"Reserva de la bisfera",label:"Reserva de la bisfera",color:"#0F3759",colorClass:"blue",order:5},{key:"Santuario",column:"Santuario",label:"Santuario",color:"#3B5A70",colorClass:"gray",order:6}]},chartsPresupuestos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"presupuesto_total",column:"PT ($)",label:"Presupuesto Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"presupuesto_sostenible",column:"PS ($)",label:"Presupuesto Sostenible",colorClass:"green",color:"#7cb342",order:2},{key:"presupuesto_carbono",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsPS:[{key:"ps_desastres",column:"PS_DN",label:"Desastres Naturales",colorClass:"dark-green",color:"#558b2f"},{key:"ps_proteccion",column:"PS_PA",label:"Proteccin Ambiental",colorClass:"green",color:"#7cb342"}],donutSectorsPIC:[{key:"pic_combustible",column:"PIC_C",label:"Combustible",colorClass:"dark-red",color:"#b71c1c"},{key:"pic_mineria",column:"PIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"pic_transporte",column:"PIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"}]},chartsIngresos:{stateColumn:"Entidad Federativa",variableColumns:[{key:"ingresos_total",column:"IT ($)",label:"Ingresos Total",colorClass:"gray",color:"#9ca3af",order:1},{key:"ingresos_sostenibles",column:"IS ($)",label:"Ingresos Sostenibles",colorClass:"green",color:"#7cb342",order:2},{key:"ingresos_carbono",column:"IIC ($)",label:"Ingresos Intensivos en Carbono",colorClass:"red",color:"#DC143C",order:3}],donutSectorsIS:[{key:"is_ambiental",column:"IS_A",label:"Ambiental",colorClass:"dark-green",color:"#558b2f"},{key:"is_ecologico",column:"IS_E",label:"Ecolgico",colorClass:"green",color:"#7cb342"},{key:"is_movilidad",column:"IS_MS",label:"Movilidad Sustentable",colorClass:"light-green",color:"#9ccc65"}],donutSectorsIIC:[{key:"iic_hidrocarburos",column:"IIC_H",label:"Hidrocarburos",colorClass:"dark-red",color:"#b71c1c"},{key:"iic_mineria",column:"IIC_M",label:"Minera",colorClass:"red",color:"#DC143C"},{key:"iic_transporte",column:"IIC_T",label:"Transporte",colorClass:"light-red",color:"#ef5350"}]},rankingCuantitativo:{stateColumn:"Entidad Federativa",columnsByVariable:{IFSS:"IFSS",PS:"PS (%)",IIC:"IIC (%)",PIC:"PIC (%)",IS:"IS (%)"},variableColumns:[{key:"IFSS",column:"IFSS",label:"IFSS",color:"#0F3759",colorClass:"blue",order:1}]},iicBarChart:{yearColumn:"Ao",variableColumns:[{key:"iic_c",column:"IIC_C",label:"IIC_C",color:"#0F3759",order:1},{key:"iic_h",column:"IIC_H",label:"IIC_H",color:"#3B5A70",order:2},{key:"iic_m",column:"IIC_M",label:"IIC_M",color:"#6B8FA3",order:3}]},iicStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IIC Total",column:"IIC ($)",label:"IIC Total",color:"#3B5A70"},{key:"Ingreso Total",column:"IT ($)",label:"Ingreso Total",color:"#0F3759"}]},ifssStackedArea:{yearColumn:"Ao",variableColumns:[{key:"IFS",column:"IFS",label:"IFS",color:"#10b981"}]},presupuestoBarChart:{yearColumn:"Ao",variableColumns:[{key:"IS",column:"IS($)",label:"IS",color:"#0F3759",order:1}]},picBarChart:{yearColumn:"Ao",variableColumns:[{key:"PIC",column:"PIC ($)",label:"PIC",color:"#0F3759",order:1}]},psBarChart:{yearColumn:"Ao",variableColumns:[{key:"PS",column:"PS ($)",label:"PS",color:"#6B8FA3",order:1}]},isLinearChart:{yearColumn:"Ao",variableColumns:[{key:"IS_Total",column:"IS($)",label:"IS Total"},{key:"Financiemiento_Total",column:"FT ($)",label:"Financiamiento Total"}]},pspicLinearChart:{yearColumn:"Ao",variableColumns:[{key:"GT",column:"GT ($)",label:"Gasto Total"},{key:"PS",column:"PS ($)",label:"Presupuestos Sostenibles"},{key:"PIC",column:"PIC ($)",label:"Presupuestos Intensivos en Carbono"}]},presupuestoDetalleBarChart:{yearColumn:"Ao",variableColumns:[{key:"asignado",column:"Presupuesto Asignado",label:"Asignado",color:"#4CAF50",order:1},{key:"ejecutado",column:"Presupuesto Ejecutado",label:"Ejecutado",color:"#2196F3",order:2},{key:"disponible",column:"Presupuesto Disponible",label:"Disponible",color:"#FF9800",order:3}]},roiLinearChart:{yearColumn:"Ao",variableColumns:[{key:"roi",column:"ROI (%)",label:"Retorno de Inversin"},{key:"benchmark",column:"Benchmark Industria (%)",label:"Benchmark"}]},gastosStackedArea:{yearColumn:"Ao",variableColumns:[{key:"personal",column:"Gastos Personal",label:"Personal"},{key:"operacion",column:"Gastos Operacin",label:"Operacin"},{key:"inversion",column:"Gastos Inversin",label:"Inversin"},{key:"otros",column:"Otros Gastos",label:"Otros"}]},estadosBarChart:{yearColumn:"Ao",variableColumns:[{key:"cdmx",column:"Ciudad de Mxico",label:"CDMX",color:"#FF5722",order:1},{key:"jalisco",column:"Jalisco",label:"Jalisco",color:"#00BCD4",order:2},{key:"nuevoLeon",column:"Nuevo Len",label:"Nuevo Len",color:"#8BC34A",order:3}]}},variablesConfig:{federal:{label:"Federal",color:"#0F3759",order:1},estatal:{label:"Estatal",color:"#3B5A70",order:2},municipal:{label:"Municipal",color:"#6B8FA3",order:3},asignado:{label:"Asignado",color:"#4CAF50",order:1},ejecutado:{label:"Ejecutado",color:"#2196F3",order:2},disponible:{label:"Disponible",color:"#FF9800",order:3},personal:{label:"Personal",color:"#E91E63",order:1},operacion:{label:"Operacin",color:"#9C27B0",order:2},inversion:{label:"Inversin",color:"#3F51B5",order:3},otros:{label:"Otros",color:"#607D8B",order:4}}};function Be(e){console.log(" [storageConfig] Estableciendo ao activo:",e),yn=e||"2024"}function cp(){const e=ft.provider,t=ft[e];if(!t)throw new Error(`Configuracin no encontrada para provider: ${e}`);return{provider:e,...t,mappings:ft.mappings,variablesConfig:ft.variablesConfig}}function Li(e){const t=ft.googlesheets;if(t.sheets&&t.sheets.presupuestos){for(const[s,a]of Object.entries(t.sheets.presupuestos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en presupuestos.${s}`),a.sheetId}if(t.sheets&&t.sheets.economicos){for(const[s,a]of Object.entries(t.sheets.economicos))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en economicos.${s}`),a.sheetId}if(t.sheets&&t.sheets.sociales){for(const[s,a]of Object.entries(t.sheets.sociales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en sociales.${s}`),a.sheetId}if(t.sheets&&t.sheets.ambientales){for(const[s,a]of Object.entries(t.sheets.ambientales))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en ambientales.${s}`),a.sheetId}if(t.sheets&&t.sheets.gobernabilidad){for(const[s,a]of Object.entries(t.sheets.gobernabilidad))if(a.files&&a.files[e])return console.log(` Archivo "${e}" encontrado en gobernabilidad.${s}`),a.sheetId}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?(console.log(` Archivo "${e}" encontrado en cuantitativos`),console.log(` Usando ao activo: ${yn}`),t.sheets.cuantitativos.sheetId):t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?(console.log(` Archivo "${e}" encontrado en principal`),t.sheets.principal.sheetId):(console.log(` Usando sheet principal para "${e}"`),t.sheetId)}function Ne(e){const t=ft.googlesheets;if(["datosCuantitativos","chartsPresupuestos","chartsIngresos","incendiosForestales","residuosSolidos","emisiones","energia","areasNaturales","ingresoTotal","egresoTotal","pea","pibe","itaee","desocupacion","marginacion","idh","rezagoSocial","indiceGini","poblacion","presupuestoEstatal","financiamientos","programas"].includes(e))return console.log(` Nombre de hoja dinmico para "${e}": ${yn}`),yn;if(t.sheets&&t.sheets.presupuestos){for(const[a,o]of Object.entries(t.sheets.presupuestos))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.sociales){for(const[a,o]of Object.entries(t.sheets.sociales))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.economicos){for(const[a,o]of Object.entries(t.sheets.economicos))if(o.files&&o.files[e])return o.files[e]}if(t.sheets&&t.sheets.ambientales){for(const[a,o]of Object.entries(t.sheets.ambientales))if(o.files&&o.files[e])return o.files[e]}return t.sheets&&t.sheets.cuantitativos&&t.sheets.cuantitativos.files&&t.sheets.cuantitativos.files[e]?t.sheets.cuantitativos.files[e]:t.sheets&&t.sheets.principal&&t.sheets.principal.files&&t.sheets.principal.files[e]?t.sheets.principal.files[e]:t.files[e]||e}function Te(e){const t=ft.mappings[e];if(!t)throw new Error(`Mapeo no encontrado: ${e}`);return t}const qt=new Map,Kc=5*60*1e3,ss=new Map,up=3,dp=150;let Qa=0;const An=[],Qc=async()=>{if(An.length===0||Qa>=up)return;const{resolve:e,reject:t,fn:s}=An.shift();Qa++;try{const a=await s();e(a)}catch(a){t(a)}finally{Qa--,setTimeout(Qc,dp)}},Ni=e=>new Promise((t,s)=>{An.push({resolve:t,reject:s,fn:e}),Qc()}),Oi=async(e,t=3,s=500)=>{for(let a=0;a<t;a++)try{const o=await fetch(e);if(o.status===429||o.status===400&&a<t-1){const l=s*Math.pow(2,a);console.warn(` [Retry] Intento ${a+1}/${t} fall (${o.status}). Reintentando en ${l}ms...`),await new Promise(i=>setTimeout(i,l));continue}return o}catch(o){const l=s*Math.pow(2,a);console.warn(` [Retry] Intento ${a+1}/${t} fall (${o.message}). Reintentando en ${l}ms...`),await new Promise(i=>setTimeout(i,l))}return console.warn(" [fetchWithRetry] Mximo de reintentos alcanzado. Retornando null silenciosamente."),null},fp=(e,t)=>`${e}__${t}`,zi=e=>e?Date.now()-e.timestamp<Kc:!1,vp=()=>{const e=Date.now();for(const[t,s]of qt.entries())e-s.timestamp>=Kc&&(qt.delete(t),console.log(` [Cache] Limpiando entrada expirada: ${t}`))};setInterval(vp,2*60*1e3);function Et(){const e=cp(),t=async f=>{try{const c=Li(f),u=e.apiKey;if(!u||!c)return console.warn(" [fetchSheetNames] Falta configuracin de API Key o Sheet ID"),[];const v=`__sheetNames__${c}`,h=qt.get(v);if(zi(h))return console.log(` [Cache HIT] Usando nombres de hojas en cach para: ${f}`),h.data;if(ss.has(v))return console.log(` [Pending] Esperando solicitud de nombres existente para: ${f}`),await ss.get(v);console.log(` [useStorageData] Obteniendo nombres de hojas para: ${f}`),console.log(`  - Sheet ID: ${c}`);const A=Ni(async()=>{const m=`https://sheets.googleapis.com/v4/spreadsheets/${c}?key=${u}`,p=await Oi(m);if(!p)return console.warn(` [fetchSheetNames] No se pudo obtener hojas para: ${f}`),[];if(!p.ok)return console.warn(` [fetchSheetNames] Error HTTP ${p.status} para: ${f}`),[];const w=(await p.json()).sheets.map(I=>I.properties.title);return console.log(" [useStorageData] Hojas encontradas:",w),qt.set(v,{data:w,timestamp:Date.now()}),console.log(` [Cache SAVE] Nombres de hojas guardados: ${v}`),w});ss.set(v,A);try{return await A}finally{ss.delete(v)}}catch(c){return console.warn(" [fetchSheetNames] Error silencioso:",c.message),[]}},s=async(f,c=null)=>{try{const u=c||Ne(f),v=Li(f),h=e.apiKey;if(!h||!v)return console.warn(" [fetchData] Falta configuracin de API Key o Sheet ID"),[];const A=fp(f,u),m=qt.get(A);if(zi(m))return console.log(` [Cache HIT] Usando datos en cach para: ${f} - ${u}`),m.data;if(ss.has(A))return console.log(` [Pending] Esperando solicitud existente para: ${f}`),await ss.get(A);console.log(` [useStorageData] Obteniendo datos de: ${f}`),console.log(`  - Hoja: ${u}`),console.log(`  - Sheet ID: ${v}`);let p=u;/^\d+$/.test(String(u).trim())&&(p=`'${u}'`,console.log(`  - Nombre formateado con comillas: ${p}`));const y=`${p}!A:ZZ`,w=`https://sheets.googleapis.com/v4/spreadsheets/${v}/values/${encodeURIComponent(y)}?key=${h}`,I=Ni(async()=>{const $=await Oi(w);if(!$)return console.warn(` [fetchData] Max retries alcanzado para: ${f}. Retornando vaco.`),[];if(!$.ok)return console.warn(` [fetchData] Error HTTP ${$.status} para: ${f}. Retornando vaco.`),[];const S=(await $.json()).values||[];if(S.length===0)return console.warn(" [useStorageData] No se encontraron datos"),[];const x=S[0],b=S.slice(1).map(k=>{const P={};return x.forEach((V,M)=>{P[V]=k[M]||null}),P});return console.log(` [useStorageData] Datos obtenidos: ${b.length} filas`),qt.set(A,{data:b,timestamp:Date.now()}),console.log(` [Cache SAVE] Datos guardados en cach: ${A}`),b});ss.set(A,I);try{return await I}finally{ss.delete(A)}}catch(u){return console.warn(` [fetchData] Error silencioso para ${f}:`,u.message),[]}},a=f=>{if(typeof f=="number")return f;if(!f||f===""||f===null||f===void 0)return 0;let c=String(f).trim().toUpperCase();if(c==="NA"||c==="ND"||c==="N/A")return 0;c=c.replace(/\s/g,""),c.includes(",")&&!c.includes(".")?(c=c.replace(/\./g,""),c=c.replace(/,/g,".")):(c.match(/\./g)||[]).length>1&&(c=c.replace(/\./g,""));const v=parseFloat(c);return isNaN(v)?0:v},o=(f,c)=>{try{if(console.log(" [transformToBarChartData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToBarChartData] No hay datos para transformar"),[];const u=c.yearColumn||"Ao",v=c.variableColumns||[],h={};f.forEach(m=>{const p=m[u];p&&(h[p]||(h[p]={year:p}),v.forEach(y=>{const w=m[y.column],I=a(w);h[p][y.key]||(h[p][y.key]=0),h[p][y.key]+=I}))});const A=Object.values(h).sort((m,p)=>parseInt(m.year)-parseInt(p.year)).map(m=>{const p=v.map(y=>({key:y.key,label:y.label,value:m[y.key]||0,color:y.color}));return{year:m.year,variables:p,total:p.reduce((y,w)=>y+w.value,0)}});return console.log(` [transformToBarChartData] Datos transformados: ${A.length} aos`),A}catch(u){return console.error(" [transformToBarChartData] Error:",u),[]}},l=(f,c)=>{try{if(console.log(" [transformToLinearChartData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToLinearChartData] No hay datos para transformar"),{data:[],labels:[]};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map(m=>m[u]))].filter(m=>m).sort((m,p)=>parseInt(m)-parseInt(p)),A=v.map(m=>{const p=h.map(y=>f.filter($=>$[u]===y).reduce(($,z)=>$+a(z[m.column]),0));return{key:m.key,label:m.label,data:p,color:m.color||"#0F3759"}});return console.log(` [transformToLinearChartData] Datos transformados: ${h.length} aos`),{data:A,labels:h}}catch(u){return console.error(" [transformToLinearChartData] Error:",u),{data:[],labels:[]}}},i=(f,c)=>{try{if(console.log(" [transformToStackedAreaData] Transformando datos..."),!f||f.length===0)return console.warn(" [transformToStackedAreaData] No hay datos para transformar"),{};const u=c.yearColumn||"Ao",v=c.variableColumns||[],h=[...new Set(f.map(m=>m[u]))].filter(m=>m).sort((m,p)=>parseInt(m)-parseInt(p)),A={};return v.forEach(m=>{A[m.label]=h.map(p=>f.filter(I=>I[u]===p).reduce((I,$)=>I+a($[m.column]),0))}),console.log(" [transformToStackedAreaData] Datos transformados:",Object.keys(A)),A}catch(u){return console.error(" [transformToStackedAreaData] Error:",u),{}}},r=(f,c,u="horizontal",v={})=>{try{return console.log(` [useStorageData] Transformando datos para tipo: ${u}`),u==="horizontal"?d(f,c,v):u==="bar"?o(f,c):u==="linear"?l(f,c):u==="stackedArea"?i(f,c):f}catch(h){return console.error(" [useStorageData] Error transformando datos:",h),[]}},d=(f,c,u={})=>{const{selectedEntity:v}=u;if(!v)return console.warn(" [useStorageData] No hay entidad seleccionada"),[];const h=c.categoryColumn||c.stateColumn,A=f.find(p=>p[h]===v);return A?(console.log(` [useStorageData] Fila encontrada para ${v}:`,A),(c.variables||c.variableColumns).map(p=>{const y=A[p.column],w=a(y);return{key:p.key,label:p.label,value:w,color:p.color,colorClass:p.colorClass||"default",active:!0}})):(console.warn(` [useStorageData] No se encontr entidad: ${v}`),[])};return{fetchData:s,fetchSheetNames:t,transform:r,transformToBarChartData:o,transformToLinearChartData:l,transformToStackedAreaData:i,parseNumericValue:a,clearCache:()=>{qt.clear(),console.log(" [Cache] Cach limpiado completamente")},getCacheStats:()=>({size:qt.size,keys:Array.from(qt.keys()),activeRequests:Qa,queueLength:An.length})}}const hp={class:"vertical-bar-chart"},pp={class:"bar-header-dark"},gp={class:"bar-header-text"},mp={class:"bar-header-title"},bp={class:"bar-header-subtitle"},yp={class:"kpi-cards-row"},Ap=["onClick","onMouseenter"],wp={class:"kpi-card-top"},Cp={key:0,xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},_p={key:1,xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},kp={class:"kpi-value"},$p={class:"kpi-label"},Sp={class:"chart-area"},xp={class:"y-axis"},Ep={class:"tick-label"},Ip={class:"grid-lines"},Pp={class:"bar-wrapper-vertical"},Mp=["onMouseenter"],Fp={key:0,class:"bar-percentage"},Dp={key:0,class:"empty-state"},Tp={class:"tooltip-content"},Bp={class:"tooltip-item"},Rp={class:"tooltip-variable-name"},Vp={class:"tooltip-variable-value"},Lp={__name:"BarChart",props:{data:{type:[Object,Array],required:!0,default:()=>[]},title:{type:String,default:"Presupuestos"},headerTitle:{type:String,default:"Anlisis Presupuestario"},selectedState:{type:String,default:""},selectedYear:{type:String,default:""}},setup(e){const t=e,s=L([{key:"presupuesto_total",label:"Presupuesto Total",shortLabel:"Total",colorClass:"gray",color:"#9ca3af",value:0,change:0,active:!1},{key:"presupuesto_sostenible",label:"Presupuesto Sostenible",shortLabel:"Sostenible",colorClass:"green",color:"#7cb342",value:0,change:0,active:!1},{key:"presupuesto_carbono",label:"Presupuesto Intensivo en Carbono",shortLabel:"Carbono",colorClass:"red",color:"#DC143C",value:0,change:0,active:!1}]),a=L(null),o=L(300),l=L(null),i=L(null),r=L({x:0,y:0}),d=L(!1),f=()=>{t.data&&t.data.variables&&Array.isArray(t.data.variables)?s.value=t.data.variables.map(b=>({key:b.key,label:b.label||b.key,shortLabel:c(b.label||b.key),colorClass:b.colorClass||"gray",color:b.color||"#9ca3af",value:b.value||0,change:b.change!==void 0?b.change:u(),active:!1})):Array.isArray(t.data)&&t.data.length>0&&t.data[0].variables&&(s.value=t.data[0].variables.map(b=>({key:b.key,label:b.label||b.key,shortLabel:c(b.label||b.key),colorClass:b.colorClass||"gray",color:b.color||"#9ca3af",value:b.value||0,change:b.change!==void 0?b.change:u(),active:!1})))},c=b=>({"Presupuesto Total":"Total","Presupuesto Sostenible":"Sostenible","Presupuesto Intensivo en Carbono":"Carbono","Ingreso Total":"Total","Ingresos Sostenibles":"Sostenible","Ingresos Intensivos en Carbono":"Carbono",PT:"Total",PS:"Sostenible",PIC:"Carbono",IT:"Total",IS:"Sostenible",IIC:"Carbono"})[b]||b,u=()=>parseFloat((Math.random()*20-5).toFixed(1)),v=b=>{const k=s.value[0];return!k||k.value===0?0:Math.round(b/k.value*100)},h=(b,k)=>{const P=b.active,V=i.value===k;return{background:P?`linear-gradient(135deg, ${b.color}08 0%, ${b.color}15 100%)`:"#f8fafc",borderColor:P?b.color:"#e2e8f0",opacity:P?1:.5,transform:V?"translateY(-2px)":"translateY(0)",boxShadow:V?`0 4px 12px ${b.color}25`:"none"}};f(),be(()=>t.data,()=>{f(),d.value?ze(()=>{s.value.forEach(b=>b.active=!0)}):ze(()=>{S(),d.value=!0})},{deep:!0});const A=K(()=>s.value.filter(b=>b.active)),m=K(()=>{const b=A.value.map(k=>k.value);return Math.max(...b,1)*1.25}),p=K(()=>{const b=m.value,k=b/4;return[{value:0,position:0},{value:k,position:25},{value:k*2,position:50},{value:k*3,position:75},{value:b,position:100}]}),y=b=>{const k=b.target.getBoundingClientRect();r.value={x:k.left+k.width/2,y:k.top-10}},w=b=>{const k=s.value.find(P=>P.key===b);k&&(k.active=!k.active)},I=b=>{var k;return((k=s.value.find(P=>P.key===b))==null?void 0:k.active)||!1},$=b=>m.value===0?0:o.value*(b/m.value)*100/100,z=b=>Math.abs(b)>=1e9?`$${(b/1e9).toFixed(1)}B`:Math.abs(b)>=1e6?`$${(b/1e6).toFixed(1)}M`:Math.abs(b)>=1e3?`$${(b/1e3).toFixed(1)}K`:`$${b.toFixed(0)}`,S=()=>{setTimeout(()=>{s.value.forEach((b,k)=>{setTimeout(()=>{b.active=!0},k*600)})},300)},x=()=>{if(a.value){const b=a.value.clientHeight-20;b>0&&(o.value=b)}};return Oe(async()=>{await ze(),x(),a.value&&new ResizeObserver(()=>x()).observe(a.value),!d.value&&s.value.length>0&&(await ze(),S(),d.value=!0)}),be(()=>t.data,()=>{ze(()=>x())},{deep:!0}),(b,k)=>(g(),C(ge,null,[n("div",hp,[n("div",pp,[k[2]||(k[2]=Se('<div class="bar-header-icon" data-v-cd65f9ca><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-cd65f9ca><line x1="12" y1="20" x2="12" y2="10" data-v-cd65f9ca></line><line x1="18" y1="20" x2="18" y2="4" data-v-cd65f9ca></line><line x1="6" y1="20" x2="6" y2="16" data-v-cd65f9ca></line></svg></div>',1)),n("div",gp,[n("span",mp,Y(e.headerTitle),1),n("span",bp,Y(e.selectedState)+"  "+Y(e.selectedYear),1)])]),n("div",yp,[(g(!0),C(ge,null,_e(s.value,(P,V)=>(g(),C("div",{key:P.key,class:pe(["kpi-card",[P.colorClass,{active:I(P.key),hovered:i.value===V}]]),style:fe(h(P,V)),onClick:M=>w(P.key),onMouseenter:M=>i.value=V,onMouseleave:k[0]||(k[0]=M=>i.value=null)},[n("div",wp,[n("span",{class:pe(["kpi-dot",P.colorClass])},null,2),n("span",{class:pe(["kpi-trend",{positive:P.change>=0,negative:P.change<0}])},[P.change>=0?(g(),C("svg",Cp,[...k[3]||(k[3]=[n("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"},null,-1),n("polyline",{points:"17 6 23 6 23 12"},null,-1)])])):(g(),C("svg",_p,[...k[4]||(k[4]=[n("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"},null,-1),n("polyline",{points:"17 18 23 18 23 12"},null,-1)])])),Lt(" "+Y(Math.abs(P.change||0).toFixed(1))+"% ",1)],2)]),n("div",kp,Y(z(P.value)),1),n("div",$p,Y(P.shortLabel||P.label),1)],46,Ap))),128))]),n("div",Sp,[n("div",xp,[(g(!0),C(ge,null,_e(p.value,P=>(g(),C("div",{key:P.value,class:"y-tick",style:fe({bottom:`${P.position}%`})},[n("span",Ep,Y(z(P.value)),1)],4))),128))]),n("div",Ip,[(g(!0),C(ge,null,_e(p.value,P=>(g(),C("div",{key:"grid-"+P.value,class:"grid-line",style:fe({bottom:`${P.position}%`})},null,4))),128))]),n("div",{class:pe(["bars-container",`bars-count-${A.value.length}`]),ref_key:"barsContainerRef",ref:a},[(g(!0),C(ge,null,_e(A.value,P=>(g(),C("div",{key:P.key,class:"bar-column"},[n("div",Pp,[n("div",{class:pe(["bar-vertical",P.colorClass]),style:fe({height:$(P.value)+"px"}),onMouseenter:V=>{l.value=P,y(V)},onMousemove:y,onMouseleave:k[1]||(k[1]=V=>l.value=null)},[$(P.value)>30?(g(),C("span",Fp,Y(v(P.value))+"% ",1)):le("",!0)],46,Mp)])]))),128)),A.value.length===0?(g(),C("div",Dp,[...k[5]||(k[5]=[n("p",null,"Selecciona al menos una variable para visualizar",-1)])])):le("",!0)],2)])]),(g(),Re(jt,{to:"body"},[l.value?(g(),C("div",{key:0,class:"tooltip-container",style:fe({left:`${r.value.x}px`,top:`${r.value.y}px`})},[n("div",Tp,[n("div",Bp,[n("span",{class:pe(["tooltip-color-indicator",l.value.colorClass])},null,2),n("span",Rp,Y(l.value.label)+":",1),n("span",Vp,Y(z(l.value.value)),1)])])],4)):le("",!0)]))],64))}},ji=Ie(Lp,[["__scopeId","data-v-cd65f9ca"]]),Np={class:"donut-item-vertical"},Op={class:"distribution-bar-section"},zp={class:"distribution-header"},jp={class:"distribution-bar"},Hp=["onMouseenter","onClick"],Yp={class:"donut-main-area"},Gp={class:"donut-svg-container"},qp={class:"donut-svg",viewBox:"0 0 200 200"},Up=["d","stroke","onMouseenter","onClick"],Wp=["x","y","transform"],Xp={class:"donut-center"},Kp={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},Qp={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},Jp={class:"badge-text"},Zp={class:"data-list-section"},e0=["onClick","onMouseenter"],t0={class:"data-item-left"},s0={class:"data-item-label"},a0={class:"data-item-right"},n0={class:"data-item-value"},o0={__name:"DonutChart",props:{data:{type:Array,default:()=>[]},title:{type:String,default:""},subtitle:{type:String,default:""},size:{type:Number,default:220},variables:{type:Array,default:()=>[]},sectors:{type:Array,default:()=>[]}},setup(e){const t=e,s=L([]),a=L(null),o=K(()=>t.title==="IS"||t.title==="PS"?"green":"red"),l=K(()=>t.title==="IS"?`Ingresos
Sostenibles`:t.title==="IIC"?`Ingresos
Int. Carbono`:t.title==="PS"?`Presupuestos
Sostenibles`:t.title==="PIC"?`Presupuestos
Int. Carbono`:t.title),i=K(()=>t.sectors.map(m=>{let p=m.label;return m.label==="Movilidad Sustentable"&&(p="Movilidad"),m.label==="Proteccin Ambiental"&&(p="Proteccin"),m.label==="Desastres Naturales"&&(p="Desastres"),{...m,shortLabel:p}}));be(()=>t.sectors,m=>{m&&m.length>0&&(s.value=m.map(()=>!0))},{immediate:!0});const r=K(()=>t.sectors.reduce((m,p)=>m+(p.value||0),0));function d(m){if(!t.sectors[m]||r.value===0)return 0;const p=t.sectors[m].value/r.value*100;return Math.round(p*10)/10}K(()=>{var p;if(a.value!==null&&i.value[a.value])return i.value[a.value].label;const m=s.value.map((y,w)=>y?w:-1).filter(y=>y!==-1);return m.length===t.sectors.length||m.length===0?t.title==="IS"?"Ingresos Sostenibles":t.title==="IIC"?"Ingresos Int. Carbono":t.title==="PS"?"Presupuestos Sostenibles":t.title==="PIC"?"Presupuestos Int. Carbono":t.title:m.length===1?((p=i.value[m[0]])==null?void 0:p.label)||"":m.map(y=>{var w,I;return((w=i.value[y])==null?void 0:w.shortLabel)||((I=i.value[y])==null?void 0:I.label)}).join(" + ")});const f=K(()=>{if(a.value!==null&&i.value[a.value])return A(i.value[a.value].value);const m=s.value.reduce((p,y,w)=>y&&t.sectors[w]?p+t.sectors[w].value:p,0);return A(m)});K(()=>{const m=s.value.filter(Boolean).length;return m>0&&m<t.sectors.length});const c=K(()=>{if(!t.sectors||t.sectors.length===0)return[];const m=100,p=100,y=72,w=r.value;let I=-90;return t.sectors.map(($,z)=>{const S=w>0?$.value/w*100:0,x=S/100*360,b=I,k=I+x,P=b*Math.PI/180,V=k*Math.PI/180,M=m+y*Math.cos(P),T=p+y*Math.sin(P),j=m+y*Math.cos(V),F=p+y*Math.sin(V),U=x>180?1:0,J=b+x/2,Z=J*Math.PI/180,ne=m+y*Math.cos(Z),he=p+y*Math.sin(Z),we=J+90;return I=k,{...$,path:x>0?`M ${M} ${T} A ${y} ${y} 0 ${U} 1 ${j} ${F}`:"",percentX:ne,percentY:he,textRotation:we,displayPercent:Math.round(S*10)/10}})});function u(m){s.value[m]=!s.value[m],s.value.some(Boolean)||(s.value=s.value.map(()=>!0))}function v(m){s.value[m]&&(a.value=m)}function h(){a.value=null}function A(m){if(!m||m===0)return"$0";const p=m/1e6;if(p>=1e3)return"$"+(p/1e3).toFixed(1)+"B";if(p>=1)return"$"+Math.round(p)+"M";if(p>=.1)return"$"+p.toFixed(1)+"M";{const y=m/1e3;return"$"+Math.round(y)+"K"}}return(m,p)=>(g(),C("div",Np,[n("div",Op,[n("div",zp,[p[0]||(p[0]=n("span",{class:"distribution-label"},"Distribucin",-1)),n("span",{class:pe(["distribution-value",o.value])},Y(f.value),3)]),n("div",jp,[(g(!0),C(ge,null,_e(c.value,(y,w)=>(g(),C("div",{key:"bar-"+w,class:pe(["distribution-segment",{dimmed:!s.value[w],highlighted:a.value===w}]),style:fe({width:y.displayPercent+"%",background:y.color}),onMouseenter:I=>v(w),onMouseleave:h,onClick:I=>u(w)},null,46,Hp))),128))])]),n("div",Yp,[n("div",Gp,[(g(),C("svg",qp,[p[1]||(p[1]=n("circle",{cx:"100",cy:"100",r:"72",fill:"none",stroke:"#e2e8f0","stroke-width":"25"},null,-1)),(g(!0),C(ge,null,_e(c.value,(y,w)=>(g(),C("path",{key:w,class:pe(["donut-ring",{dimmed:!s.value[w]||a.value!==null&&a.value!==w,highlighted:a.value===w}]),d:y.path,fill:"none",stroke:y.color,"stroke-width":"25",onMouseenter:I=>v(w),onMouseleave:h,onClick:I=>u(w)},null,42,Up))),128)),(g(!0),C(ge,null,_e(c.value,(y,w)=>Rs((g(),C("text",{key:"pct-"+w,class:pe(["sector-percent",{dimmed:!s.value[w]||a.value!==null&&a.value!==w}]),x:y.percentX,y:y.percentY,"text-anchor":"middle","dominant-baseline":"middle",transform:`rotate(${y.textRotation}, ${y.percentX}, ${y.percentY})`},Y(y.displayPercent)+"% ",11,Wp)),[[of,y.displayPercent>=5]])),128))])),n("div",Xp,[n("div",{class:pe(["center-value",o.value])},Y(f.value),3)])]),n("div",{class:pe(["badge-indicator",o.value])},[n("div",{class:pe(["badge-icon-circle",o.value])},[o.value==="green"?(g(),C("svg",Kp,[...p[2]||(p[2]=[n("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},null,-1)])])):(g(),C("svg",Qp,[...p[3]||(p[3]=[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"},null,-1),n("path",{d:"M2 17l10 5 10-5"},null,-1),n("path",{d:"M2 12l10 5 10-5"},null,-1)])]))],2),n("span",Jp,Y(l.value),1)],2)]),n("div",Zp,[(g(!0),C(ge,null,_e(i.value,(y,w)=>(g(),C("div",{key:w,class:pe(["data-list-item",{active:s.value[w],dimmed:!s.value[w],highlighted:a.value===w}]),onClick:I=>u(w),onMouseenter:I=>v(w),onMouseleave:h},[n("div",t0,[n("span",{class:"data-color-dot",style:fe({background:y.color,boxShadow:"0 2px 6px "+y.color+"40"})},null,4),n("span",s0,Y(y.shortLabel||y.label),1)]),n("div",a0,[n("span",n0,Y(A(y.value)),1),n("span",{class:"data-item-percent",style:fe({background:y.color})},Y(d(w))+"% ",5)])],42,e0))),128))])]))}},Ha=Ie(o0,[["__scopeId","data-v-28ea6aa3"]]),l0={key:0,class:"chart-card"},i0={class:"chart-card-header"},r0={class:"card-title"},c0={class:"chart-card-body"},u0={key:0,class:"loading-container"},d0={key:1,class:"error-container"},f0={key:2,class:"chart-col-bar"},v0={key:0,class:"donut-item"},h0={key:1,class:"no-data-message"},p0={key:1,class:"donut-item"},g0={key:1,class:"no-data-message"},m0={key:1,class:"chart-card"},b0={class:"chart-card-header"},y0={class:"card-title"},A0={class:"chart-card-body"},w0={key:0,class:"loading-container"},C0={key:1,class:"error-container"},_0={key:2,class:"chart-col-bar"},k0={key:0,class:"donut-item"},$0={key:1,class:"no-data-message"},S0={key:1,class:"donut-item"},x0={key:1,class:"no-data-message"},E0={__name:"ChartsComponent",props:{selectedState:{type:String,default:null},selectedYear:{type:String,default:null},selectedVariable:{type:Object,default:null},ifssData:{type:Object,default:()=>({})}},setup(e){const t=e,s=K(()=>!!t.selectedVariable),a=K(()=>t.selectedVariable&&(t.selectedVariable.key==="PS"||t.selectedVariable.key==="PIC")),o=K(()=>t.selectedVariable&&(t.selectedVariable.key==="IS"||t.selectedVariable.key==="IIC")),{fetchData:l,loading:i,error:r}=Et(),d=L(!1),f=L([]),c=L([]),u=Te("chartsPresupuestos"),v=Te("chartsIngresos"),h=async()=>{try{const G=Ne("chartsPresupuestos"),N=Ne("chartsIngresos");f.value=await l("chartsPresupuestos",G),c.value=await l("chartsIngresos",N),d.value=!0}catch(G){console.error("Error cargando datos:",G)}};Oe(()=>h()),be(()=>t.selectedYear,async(G,N)=>{G!==N&&(d.value=!1,await h())});const A=K(()=>!d.value||!t.selectedState||!f.value.length?[]:f.value.filter(G=>G[u.stateColumn]===t.selectedState)),m=K(()=>!d.value||!t.selectedState||!c.value.length?[]:c.value.filter(G=>G[v.stateColumn]===t.selectedState)),p=(G,N)=>{if(!G)return{variables:[]};const W=N.variableColumns.map(X=>{let D=G[X.column];return typeof D=="string"&&(D=D.replace(/^["']+|["']+$/g,"").trim(),D===""||D==='""'?D="0":D=D.replace(/\./g,"")),{key:X.key,label:X.label,value:parseFloat(D)||0,color:X.color,colorClass:X.colorClass,order:X.order||0}});return W.sort((X,D)=>X.order-D.order),{variables:W}},y=K(()=>{if(!A.value.length)return{variables:[]};const G=p(A.value[0],u);return t.selectedVariable&&G.variables.length>=3&&(t.selectedVariable.key==="PS"?G.variables=[G.variables[0],G.variables[1]].filter(N=>N):t.selectedVariable.key==="PIC"&&(G.variables=[G.variables[0],G.variables[2]].filter(N=>N))),G}),w=K(()=>{if(!m.value.length)return{variables:[]};const G=p(m.value[0],v);return t.selectedVariable&&G.variables.length>=3&&(t.selectedVariable.key==="IS"?G.variables=[G.variables[0],G.variables[1]].filter(N=>N):t.selectedVariable.key==="IIC"&&(G.variables=[G.variables[0],G.variables[2]].filter(N=>N))),G}),I=(G,N,W)=>{if(!G||!N||!W)return{mainPercentage:0,sectors:[]};let X=0;const D=N.map(te=>{let O=G[te.column];O==null?O="0":typeof O=="string"&&(O=O.replace(/^["']+|["']+$/g,"").trim(),O===""?O="0":O=O.replace(/\./g,""));const E=parseFloat(O)||0;return X+=E,{key:te.key,label:te.label,value:E,color:te.color,colorClass:te.colorClass}});return{mainPercentage:W>0?Math.round(X/W*100):0,sectors:D}},$=(G,N)=>{const W=G[N]||"0";return typeof W=="string"?parseFloat(W.replace(/^["']+|["']+$/g,"").trim().replace(/\./g,""))||0:parseFloat(W)||0},z=K(()=>{if(!A.value.length)return[{label:"PS",value:35,color:"#7cb342"},{label:"Resto",value:65,color:"#E8E8E8"}];const G=A.value[0],N=$(G,"PT ($)"),W=I(G,u.donutSectorsPS||[],N);return[{label:"PS",value:W.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-W.mainPercentage,color:"#E8E8E8"}]}),S=K(()=>{if(!A.value.length)return[];const G=A.value[0];return I(G,u.donutSectorsPS||[],$(G,"PT ($)")).sectors}),x=K(()=>`${z.value[0].value}%`),b=K(()=>{if(!A.value.length)return[{label:"PIC",value:40,color:"#DC143C"},{label:"Resto",value:60,color:"#E8E8E8"}];const G=A.value[0],N=$(G,"PT ($)"),W=I(G,u.donutSectorsPIC||[],N);return[{label:"PIC",value:W.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-W.mainPercentage,color:"#E8E8E8"}]}),k=K(()=>{if(!A.value.length)return[];const G=A.value[0];return I(G,u.donutSectorsPIC||[],$(G,"PT ($)")).sectors}),P=K(()=>`${b.value[0].value}%`),V=K(()=>{if(!m.value.length)return[{label:"IS",value:45,color:"#7cb342"},{label:"Resto",value:55,color:"#E8E8E8"}];const G=m.value[0],N=$(G,"IT ($)"),W=I(G,v.donutSectorsIS||[],N);return[{label:"IS",value:W.mainPercentage,color:"#7cb342"},{label:"Resto",value:100-W.mainPercentage,color:"#E8E8E8"}]}),M=K(()=>{if(!m.value.length)return[];const G=m.value[0];return I(G,v.donutSectorsIS||[],$(G,"IT ($)")).sectors}),T=K(()=>`${V.value[0].value}%`),j=K(()=>{if(!m.value.length)return[{label:"IIC",value:38,color:"#DC143C"},{label:"Resto",value:62,color:"#E8E8E8"}];const G=m.value[0],N=$(G,"IT ($)"),W=I(G,v.donutSectorsIIC||[],N);return[{label:"IIC",value:W.mainPercentage,color:"#DC143C"},{label:"Resto",value:100-W.mainPercentage,color:"#E8E8E8"}]}),F=K(()=>{if(!m.value.length)return[];const G=m.value[0];return I(G,v.donutSectorsIIC||[],$(G,"IT ($)")).sectors}),U=K(()=>`${j.value[0].value}%`),J=K(()=>{var N,W;const G=t.selectedYear?` en ${t.selectedYear}`:"";return((N=t.selectedVariable)==null?void 0:N.key)==="PS"?`Presupuestos Sostenibles (PS) con respecto al Presupuesto Total (PT)${G}`:((W=t.selectedVariable)==null?void 0:W.key)==="PIC"?`Presupuestos Intensivos en Carbono (PIC) con respecto al Presupuesto Total (PT)${G}`:`Presupuestos Intensivos en Carbono (PIC) y Presupuestos Sostenibles (PS) con respecto del gasto total${G}`}),Z=K(()=>{var N,W;const G=t.selectedYear?` en ${t.selectedYear}`:"";return((N=t.selectedVariable)==null?void 0:N.key)==="IS"?`Ingresos Sostenibles (IS) con respecto al Ingreso Total (IT)${G}`:((W=t.selectedVariable)==null?void 0:W.key)==="IIC"?`Ingresos Intensivos en Carbono (IIC) con respecto al Ingreso Total (IT)${G}`:`Proporcin del gasto asignado a Ingresos${G}`}),ne=K(()=>t.selectedState?`Presupuestos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),he=K(()=>t.selectedState?`Ingresos - ${t.selectedState}${t.selectedYear?` - ${t.selectedYear}`:""}`:"Selecciona un estado"),we=[{key:"ps_desastres",label:"Desastres Naturales",colorClass:"dark-green",active:!0},{key:"ps_proteccion",label:"Proteccin Ambiental",colorClass:"green",active:!0}],se=[{key:"pic_combustible",label:"Combustible",colorClass:"dark-red",active:!0},{key:"pic_mineria",label:"Minera",colorClass:"red",active:!0},{key:"pic_transporte",label:"Transporte",colorClass:"light-red",active:!0}],ae=[{key:"is_ambiental",label:"Ambiental",colorClass:"dark-green",active:!0},{key:"is_ecologico",label:"Ecolgico",colorClass:"green",active:!0},{key:"is_movilidad",label:"Movilidad Sustentable",colorClass:"light-green",active:!0}],R=[{key:"iic_hidrocarburos",label:"Hidrocarburos",colorClass:"dark-red",active:!0},{key:"iic_mineria",label:"Minera",colorClass:"red",active:!0},{key:"iic_transporte",label:"Transporte",colorClass:"light-red",active:!0}];return(G,N)=>(g(),C("div",{class:pe(["charts-wrapper",{"single-card":s.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"||e.selectedVariable.key==="IIC"?(g(),C("div",l0,[n("div",i0,[n("h4",r0,Y(he.value),1)]),n("div",c0,[q(i)?(g(),C("div",u0,[...N[0]||(N[0]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):q(r)?(g(),C("div",d0,[n("p",null,"Error: "+Y(q(r)),1)])):(g(),C("div",f0,[ye(ji,{data:w.value,title:Z.value,headerTitle:"Anlisis de Ingresos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!q(i)&&!q(r)?(g(),C("div",{key:3,class:pe(["chart-col-donuts",{"single-donut":o.value}])},[!e.selectedVariable||e.selectedVariable.key==="IS"?(g(),C("div",v0,[N[1]||(N[1]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon green" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Ingresos Sostenibles</span></div>',1)),M.value.length>0?(g(),Re(Ha,{key:`is-${t.selectedState}-${M.value.length}`,data:V.value,title:"IS",subtitle:T.value,size:220,variables:ae,sectors:M.value},null,8,["data","subtitle","sectors"])):(g(),C("div",h0,"Sin datos disponibles"))])):le("",!0),!e.selectedVariable||e.selectedVariable.key==="IIC"?(g(),C("div",p0,[N[2]||(N[2]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon red" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-b638137e></path><path d="M2 17l10 5 10-5" data-v-b638137e></path><path d="M2 12l10 5 10-5" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Ingresos Int. en Carbono</span></div>',1)),F.value.length>0?(g(),Re(Ha,{key:`iic-${t.selectedState}-${F.value.length}`,data:j.value,title:"IIC",subtitle:U.value,size:220,variables:R,sectors:F.value},null,8,["data","subtitle","sectors"])):(g(),C("div",g0,"Sin datos disponibles"))])):le("",!0)],2)):le("",!0)])])):le("",!0),!e.selectedVariable||e.selectedVariable.key==="PS"||e.selectedVariable.key==="PIC"?(g(),C("div",m0,[n("div",b0,[n("h4",y0,Y(ne.value),1)]),n("div",A0,[q(i)?(g(),C("div",w0,[...N[3]||(N[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos...",-1)])])):q(r)?(g(),C("div",C0,[n("p",null,"Error: "+Y(q(r)),1)])):(g(),C("div",_0,[ye(ji,{data:y.value,title:J.value,headerTitle:"Anlisis de Presupuestos",selectedState:e.selectedState,selectedYear:e.selectedYear},null,8,["data","title","selectedState","selectedYear"])])),!q(i)&&!q(r)?(g(),C("div",{key:3,class:pe(["chart-col-donuts",{"single-donut":a.value}])},[!e.selectedVariable||e.selectedVariable.key==="PS"?(g(),C("div",k0,[N[4]||(N[4]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon green" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Presupuestos Sostenibles</span></div>',1)),S.value.length>0?(g(),Re(Ha,{key:`ps-${t.selectedState}-${S.value.length}`,data:z.value,title:"PS",subtitle:x.value,size:220,variables:we,sectors:S.value},null,8,["data","subtitle","sectors"])):(g(),C("div",$0,"Sin datos disponibles"))])):le("",!0),!e.selectedVariable||e.selectedVariable.key==="PIC"?(g(),C("div",S0,[N[5]||(N[5]=Se('<div class="donut-header-dark" data-v-b638137e><div class="donut-header-icon red" data-v-b638137e><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b638137e><path d="M12 2L2 7l10 5 10-5-10-5z" data-v-b638137e></path><path d="M2 17l10 5 10-5" data-v-b638137e></path><path d="M2 12l10 5 10-5" data-v-b638137e></path></svg></div><span class="donut-header-title" data-v-b638137e>Sectores de Presupuestos Int. en Carbono</span></div>',1)),k.value.length>0?(g(),Re(Ha,{key:`pic-${t.selectedState}-${k.value.length}`,data:b.value,title:"PIC",subtitle:P.value,size:220,variables:se,sectors:k.value},null,8,["data","subtitle","sectors"])):(g(),C("div",x0,"Sin datos disponibles"))])):le("",!0)],2)):le("",!0)])])):le("",!0)],2))}},Jc=Ie(E0,[["__scopeId","data-v-b638137e"]]),Us=L(null),Ws=L([]),ao=L(!1),no=L(null);function I0(){const e=async()=>{try{console.log(" Obteniendo aos disponibles desde Google Sheets..."),ao.value=!0,no.value=null;const o="AIzaSyCLTfnoTcJZ9kth9hYvTDtGcWWET-b8Ag0",l="1kRVcFtBQh1r5GS6jw_p0-tZxhpkzKoowhKnYHcgYY8A",i=`https://sheets.googleapis.com/v4/spreadsheets/${l}?key=${o}`,r=await fetch(i);if(!r.ok)throw new Error(`Error al obtener metadatos: ${r.status}`);const f=(await r.json()).sheets.map(c=>c.properties.title).filter(c=>/^\d{4}$/.test(c)).sort((c,u)=>u.localeCompare(c));return Ws.value=f,console.log(" Aos disponibles:",f),f}catch(o){return console.error(" Error obteniendo aos:",o),no.value=o.message,Ws.value=["2024","2023","2022","2021","2020"],Ws.value}finally{ao.value=!1}},t=o=>{console.log(" Estableciendo ao seleccionado:",o),Us.value=o},s=K(()=>Us.value!==null?Us.value:Ws.value[0]||"2024");return{selectedYear:Us,availableYears:Ws,loadingYears:ao,yearsError:no,activeYear:s,fetchAvailableYears:e,setSelectedYear:t,resetYear:()=>{Us.value=null}}}const P0={class:"filter-content"},M0={class:"filter-group"},F0={class:"filter-dropdown"},D0={class:"dropdown-text"},T0={key:0,class:"dropdown-menu"},B0={class:"dropdown-search"},R0={class:"dropdown-options"},V0=["onClick"],L0={class:"filter-group"},N0={class:"filter-dropdown"},O0=["disabled"],z0={class:"dropdown-text"},j0={key:0,class:"dropdown-menu"},H0={class:"dropdown-search"},Y0={class:"dropdown-options"},G0=["onClick"],q0={key:1,class:"dropdown-no-results"},U0={class:"filter-group"},W0={class:"filter-dropdown"},X0={class:"dropdown-text"},K0={key:0,class:"dropdown-menu variable-menu"},Q0={class:"dropdown-search"},J0={class:"dropdown-options"},Z0=["onClick"],eg={key:1,class:"dropdown-no-results"},tg={__name:"RetractableFilterBar",props:{entities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},selectedState:{type:String,default:null},isLocked:{type:Boolean,default:!1},availableYears:{type:Array,default:()=>[]},initialEntity:{type:[String,null],default:""},initialYear:{type:[String,Number,null],default:null},initialVariable:{type:[Object,String,null],default:null}},emits:["entity-change","year-change","variable-change","filters-change"],setup(e,{emit:t}){const s=e,a=t,{selectedYear:o,availableYears:l,loadingYears:i,fetchAvailableYears:r,setSelectedYear:d,activeYear:f}=I0(),c=K(()=>s.availableYears&&s.availableYears.length>0?(console.log(" Usando aos de props.availableYears:",s.availableYears),s.availableYears):(console.log(" Usando aos de composable:",l.value),l.value)),u=L(!1),v=L(null),h=L(null),A=L(null),m=L(!1),p=L(""),y=L(""),w=L(""),I=L(""),$=L(null),z={PS:{key:"PS",label:"Presupuestos Sostenibles (PS)",description:"Presupuestos Sostenibles",category:"presupuestos",barVariables:["PS","PT"],donutType:"PS"},IIC:{key:"IIC",label:"Ingresos Intensivos en Carbono (IIC)",description:"Ingresos Intensivos en Carbono",category:"ingresos",barVariables:["IIC","IT"],donutType:"IIC"},PIC:{key:"PIC",label:"Presupuestos Intensivos en Carbono (PIC)",description:"Presupuestos Intensivos en Carbono",category:"presupuestos",barVariables:["PIC","PT"],donutType:"PIC"},IS:{key:"IS",label:"Ingresos Sostenibles (IS)",description:"Ingresos Sostenibles",category:"ingresos",barVariables:["IS","IT"],donutType:"IS"}},S=K(()=>Object.values(z)),x=K(()=>{if(!p.value)return s.entities;const se=p.value.toLowerCase();return s.entities.filter(ae=>ae.name.toLowerCase().includes(se))}),b=K(()=>{if(!y.value)return c.value;const se=y.value.toLowerCase();return c.value.filter(ae=>String(ae).toLowerCase().includes(se))}),k=K(()=>{if(!w.value)return S.value;const se=w.value.toLowerCase();return S.value.filter(ae=>ae.label.toLowerCase().includes(se)||ae.key.toLowerCase().includes(se)||ae.description.toLowerCase().includes(se))}),P=()=>I.value===""?"-":!I.value||I.value===null?"Todas las entidades (IFS Regional)":I.value,V=()=>o.value===null?"Todos los aos":o.value,M=()=>!$.value||$.value===null?"Todas las variables":$.value.key,T=()=>{h.value&&(clearTimeout(h.value),h.value=null),u.value=!0},j=()=>{if(s.isLocked){console.log(" Barra bloqueada, no se contrae al salir del mouse");return}!v.value&&!I.value&&(h.value=setTimeout(()=>{u.value=!1},300))},F=se=>{console.log(" Toggle dropdown:",se),u.value=!0,h.value&&(clearTimeout(h.value),h.value=null),v.value!==se&&(p.value="",y.value="",w.value=""),v.value=v.value===se?null:se,console.log(" Dropdown activo:",v.value)},U=()=>{if(console.log(" Cerrando todos los dropdowns"),v.value=null,p.value="",y.value="",w.value="",s.isLocked){console.log(" Barra bloqueada, permanece expandida");return}h.value=setTimeout(()=>{u.value=!1},300)},J=se=>{A.value&&(A.value.contains(se.target)||v.value&&(console.log(" Click fuera detectado, cerrando dropdown"),U()))},Z=se=>{console.log("=== FILTRO: Entidad seleccionada ===",se),I.value=se,a("entity-change",se),we(),p.value="",U()},ne=se=>{if(console.log("=== FILTRO: Ao seleccionado ===",se),d(se),se!==null)Be(se),console.log(" Ao activo establecido:",se);else{const ae=c.value[0]||"2024";Be(ae),console.log(" Ao activo establecido (fallback):",ae)}a("year-change",se),we(),y.value="",U()},he=se=>{console.log("=== FILTRO: Variable seleccionada ===",se),$.value=se,a("variable-change",se),we(),w.value="",U()},we=()=>{const se={entity:I.value,year:o.value,variable:$.value};console.log("=== FILTRO: Emitiendo filters-change ===",se),a("filters-change",se)};return be(()=>s.initialEntity,se=>{console.log(" [FilterBar] initialEntity cambi a:",se),se!==I.value&&(I.value=se,console.log(" [FilterBar] selectedEntity sincronizado:",I.value))},{immediate:!0}),be(()=>s.initialYear,se=>{console.log(" [FilterBar] initialYear cambi a:",se),se!==o.value&&(d(se),console.log(" [FilterBar] selectedYear sincronizado:",o.value))},{immediate:!0}),be(()=>s.initialVariable,se=>{console.log(" [FilterBar] initialVariable cambi a:",se),se!==$.value&&($.value=se,console.log(" [FilterBar] selectedVariable sincronizado:",$.value))},{immediate:!0}),be(()=>s.isLocked,(se,ae)=>{console.log(" isLocked cambi de",ae,"a",se),se?(u.value=!0,m.value=!1,h.value&&(clearTimeout(h.value),h.value=null)):ae===!0&&se===!1&&(console.log(" Iniciando animacin de bajada..."),m.value=!0,setTimeout(()=>{m.value=!1,!I.value&&!v.value&&(u.value=!1),console.log(" Animacin de bajada completada")},600))}),be(()=>s.selectedState,se=>{console.log(" Sincronizando filtro con mapa. Estado:",se),(se!=null||se===null&&I.value!=="")&&(I.value=se)}),be(c,se=>{console.log(" [RetractableFilterBar] Computed years cambi a:",se)},{immediate:!0}),be(()=>s.availableYears,(se,ae)=>{console.log(" [RetractableFilterBar] props.availableYears cambi"),console.log("  - Anterior:",ae),console.log("  - Nuevo:",se)},{deep:!0}),Oe(async()=>{if(console.log(" RetractableFilterBar montado"),console.log(" Entidades recibidas:",s.entities.length),console.log(" Aos en props:",s.availableYears),console.log(" initialEntity:",s.initialEntity),console.log(" initialYear:",s.initialYear),console.log(" initialVariable:",s.initialVariable),s.initialEntity!==void 0&&(I.value=s.initialEntity),s.initialVariable!==void 0&&($.value=s.initialVariable),console.log(" Cargando aos desde composable..."),await r(),console.log(" Aos del composable cargados:",l.value),s.initialYear!==null&&s.initialYear!==void 0)d(s.initialYear),s.initialYear!==""&&Be(s.initialYear),console.log(" Usando ao de props:",s.initialYear);else if(c.value.length>0){const se=c.value[0];d(se),Be(se),console.log(" Ao por defecto establecido:",se),a("year-change",se)}else Be(f.value),console.log(" Ao activo inicial (fallback):",f.value);we(),document.addEventListener("click",J)}),Jo(()=>{console.log(" RetractableFilterBar desmontndose"),document.removeEventListener("click",J),h.value&&clearTimeout(h.value)}),(se,ae)=>(g(),C("div",{class:"filter-bar-container",style:fe({overflow:v.value!==null?"visible":"hidden"})},[n("div",{ref_key:"filterBarRef",ref:A,class:pe(["filter-bar",{expanded:u.value||v.value,"has-entity-selected":I.value,"locked-expanded":s.isLocked,"animating-down":m.value}]),onMouseenter:T,onMouseleave:j},[n("div",P0,[n("div",M0,[ae[16]||(ae[16]=n("label",{class:"filter-label"},"Entidad",-1)),n("div",F0,[n("button",{onClick:ae[0]||(ae[0]=R=>F("entidad")),class:pe(["dropdown-button",{active:v.value==="entidad","has-selection":I.value}])},[n("span",D0,Y(P()),1),ae[13]||(ae[13]=n("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="entidad"?(g(),C("div",T0,[n("div",B0,[Rs(n("input",{"onUpdate:modelValue":ae[1]||(ae[1]=R=>p.value=R),placeholder:"Buscar entidad...",class:"search-input",onClick:ae[2]||(ae[2]=_t(()=>{},["stop"]))},null,512),[[da,p.value]])]),n("div",R0,[p.value?le("",!0):(g(),C("div",{key:0,onClick:ae[3]||(ae[3]=R=>Z(null)),class:pe(["dropdown-option",{selected:I.value===null}])},[...ae[14]||(ae[14]=[n("span",null,"Todas las entidades (IFS Regional)",-1)])],2)),(g(!0),C(ge,null,_e(x.value,R=>(g(),C("div",{key:R.name,onClick:G=>Z(R.name),class:pe(["dropdown-option",{selected:I.value===R.name&&I.value!==""&&I.value!==null}])},[n("span",null,Y(R.name),1)],10,V0))),128)),p.value?le("",!0):(g(),C("div",{key:1,onClick:ae[4]||(ae[4]=R=>Z("")),class:pe(["dropdown-option blank-option-row",{selected:I.value===""}])},[...ae[15]||(ae[15]=[n("span",{class:"blank-option"},"-",-1)])],2))])])):le("",!0)])]),n("div",L0,[ae[19]||(ae[19]=n("label",{class:"filter-label"},"Ao",-1)),n("div",N0,[n("button",{onClick:ae[5]||(ae[5]=R=>F("ao")),class:pe(["dropdown-button",{active:v.value==="ao","has-selection":q(o)!==null}]),disabled:q(i)},[n("span",z0,Y(q(i)?"Cargando...":V()),1),ae[17]||(ae[17]=n("span",{class:"dropdown-arrow"},"",-1))],10,O0),v.value==="ao"?(g(),C("div",j0,[n("div",H0,[Rs(n("input",{"onUpdate:modelValue":ae[6]||(ae[6]=R=>y.value=R),placeholder:"Buscar ao...",class:"search-input",onClick:ae[7]||(ae[7]=_t(()=>{},["stop"]))},null,512),[[da,y.value]])]),n("div",Y0,[y.value?le("",!0):(g(),C("div",{key:0,onClick:ae[8]||(ae[8]=R=>ne(null)),class:pe(["dropdown-option",{selected:q(o)===null}])},[...ae[18]||(ae[18]=[n("span",null,"Todos los aos",-1)])],2)),(g(!0),C(ge,null,_e(b.value,R=>(g(),C("div",{key:R,onClick:G=>ne(R),class:pe(["dropdown-option",{selected:q(o)===R}])},[n("span",null,Y(R),1)],10,G0))),128)),b.value.length===0&&y.value?(g(),C("div",q0," No se encontraron aos ")):le("",!0)])])):le("",!0)])]),n("div",U0,[ae[22]||(ae[22]=n("label",{class:"filter-label"},"Variable",-1)),n("div",W0,[n("button",{onClick:ae[9]||(ae[9]=R=>F("variable")),class:pe(["dropdown-button",{active:v.value==="variable","has-selection":$.value!==null}])},[n("span",X0,Y(M()),1),ae[20]||(ae[20]=n("span",{class:"dropdown-arrow"},"",-1))],2),v.value==="variable"?(g(),C("div",K0,[n("div",Q0,[Rs(n("input",{"onUpdate:modelValue":ae[10]||(ae[10]=R=>w.value=R),placeholder:"Buscar variable...",class:"search-input",onClick:ae[11]||(ae[11]=_t(()=>{},["stop"]))},null,512),[[da,w.value]])]),n("div",J0,[w.value?le("",!0):(g(),C("div",{key:0,onClick:ae[12]||(ae[12]=R=>he(null)),class:pe(["dropdown-option",{selected:$.value===null}])},[...ae[21]||(ae[21]=[n("span",null,"Todas las variables",-1)])],2)),(g(!0),C(ge,null,_e(k.value,R=>{var G;return g(),C("div",{key:R.key,onClick:N=>he(R),class:pe(["dropdown-option",{selected:((G=$.value)==null?void 0:G.key)===R.key}])},[n("span",null,Y(R.label),1)],10,Z0)}),128)),k.value.length===0&&w.value?(g(),C("div",eg," No se encontraron variables ")):le("",!0)])])):le("",!0)])])])],34)],4))}},Vn=Ie(tg,[["__scopeId","data-v-5eef52e3"]]),sg=()=>{const e=L("subnacional"),t=L("mxn"),s=f=>{f==="federal"||f==="subnacional"?(e.value=f,console.log("Tipo de datos cambiado a:",f)):console.error("Tipo de datos invlido:",f)},a=f=>{f==="usd"||f==="mxn"?(t.value=f,console.log("Moneda cambiada a:",f.toUpperCase())):console.error("Moneda invlida:",f)},o=()=>17.5,l=(f,c="mxn")=>{if(t.value===c)return f;const u=o();return c==="mxn"&&t.value==="usd"?f/u:c==="usd"&&t.value==="mxn"?f*u:f},i=f=>{const c=l(f);t.value;const u=t.value==="usd"?"en-US":"es-MX";return new Intl.NumberFormat(u,{style:"currency",currency:t.value.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(c)};return be(e,f=>{console.log("Datos actualizados a:",f)}),be(t,f=>{console.log("Moneda actualizada a:",f.toUpperCase())}),{dataType:e,currency:t,setDataType:s,setCurrency:a,getExchangeRate:o,convertCurrency:l,formatCurrency:i,getCurrentConfig:()=>({dataType:e.value,currency:t.value,currencySymbol:(t.value==="usd","$"),currencyCode:t.value.toUpperCase()}),resetToDefaults:()=>{e.value="subnacional",t.value="mxn"}}},ag={class:"data-toggle-container"},ng={class:"toggle-group"},og={class:"toggle-group currency-group"},lg={__name:"DataToggleComponent",setup(e){const{dataType:t,currency:s,setDataType:a,setCurrency:o}=sg();return(l,i)=>(g(),C("div",ag,[n("div",ng,[n("button",{class:pe(["toggle-btn",{active:q(t)==="federal"}]),onClick:i[0]||(i[0]=r=>q(a)("federal"))}," Datos federales ",2),n("button",{class:pe(["toggle-btn",{active:q(t)==="subnacional"}]),onClick:i[1]||(i[1]=r=>q(a)("subnacional"))}," Datos subnacionales ",2)]),n("div",og,[n("button",{class:pe(["toggle-btn currency-btn",{active:q(s)==="usd"}]),onClick:i[2]||(i[2]=r=>q(o)("usd"))}," USD ",2),n("button",{class:pe(["toggle-btn currency-btn",{active:q(s)==="mxn"}]),onClick:i[3]||(i[3]=r=>q(o)("mxn"))}," MXN ",2)])]))}},dl=Ie(lg,[["__scopeId","data-v-a1431e7f"]]),fl=()=>{const e=L(null),t=L("2023"),s=L(null),a=L(null),o=L(!1),l=L(null),i=L(["2023","2022","2021","2020","2019"]),r=L([{key:"ifss_total",label:"IFSS Total",description:"ndice completo de finanzas sostenibles",field:"value"}]),d=async()=>{o.value=!0,l.value=null;try{const S=await fetch("/PlataformaFinanzasSostenibles/sustainabilityData.json");if(!S.ok)throw new Error("Error al cargar datos de filtros");const x=await S.json();a.value=x.reduce((b,k)=>(b[k.region]=k,b),{}),console.log("Datos de filtros cargados:",a.value)}catch(S){console.error("Error cargando datos de filtros:",S),l.value=S.message}finally{o.value=!1}},f=K(()=>a.value?Object.entries(a.value).map(([S,x])=>({name:S,value:v(x),region:x.region,year:x.year})).sort((S,x)=>S.name.localeCompare(x.name)):[]),c=K(()=>{if(!a.value)return{};let S={...a.value};return e.value&&(S={[e.value]:a.value[e.value]}),t.value!=="2023"&&console.log("Filtrando por ao:",t.value),S}),u=K(()=>{var M;const S=Object.values(c.value);if(S.length===0)return null;const x=S.map(T=>v(T)).filter(T=>T>0),b=x.length,k=x.reduce((T,j)=>T+j,0)/b,P=Math.max(...x),V=Math.min(...x);return{total:b,average:Math.round(k*100)/100,max:P,min:V,selectedVariable:((M=s.value)==null?void 0:M.label)||"IFSS Total"}}),v=S=>{if(!s.value)return S.value||0;const x=s.value.field;return S[x]||S.value||0},h=S=>{e.value=S,console.log("Filtro de entidad aplicado:",S)},A=S=>{t.value=S,console.log("Filtro de ao aplicado:",S)},m=S=>{s.value=S,console.log("Filtro de variable aplicado:",S)},p=S=>{S.entity!==void 0&&(e.value=S.entity),S.year!==void 0&&(t.value=S.year),S.variable!==void 0&&(s.value=S.variable)},y=()=>{e.value=null,t.value="2023",s.value=r.value[0]},w=S=>{if(!S||!a.value)return[];const x=S.toLowerCase();return f.value.filter(b=>b.name.toLowerCase().includes(x)).slice(0,10)},I=()=>{var j;const S=c.value,x=((j=s.value)==null?void 0:j.label)||"IFSS Total",b=["Entidad",x,"Ao"],k=Object.entries(S).map(([F,U])=>[F,v(U),t.value]),P=[b.join(","),...k.map(F=>F.join(","))].join(`
`),V=new Blob([P],{type:"text/csv"}),M=window.URL.createObjectURL(V),T=document.createElement("a");T.href=M,T.download=`IFSS_${x}_${t.value}.csv`,T.click(),window.URL.revokeObjectURL(M)},$=()=>{var b;const S={ifss_total:{scale:[.5,2.9],colors:["#e52845","#e67849","#e6a74c","#e6d64f","#bddc50","#94d351","#6ac952"]}},x=((b=s.value)==null?void 0:b.key)||"ifss_total";return S[x]||S.ifss_total};return be([e,t,s],()=>{var S;console.log("Filtros cambiados:",{entity:e.value,year:t.value,variable:(S=s.value)==null?void 0:S.label})}),{selectedEntity:e,selectedYear:t,selectedVariable:s,loading:o,error:l,availableYears:i,availableVariables:r,entitiesData:f,filteredData:c,filterStats:u,loadFilterData:d,setEntityFilter:h,setYearFilter:A,setVariableFilter:m,applyFilters:p,resetFilters:y,searchEntities:w,exportFilteredData:I,getCurrentVariableValue:v,getVariableColorConfig:$,initializeFilters:()=>{r.value.length>0&&(s.value=r.value[0])}}},vl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAVFJREFUeJzt27FqFFEYhuH3m9bKIhoQyyBegoWkXsLiFSQ2gXglySUoWhlvYElWvIP0WqTRZiGB3U27lns+mx0IXsD8xXxPNeULM8yBc/4DERExXgKw/YrWjoG94p6hrOm6S0m/ZfsQ+zvwpLpqYH+RJnJrN8Cb6poiN3JrG8b39nubDlhUVxRadEgXgKtLChjpvF8FptgfgOfFUUNZIn2SNK8OiYiIiIiIiCig/sH2S+BZYcuQVpLuAGT7KfY34Kg4amhzpBN5u/2CdFpdU8L+LLe2ZjwHIv976KoLirUOe1ZdUcae9T/Br8C0umdgV0jvHy+DL4D9wqAhLSXdV0dEREREREREFOnH5N5hnzGebfE10kdJ17J9stsRGh/pWG7tFnhd3VLkNsPSwK/qikI/Zfst9g/G9xVskCb9KnCwuzIzlmHp1e7KzJ/qkIiIqPQPkdV4tN3EmJgAAAAASUVORK5CYII=",ig={class:"map-container"},rg={key:0,class:"loading-state"},cg={key:1,class:"error-state"},ug={key:2,class:"map-content"},dg={class:"map-and-charts-wrapper"},fg={class:"map-wrapper"},vg={class:"hover-info-box"},hg={key:0,class:"info-content"},pg={class:"location-label"},gg={class:"value-display"},mg={key:1,class:"info-content"},bg={class:"value-display"},yg=["width","height"],Ag=["d","fill","stroke","stroke-width","onClick","onMouseenter"],wg={class:"tooltip-content"},Cg={class:"tooltip-data"},_g={key:0,class:"collapsed-view"},kg={key:1,class:"expanded-view"},$g={key:0,class:"details-panel"},Sg={class:"details-header"},xg={class:"details-content"},Eg={class:"metric-card"},Ig={class:"metric-value"},Pg={class:"metric-card"},Mg={class:"metric-value"},Fg={class:"description"},Dg={__name:"QualitativeIndicatorPanel",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:I,initializeData:$}=s.mapsComposable||zt(),{setChartData:z}=Pa(),S=L({x:0,y:0}),x=(ae,R)=>{S.value={x:R.clientX,y:R.clientY},y(ae)},b=async ae=>{if(p(ae),await ze(),r.value===ae){const R=A(ae);a("region-selected",{name:ae,data:R})}else a("region-selected",null)},k=K(()=>ul().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),P=K(()=>ll().projection(k.value)),V=ae=>P.value(ae),M=ae=>r.value===ae?"#FfFFFF":(d.value===ae,"#555555"),T=ae=>r.value===ae?3:d.value===ae?2:1,j=K(()=>d.value?{position:"fixed",left:`${S.value.x+20}px`,top:`${S.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),F=Pc(),U=Ia(),J=K(()=>F.path.includes("/cualitativos")),Z=()=>{U.push("/finanzas/cualitativos")},ne=()=>{U.push("/finanzas/mapas")},he=()=>{U.push("/finanzas/cualitativos/item")},we=()=>{console.log("Navegando a datos regionales...")},se=()=>{console.log("Navegando a federales...")};return be(r,(ae,R)=>{if(ae&&ae!==R){const G=A(ae);z(G),a("region-selected",{name:ae,data:G})}else!ae&&R&&a("region-selected",null)}),be(i,ae=>{ae&&a("map-error",ae)}),(ae,R)=>{var G;return g(),C("div",ig,[q(l)?(g(),C("div",rg,[...R[3]||(R[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):le("",!0),q(i)?(g(),C("div",cg,[n("p",null,"Error: "+Y(q(i)),1),n("button",{onClick:R[0]||(R[0]=(...N)=>q($)&&q($)(...N)),class:"retry-btn"}," Reintentar ")])):le("",!0),!q(l)&&!q(i)?(g(),C("div",ug,[n("div",dg,[n("div",fg,[n("div",{class:pe(["map-info-card",{"state-selected":q(r)}])},[n("div",{class:"card-content"},[R[4]||(R[4]=Se('<div class="card-position-title" data-v-9b52fd2a> Posicin del pas en el ndice<br data-v-9b52fd2a> de Finanzas Sostenibles<br data-v-9b52fd2a> (IFS) en 2024 </div><div class="card-top-row" data-v-9b52fd2a><div class="card-position-number" data-v-9b52fd2a> 15 </div><div class="card-ifss-info" data-v-9b52fd2a><div class="ifss-value-text" data-v-9b52fd2a>IFS: 1.3</div><div class="ifss-classification" data-v-9b52fd2a>Medio bajo</div></div></div>',2)),n("div",{class:"card-bottom-stack"},[n("div",{class:"card-label-pill",onClick:we},"IFS Regional"),n("div",{class:"card-label-pill",onClick:se},"Datos federales")])])],2),n("div",vg,[q(d)?(g(),C("div",hg,[n("div",pg,Y(q(d)),1),n("div",gg,Y(q(A)(q(d)).value||0)+"%",1)])):q(v)?(g(),C("div",mg,[R[5]||(R[5]=n("div",{class:"location-label"},"Mxico",-1)),n("div",bg,Y(q(v).value)+"%",1)])):le("",!0)]),R[6]||(R[6]=Se('<div class="color-legend" data-v-9b52fd2a><div class="legend-items-horizontal" data-v-9b52fd2a><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Alto</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Bajo</span></div><div class="legend-item-horizontal" data-v-9b52fd2a><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-9b52fd2a></div><span data-v-9b52fd2a>Muy Bajo</span></div></div></div>',1)),(g(),C("svg",{width:q(f).width,height:q(f).height,class:"mexico-map"},[n("g",null,[(g(!0),C(ge,null,_e(((G=q(o))==null?void 0:G.features)||[],N=>(g(),C("path",{key:N.properties.state_name,d:V(N),fill:q(h)(N.properties.state_name),stroke:M(N.properties.state_name),"stroke-width":T(N.properties.state_name),class:"state-path",onClick:W=>b(N.properties.state_name),onMouseenter:W=>x(N.properties.state_name,W),onMouseleave:R[1]||(R[1]=(...W)=>q(w)&&q(w)(...W))},null,40,Ag))),128))])],8,yg)),q(d)?(g(),C("div",{key:0,class:"tooltip",style:fe(j.value)},[n("div",wg,[n("h4",null,Y(q(d)),1),n("div",Cg,[n("p",null,"IFSS: "+Y(q(A)(q(d)).value||0),1),n("p",null,"Clasificacin: "+Y(q(m)(q(A)(q(d)).value||0).label),1),n("p",null,"Ao: "+Y(q(A)(q(d)).year),1)])])],4)):le("",!0)]),n("div",{class:pe(["qualitative-panel",{expanded:J.value}])},[J.value?(g(),C("div",kg,[n("div",{class:"header-retractable-view"},[n("div",{class:"hamburger-menu",onClick:ne},[...R[7]||(R[7]=[n("img",{src:vl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),R[8]||(R[8]=n("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),n("div",{class:"expand-retractable-btn",onClick:ne}," - ")]),n("div",{class:"buttons-container"},[n("div",{class:"qualitative-btn",onClick:he},[...R[9]||(R[9]=[n("span",{class:"title-btn"},"Ambientales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...R[10]||(R[10]=[n("span",{class:"title-btn"},"Econmicos",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...R[11]||(R[11]=[n("span",{class:"title-btn"},"Sociables",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...R[12]||(R[12]=[n("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:he},[...R[13]||(R[13]=[n("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),n("span",{class:"plus-btn"},"+",-1)])])])])):(g(),C("div",_g,[n("div",{class:"expand-retractable-btn",onClick:Z}," + ")]))],2)]),q(r)?(g(),C("div",$g,[n("div",Sg,[n("h3",null,Y(q(r)),1),n("button",{onClick:R[2]||(R[2]=(...N)=>q(I)&&q(I)(...N)),class:"close-btn"},"")]),n("div",xg,[n("div",Eg,[n("div",Ig,Y(q(A)(q(r)).value||0),1),R[14]||(R[14]=n("div",{class:"metric-label"},"IFSS",-1)),n("div",{class:"metric-classification",style:fe({color:q(m)(q(A)(q(r)).value||0).color})},Y(q(m)(q(A)(q(r)).value||0).label),5)]),n("div",Pg,[n("div",Mg,Y(q(A)(q(r)).year),1),R[15]||(R[15]=n("div",{class:"metric-label"},"Ao de datos",-1))])]),n("div",Fg,[n("p",null,Y(q(A)(q(r)).descripcion),1)])])):le("",!0)])):le("",!0)])}}},Tg=Ie(Dg,[["__scopeId","data-v-9b52fd2a"]]),Bg={class:"maps-page"},Rg={class:"filters-toggles-row"},Vg={class:"filters-column"},Lg={class:"toggles-column"},Ng={class:"qualitativeIndicatorPanel"},Og={key:0,class:"error-panel"},zg={__name:"QualitativePanel",setup(e){const t=L(!1),s=zt(),{selectedEntity:a,loading:o,error:l,loadFilterData:i,setEntityFilter:r,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=fl(),{loading:u,error:v,selectedState:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,resetSelection:y,initializeData:w}=s,I=K(()=>o.value||u.value),$=K(()=>l.value||v.value);be(h,P=>{console.log("Estado seleccionado en el mapa:",P),P&&P!==a.value?(r(P),t.value=!0):P||(r(null),t.value=!1)});const z=P=>{r(P),t.value=!0,P?p(P):y()},S=P=>{d(P)},x=P=>{f(P)},b=P=>{P.year!==void 0&&d(P.year),P.variable!==void 0&&f(P.variable),t.value=!0},k=()=>{c(),w(),i()};return Oe(async()=>{try{c(),await i()}catch(P){console.error("Error inicializando MapsPage:",P)}}),(P,V)=>(g(),C("div",Bg,[n("div",Rg,[n("div",Vg,[ye(Vn,{entities:P.entitiesData,loading:I.value,onEntityChange:z,onYearChange:S,onVariableChange:x,onFiltersChange:b},null,8,["entities","loading"])]),n("div",Lg,[ye(dl)])]),n("div",Ng,[ye(Tg)]),$.value?(g(),C("div",Og,[V[0]||(V[0]=n("h3",null,"Error en el sistema",-1)),n("p",null,Y($.value),1),n("button",{onClick:k,class:"retry-btn"}," Reintentar ")])):le("",!0)]))}},jg=Ie(zg,[["__scopeId","data-v-04ce9b6f"]]),Hg={class:"gauge-chart",ref:"chartContainer"},Yg=["viewBox"],Gg=["d","stroke","stroke-width"],qg=["d","stroke","stroke-width"],Ug=["d","fill"],Wg=["cx","cy","r","fill"],Xg=["cx","cy","r","fill"],Xs=150,ps=-90,oo=90,Kg={__name:"GaugeChart",props:{value:{type:Number,default:0},strokeWidth:{type:Number,default:12},backgroundColor:{type:String,default:"#CDCDCD"},progressColor:{type:String,default:"#0F3759"},needleColor:{type:String,default:"#0F3759"},needleWidth:{type:Number,default:3}},setup(e){const t=e,s=K(()=>7),a=L(0),o=L(!1),l=K(()=>Xs/2),i=K(()=>Xs*.6),r=K(()=>Xs/2-t.strokeWidth/2-10),d=K(()=>{const m=t.value;return m==null||typeof m!="number"||isNaN(m)?0:Math.max(0,Math.min(100,m))});Oe(()=>{console.log(" [GaugeChart] Montado con valor:",t.value,"-> safe:",d.value),setTimeout(()=>{d.value>0&&f(0,d.value)},200)}),be(()=>t.value,(m,p)=>{const y=Math.max(0,Math.min(100,m||0)),w=Math.max(0,Math.min(100,p||0));console.log(" [GaugeChart] Valor cambi:",w,"->",y),Math.abs(y-w)>.1&&f(a.value,y)});const f=(m,p)=>{if(o.value)return;console.log(" [GaugeChart] Animando de",m,"a",p),o.value=!0;const y=1500,w=m,I=p,$=Date.now(),z=()=>{const S=Date.now(),x=Math.min((S-$)/y,1),b=1-Math.pow(1-x,3);a.value=w+(I-w)*b,x<1?requestAnimationFrame(z):(o.value=!1,console.log(" [GaugeChart] Animacin completada:",a.value))};requestAnimationFrame(z)},c=m=>{const p=(m-90)*Math.PI/180;return{x:l.value+r.value*Math.cos(p),y:i.value+r.value*Math.sin(p)}},u=K(()=>{const m=c(ps),p=c(oo);return`M ${m.x} ${m.y} A ${r.value} ${r.value} 0 0 1 ${p.x} ${p.y}`}),v=K(()=>{if(a.value<.1)return"";const m=ps+(oo-ps)*(a.value/100),p=c(ps),y=c(m),w=Math.abs(m-ps)>180?1:0;return`M ${p.x} ${p.y} A ${r.value} ${r.value} 0 ${w} 1 ${y.x} ${y.y}`}),h=K(()=>ps+(oo-ps)*(a.value/100)),A=K(()=>{const p=(h.value-90)*Math.PI/180,y=l.value+(r.value-10)*Math.cos(p),w=i.value+(r.value-10)*Math.sin(p),I=p+Math.PI/2,$=s.value,z=l.value+$*Math.cos(I),S=i.value+$*Math.sin(I),x=l.value-$*Math.cos(I),b=i.value-$*Math.sin(I),k=-1,P=y-k*Math.cos(I)-k*.3*Math.cos(p),V=w-k*Math.sin(I)-k*.3*Math.sin(p),M=y+k*Math.cos(I)-k*.3*Math.cos(p),T=w+k*Math.sin(I)-k*.3*Math.sin(p);return`
    M ${z} ${S} 
    L ${P} ${V}
    Q ${y} ${w} ${M} ${T}
    L ${x} ${b}
    Z
  `});return(m,p)=>(g(),C("div",Hg,[(g(),C("svg",{width:"100%",height:"40%",viewBox:`0 0 ${Xs} ${Xs*.65}`,preserveAspectRatio:"xMidYMid meet"},[n("path",{d:u.value,fill:"none",stroke:e.backgroundColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,Gg),a.value>.1?(g(),C("path",{key:0,d:v.value,fill:"none",stroke:e.progressColor,"stroke-width":e.strokeWidth,"stroke-linecap":"butt"},null,8,qg)):le("",!0),n("path",{d:A.value,fill:e.needleColor,class:"needle"},null,8,Ug),n("circle",{cx:l.value,cy:i.value,r:s.value,fill:e.needleColor,class:"needle"},null,8,Wg),n("circle",{cx:l.value,cy:i.value,r:e.needleWidth*1.5,fill:e.needleColor},null,8,Xg)],8,Yg))],512))}},Zc=Ie(Kg,[["__scopeId","data-v-16a38344"]]),Qg={class:"bottle-chart"},Jg={class:"bottles-container"},Zg={class:"bottle-svg",viewBox:"0 0 24 55",preserveAspectRatio:"xMidYMax meet"},e1=["id"],t1=["id"],s1=["id"],a1=["id"],n1=["fill"],o1=["fill"],l1=["fill","filter"],i1=["y","height","fill","clip-path"],r1=["y","height","clip-path"],Hi=30,c1={__name:"BottleChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=L([0,0,0,0,0,0,0,0,0,0]),a=l=>{const i=[];for(let f=0;f<10;f++){const c=f*10,u=(f+1)*10;if(l<=c)i.push(0);else if(l>=u)i.push(Hi);else{const v=(l-c)/10;i.push(v*Hi)}}return i},o=l=>{s.value=[0,0,0,0,0,0,0,0,0,0];const i=80;l.forEach((r,d)=>{r>0&&setTimeout(()=>{s.value[d]=r,s.value=[...s.value]},i*(d+1))})};return be(()=>t.value,l=>{const i=a(l);o(i)},{immediate:!1}),Oe(()=>{setTimeout(()=>{const l=a(t.value);o(l)},150)}),(l,i)=>(g(),C("div",Qg,[n("div",Jg,[(g(),C(ge,null,_e(10,r=>n("div",{key:r,class:"bottle-wrapper"},[(g(),C("svg",Zg,[n("defs",null,[n("linearGradient",{id:"emptyGradient-"+r,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...i[0]||(i[0]=[n("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),n("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),n("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,e1),n("linearGradient",{id:"liquidGradient-"+r,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...i[1]||(i[1]=[n("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),n("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),n("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,t1),n("clipPath",{id:"bodyClip-"+r},[...i[2]||(i[2]=[n("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2"},null,-1)])],8,s1),n("filter",{id:"shadow-"+r,x:"-10%",y:"-10%",width:"120%",height:"120%"},[...i[3]||(i[3]=[n("feDropShadow",{dx:"0.5",dy:"1",stdDeviation:"1","flood-opacity":"0.12"},null,-1)])],8,a1)]),n("rect",{x:"7",y:"0",width:"10",height:"7",rx:"3",fill:"url(#emptyGradient-"+r+")"},null,8,n1),n("path",{d:"M6 9 Q6 7 7 7 L17 7 Q18 7 18 9 L18 13 Q18 16 21 19 L21 21 L3 21 L3 19 Q6 16 6 13 Z",fill:"url(#emptyGradient-"+r+")"},null,8,o1),n("rect",{x:"3",y:"22",width:"18",height:"30",rx:"2",fill:"url(#emptyGradient-"+r+")",filter:"url(#shadow-"+r+")"},null,8,l1),i[4]||(i[4]=n("rect",{x:"3",y:"20",width:"18",height:"2",fill:"#bfc3c9"},null,-1)),n("rect",{x:"3",y:52-s.value[r-1],width:"18",height:s.value[r-1],fill:"url(#liquidGradient-"+r+")","clip-path":"url(#bodyClip-"+r+")",class:"liquid-fill"},null,8,i1),s.value[r-1]>4?(g(),C("rect",{key:0,x:"5",y:53-s.value[r-1],width:"2",height:Math.max(0,s.value[r-1]-3),rx:"1",fill:"rgba(255,255,255,0.4)","clip-path":"url(#bodyClip-"+r+")",class:"liquid-shine"},null,8,r1)):le("",!0)]))])),64))])]))}},eu=Ie(c1,[["__scopeId","data-v-2728fdf4"]]),u1={class:"area-chart-cont"},d1={key:0,class:"legend"},f1={class:"legend-label"},v1={class:"chart-container"},h1=["viewBox"],p1=["cx","cy","r"],g1=["cx","cy","r"],m1=["d","fill","onMouseenter"],b1=["x1","y1","x2","y2"],y1={class:"tooltip-content"},A1={class:"tooltip-info"},w1={class:"tooltip-label"},C1={class:"tooltip-value"},_1={__name:"AreaChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#FF6B9D","#4ECDC4","#FFE66D","#95A5A6","#3498DB"]},size:{type:Number,default:400},innerRadius:{type:Number,default:0},title:{type:String,default:""},showLegend:{type:Boolean,default:!0}},setup(e){const t=e,s=[{label:"Red",value:11},{label:"Green",value:16},{label:"Yellow",value:7},{label:"Grey",value:3},{label:"Blue",value:14}],a=K(()=>t.excelData||s),o=K(()=>t.size/2),l=K(()=>t.size/2),i=K(()=>t.size/2-20),r=L(0),d=L(null),f=L(0),c=L({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=x=>x?new Intl.NumberFormat("es-MX").format(x):"0";Oe(()=>{setTimeout(()=>{v()},800)}),be(()=>a.value,()=>{f.value=0,r.value=0,v()});const v=()=>{const b=Date.now(),k=()=>{const P=Date.now(),V=Math.min((P-b)/1500,1);r.value=1-Math.pow(1-V,6),f.value=1-Math.pow(1-V,5),V<1&&requestAnimationFrame(k)};requestAnimationFrame(k)},h=K(()=>Math.max(...a.value.map(x=>x.value))),A=K(()=>{const b=(i.value-t.innerRadius)/4;return Array.from({length:4},(k,P)=>t.innerRadius+b*(P+1))}),m=K(()=>2*Math.PI/a.value.length),p=K(()=>a.value.map((x,b)=>{const k=b*m.value-Math.PI/2,P=k+m.value,V=t.innerRadius+(i.value-t.innerRadius)*(x.value/h.value);return{startAngle:k,endAngle:P,radius:V,color:t.colors[b%t.colors.length],label:x.label,value:x.value}})),y=K(()=>{const x=-Math.PI*(1-r.value);return p.value.map(b=>{const k=t.innerRadius+(b.radius-t.innerRadius)*f.value,P=b.startAngle+x,V=b.endAngle+x,M=o.value+t.innerRadius*Math.cos(P),T=l.value+t.innerRadius*Math.sin(P),j=o.value+t.innerRadius*Math.cos(V),F=l.value+t.innerRadius*Math.sin(V),U=o.value+k*Math.cos(P),J=l.value+k*Math.sin(P),Z=o.value+k*Math.cos(V),ne=l.value+k*Math.sin(V),he=0;return{path:`
      M ${M} ${T}
      L ${U} ${J}
      A ${k} ${k} 0 ${he} 1 ${Z} ${ne}
      L ${j} ${F}
      A ${t.innerRadius} ${t.innerRadius} 0 ${he} 0 ${M} ${T}
      Z
    `,color:b.color,label:b.label,value:b.value}})}),w=K(()=>{const x=-Math.PI*(1-r.value);return a.value.map((b,k)=>{const P=k*m.value-Math.PI/2+x;return{x:o.value+i.value*Math.cos(P),y:l.value+i.value*Math.sin(P)}})}),I=(x,b,k)=>{d.value=x,c.value={visible:!0,x:k.clientX,y:k.clientY,label:b.label,value:b.value,color:b.color}},$=x=>{c.value.visible&&(c.value.x=x.clientX,c.value.y=x.clientY)},z=()=>{d.value=null,c.value.visible=!1},S=K(()=>({left:`${c.value.x+15}px`,top:`${c.value.y-50}px`}));return(x,b)=>(g(),C("div",u1,[e.showLegend?(g(),C("div",d1,[(g(!0),C(ge,null,_e(a.value,(k,P)=>(g(),C("div",{key:P,class:"legend-item"},[n("div",{class:"legend-color",style:fe({backgroundColor:e.colors[P%e.colors.length]})},null,4),n("span",f1,Y(k.label),1)]))),128))])):le("",!0),n("div",v1,[(g(),C("svg",{width:"100%",height:"100%",viewBox:`0 0 ${e.size} ${e.size}`,preserveAspectRatio:"xMidYMid meet"},[(g(!0),C(ge,null,_e(A.value,k=>(g(),C("circle",{key:k,cx:o.value,cy:l.value,r:k,fill:"none",stroke:"#d0d5dd","stroke-width":"1.5","stroke-dasharray":"4 2"},null,8,p1))),128)),n("circle",{cx:o.value,cy:l.value,r:i.value,fill:"none",stroke:"#b0b8c4","stroke-width":"2"},null,8,g1),(g(!0),C(ge,null,_e(y.value,(k,P)=>(g(),C("path",{key:P,d:k.path,fill:k.color,class:pe(["segment",{hovered:d.value===P}]),onMouseenter:V=>I(P,k,V),onMousemove:b[0]||(b[0]=V=>$(V)),onMouseleave:z},[n("title",null,Y(k.label)+": "+Y(k.value),1)],42,m1))),128)),(g(!0),C(ge,null,_e(w.value,(k,P)=>(g(),C("line",{key:`line-${P}`,x1:o.value,y1:l.value,x2:k.x,y2:k.y,stroke:"#ffffff","stroke-width":"2","pointer-events":"none"},null,8,b1))),128))],8,h1))]),(g(),Re(jt,{to:"body"},[c.value.visible?(g(),C("div",{key:0,class:"tooltip",style:fe(S.value)},[n("div",y1,[n("div",{class:"tooltip-color",style:fe({backgroundColor:c.value.color})},null,4),n("div",A1,[n("div",w1,Y(c.value.label),1),n("div",C1,"Valor: "+Y(u(c.value.value)),1)])])],4)):le("",!0)]))]))}},k1=Ie(_1,[["__scopeId","data-v-cfde8302"]]),$1={key:0,class:"chart-header"},S1={class:"chart-title"},x1={key:1,class:"variable-filters"},E1=["onClick"],I1={class:"filter-label"},P1=["onMouseenter"],M1={class:"bar-wrapper-horizontal"},F1={key:0,class:"empty-state"},D1={class:"tooltip-content"},T1={class:"tooltip-info"},B1={class:"tooltip-label"},R1={class:"tooltip-value"},V1={__name:"HorizontalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},barHeight:{type:String,default:"30px"},barGap:{type:String,default:"10px"},useGradients:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){al(I=>({"5c24dd99":f.value}));const t=e,s=L(null),a=L({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=L([]),l=L({}),i=()=>{o.value=t.variables.map(I=>({key:I.key,label:I.label||I.key,value:I.value||0,colorClass:I.colorClass||"default",color:I.color||null,active:!1})),l.value={},t.variables.forEach(I=>{l.value[I.key]=0})},r=async()=>{await new Promise($=>setTimeout($,t.animationDelay));const I=Math.min(4,o.value.length);for(let $=0;$<I;$++){o.value[$].active=!0,await new Promise(S=>setTimeout(S,50));const z=p(o.value[$].value);l.value[o.value[$].key]=z,await new Promise(S=>setTimeout(S,200))}};be(()=>t.variables,()=>{i(),r()},{immediate:!0,deep:!0}),Oe(()=>{r()});const d=K(()=>o.value.filter(I=>I.active)),f=K(()=>{const I=d.value.length;return I===0?"100%":`${100/I}%`}),c=K(()=>{const I=d.value.map($=>$.value);return Math.max(...I,1)}),u=K(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=I=>{const $=o.value.find(z=>z.key===I);$&&($.active=!$.active,$.active?setTimeout(()=>{l.value[I]=p($.value)},50):l.value[I]=0)},h=(I,$)=>{s.value=I.key,a.value={visible:!0,x:$.clientX,y:$.clientY,label:I.label,value:I.value,color:w(I)}},A=I=>{a.value.visible&&(a.value.x=I.clientX,a.value.y=I.clientY)},m=()=>{s.value=null,a.value.visible=!1},p=I=>{const $=I/c.value*100;return Math.min($,100)},y=I=>l.value[I.key]||0,w=I=>{if(I.color)return I.color;const $={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return $[I.colorClass]||$.default};return(I,$)=>(g(),C("div",{class:"horizontal-bar-chart",style:fe({width:e.width,height:e.height})},[e.title?(g(),C("div",$1,[n("h3",S1,Y(e.title),1)])):le("",!0),e.showFilters?(g(),C("div",x1,[(g(!0),C(ge,null,_e(o.value,z=>(g(),C("button",{key:z.key,onClick:S=>v(z.key),class:pe(["filter-btn",{active:z.active,[z.colorClass]:!0}])},[n("span",{class:"filter-dot",style:fe({backgroundColor:w(z)})},null,4),n("span",I1,Y(z.label),1)],10,E1))),128))])):le("",!0),n("div",{class:pe(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(g(!0),C(ge,null,_e(d.value,z=>(g(),C("div",{key:z.key,class:pe(["bar-row",{"is-hovered":s.value===z.key,"is-dimmed":s.value!==null&&s.value!==z.key}]),onMouseenter:S=>h(z,S),onMousemove:$[0]||($[0]=S=>A(S)),onMouseleave:m},[n("div",M1,[n("div",{class:pe(["bar-horizontal",z.colorClass]),style:fe({width:y(z)+"%",background:w(z)})},null,6)])],42,P1))),128)),d.value.length===0?(g(),C("div",F1,[n("p",null,Y(e.emptyMessage),1)])):le("",!0)],2),(g(),Re(jt,{to:"body"},[a.value.visible?(g(),C("div",{key:0,class:"tooltip",style:fe(u.value)},[n("div",D1,[n("div",{class:"tooltip-color",style:fe({backgroundColor:a.value.color})},null,4),n("div",T1,[n("div",B1,Y(a.value.label),1),n("div",R1,Y(a.value.value),1)])])],4)):le("",!0)]))],4))}},hl=Ie(V1,[["__scopeId","data-v-bf2ebdb1"]]),L1={key:0,class:"chart-header"},N1={class:"chart-title"},O1={key:1,class:"variable-filters"},z1=["onClick"],j1={class:"filter-label"},H1=["onMouseenter"],Y1={class:"bar-wrapper-vertical"},G1={key:0,class:"empty-state"},q1={class:"tooltip-content"},U1={class:"tooltip-info"},W1={class:"tooltip-label"},X1={class:"tooltip-value"},K1={__name:"VerticalBarChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"auto"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},useGradients:{type:Boolean,default:!0},showValues:{type:Boolean,default:!0},showLabels:{type:Boolean,default:!0},animationDelay:{type:Number,default:800}},setup(e){al(I=>({c240488c:f.value}));const t=e,s=L(null),a=L({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=L([]),l=L({}),i=()=>{o.value=t.variables.map(I=>({key:I.key,label:I.label||I.key,value:I.value||0,colorClass:I.colorClass||"default",color:I.color||null,active:!1})),l.value={},t.variables.forEach(I=>{l.value[I.key]=0})},r=async()=>{await new Promise($=>setTimeout($,t.animationDelay));const I=Math.min(4,o.value.length);for(let $=0;$<I;$++){o.value[$].active=!0,await new Promise(S=>setTimeout(S,50));const z=p(o.value[$].value);l.value[o.value[$].key]=z,await new Promise(S=>setTimeout(S,200))}};be(()=>t.variables,()=>{i(),r()},{immediate:!0,deep:!0}),Oe(()=>{r()});const d=K(()=>o.value.filter(I=>I.active)),f=K(()=>{const I=d.value.length;return I===0?"100%":`${100/I}%`}),c=K(()=>{const I=d.value.map($=>$.value);return Math.max(...I,1)}),u=K(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-50}px`})),v=I=>{const $=o.value.find(z=>z.key===I);$&&($.active=!$.active,$.active?setTimeout(()=>{l.value[I]=p($.value)},50):l.value[I]=0)},h=(I,$)=>{s.value=I.key,a.value={visible:!0,x:$.clientX,y:$.clientY,label:I.label,value:I.value,color:w(I)}},A=I=>{a.value.visible&&(a.value.x=I.clientX,a.value.y=I.clientY)},m=()=>{s.value=null,a.value.visible=!1},p=I=>{const $=I/c.value*100;return Math.min($,100)},y=I=>l.value[I.key]||0,w=I=>{if(I.color)return I.color;const $={gray:"#9ca3af",red:"#DC143C",green:"#7cb342",blue:"#3b82f6",yellow:"#eab308",purple:"#a78bfa",orange:"#fb923c",default:"#6b7280"};return $[I.colorClass]||$.default};return(I,$)=>(g(),C("div",{class:"vertical-bar-chart",style:fe({width:e.width,height:e.height})},[e.title?(g(),C("div",L1,[n("h3",N1,Y(e.title),1)])):le("",!0),e.showFilters?(g(),C("div",O1,[(g(!0),C(ge,null,_e(o.value,z=>(g(),C("button",{key:z.key,onClick:S=>v(z.key),class:pe(["filter-btn",{active:z.active,[z.colorClass]:!0}])},[n("span",{class:"filter-dot",style:fe({backgroundColor:w(z)})},null,4),n("span",j1,Y(z.label),1)],10,z1))),128))])):le("",!0),n("div",{class:pe(["bars-container",[`bars-count-${d.value.length}`,{"has-hover":s.value!==null}]])},[(g(!0),C(ge,null,_e(d.value,z=>(g(),C("div",{key:z.key,class:pe(["bar-column",{"is-hovered":s.value===z.key,"is-dimmed":s.value!==null&&s.value!==z.key}]),onMouseenter:S=>h(z,S),onMousemove:$[0]||($[0]=S=>A(S)),onMouseleave:m},[n("div",Y1,[n("div",{class:pe(["bar-vertical",z.colorClass]),style:fe({height:y(z)+"%",background:w(z)})},null,6)])],42,H1))),128)),d.value.length===0?(g(),C("div",G1,[n("p",null,Y(e.emptyMessage),1)])):le("",!0)],2),(g(),Re(jt,{to:"body"},[a.value.visible?(g(),C("div",{key:0,class:"tooltip",style:fe(u.value)},[n("div",q1,[n("div",{class:"tooltip-color",style:fe({backgroundColor:a.value.color})},null,4),n("div",U1,[n("div",W1,Y(a.value.label),1),n("div",X1,Y(a.value.value),1)])])],4)):le("",!0)]))],4))}},tu=Ie(K1,[["__scopeId","data-v-d0e28cdb"]]),Q1={class:"map-container"},J1={key:0,class:"loading-state"},Z1={key:1,class:"error-state"},em={key:2,class:"map-content"},tm={class:"map-and-charts-wrapper"},sm={class:"map-wrapper"},am={class:"hover-info-box"},nm={key:0,class:"info-content"},om={class:"location-label"},lm={class:"value-display"},im={key:1,class:"info-content"},rm={class:"value-display"},cm=["width","height"],um=["d","fill","stroke","stroke-width","onClick","onMouseenter"],dm={class:"tooltip-content"},fm={class:"tooltip-data"},vm={key:0,class:"collapsed-view"},hm={key:1,class:"expanded-view"},pm={class:"inner-card"},gm={class:"card-body"},mm={class:"left-card-container"},bm={class:"bar-graph card"},ym={class:"bottle-graphs card"},Am={class:"body-bottle"},wm={class:"bottle-graph"},Cm={class:"right-card-container"},_m={class:"top-right-card-container"},km={class:"area-chart card"},$m={class:"area-chart-container"},Sm={class:"gauge-container card"},xm={class:"gauge-graph"},Em={class:"bottom-right-card-container"},Im={class:"bottom-bar-graph card"},Pm={key:0,class:"details-panel"},Mm={class:"details-header"},Fm={class:"details-content"},Dm={class:"metric-card"},Tm={class:"metric-value"},Bm={class:"metric-card"},Rm={class:"metric-value"},Vm={class:"description"},Lm={__name:"IndicatorDetailView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){K(()=>!s.ifssData||!s.ifssData.is_amount?{is_amount:10,iic_amount:5}:{is_amount:s.ifssData.is_amount||0,iic_amount:s.ifssData.iic_amount||0}),K(()=>{var G,N;return{is_amount:(G=s.ifssData)!=null&&G.is_amount?s.ifssData.is_amount*.8:0,iic_amount:(N=s.ifssData)!=null&&N.iic_amount?s.ifssData.iic_amount*1.2:0}});const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:I,initializeData:$}=s.mapsComposable||zt(),{setChartData:z}=Pa(),S=L({x:0,y:0}),x=(G,N)=>{S.value={x:N.clientX,y:N.clientY},y(G)},b=async G=>{if(p(G),await ze(),r.value===G){const N=A(G);a("region-selected",{name:G,data:N})}else a("region-selected",null)},k=K(()=>ul().scale(f.value.scale).center(f.value.center).translate([f.value.width/2,f.value.height/2])),P=K(()=>ll().projection(k.value)),V=G=>P.value(G),M=G=>r.value===G?"#FfFFFF":(d.value===G,"#555555"),T=G=>r.value===G?3:d.value===G?2:1,j=K(()=>d.value?{position:"fixed",left:`${S.value.x+20}px`,top:`${S.value.y-150}px`,pointerEvents:"none",zIndex:1e3,transform:"translate(0, 0)",maxWidth:"250px"}:{display:"none"}),F=Pc(),U=Ia(),J=K(()=>F.path.includes("/cualitativos")),Z=()=>{U.push("/finanzas/cualitativos")},ne=()=>{U.push("/finanzas/mapas")},he=()=>{console.log("Navegando a datos regionales...")},we=()=>{console.log("Navegando a federales...")};be(r,(G,N)=>{if(G&&G!==N){const W=A(G);z(W),a("region-selected",{name:G,data:W})}else!G&&N&&a("region-selected",null)}),be(i,G=>{G&&a("map-error",G)});const se=[{label:"Arboles",value:25},{label:"Ballenas",value:30},{label:"Coco",value:15},{label:"Delfin",value:30},{label:"Escalera",value:15}],ae=[{key:"incendios",label:"Total (hectreas)",value:1200,color:"#0F3759",active:!0},{key:"residuos",label:"Arbolado Adulto",value:3500,color:"#3B5A70",active:!0},{key:"emisiones",label:"Renuevo",value:850,color:"#4E6D82",active:!1},{key:"Arbustivo",label:"Arbustivo",value:3500,color:"#D6D6D6",active:!0},{key:"Herbaceo",label:"Herbaceo",value:250,color:"#A1A1A1",active:!1},{key:"Hojarasca",label:"Hojarasca",value:1050,color:"#B0B0B0",active:!1}],R=[{key:"Total",label:"Total",value:1200,color:"#0F3759",active:!0},{key:"Area",label:"rea de proteccin de flora y fauna",value:3500,color:"#3B5A70",active:!0},{key:"Reserva de la biosfera",label:"Reserva de la biosfera",value:850,color:"#4E6D82",active:!1},{key:"Santuario",label:"Santuario",value:1050,color:"#B0B0B0",active:!1}];return(G,N)=>{var W;return g(),C("div",Q1,[q(l)?(g(),C("div",J1,[...N[3]||(N[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):le("",!0),q(i)?(g(),C("div",Z1,[n("p",null,"Error: "+Y(q(i)),1),n("button",{onClick:N[0]||(N[0]=(...X)=>q($)&&q($)(...X)),class:"retry-btn"}," Reintentar ")])):le("",!0),!q(l)&&!q(i)?(g(),C("div",em,[n("div",tm,[n("div",sm,[n("div",{class:pe(["map-info-card",{"state-selected":q(r)}])},[n("div",{class:"card-content"},[N[4]||(N[4]=Se('<div class="card-position-title" data-v-fd4f7876> Posicin del pas en el ndice<br data-v-fd4f7876> de Finanzas Sostenibles<br data-v-fd4f7876> (IFS) en 2024 </div><div class="card-top-row" data-v-fd4f7876><div class="card-position-number" data-v-fd4f7876> 15 </div><div class="card-ifss-info" data-v-fd4f7876><div class="ifss-value-text" data-v-fd4f7876>IFS: 1.3</div><div class="ifss-classification" data-v-fd4f7876>Medio bajo</div></div></div>',2)),n("div",{class:"card-bottom-stack"},[n("div",{class:"card-label-pill",onClick:he},"IFS Regional"),n("div",{class:"card-label-pill",onClick:we},"Datos federales")])])],2),n("div",am,[q(d)?(g(),C("div",nm,[n("div",om,Y(q(d)),1),n("div",lm,Y(q(A)(q(d)).value||0)+"%",1)])):q(v)?(g(),C("div",im,[N[5]||(N[5]=n("div",{class:"location-label"},"Mxico",-1)),n("div",rm,Y(q(v).value)+"%",1)])):le("",!0)]),N[6]||(N[6]=Se('<div class="color-legend" data-v-fd4f7876><div class="legend-items-horizontal" data-v-fd4f7876><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#6ac952;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#94d351;" data-v-fd4f7876></div><span data-v-fd4f7876>Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#bddc50;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Alto</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6d64f;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e6a74c;" data-v-fd4f7876></div><span data-v-fd4f7876>Medio Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e67849;" data-v-fd4f7876></div><span data-v-fd4f7876>Bajo</span></div><div class="legend-item-horizontal" data-v-fd4f7876><div class="legend-color-horizontal" style="background-color:#e52845;" data-v-fd4f7876></div><span data-v-fd4f7876>Muy Bajo</span></div></div></div>',1)),(g(),C("svg",{width:q(f).width,height:q(f).height,class:"mexico-map"},[n("g",null,[(g(!0),C(ge,null,_e(((W=q(o))==null?void 0:W.features)||[],X=>(g(),C("path",{key:X.properties.state_name,d:V(X),fill:q(h)(X.properties.state_name),stroke:M(X.properties.state_name),"stroke-width":T(X.properties.state_name),class:"state-path",onClick:D=>b(X.properties.state_name),onMouseenter:D=>x(X.properties.state_name,D),onMouseleave:N[1]||(N[1]=(...D)=>q(w)&&q(w)(...D))},null,40,um))),128))])],8,cm)),q(d)?(g(),C("div",{key:0,class:"tooltip",style:fe(j.value)},[n("div",dm,[n("h4",null,Y(q(d)),1),n("div",fm,[n("p",null,"IFSS: "+Y(q(A)(q(d)).value||0),1),n("p",null,"Clasificacin: "+Y(q(m)(q(A)(q(d)).value||0).label),1),n("p",null,"Ao: "+Y(q(A)(q(d)).year),1)])])],4)):le("",!0)]),n("div",{class:pe(["qualitative-panel",{expanded:J.value}])},[J.value?(g(),C("div",hm,[n("div",{class:"header-retractable-view"},[n("div",{class:"hamburger-menu",onClick:ne},[...N[7]||(N[7]=[n("img",{src:vl,alt:"hamburger-menu",class:"hamburger-icon"},null,-1)])]),N[8]||(N[8]=n("h1",{class:"header-title"},"Indicadores Caulitativos",-1)),n("div",{class:"expand-retractable-btn",onClick:ne}," - ")]),n("div",pm,[N[14]||(N[14]=n("div",{class:"card-header"},[n("h1",{class:"card-header-title"},"Ambientales")],-1)),n("div",gm,[n("div",mm,[n("div",bm,[ye(hl,{variables:ae,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})]),n("div",ym,[N[10]||(N[10]=n("div",{class:"title-bottle"},[n("h2",null,"Promedio diario de residuos slidos urbanos recolectados")],-1)),n("div",Am,[n("div",wm,[ye(eu,{value:75})]),N[9]||(N[9]=n("div",{class:"bottle-number number"},"3,249,683 kg",-1))])])]),n("div",Cm,[n("div",_m,[n("div",km,[N[11]||(N[11]=n("div",{class:"title-area-chart"},[n("h3",null,"Emisiones de contaminantes atmosfricos por fuente en toneladas.")],-1)),n("div",$m,[ye(k1,{excelData:se,title:"Datos de Excel"})])]),n("div",Sm,[N[12]||(N[12]=n("div",{class:"title-gauge"},[n("h3",null,"Consumo de energa elctrica")],-1)),n("div",xm,[ye(Zc,{value:67})]),N[13]||(N[13]=n("div",{class:"gauge-number number"},"2,013.80 GWh",-1))])]),n("div",Em,[n("div",Im,[ye(tu,{variables:R,width:"100%",height:"100%",title:"Incendios forestales en hectreas en 2024",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"})])])])])])])):(g(),C("div",vm,[n("div",{class:"expand-retractable-btn",onClick:Z}," + ")]))],2)]),q(r)?(g(),C("div",Pm,[n("div",Mm,[n("h3",null,Y(q(r)),1),n("button",{onClick:N[2]||(N[2]=(...X)=>q(I)&&q(I)(...X)),class:"close-btn"},"")]),n("div",Fm,[n("div",Dm,[n("div",Tm,Y(q(A)(q(r)).value||0),1),N[15]||(N[15]=n("div",{class:"metric-label"},"IFSS",-1)),n("div",{class:"metric-classification",style:fe({color:q(m)(q(A)(q(r)).value||0).color})},Y(q(m)(q(A)(q(r)).value||0).label),5)]),n("div",Bm,[n("div",Rm,Y(q(A)(q(r)).year),1),N[16]||(N[16]=n("div",{class:"metric-label"},"Ao de datos",-1))])]),n("div",Vm,[n("p",null,Y(q(A)(q(r)).descripcion),1)])])):le("",!0)])):le("",!0)])}}},Nm=Ie(Lm,[["__scopeId","data-v-fd4f7876"]]),Om={class:"maps-page"},zm={class:"filters-toggles-row"},jm={class:"filters-column"},Hm={class:"toggles-column"},Ym={class:"qualitativeIndicatorPanel"},Gm={key:0,class:"error-panel"},qm={__name:"IndicatorView",setup(e){const t=L(!1),s=zt(),{selectedEntity:a,loading:o,error:l,loadFilterData:i,setEntityFilter:r,setYearFilter:d,setVariableFilter:f,initializeFilters:c}=fl(),{loading:u,error:v,selectedState:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,resetSelection:y,initializeData:w}=s,I=K(()=>o.value||u.value),$=K(()=>l.value||v.value);be(h,P=>{console.log("Estado seleccionado en el mapa:",P),P&&P!==a.value?(r(P),t.value=!0):P||(r(null),t.value=!1)});const z=P=>{r(P),t.value=!0,P?p(P):y()},S=P=>{d(P)},x=P=>{f(P)},b=P=>{P.year!==void 0&&d(P.year),P.variable!==void 0&&f(P.variable),t.value=!0},k=()=>{c(),w(),i()};return Oe(async()=>{try{c(),await i()}catch(P){console.error("Error inicializando MapsPage:",P)}}),(P,V)=>(g(),C("div",Om,[n("div",zm,[n("div",jm,[ye(Vn,{entities:P.entitiesData,loading:I.value,onEntityChange:z,onYearChange:S,onVariableChange:x,onFiltersChange:b},null,8,["entities","loading"])]),n("div",Hm,[ye(dl)])]),n("div",Ym,[ye(Nm)]),$.value?(g(),C("div",Gm,[V[0]||(V[0]=n("h3",null,"Error en el sistema",-1)),n("p",null,Y($.value),1),n("button",{onClick:k,class:"retry-btn"}," Reintentar ")])):le("",!0)]))}},Um=Ie(qm,[["__scopeId","data-v-a847f395"]]),pl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADqdJREFUeJzt3Wms51V9x/H3/AfQgizKIkorUmUoYlHcohYR1Lq0Lg1twe1RKzEmRn3QtHZJmjQ2tUm1rVsarX2iFBsNbd1pa0AxVltFxWEqA7YuYFEWAQHLItMHv7l453LvzN3+v7/3zuv1ZOb+lvP7PDvf//md3zkFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBuW9a5vUOrp1enVNuq46qDq8PX+TkAsJndUt1RXVvtrK6oPlf9cL0esB4FwM9VL6/Orp5QHbAObQIAe7qn+lJ1YXVB9Z21NLaWAuCM6o3V86rJWkIAACtyb/XJ6s+rz6ymgdUUAI+r3tZQAAAAs/Xp6nXV5Su5aSW/3B9YvbX6Yjp/APhp8cyGVwNvqR6w3JuWOwKwrfqH6vErzwUAjOTL1bnVVfu6cDkFwBnVhzOTHwA2gpurl7SPuQH7egXw4uqidP4AsFEc0dB3v3hvF+1tBOCs6uMN7/4BgI3lruqF1b8udnKpAuDU6tLqsCmFAgCm75bq9Gr7whOLFQCHNMz0/4UphwIApu+q6oktWEVw6yIXvrt6zhiJAICpO7I6pmFC/30WjgA8o2FBgfXeIwAAmJ1dDXP7Pj13YH5Hv7X6asNGPgDA5nJ5w549P649PwM8N50/AGxWpzZs3FftOQJwWXXa6HEAgLF8taGv3zU3AnB6On8A2OweVz21fvIK4BWzywIAjOgVNbwCmFTfq46aaRwAYAzfr46dNEwK0PkDwP7hmOqUScM+wgDA/uOsuREAAGD/8YuTatusUwAAo9o2qY6fdQoAYFSPnGTLXwDY3xy2pbq7OmDWSQCA0dwzqe6ZdQoAYFR3T6rbZp0CABjVDyfVjbNOAQCM6sZJdfWsUwAAo7pqUl056xQAwKh2TqovzDoFADCqz29p2BTguoadAQGAzW1XdcykYVvAy2YcBgAYxxerGya7/7hglkkAgNGcXz8Z9n9Y9a3qwJnFAQCm7a6GPYCumxsB+N+MAgDAZvf+hnl/e0z8e0z1tWqy2B0AwIb24+qUdn/+P7+z31G9dxaJAICpe3fz1v5Z+OnfQ3afPGrMRADAVN1UnVTdMHdg4XD/TdVrxkwEAEzdec3r/Ku2LnLRjurY6kljJAIApuod1VsXHlxq9b+Dqo9Uz51mIgBgqi6uXlDdufDE3pb/Pay6pDptOpkAgCn6cnVmdetiJ/f2yd+t1bOrz65/JgBgir7QMIq/aOdf+/7m/wfV86oL1zEUADA9H6rOasGkv4WWs+jPHdWvV69ukXcIAMBPhTurN1TnVD/a18WLfQWwlC9V/9SwitAjV5MMAJiKS6pfa5jAvywrXfZ3e8Owwkt3/x8AmJ3t1bnVs6orVnLj3r4CWM69L6peVT0/OwkCwBjuqi6q3lN9tNq1mkbWUgDMd1T1wobRgWc0vCJYr7YBYH+2q/qf6tKG7/o/Wt241kan1UkfXG2rHl4dUj14Ss8BgM3oB9Xt1bXVVQ0T8gEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPYnW6bQ5tHVKdWJ1XHVwdXhU3gOAGxWt1R3VNdWO6srqhvW8wHrUQBsrc6qzq7OrE5ehzYBgD3tqC6pLqwuru5dS2NrKQCOrl5X/Vb18LWEAABW5Nrq76q3V9evpoHVFACHV39cvbpheB8AmI07qr+p/qThtcGyrbQAeEX1luqhK7wPAJie66rfqc5f7g3LLQAOrd5VvXIVoQCAcXyoelXLGA1YTgFwfPWJTO4DgI1gR/WC6tt7u2hfBcAp1UUNn/MBABvDNdXzGz4fXNTeCoBHVZ+tjl3nUADA9F1fnd6wjsD9LFUAPLT6XPXzUwoFAEzfN6qnV99feGKyyMWT6n3p/AFgo3tU9YGGRfv2cL8D1R9U5007EQAwihOqHzW81r/PwlcAJ1Zfqx4wUigAYPruqk6trpw7sPAVwDvT+QPAZnNQ9ZfzD8wfAXhW9alR4wAAYzqjurT2HAF442yyAAAj+f25/8yNAJzcsHIQALB57Wro86+cGwGwxj8AbH5bGjb2u28E4L8bPhMAADa3q6sTtzQsEnD1jMMAAOM5YVKdNesUAMCozpxUp806BQAwqidMqpNmnQIAGNVJk2z6AwD7m0dNqsNnnQIAGNXhW6o7G9YIBgD2D3cu3AwIANgPTKrbZh0CABjVDyfVzbNOAQCM6pZJwzLAAMD+4+pJtXPWKQCAUe2cVJfNOgUAMKrLbAYEAPufEybVNzIPAAD2F1dV35xbB+CCWSYBAEZzQdWW3X+cXO2YXRYAYAS7Gvr8K+dGAP6r+pfZ5QEARvCJ6soaVgKc8+bZZAEARvJnc/+ZXwBcXF00fhYAYAQfqz4798eWBScfXW2vHjBmIgBgqu6sTm3e4n9bF1xwU3Vv9ewRQwEA0/VH1YfnH1g4AlDDa4FPVr88RiIAYKouqn6l4Qf+fRYrAKqOqT7XsEogALAxXV09vbp+4YnJ/a+t6vvVc6vrphgKAJie6xt++d+v86+lC4Aalgd+TnXNFEIBANNzTXVWw7K/i9pbAVB1RfVLWSUQADaK7Q3D/lfs7aJ9FQBV366eVL1tHUIBANPzvupp1Xf2deHCzwCXck/DlwFXNowIHLrqaADAevtudV71puqu5dyw3AJgzvbqPdUB1eOrg1Z4PwCwfm6r/qo6p7psJTcu9RngchxVvbb67epn19AOALAy11Tvrd5e3biaBtZSAMyZVM+szm6YcfiYdWoXABjsapjUd3F1YfWZFizss1LT6KiPbCgCtlXHVYdUR0zhOQCwWd1c3V5d27B+/45W+UsfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgg9oypXYfVJ1YHVcdXB0xpecAwGZ0c3VHdW21s7p9vR+wXgXA0dWLqjOrM6rj16ldAKC+WV1aXVx9pLphrQ2upQCYNHT651XPrQ5caxgAYJ/uri6q3tNQDOxaTSOrKQC2VC+r/rB6zGoeCgCsix3Vm6oPtMJCYKUFwKnVO6vTV3gfADA9l1avrS5f7g1bl3ndlur11QerE1aeCwCYouMbXslvrT7TMkYDljMCcHD199VL1hQNABjDP1avbPiKYEn7KgAeXH04Q/4AsJH8R/Wr7eVrgb0VAIc3fG5w2jqHAgCm78sNn+ffutjJyRI3HdTwvl/nDwAb02nVP1cPXOzkUpMA31WdM61EAMAoHlk9pPr4whOLFQC/Wb15yoEAgHE8uWE54e3zDy6cA3Bk9fXqqJFCAQDTd1N1UvMmBS4cAXh7ZvwDwGbzM9Vh1cfmDswfATilYQWhpSYGAgAb170Nff3Xa8/O/vfS+QPAZjWpfnfuj7kRgIc3bDVoRz8A2Lzurh5RXTf3i//l6fwBYLM7sHpp/WTI/2WzywIAjOjlNbwCOKa6rpVvDQwAbDy7qmMn1Vnp/AFgf7GlesakesqskwAAo3rqpGFlIABg/7FtUj161ikAgFGdOGlY/x8A2H8cOakeNOsUAMCoDp1UB8w6BQAwqgMn1e2zTgEAjOqHk+rWWacAAEZ166T61qxTAACj+uak2jnrFADAqHZOqq/OOgUAMKrLJ9WnZ50CABjVJVsatgS+rjp6xmEAgOn7XvWwSXVv9aEZhwEAxvHBatdk9x/nzzIJADCa82vYE3jOl6onzCYLADCCrzT09feNAFT9xYzCAADj+NNqV+05ArC1oTJ47CwSAQBT9ZXqiQ1z/5o/AvDj6jXtrgwAgE1jV/WGdnf+Nfzqn+/b1SOq00YMBQBM199W75h/YMsiFx1S/Wd18hiJAICp2lE9ubpj/sHJIhfeXp2TXQIBYKO7paFPv2PhicUKgKrt1Uuq/5tiKABgeu6qfqO6YrGTSxUAVZdU56YIAICN5kcNnf+/LXXBYnMAFnpq9dHqyHUKBQBMzw8aRvEv3dtFexsBmPP56km7/wUAfnpdVj2lfXT+df/PAJdyc/X+6oG7G15O4QAAjOPu6q3VK6vrl3PDcl4BLPTY6q+rZ63iXgBgfX2qen1LTPZbymp+yW+vnl2d3jA34N69Xw4ArLN7G/rg06vntMLOv1Y3ArDQcdXLqrMbFho4YB3aBAD2dHfDQn0XVh+orl1LY+tRAMz3oOpp1SnVtobi4JDqiHV+DgBsZjdXt1XfrXY2/ML/993HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYX/8P84yf0a8WqFgAAAAASUVORK5CYII=",Wm={class:"ifss-slider-container"},Xm={class:"slider-wrapper"},Km={class:"thumb-label"},Qm={class:"thumb-label"},Jm={class:"chart-container"},Zm={class:"bars-wrapper"},eb=["onClick","onMouseenter"],tb={class:"bar-label"},sb={class:"tooltip-content"},ab={class:"color-label"},nb={class:"tooltip-info"},ob={class:"tooltip-label"},lb={class:"tooltip-value"},ib={key:0,class:"selected-info"},rb={class:"info-content"},cb={class:"info-label"},ub={class:"info-value"},db={class:"info-position"},fb={__name:"RankinSlider",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null},selectedStateName:{type:String,default:null}},emits:["range-change","filter-change","state-click"],setup(e,{emit:t}){const s=L(null),a=L(1200),o=L({min:0,max:5}),l=L("none"),i=K(()=>l.value==="min"?"bar-slide-min":l.value==="max-left"?"bar-slide-max-left":l.value==="max-right"?"bar-slide-max-right":"bar-slide-min"),r=e,d=t,f=L(null),c=L({visible:!1,x:0,y:0,label:"",value:"",color:""}),u=K(()=>({left:`${c.value.x}px`,top:`${c.value.y-100}px`,transform:"translateX(-50%)"})),v=(J,Z)=>{f.value=J.region;const he=Z.currentTarget.querySelector(".bar").getBoundingClientRect();c.value={visible:!0,x:he.left+he.width/2,y:he.top,label:V(J.region),value:`IFSS: ${J.value}`,color:b(J.value),classification:x(J.value),barHeight:he.height}},h=()=>{f.value=null,c.value.visible=!1},A=["Muy alto","Alto","Medio alto","Medio","Medio bajo","Bajo","Muy bajo"],m=[{min:2.5,max:3,label:"Muy alto"},{min:2,max:2.4,label:"Alto"},{min:1.7,max:1.9,label:"Medio alto"},{min:1.3,max:1.6,label:"Medio"},{min:1,max:1.2,label:"Medio bajo"},{min:.7,max:.9,label:"Bajo"},{min:0,max:.6,label:"Muy bajo"}],p={"Muy alto":"#6ac952",Alto:"#94d351","Medio alto":"#bddc50",Medio:"#e6d64f","Medio bajo":"#e6a74c",Bajo:"#e67849","Muy bajo":"#e52845"},y=L(0),w=L(5),I=K(()=>[...r.statesData].sort((J,Z)=>Z.value-J.value)),$=K(()=>I.value.filter(J=>P(J)));Oe(()=>{s.value&&(a.value=s.value.offsetWidth)});const z=K(()=>{const J=$.value.length;if(J===0)return"30px";const ne=(J-1)*1;return`${((a.value-ne)/J).toFixed(3)}px`});K(()=>r.statesData.length===0?3:Math.max(...r.statesData.map(J=>J.value||0)));const S=K(()=>{const J=y.value/5*100,Z=(w.value-y.value)/5*100;return{left:`${J}%`,width:`${Z}%`}}),x=J=>{for(let Z of m)if(J>=Z.min&&J<=Z.max)return Z.label;return J>m[0].max?"Muy alto":"Muy bajo"},b=J=>{const Z=x(J);return p[Z]||"#e0e0e0"},k=J=>{const Z=J/3*100;return Math.max(Z,10)},P=J=>{const Z=x(J.value),ne=A.indexOf(Z);return ne>=y.value&&ne<=w.value},V=J=>({Aguascalientes:"AGS","Baja California":"BC","Baja California Sur":"BCS",Campeche:"CAMP",Chiapas:"CHIS",Chihuahua:"CHIH","Ciudad de Mxico":"CDMX",Coahuila:"COAH",Colima:"COL",Durango:"DGO","Estado de Mxico":"MEX",Guanajuato:"GTO",Guerrero:"GRO",Hidalgo:"HGO",Jalisco:"JAL",Michoacn:"MICH",Morelos:"MOR",Nayarit:"NAY","Nuevo Len":"NL",Oaxaca:"OAX",Puebla:"PUE",Quertaro:"QRO","Quintana Roo":"QROO","San Luis Potos":"SLP",Sinaloa:"SIN",Sonora:"SON",Tabasco:"TAB",Tamaulipas:"TAMPS",Tlaxcala:"TLAX",Veracruz:"VER",Yucatn:"YUC",Zacatecas:"ZAC"})[J]||J.substring(0,3).toUpperCase(),M=J=>{const Z=I.value.findIndex(ne=>ne.region===J);return Z!==-1?Z+1:"-"},T=()=>{y.value>w.value&&(y.value=w.value),l.value="min",U()},j=()=>{w.value<y.value&&(w.value=y.value),w.value<o.value.max?l.value="max-left":w.value>o.value.max&&(l.value="max-right"),U()},F=J=>{d("state-click",J)},U=()=>{const J={min:m[y.value].min,max:m[w.value].max,minLabel:A[y.value],maxLabel:A[w.value],minIndex:y.value,maxIndex:w.value};d("range-change",J);const Z=r.statesData.filter(ne=>{const he=ne.value||0;return he>=J.min&&he<=J.max});d("filter-change",Z),o.value={min:y.value,max:w.value}};return be(()=>r.statesData,()=>{r.statesData.length>0&&U()},{immediate:!0}),(J,Z)=>(g(),C("div",Wm,[n("div",Xm,[n("div",{class:"active-range",style:fe(S.value)},null,4),Rs(n("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":Z[0]||(Z[0]=ne=>y.value=ne),class:pe(["slider-input slider-min",{"z-top":y.value>=w.value-5}]),onInput:T},null,34),[[da,y.value,void 0,{number:!0}]]),Rs(n("input",{type:"range",min:"0",max:"5",step:"1","onUpdate:modelValue":Z[1]||(Z[1]=ne=>w.value=ne),class:pe(["slider-input slider-max",{"z-top":w.value<=y.value+5}]),onInput:j},null,34),[[da,w.value,void 0,{number:!0}]]),n("div",{class:"custom-thumb thumb-min",style:fe({left:`${y.value/5*100}%`})},[Z[2]||(Z[2]=n("div",{class:"thumb-circle"},null,-1)),n("div",Km,Y(A[y.value]),1)],4),n("div",{class:"custom-thumb thumb-max",style:fe({left:`${w.value/5*100}%`})},[Z[3]||(Z[3]=n("div",{class:"thumb-circle"},null,-1)),n("div",Qm,Y(A[w.value]),1)],4)]),n("div",Jm,[n("div",Zm,[ye(wf,{name:i.value},{default:ct(()=>[(g(!0),C(ge,null,_e($.value,(ne,he)=>(g(),C("div",{key:ne.region,class:pe(["bar-item",{"is-selected":ne.region===e.selectedStateName,"is-dimmed":e.selectedStateName&&ne.region!==e.selectedStateName}]),style:fe({width:z.value}),onClick:we=>F(ne.region),onMouseenter:we=>v(ne,we),onMouseleave:h},[n("div",{class:"bar",style:fe({height:`${k(ne.value)}%`,backgroundColor:b(ne.value)})},null,4),n("span",tb,Y(V(ne.region)),1)],46,eb))),128))]),_:1},8,["name"])])]),(g(),Re(jt,{to:"body"},[c.value.visible?(g(),C("div",{key:0,class:"tooltip",style:fe(u.value)},[n("div",sb,[n("div",{class:"tooltip-color",style:fe({backgroundColor:c.value.color})},[n("span",ab,Y(c.value.classification),1)],4),n("div",nb,[n("div",ob,Y(c.value.label),1),n("div",lb,Y(c.value.value),1)])])],4)):le("",!0)])),e.selectedStateName?(g(),C("div",ib,[n("div",rb,[n("span",cb,Y(e.selectedStateName),1),n("span",ub,"IFSS: "+Y(J.selectedStateIFSS),1),n("span",db,"Posicin: #"+Y(M(e.selectedStateName)),1)])])):le("",!0)]))}},vb=Ie(fb,[["__scopeId","data-v-7f887adf"]]);function gl(e){const{entitiesData:t,loading:s,loadFilterData:a,initializeFilters:o}=fl(),l=L({min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"}),i=L([]),r=L(!1),d=K(()=>t.value.map($=>({region:$.name,value:$.value||0,year:$.year||2023,...$}))),f=K(()=>{if(!e)return null;const{selectedState:$,getStateInfo:z}=e;return $.value?z($.value).value||0:null}),c=K(()=>e?e.selectedState.value:null),u=$=>(l.value=$,r.value=!0,console.log(" Rango IFSS seleccionado:",{min:$.min,max:$.max,minLabel:$.minLabel,maxLabel:$.maxLabel}),$),v=$=>(i.value=$,console.log(" Estados filtrados por rango IFSS:",{total:$.length,estados:$.map(z=>`${z.region}: ${z.value}`)}),$),h=()=>{l.value={min:0,max:3,minLabel:"Muy bajo",maxLabel:"Muy alto"},i.value=[],r.value=!1},A=$=>{const z=d.value.find(x=>x.region===$);if(!z)return null;const S=z.value;return S>=2.5?{label:"Muy alto",color:"#6ac952"}:S>=2?{label:"Alto",color:"#94d351"}:S>=1.7?{label:"Medio alto",color:"#bddc50"}:S>=1.3?{label:"Medio",color:"#e6d64f"}:S>=1?{label:"Medio bajo",color:"#e6a74c"}:S>=.7?{label:"Bajo",color:"#e67849"}:{label:"Muy bajo",color:"#e52845"}},m=K(()=>{if(!r.value||i.value.length===0)return{count:d.value.length,average:0,min:0,max:0};const $=i.value.map(S=>S.value),z=$.reduce((S,x)=>S+x,0);return{count:$.length,average:(z/$.length).toFixed(2),min:Math.min(...$).toFixed(1),max:Math.max(...$).toFixed(1)}}),p=$=>i.value.some(z=>z.region===$),y=K(()=>[...d.value].sort((z,S)=>S.value-z.value).map((z,S)=>({...z,position:S+1,classification:A(z.region)})));return{entitiesData:t,statesDataForSlider:d,selectedStateIFSS:f,selectedStateName:c,selectedRange:l,filteredStates:i,isSliderActive:r,filtersLoading:s,getRangeStats:m,getStatesRanking:y,handleRangeChange:u,handleFilterChange:v,resetSlider:h,getStateClassification:A,isStateInRange:p,getStatePosition:$=>{const S=y.value.find(x=>x.region===$);return S?S.position:null},initialize:async()=>{try{o(),await a(),console.log(" Slider inicializado con",d.value.length,"estados")}catch($){console.error(" Error inicializando slider:",$)}},loadFilterData:a,initializeFilters:o}}const hb={class:"filters-toggles-row"},pb={class:"filters-column"},gb={class:"toggles-column"},mb={class:"map-container"},bb={key:0,class:"loading-state"},yb={key:1,class:"error-state"},Ab={key:2,class:"map-content"},wb={class:"map-and-charts-wrapper"},Cb={class:"charts-section"},_b={class:"charts-container"},kb={key:0,class:"charts-empty-state"},$b={key:0,class:"ranking-panel"},Sb={class:"header-ranking-panel"},xb={class:"body-ranking-panel"},Eb={class:"slider-ranking-panel"},Ib={__name:"RankingView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:I,initializeData:$}=s.mapsComposable||zt(),{setChartData:z}=Pa(),{statesDataForSlider:S,selectedStateIFSS:x,handleRangeChange:b,handleFilterChange:k,initialize:P}=gl(s.mapsComposable||zt()),V=Ia(),M=async U=>{if(p(U),await ze(),r.value===U){const J=A(U);a("region-selected",{name:U,data:J})}else a("region-selected",null)},T=()=>{console.log("Navegando a datos regionales..."),r.value&&I()},j=()=>{console.log("Navegando a federales...")},F=()=>{console.log("Navegando a cualitativos..."),V.push("/finanzas/cualitativos")};return be(r,(U,J)=>{if(U&&U!==J){const Z=A(U);z(Z),a("region-selected",{name:U,data:Z})}else!U&&J&&a("region-selected",null)}),be(i,U=>{U&&a("map-error",U)}),Oe(async()=>{await P()}),(U,J)=>(g(),C(ge,null,[n("div",hb,[n("div",pb,[ye(Vn,{entities:U.entitiesData,loading:q(l),onEntityChange:U.handleEntityChange,onYearChange:U.handleYearChange,onVariableChange:U.handleVariableChange,onFiltersChange:U.handleFiltersChange},null,8,["entities","loading","onEntityChange","onYearChange","onVariableChange","onFiltersChange"])]),n("div",gb,[ye(dl)])]),n("div",mb,[q(l)?(g(),C("div",bb,[...J[1]||(J[1]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):le("",!0),q(i)?(g(),C("div",yb,[n("p",null,"Error: "+Y(q(i)),1),n("button",{onClick:J[0]||(J[0]=(...Z)=>q($)&&q($)(...Z)),class:"retry-btn"}," Reintentar ")])):le("",!0),!q(l)&&!q(i)?(g(),C("div",Ab,[n("div",wb,[ye(Xc,{geoData:q(o),selectedState:q(r),hoveredState:q(d),mapConfig:q(f),nationalIFSS:q(v),getStateColor:q(h),getStateInfo:q(A),getIFSSLabel:q(m),onStateClick:M,onStateHover:q(y),onStateLeave:q(w),onNavigateRegional:T,onNavigateFederal:j},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","onStateHover","onStateLeave"]),n("div",{class:"retractable-view"},[n("div",{class:"expand-retractable-btn",onClick:F},"+")]),n("div",Cb,[n("div",_b,[q(r)?(g(),Re(Jc,{key:1,selectedState:q(r),ifssData:q(A)(q(r))},null,8,["selectedState","ifssData"])):(g(),C("div",kb,[...J[2]||(J[2]=[n("div",{class:"empty-state-icon"},"",-1),n("h4",null,"Anlisis de Estado",-1),n("p",null,"Haz clic en cualquier estado del mapa para ver sus grficas detalladas",-1)])]))])])]),q(r)?(g(),C("div",$b,[n("div",Sb,[n("h2",null,"Posiciones de las entidades en el ranking del ndice de Finanzas Sostenibles Subnacional "+Y(q(r)),1),J[3]||(J[3]=n("div",{class:"ranking-hamburger-menu"},[n("img",{src:pl,alt:"hamburger-menu",class:"hamburger-icon"})],-1))]),n("div",xb,[n("div",Eb,[ye(vb,{statesData:q(S),selectedStateValue:q(x),onRangeChange:q(b),onFilterChange:q(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])):le("",!0)])):le("",!0)])],64))}},Pb=Ie(Ib,[["__scopeId","data-v-941e133a"]]),Mb={class:"linear-chart-container"},Fb={key:0,class:"chart-header"},Db={class:"header-content"},Tb={class:"chart-title"},Bb={key:0,class:"chart-subtitle"},Rb={key:1,class:"variable-filters"},Vb=["onClick"],Lb={key:2,class:"no-data"},Nb=["width","height"],Ob={class:"grid"},zb=["x1","y1","x2","y2"],jb={class:"y-axis-labels"},Hb=["x","y"],Yb=["x1","y1","x2","y2"],Gb={class:"lines"},qb=["d","stroke"],Ub={class:"animated-data-points"},Wb=["cx","cy","fill"],Xb={class:"permanent-data-points"},Kb=["cx","cy","fill"],Qb={class:"data-points"},Jb=["cx","cy","r","fill"],Zb={class:"tooltip-header"},ey={class:"tooltip-year-label"},ty={class:"tooltip-content"},sy={class:"tooltip-variable-name"},ay={class:"tooltip-variable-value"},ny={key:4,class:"x-axis-container"},oy={__name:"LinearChart",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},width:{type:Number,default:800},height:{type:Number,default:400},padding:{type:Object,default:()=>({top:30,right:40,bottom:90,left:60})},hideHeader:{type:Boolean,default:!1},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,o=L(null),l=L({width:s.width,height:s.height}),i=L({visible:!1,x:0,index:-1,label:"",previousIndex:-1}),r=L({}),d=K(()=>s.padding),f=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],c={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E",IFS:"#9E9E9E"," IFS":"#9E9E9E"},u=K(()=>Object.keys(s.data)),v=L([]),h=L({}),A=L(new Set);be(()=>s.data,(R,G)=>{const N=Object.keys(R),W=G?Object.keys(G):[];N.forEach(te=>{h.value[te]||(h.value[te]=[...R[te]||[]])});const X=W.length===0,D=N.length>0;X&&D&&v.value.length===0&&we(N),ze(()=>{ae()})},{deep:!0}),be(u,()=>{ze(()=>{ae()})}),be([()=>s.width,()=>s.height],()=>{ae()});const m=K(()=>l.value.height-d.value.top-d.value.bottom),p=K(()=>l.value.width-d.value.left-d.value.right),y=K(()=>m.value/(s.gridLines-1)),w=K(()=>{const R=[];return v.value.forEach(G=>{s.data[G]&&Array.isArray(s.data[G])&&R.push(...s.data[G].filter(N=>N!=null&&!isNaN(N)))}),R.length>0?R:[0]}),I=K(()=>{if(w.value.length===0)return 100;const R=Math.max(...w.value),G=Math.min(...w.value);if(R===G)return R>0?R*1.2:R+10;const N=R-G;return R+N*.2}),$=K(()=>{if(w.value.length===0)return 0;const R=Math.max(...w.value),G=Math.min(...w.value);if(R===G)return G>0?G*.8:G-10;const N=R-G;return G-N*.2});K(()=>{const R=I.value-$.value;return R>0?m.value/R:1});const z=K(()=>v.value.length>0&&v.value.some(R=>s.data[R]&&s.data[R].length>0)),S=R=>s.data[R]||[],x=R=>{if(c[R])return c[R];const G=R.toLowerCase();if(G.includes("sostenible")||G.includes(" is")||G==="is"||G.includes("ps"))return"#7cb342";if(G.includes("carbono")||G.includes("iic")||G.includes("pic"))return"#DC143C";if(G.includes("total")||G.includes("gt")||G.includes("it")||G.includes("pt")||G.includes("ifs"))return"#9E9E9E";const N=u.value.indexOf(R);return f[N%f.length]},b=R=>{const N=x(R).replace("#",""),W=Math.max(0,parseInt(N.substr(0,2),16)-30),X=Math.max(0,parseInt(N.substr(2,2),16)-30),D=Math.max(0,parseInt(N.substr(4,2),16)-30);return`rgb(${W}, ${X}, ${D})`},k=R=>{const G=s.xLabels.length;if(G<=1)return d.value.left+p.value/2;const W=(l.value.width-d.value.left-d.value.right)/(G-1);return d.value.left+R*W},P=R=>{if(R==null||isNaN(R))return l.value.height-d.value.bottom;const G=I.value-$.value;if(G===0)return d.value.top+m.value/2;const W=(R-$.value)/G,X=d.value.top+m.value*(1-W);return Math.max(d.value.top,Math.min(l.value.height-d.value.bottom,X))},V=(R,G)=>{var W;const N=(W=h.value[R])==null?void 0:W[G];return P(N)},M=R=>{const N=(I.value-$.value)/(s.gridLines-1);return I.value-N*R},T=R=>{if(s.valueFormatter)return s.valueFormatter(R);const G=s.showCurrencySymbol?"$":s.valuePrefix,N=s.valueSuffix;return s.decimalPlaces!==null?`${G}${R.toFixed(s.decimalPlaces)}${N}`:s.showCurrencySymbol?Math.abs(R)>=1e9?`$${(R/1e9).toFixed(1)}B`:Math.abs(R)>=1e6?`$${(R/1e6).toFixed(1)}M`:Math.abs(R)>=1e3?`$${(R/1e3).toFixed(1)}K`:`$${Math.round(R)}`:Math.abs(R)>=1e9?`${G}${(R/1e9).toFixed(1)}B${N}`:Math.abs(R)>=1e6?`${G}${(R/1e6).toFixed(1)}M${N}`:Math.abs(R)>=1e3?`${G}${(R/1e3).toFixed(1)}K${N}`:Math.abs(R)<10?`${G}${R.toFixed(2)}${N}`:`${G}${Math.round(R)}${N}`},j=R=>{if(R==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(R);const G=s.showCurrencySymbol?"$":s.valuePrefix,N=s.valueSuffix;return s.decimalPlaces!==null?`${G}${R.toFixed(s.decimalPlaces)}${N}`:s.showCurrencySymbol?Math.abs(R)>=1e9?`$${(R/1e9).toFixed(1)}B`:Math.abs(R)>=1e6?`$${(R/1e6).toFixed(1)}M`:Math.abs(R)>=1e3?`$${(R/1e3).toFixed(1)}K`:`$${R.toFixed(0)}`:Math.abs(R)>=1e9?`${G}${(R/1e9).toFixed(1)}B${N}`:Math.abs(R)>=1e6?`${G}${(R/1e6).toFixed(1)}M${N}`:Math.abs(R)>=1e3?`${G}${(R/1e3).toFixed(1)}K${N}`:Math.abs(R)<10?`${G}${R.toFixed(2)}${N}`:`${G}${R.toFixed(0)}${N}`},F=R=>{const G=h.value[R];return!G||G.length===0?"":G.map((N,W)=>{const X=k(W),D=P(N);return W===0?`M ${X} ${D}`:`L ${X} ${D}`}).join(" ")},U=R=>{if(v.value.indexOf(R)>-1){A.value.add(R);const N=s.data[R];if(N){const W=[...h.value[R]],X=I.value-$.value,D=$.value-X*.5,te=500,O=te+300,E=Date.now(),_=()=>{const B=Date.now()-E,H=Math.min(B/O,1);if(B<te){const Q=B/te,ee=1-Math.pow(1-Q,3);h.value[R]=W.map(re=>re-(re-D)*ee)}else h.value[R]=new Array(N.length).fill(D);H<1?requestAnimationFrame(_):(v.value.splice(v.value.indexOf(R),1),A.value.delete(R))};_()}}else{v.value.push(R),A.value.add(R);const N=s.data[R];if(N){const W=I.value-$.value,X=$.value-W*.5;h.value[R]=new Array(N.length).fill(X);const D=800,te=Date.now(),O=()=>{const E=Date.now()-te,_=Math.min(E/D,1),B=1-Math.pow(1-_,3);h.value[R]=N.map((H,Q)=>{const ee=X;return ee+(H-ee)*B}),_<1?requestAnimationFrame(O):(h.value[R]=[...N],A.value.delete(R))};O()}}a("variable-toggle",R,v.value.includes(R))},J=R=>r.value[`${R}-x`]||0,Z=R=>r.value[`${R}-y`]||0,ne=R=>{const N=R.currentTarget.getBoundingClientRect(),W=R.clientX-N.left,X=s.xLabels.length;let D=0;if(X===1)D=0;else{const E=[];for(let _=0;_<X-1;_++){const B=k(_),Q=k(_+1)-B;E.push(B+Q*.05)}if(W<E[0])D=0;else if(W>=E[E.length-1])D=X-1;else for(let _=0;_<E.length-1;_++)if(W>=E[_]&&W<E[_+1]){D=_+1;break}}const te=i.value.index,O=k(D);i.value={visible:!0,x:O,index:D,label:s.xLabels[D],previousIndex:te},te!==D&&te!==-1&&he(te,D)},he=(R,G)=>{v.value.forEach(N=>{const W=k(R),X=k(G),D=V(N,R),te=V(N,G),O=200,E=Date.now(),_=()=>{const B=Date.now()-E,H=Math.min(B/O,1),Q=1-Math.pow(1-H,3);r.value[`${N}-x`]=W+(X-W)*Q,r.value[`${N}-y`]=D+(te-D)*Q,H<1?requestAnimationFrame(_):(delete r.value[`${N}-x`],delete r.value[`${N}-y`])};_()})},we=R=>{console.log(" [LinearChart] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",R),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((G,N)=>{const W=R.find(X=>X===G||X.trim()===G.trim());W?(console.log(`   Activando "${W}" en ${100+N*400}ms`),setTimeout(()=>{U(W)},100+N*400)):console.log(`   Variable "${G}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),R[0]&&setTimeout(()=>{U(R[0])},100),R[1]&&setTimeout(()=>{U(R[1])},900))},se=()=>{i.value={visible:!1,x:0,index:-1,label:"",previousIndex:-1},r.value={}},ae=()=>{l.value={width:s.width,height:s.height}};return Oe(async()=>{await ze(),ae(),setTimeout(()=>{const R=Object.keys(s.data);R.length>0&&v.value.length===0&&(console.log(" [LinearChart] onMounted (despus de delay) - Datos disponibles:",R),R.forEach(G=>{h.value[G]||(h.value[G]=[...s.data[G]||[]])}),we(R))},100)}),xa(()=>{}),(R,G)=>(g(),C("div",Mb,[e.hideHeader?le("",!0):(g(),C("div",Fb,[n("div",Db,[n("h3",Tb,Y(e.title),1),e.subtitle?(g(),C("p",Bb,Y(e.subtitle),1)):le("",!0)])])),u.value.length>0?(g(),C("div",Rb,[(g(!0),C(ge,null,_e(u.value,N=>(g(),C("button",{key:N,onClick:W=>U(N),class:pe(["filter-btn",{"filter-active":v.value.includes(N),"filter-inactive":!v.value.includes(N)}])},[n("span",{class:"btn-color-dot",style:fe({backgroundColor:x(N)})},null,4),Lt(" "+Y(N),1)],10,Vb))),128))])):le("",!0),z.value?(g(),C("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:o},[(g(),C("svg",{width:l.value.width,height:l.value.height,class:"line-chart",onMousemove:ne,onMouseleave:se},[n("g",Ob,[(g(!0),C(ge,null,_e(e.gridLines,N=>(g(),C("line",{key:`grid-${N}`,x1:d.value.left,y1:d.value.top+(N-1)*y.value,x2:l.value.width-d.value.right,y2:d.value.top+(N-1)*y.value,class:"grid-line"},null,8,zb))),128))]),n("g",jb,[(g(!0),C(ge,null,_e(e.gridLines,N=>(g(),C("text",{key:`y-label-${N}`,x:d.value.left-10,y:d.value.top+(N-1)*y.value+4,class:"y-axis-label","text-anchor":"end"},Y(T(M(N-1))),9,Hb))),128))]),i.value.visible?(g(),C("line",{key:0,x1:i.value.x,y1:d.value.top,x2:i.value.x,y2:l.value.height-d.value.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,Yb)):le("",!0),n("g",Gb,[(g(!0),C(ge,null,_e(v.value,(N,W)=>(g(),C("g",{key:`line-${N}`},[n("path",{d:F(N),stroke:x(N),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:pe(["line-path",{"line-exit":A.value.has(N)}]),style:fe({animationDelay:A.value.has(N)?"400ms":`${W*.1}s`,animationDuration:A.value.has(N)?"300ms":"1.5s"})},null,14,qb),n("g",Ub,[i.value.visible&&r.value[`${N}-x`]!==void 0?(g(),C("circle",{key:0,cx:J(N),cy:Z(N),r:5,fill:b(N),class:"data-point animated-point",style:fe({filter:`drop-shadow(0 0 8px ${b(N)})`,opacity:1})},null,12,Wb)):le("",!0)]),n("g",Xb,[(g(!0),C(ge,null,_e(S(N),(X,D)=>(g(),C("circle",{key:`permanent-point-${N}-${D}`,cx:k(D),cy:V(N,D),r:2,fill:x(N),class:"data-point-permanent"},null,8,Kb))),128))]),n("g",Qb,[(g(!0),C(ge,null,_e(S(N),(X,D)=>(g(),C("circle",{key:`point-${N}-${D}`,cx:k(D),cy:V(N,D),r:i.value.visible&&i.value.index===D&&r.value[`${N}-x`]===void 0?5:0,fill:x(N),class:pe(["data-point",{"is-hovered":i.value.visible&&i.value.index===D}]),style:fe({filter:`drop-shadow(0 0 8px ${x(N)})`})},null,14,Jb))),128))])]))),128))])],40,Nb)),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[i.value.visible?(g(),C("div",{key:0,class:"tooltip-container",style:fe({left:`${i.value.x}px`})},[n("div",Zb,[n("span",ey,Y(i.value.label),1)]),n("div",ty,[(g(!0),C(ge,null,_e(v.value,N=>(g(),C("div",{key:`tooltip-${N}`,class:"tooltip-item"},[n("span",{class:"tooltip-color-indicator",style:fe({backgroundColor:x(N)})},null,4),n("span",sy,Y(N)+":",1),n("span",ay,Y(j(S(N)[i.value.index])),1)]))),128))])],4)):le("",!0)]),_:1})],512)):(g(),C("div",Lb,[...G[0]||(G[0]=[Se('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-30a2d0a8><path d="M3 3v18h18" data-v-30a2d0a8></path><path d="M18 17V9" data-v-30a2d0a8></path><path d="M13 17V5" data-v-30a2d0a8></path><path d="M8 17v-3" data-v-30a2d0a8></path></svg><p data-v-30a2d0a8>No hay datos disponibles</p>',2)])])),z.value?(g(),C("div",ny,[(g(!0),C(ge,null,_e(s.xLabels,(N,W)=>(g(),C("div",{key:`x-label-external-${W}`,class:"x-axis-label",style:fe({left:`${k(W)}px`})},Y(N),5))),128))])):le("",!0)]))}},su=Ie(oy,[["__scopeId","data-v-30a2d0a8"]]),ly={key:0,class:"chart-header"},iy={class:"header-content"},ry={class:"chart-title"},cy={key:0,class:"chart-subtitle"},uy={key:1,class:"variable-filters"},dy=["onClick"],fy={key:2,class:"no-data"},vy=["width","height"],hy={class:"grid"},py=["x1","y1","x2","y2"],gy={class:"y-axis-labels"},my=["x","y"],by={class:"x-axis-labels"},yy=["x","y"],Ay=["id"],wy=["stop-color"],Cy=["stop-color"],_y=["x1","y1","x2","y2"],ky=["x1","y1","x2","y2"],$y={class:"areas"},Sy=["d","fill"],xy=["d","stroke"],Ey={class:"animated-data-points"},Iy=["cx","cy","fill"],Py={class:"data-points"},My=["cx","cy","r","fill"],Fy={class:"tooltip-header"},Dy={class:"tooltip-year-label"},Ty={class:"tooltip-content"},By={class:"tooltip-variable-name"},Ry={class:"tooltip-variable-value"},Vy={__name:"StackedArea",props:{title:{type:String,default:"Anlisis histrico"},subtitle:{type:String,default:""},data:{type:Object,default:()=>({})},xLabels:{type:Array,default:()=>["2020","2021","2022","2023","2024"]},showLegend:{type:Boolean,default:!0},gridLines:{type:Number,default:5},valueFormatter:{type:Function,default:null},showCurrencySymbol:{type:Boolean,default:!0},decimalPlaces:{type:Number,default:null},valueSuffix:{type:String,default:""},valuePrefix:{type:String,default:""},hideHeader:{type:Boolean,default:!1},width:{type:Number,default:null},height:{type:Number,default:null},initialVisibleVariables:{type:Array,default:null}},emits:["variable-toggle"],setup(e,{emit:t}){const s=e,a=t,o=L(null),l=L(null),i=L(null),r=L({width:800,height:300});let d=null;const f=L({visible:!1,x:0,index:-1,label:"",yValue:null,yPosition:0,previousIndex:-1}),c=L({}),u={top:10,right:15,bottom:25,left:40},v=["#7cb342","#9E9E9E","#DC143C","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444"],h={"IS Total":"#7cb342",IS:"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342","IIC Total":"#DC143C",IIC:"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_C:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},A=K(()=>Object.keys(s.data)),m=L([]),p=L({});be(()=>s.data,(O,E)=>{const _=Object.keys(O),B=E?Object.keys(E):[];console.log(" [StackedArea] Watch data ejecutado"),console.log("  - Variables anteriores:",B.length),console.log("  - Variables nuevas:",_),_.forEach(ee=>{p.value[ee]||(p.value[ee]=new Array(s.xLabels.length).fill(0))});const H=B.length===0,Q=_.length>0;H&&Q&&m.value.length===0&&y(_)},{deep:!0});const y=O=>{console.log(" [StackedArea] Activando variables iniciales..."),console.log("  - initialVisibleVariables prop:",s.initialVisibleVariables),console.log("  - Variables disponibles:",O),s.initialVisibleVariables&&s.initialVisibleVariables.length>0?s.initialVisibleVariables.forEach((E,_)=>{const B=O.find(H=>H===E||H.trim()===E.trim());B?(console.log(`   Activando "${B}" en ${100+_*400}ms`),setTimeout(()=>{V(B)},100+_*400)):console.log(`   Variable "${E}" NO encontrada`)}):(console.log("   Usando comportamiento por defecto (primeras 2 variables)"),O[0]&&setTimeout(()=>{V(O[0])},100),O[1]&&setTimeout(()=>{V(O[1])},500))},w=K(()=>m.value.length>0&&m.value.some(O=>s.data[O]&&s.data[O].length>0));be(w,async O=>{O&&(await ze(),await ze(),await ze(),te(),o.value&&(d?d.disconnect():d=new ResizeObserver(()=>{requestAnimationFrame(()=>{te()})}),d.observe(o.value)))},{immediate:!0}),be(A,async()=>{await ze(),w.value&&te()}),be([()=>s.width,()=>s.height],()=>{te()});const I=K(()=>{if(!w.value)return 100;let O=0;for(let E=0;E<s.xLabels.length;E++){let _=0;m.value.forEach(B=>{var Q;const H=((Q=p.value[B])==null?void 0:Q[E])||0;_+=H}),O=Math.max(O,_)}return O*1.1||100}),$=O=>{const E=I.value/(s.gridLines-1);return I.value-O*E},z=O=>{if(s.valueFormatter)return s.valueFormatter(O);const E=s.showCurrencySymbol?"$":s.valuePrefix,_=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${E}${O.toFixed(s.decimalPlaces)}${_}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(O)>=1e9?`$${(O/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(O)>=1e6?`$${(O/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(O)>=1e3?`$${(O/1e3).toFixed(s.decimalPlaces)}K`:`$${O.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(O)>=1e9?`$${(O/1e9).toFixed(1)}B`:O>=1e6?`$${(O/1e6).toFixed(1)}M`:O>=1e3?`$${(O/1e3).toFixed(0)}K`:`$${O.toFixed(0)}`:Math.abs(O)>=1e9?`${E}${(O/1e9).toFixed(1)}B${_}`:Math.abs(O)>=1e6?`${E}${(O/1e6).toFixed(1)}M${_}`:Math.abs(O)>=1e3?`${E}${(O/1e3).toFixed(1)}K${_}`:Math.abs(O)<10?`${E}${O.toFixed(2)}${_}`:`${E}${O.toFixed(0)}${_}`},S=K(()=>(r.value.height-u.top-u.bottom)/(s.gridLines-1)),x=O=>p.value[O]||[],b=O=>{if(h[O])return h[O];const E=O.toLowerCase();if(E.includes("sostenible")||E.includes(" is")||E==="is"||E.includes("ps"))return"#7cb342";if(E.includes("carbono")||E.includes("iic")||E.includes("pic"))return"#DC143C";if(E.includes("total")||E.includes("gt")||E.includes("it")||E.includes("pt"))return"#9E9E9E";const _=A.value.indexOf(O);return v[_%v.length]},k=O=>{const _=b(O).replace("#",""),B=Math.max(0,parseInt(_.substr(0,2),16)-40),H=Math.max(0,parseInt(_.substr(2,2),16)-40),Q=Math.max(0,parseInt(_.substr(4,2),16)-40);return`rgb(${B}, ${H}, ${Q})`},P=O=>O.replace(/[^a-zA-Z0-9]/g,"-"),V=O=>{const E=m.value.indexOf(O);E>-1?(m.value.splice(E,1),T(O)):(m.value.push(O),M(O)),a("variable-toggle",{variable:O,visible:E===-1})},M=O=>{const _=Date.now(),B=s.data[O];p.value[O]||(p.value[O]=new Array(B.length).fill(0));const H=()=>{const Q=Date.now()-_,ee=Math.min(Q/1e3,1),re=j(ee);p.value[O]=B.map(ie=>ie*re),ee<1&&requestAnimationFrame(H)};H()},T=O=>{const _=Date.now(),B=[...p.value[O]||[]],H=()=>{const Q=Date.now()-_,ee=Math.min(Q/500,1),re=F(ee);p.value[O]=B.map(ie=>ie*(1-re)),ee<1?requestAnimationFrame(H):p.value[O]=new Array(B.length).fill(0)};H()},j=O=>1-Math.pow(1-O,3),F=O=>O*O*O,U=O=>{const _=(r.value.width-u.left-u.right)/(s.xLabels.length-1);return u.left+O*_},J=O=>{const E=r.value.height-u.top-u.bottom,_=O/I.value;return r.value.height-u.bottom-_*E},Z=(O,E,_)=>{let B=0;for(let H=0;H<=_;H++){const Q=m.value[H],ee=x(Q);B+=ee[E]||0}return J(B)},ne=(O,E)=>{let _=0;for(let B=0;B<O;B++){const H=m.value[B],Q=x(H);_+=Q[E]||0}return _},he=(O,E)=>{const _=x(O);if(!_||_.length===0)return"";const B=_.map((ee,re)=>{const ie=U(re),ue=ne(E,re)+ee,oe=J(ue);return{x:ie,y:oe}}),H=_.map((ee,re)=>{const ie=U(re),ue=ne(E,re),oe=J(ue);return{x:ie,y:oe}}).reverse();let Q=we(B);return H.length>0&&(Q+=" L "+H.map(ee=>`${ee.x} ${ee.y}`).join(" L ")),Q+=" Z",Q},we=O=>{if(O.length<2)return"";let E=`M ${O[0].x} ${O[0].y}`;if(O.length===2)return E+=` L ${O[1].x} ${O[1].y}`,E;for(let _=0;_<O.length-1;_++){const B=O[_],H=O[_+1],Q=Math.abs(H.y-B.y);Math.abs(H.x-B.x);let ee=.2;Q>50&&(ee=.1),Q<5&&(ee=.05);let re,ie,ue,oe;if(_===0)re=B.x+(H.x-B.x)*ee,ie=B.y,ue=H.x-(H.x-B.x)*ee,oe=H.y;else{const me=O[_-1],ve=Math.abs(B.y-me.y);_<O.length-2&&Math.abs(O[_+2].y-H.y);let Ae=ee;if(ve>30&&Q<10&&(Ae=.05),ve<5&&Q<5&&(Ae=.02),re=B.x+(H.x-me.x)*Ae*.5,ie=B.y+(H.y-me.y)*Ae*.3,_<O.length-2){const Pe=O[_+2];ue=H.x-(Pe.x-B.x)*Ae*.5,oe=H.y-(Pe.y-B.y)*Ae*.3}else ue=H.x-(H.x-B.x)*Ae,oe=H.y;const Ce=Math.min(B.y,H.y),Ee=Math.max(B.y,H.y),Fe=(Ee-Ce)*.1;ie=Math.max(Ce-Fe,Math.min(Ee+Fe,ie)),oe=Math.max(Ce-Fe,Math.min(Ee+Fe,oe))}E+=` C ${re} ${ie}, ${ue} ${oe}, ${H.x} ${H.y}`}return E},se=(O,E)=>{const _=x(O);if(!_||_.length===0)return"";const B=_.map((H,Q)=>{const ee=U(Q),re=ne(E,Q)+H,ie=J(re);return{x:ee,y:ie}});return we(B)},ae=O=>{const _=O.currentTarget.getBoundingClientRect(),B=r.value.width/_.width,H=(O.clientX-_.left)*B,Q=s.xLabels.length;let ee=0;if(Q===1)ee=0;else{const oe=[];for(let me=0;me<Q-1;me++){const ve=U(me),Ce=U(me+1)-ve;oe.push(ve+Ce*.05)}if(H<oe[0])ee=0;else if(H>=oe[oe.length-1])ee=Q-1;else for(let me=0;me<oe.length-1;me++)if(H>=oe[me]&&H<oe[me+1]){ee=me+1;break}}const re=U(ee);let ie=0;m.value.forEach((oe,me)=>{const ve=x(oe);ie+=ve[ee]||0});const ue=J(ie);ee!==f.value.index&&R(ee),f.value={visible:!0,x:re,index:ee,label:s.xLabels[ee],yValue:ie,yPosition:ue,previousIndex:f.value.index}},R=O=>{const _=Date.now();m.value.forEach((B,H)=>{const Q=f.value.index>=0?f.value.index:O,ee=U(Q),re=U(O),ie=Q>=0?ne(H,Q)+(x(B)[Q]||0):0,ue=ne(H,O)+(x(B)[O]||0),oe=J(ie),me=J(ue),ve=()=>{const Ae=Date.now()-_,Ce=Math.min(Ae/200,1),Ee=j(Ce);c.value[`${B}-x`]=ee+(re-ee)*Ee,c.value[`${B}-y`]=oe+(me-oe)*Ee,Ce<1?requestAnimationFrame(ve):(delete c.value[`${B}-x`],delete c.value[`${B}-y`])};ve()})},G=O=>c.value[`${O}-x`]||0,N=O=>c.value[`${O}-y`]||0,W=()=>{f.value.visible=!1,c.value={}},X=K(()=>{if(!l.value||!f.value.visible)return{};const E=l.value.getScreenCTM();if(!E)return{};const _=f.value.x,B=f.value.yPosition,H=E.a*_+E.c*B+E.e,Q=E.b*_+E.d*B+E.f;return{left:`${H}px`,top:`${Q}px`}}),D=O=>{if(O==null)return"N/A";if(s.valueFormatter)return s.valueFormatter(O);const E=s.showCurrencySymbol?"$":s.valuePrefix,_=s.valueSuffix;return s.decimalPlaces!==null&&!s.showCurrencySymbol?`${E}${O.toFixed(s.decimalPlaces)}${_}`:s.decimalPlaces!==null&&s.showCurrencySymbol?Math.abs(O)>=1e9?`$${(O/1e9).toFixed(s.decimalPlaces)}B`:Math.abs(O)>=1e6?`$${(O/1e6).toFixed(s.decimalPlaces)}M`:Math.abs(O)>=1e3?`$${(O/1e3).toFixed(s.decimalPlaces)}K`:`$${O.toFixed(s.decimalPlaces)}`:s.showCurrencySymbol?Math.abs(O)>=1e9?`$${(O/1e9).toFixed(2)}B`:O>=1e6?`$${(O/1e6).toFixed(2)}M`:O>=1e3?`$${(O/1e3).toFixed(2)}K`:`$${O.toFixed(2)}`:Math.abs(O)>=1e9?`${E}${(O/1e9).toFixed(2)}B${_}`:Math.abs(O)>=1e6?`${E}${(O/1e6).toFixed(2)}M${_}`:Math.abs(O)>=1e3?`${E}${(O/1e3).toFixed(2)}K${_}`:Math.abs(O)<10?`${E}${O.toFixed(2)}${_}`:`${E}${O.toFixed(2)}${_}`},te=()=>{if(s.width!==null&&s.height!==null){r.value={width:s.width,height:s.height};return}if(s.width!==null&&o.value){const O=o.value.getBoundingClientRect();r.value={width:s.width,height:O.height>0?Math.floor(O.height):300};return}if(s.height!==null&&o.value){const O=o.value.getBoundingClientRect();r.value={width:O.width>0?Math.floor(O.width):800,height:s.height};return}if(o.value){const O=o.value.getBoundingClientRect();O.width>0&&O.height>0&&(r.value={width:Math.floor(O.width),height:Math.floor(O.height)})}};return Oe(async()=>{await ze(),await ze(),setTimeout(()=>{te();const O=Object.keys(s.data);O.length>0&&m.value.length===0&&(console.log(" [StackedArea] onMounted (despus de delay) - Datos disponibles:",O),O.forEach(E=>{p.value[E]||(p.value[E]=new Array(s.xLabels.length).fill(0))}),y(O)),o.value&&(d=new ResizeObserver(()=>{requestAnimationFrame(()=>{te()})}),d.observe(o.value))},100),window.addEventListener("resize",te)}),xa(()=>{window.removeEventListener("resize",te),d&&(d.disconnect(),d=null)}),(O,E)=>(g(),C("div",{class:"area-chart-container",ref_key:"containerRef",ref:i},[s.hideHeader?le("",!0):(g(),C("div",ly,[n("div",iy,[n("h3",ry,Y(e.title),1),e.subtitle?(g(),C("p",cy,Y(e.subtitle),1)):le("",!0)])])),A.value.length>0?(g(),C("div",uy,[(g(!0),C(ge,null,_e(A.value,_=>(g(),C("button",{key:_,onClick:B=>V(_),class:pe(["filter-btn",{"filter-active":m.value.includes(_),"filter-inactive":!m.value.includes(_)}])},[n("span",{class:"btn-color-dot",style:fe({backgroundColor:b(_)})},null,4),Lt(" "+Y(_),1)],10,dy))),128))])):le("",!0),w.value?(g(),C("div",{key:3,class:"chart-wrapper",ref_key:"chartWrapper",ref:o},[(g(),C("svg",{ref_key:"svgRef",ref:l,width:r.value.width,height:r.value.height,class:"area-chart",onMousemove:ae,onMouseleave:W},[n("g",hy,[(g(!0),C(ge,null,_e(e.gridLines,_=>(g(),C("line",{key:`grid-${_}`,x1:u.left,y1:u.top+(_-1)*S.value,x2:r.value.width-u.right,y2:u.top+(_-1)*S.value,class:"grid-line"},null,8,py))),128))]),n("g",gy,[(g(!0),C(ge,null,_e(e.gridLines,_=>(g(),C("text",{key:`y-label-${_}`,x:u.left-5,y:u.top+(_-1)*S.value+3,class:"y-axis-label","text-anchor":"end"},Y(z($(_-1))),9,my))),128))]),n("g",by,[(g(!0),C(ge,null,_e(s.xLabels,(_,B)=>(g(),C("text",{key:`x-label-${B}`,x:U(B),y:r.value.height-u.bottom+15,class:"x-axis-label-svg","text-anchor":"middle"},Y(_),9,yy))),128))]),n("defs",null,[(g(!0),C(ge,null,_e(m.value,_=>(g(),C("linearGradient",{key:`gradient-${_}`,id:`gradient-${P(_)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[n("stop",{offset:"0%","stop-color":b(_),"stop-opacity":"0.8"},null,8,wy),n("stop",{offset:"100%","stop-color":b(_),"stop-opacity":"0.2"},null,8,Cy)],8,Ay))),128))]),f.value.visible?(g(),C("line",{key:0,x1:f.value.x,y1:u.top,x2:f.value.x,y2:r.value.height-u.bottom,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.5","stroke-dasharray":"4 4"},null,8,_y)):le("",!0),f.value.visible&&f.value.yValue!==null?(g(),C("line",{key:1,x1:u.left,y1:f.value.yPosition,x2:r.value.width-u.right,y2:f.value.yPosition,class:"hover-line",stroke:"#9ca3af","stroke-width":"0.8"},null,8,ky)):le("",!0),n("g",$y,[(g(!0),C(ge,null,_e(m.value,(_,B)=>(g(),C("g",{key:`area-${_}`},[n("path",{d:he(_,B),fill:`url(#gradient-${P(_)})`,class:"area-path",style:fe({animationDelay:`${B*.1}s`})},null,12,Sy),n("path",{d:se(_,B),stroke:b(_),"stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"line-path",style:fe({animationDelay:`${B*.1}s`})},null,12,xy),n("g",Ey,[f.value.visible&&c.value[`${_}-x`]!==void 0?(g(),C("circle",{key:0,cx:G(_),cy:N(_),r:3,fill:k(_),class:"data-point animated-point",style:fe({filter:`drop-shadow(0 0 8px ${k(_)})`,opacity:1})},null,12,Iy)):le("",!0)]),n("g",Py,[(g(!0),C(ge,null,_e(x(_),(H,Q)=>(g(),C("circle",{key:`point-${_}-${Q}`,cx:U(Q),cy:Z(_,Q,B),r:f.value.visible&&f.value.index===Q&&c.value[`${_}-x`]===void 0?3:0,fill:b(_),class:pe(["data-point",{"is-hovered":f.value.visible&&f.value.index===Q}]),style:fe({filter:`drop-shadow(0 0 8px ${b(_)})`})},null,14,My))),128))])]))),128))])],40,vy))],512)):(g(),C("div",fy,[...E[0]||(E[0]=[Se('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-32f5b5f0><path d="M3 3v18h18" data-v-32f5b5f0></path><path d="M18 17V9" data-v-32f5b5f0></path><path d="M13 17V5" data-v-32f5b5f0></path><path d="M8 17v-3" data-v-32f5b5f0></path></svg><p data-v-32f5b5f0>No hay datos disponibles</p>',2)])])),(g(),Re(jt,{to:"body"},[ye(pt,{name:"tooltip-fade"},{default:ct(()=>[f.value.visible?(g(),C("div",{key:0,class:"tooltip-container",style:fe(X.value)},[n("div",Fy,[n("span",Dy,Y(f.value.label),1)]),n("div",Ty,[(g(!0),C(ge,null,_e(m.value,_=>(g(),C("div",{key:`tooltip-${_}`,class:"tooltip-item"},[n("span",{class:"tooltip-color-indicator",style:fe({backgroundColor:b(_)})},null,4),n("span",By,Y(_)+":",1),n("span",Ry,Y(D(x(_)[f.value.index])),1)]))),128))])],4)):le("",!0)]),_:1})]))],512))}},Yi=Ie(Vy,[["__scopeId","data-v-32f5b5f0"]]),Ly={class:"bar-chart-container"},Ny={key:0,class:"chart-title-section"},Oy={class:"chart-title"},zy={key:1,class:"filters-wrapper"},jy={class:"filters-section"},Hy=["onClick"],Yy={class:"chart-area"},Gy={class:"y-axis"},qy={class:"tick-label"},Uy={class:"grid-lines"},Wy={class:"bars-wrapper"},Xy={key:0,class:"bar-item"},Ky=["onMouseenter"],Qy={class:"x-axis-labels-container"},Jy={class:"x-axis-labels"},Zy={class:"tooltip-header"},e2={class:"tooltip-year-label"},t2={class:"tooltip-content"},s2={class:"tooltip-item"},a2={class:"tooltip-variable-name"},n2={class:"tooltip-variable-value"},o2={__name:"HistoricBarChart",props:{title:{type:String,default:"Grfico de Barras"},data:{type:Array,required:!0},showFilters:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},visibleVariableKeys:{type:Array,default:null},variablesConfig:{type:Object,default:null},initialActiveVariables:{type:Array,default:null}},setup(e){const t=e,s=L(null),a=L({}),o=L({x:0,y:0}),l=L(null),i=L(200),r={IS:"#7cb342","IS Total":"#7cb342","Ingresos Sostenibles":"#7cb342",PS:"#7cb342","Presupuestos Sostenibles":"#7cb342",IIC:"#DC143C","IIC Total":"#DC143C",PIC:"#DC143C","Presupuestos Intensivos en Carbono":"#DC143C","Ingresos Intensivos en Carbono":"#DC143C",IIC_H:"#8B0000",IIC_M:"#DC143C",IIC_T:"#FF6B6B","Financiamiento Total":"#9E9E9E","Gasto Total":"#9E9E9E","Ingreso Total":"#9E9E9E","GT ($)":"#9E9E9E","IT ($)":"#9E9E9E","PT ($)":"#9E9E9E"},d=(S,x,b)=>{if(r[S])return r[S];if(r[x])return r[x];const k=(S||"").toLowerCase();if(k==="is"||k.includes("is_")||k.includes("sostenible")||k==="ps")return"#7cb342";if(k==="iic_h")return"#8B0000";if(k==="iic_m")return"#DC143C";if(k==="iic_t")return"#FF6B6B";if(k==="iic"||k.includes("iic")||k==="pic"||k.includes("carbono"))return"#DC143C";if(k.includes("total")||k.includes("gt")||k.includes("it")||k.includes("pt"))return"#9E9E9E";const P=(x||"").toLowerCase();return P.includes("sostenible")||P.includes(" is")?"#7cb342":P.includes("carbono")||P.includes("iic")||P.includes("pic")?"#DC143C":P.includes("total")?"#9E9E9E":b},f=S=>{const x=S.target.getBoundingClientRect();o.value={x:x.left+x.width/2,y:x.top-10}},c=K(()=>{if(!t.data||t.data.length===0)return[];const S=new Map;t.data.forEach(b=>{b.variables&&Array.isArray(b.variables)&&b.variables.forEach(k=>{if(!S.has(k.key))if(t.variablesConfig&&t.variablesConfig[k.key]){const P=t.variablesConfig[k.key],V=P.color||k.color;S.set(k.key,{key:k.key,label:P.label||k.label,color:d(k.key,P.label||k.label,V),order:P.order||0})}else S.set(k.key,{key:k.key,label:k.label,color:d(k.key,k.label,k.color),order:0})})});const x=Array.from(S.values());return x.sort((b,k)=>(b.order||0)-(k.order||0)),x}),u=K(()=>!t.visibleVariableKeys||t.visibleVariableKeys.length===0?c.value:c.value.filter(S=>t.visibleVariableKeys.includes(S.key))),v=S=>{if(!S.variables||!Array.isArray(S.variables))return[];if(t.visibleVariableKeys&&t.visibleVariableKeys.length>0){const x=S.variables.filter(b=>t.visibleVariableKeys.includes(b.key));return t.variablesConfig?x.map(b=>{var V,M,T;const k=((V=t.variablesConfig[b.key])==null?void 0:V.label)||b.label,P=((M=t.variablesConfig[b.key])==null?void 0:M.color)||b.color;return{...b,label:k,color:d(b.key,k,P),order:((T=t.variablesConfig[b.key])==null?void 0:T.order)||0}}).sort((b,k)=>(b.order||0)-(k.order||0)):x.map(b=>({...b,color:d(b.key,b.label,b.color)}))}return t.variablesConfig?S.variables.map(x=>{var P,V,M;const b=((P=t.variablesConfig[x.key])==null?void 0:P.label)||x.label,k=((V=t.variablesConfig[x.key])==null?void 0:V.color)||x.color;return{...x,label:b,color:d(x.key,b,k),order:((M=t.variablesConfig[x.key])==null?void 0:M.order)||0}}).sort((x,b)=>(x.order||0)-(b.order||0)):S.variables.map(x=>({...x,color:d(x.key,x.label,x.color)}))},h=L(!1);be(u,S=>{S.forEach(x=>{x.key in a.value||(t.initialActiveVariables&&Array.isArray(t.initialActiveVariables)?a.value[x.key]=t.initialActiveVariables.includes(x.key):a.value[x.key]=!1)}),!h.value&&S.length>0&&(h.value=!0,S[0]&&setTimeout(()=>{a.value[S[0].key]=!0},100),S[1]&&setTimeout(()=>{a.value[S[1].key]=!0},400))},{immediate:!0});const A=K(()=>{if(!t.data||t.data.length===0)return 100;let S=0;return t.data.forEach(x=>{x.variables&&Array.isArray(x.variables)&&v(x).forEach(k=>{a.value[k.key]!==!1&&k.value&&k.value>S&&(S=k.value)})}),S>0?S*.8:100}),m=S=>{if(A.value===0)return 0;const x=S/A.value*100;return i.value*x/100},p=K(()=>{const S=A.value,x=S/4;return[{value:0,position:0},{value:x,position:25},{value:x*2,position:50},{value:x*3,position:75},{value:S,position:100}]}),y=K(()=>{var V;const S=Object.values(a.value).filter(M=>M!==!1).length;if((V=t.data)!=null&&V.length,S===0)return 50;if(S===1)return 120;if(S===2)return 55;if(S===3)return 38;const x=70,b=25,k=120,P=x/Math.sqrt(S*.6);return Math.max(b,Math.min(k,P))}),w=K(()=>{const S=Object.values(a.value).filter(b=>b!==!1).length,x=u.value.length;return S===x&&x>0?"2px":"1px"}),I=S=>{a.value[S]=!a.value[S]},$=S=>Math.abs(S)>=1e9?`$${(S/1e9).toFixed(1)}B`:Math.abs(S)>=1e6?`$${(S/1e6).toFixed(1)}M`:Math.abs(S)>=1e3?`$${(S/1e3).toFixed(1)}K`:`$${S.toFixed(0)}`,z=()=>{if(l.value){const S=l.value.clientHeight-30;S>0&&(i.value=S)}};return Oe(async()=>{await ze(),z(),l.value&&new ResizeObserver(()=>{z()}).observe(l.value)}),be(()=>t.data,()=>{ze(()=>{z()})},{deep:!0}),(S,x)=>(g(),C("div",Ly,[e.hideHeader?le("",!0):(g(),C("div",Ny,[n("h3",Oy,Y(e.title),1)])),e.showFilters?(g(),C("div",zy,[n("div",jy,[(g(!0),C(ge,null,_e(u.value,b=>(g(),C("button",{key:b.key,onClick:k=>I(b.key),class:pe(["filter-btn",{"filter-active":a.value[b.key]!==!1,"filter-inactive":a.value[b.key]===!1}])},[n("span",{class:"btn-color-dot",style:fe({backgroundColor:b.color})},null,4),Lt(" "+Y(b.label),1)],10,Hy))),128))])])):le("",!0),n("div",Yy,[n("div",Gy,[(g(!0),C(ge,null,_e(p.value,b=>(g(),C("div",{key:b.value,class:"y-tick",style:fe({bottom:`${b.position}%`})},[n("span",qy,Y($(b.value)),1)],4))),128))]),n("div",Uy,[(g(!0),C(ge,null,_e(p.value,b=>(g(),C("div",{key:b.value,class:"grid-line",style:fe({bottom:`${b.position}%`})},null,4))),128))]),n("div",{class:"bars-container",ref_key:"barsContainerRef",ref:l},[(g(!0),C(ge,null,_e(e.data,b=>(g(),C("div",{key:b.year,class:"year-group",style:fe({marginRight:w.value})},[n("div",Wy,[(g(!0),C(ge,null,_e(v(b),k=>(g(),C(ge,{key:k.key},[a.value[k.key]!==!1?(g(),C("div",Xy,[n("div",{class:"bar",style:fe({height:`${m(k.value)}px`,backgroundColor:k.color,width:`${y.value}px`}),onMouseenter:P=>{s.value={year:b.year,variable:k},f(P)},onMousemove:f,onMouseleave:x[0]||(x[0]=P=>s.value=null)},null,44,Ky)])):le("",!0)],64))),128))])],4))),128))],512)]),n("div",Qy,[x[1]||(x[1]=n("div",{class:"x-axis-spacer"},null,-1)),n("div",Jy,[(g(!0),C(ge,null,_e(e.data,b=>(g(),C("div",{key:b.year,class:"year-label"},Y(b.year),1))),128))])]),(g(),Re(jt,{to:"body"},[s.value?(g(),C("div",{key:0,class:"tooltip-container",style:fe({left:`${o.value.x}px`,top:`${o.value.y}px`})},[n("div",Zy,[n("span",e2,Y(s.value.year),1)]),n("div",t2,[n("div",s2,[n("span",{class:"tooltip-color-indicator",style:fe({backgroundColor:s.value.variable.color})},null,4),n("span",a2,Y(s.value.variable.label)+":",1),n("span",n2,Y($(s.value.variable.value)),1)])])],4)):le("",!0)]))]))}},Ya=Ie(o2,[["__scopeId","data-v-e1a0fd98"]]),l2={class:"ifss-slider-container"},i2={class:"historic-table"},r2={class:"row-1"},c2={class:"chart-card IS-anual-linear-chart"},u2={class:"chart-card-body"},d2={class:"chart-card IIC-anual-linear-chart"},f2={class:"chart-card-body"},v2={class:"row-2"},h2={class:"chart-card IIC-anual-bar-chart"},p2={class:"chart-card-body"},g2={class:"chart-card IS-anual-bar-chart"},m2={class:"chart-card-body"},b2={class:"row-3"},y2={class:"chart-card PS-PIC-anual-linear-chart"},A2={class:"chart-card-body"},w2={class:"row-4"},C2={class:"chart-card PIC-anual-bar-chart"},_2={class:"chart-card-body"},k2={class:"chart-card PS-anual-bar-chart"},$2={class:"chart-card-body"},S2={__name:"HistoricalCard",props:{statesData:{type:Array,default:()=>[]},selectedStateValue:{type:Number,default:null}},setup(e){const{fetchData:t,transformToBarChartData:s,transformToLinearChartData:a,transformToStackedAreaData:o}=Et(),l=L([]),i=L([]),r=L([]),d=L([]),f=L({}),c=L({}),u=L({}),v=L(["2020","2021","2022","2023","2024"]),h=async()=>{var A,m,p,y;try{console.log(" Cargando datos de Google Sheets...");const w=await t("datosFinancieros","Hoja 1");if(console.log(" Datos raw obtenidos:",{numFilas:(w==null?void 0:w.length)||0,primeraFila:(w==null?void 0:w[0])||"No hay datos",columnas:w!=null&&w[0]?Object.keys(w[0]):[]}),!w||w.length===0){console.error(" No se obtuvieron datos del Google Sheet");return}const I=ft.mappings.iicBarChart;l.value=s(w,I);const $=ft.mappings.presupuestoBarChart;i.value=s(w,$);const z=ft.mappings.picBarChart;r.value=s(w,z);const S=ft.mappings.psBarChart;d.value=s(w,S);const x=ft.mappings.isLinearChart,b=a(w,x),k=ft.mappings.iicStackedArea;u.value=o(w,k);const P={};b.data.forEach(j=>{P[j.label]=j.data}),f.value=P,v.value=b.labels;const V=ft.mappings.pspicLinearChart;console.log(" mappingPSPIC:",V),console.log(" Valor de GT ($) en primera fila:",w[0]["GT ($)"]),console.log(" Tipo de GT ($):",typeof w[0]["GT ($)"]);const M=a(w,V);console.log(" linearResultPSPIC:",M);const T={};M.data.forEach(j=>{T[j.label]=j.data,console.log(` Serie "${j.label}":`,j.data)}),c.value=T,console.log(" Datos transformados para IIC BarChart:",((A=l.value)==null?void 0:A.length)||0,"aos"),console.log(" Datos transformados para IS BarChart:",((m=i.value)==null?void 0:m.length)||0,"aos"),console.log(" Datos transformados para PIC BarChart:",((p=r.value)==null?void 0:p.length)||0,"aos"),console.log(" Datos transformados para PS BarChart:",((y=d.value)==null?void 0:y.length)||0,"aos"),console.log(" Datos transformados para LinearChart IS:",f.value),console.log(" Datos transformados para LinearChart PS-PIC:",c.value)}catch(w){console.error(" Error cargando datos:",w),console.error("Error completo:",w.message),l.value=[],i.value=[],r.value=[],d.value=[],f.value={},c.value={},u.value={}}};return Oe(async()=>{console.log(" Componente HistoricalCard montado"),setTimeout(async()=>{console.log(" Iniciando carga despus de 2 segundos..."),await h()},2e3)}),(A,m)=>(g(),C("div",l2,[n("div",i2,[n("div",r2,[n("div",c2,[m[0]||(m[0]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis histrico de los Ingresos Sostenibles (IS)")],-1)),n("div",u2,[ye(Yi,{data:f.value,xLabels:v.value,showCurrencySymbol:!1,decimalPlaces:1,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])]),n("div",d2,[m[1]||(m[1]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis de IIC e Ingreso Total")],-1)),n("div",f2,[ye(Yi,{data:u.value,xLabels:v.value,hideHeader:!0,width:950,height:350},null,8,["data","xLabels"])])])]),n("div",v2,[n("div",h2,[m[2]||(m[2]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Ingresos de Inversin en Contribucin (IIC)")],-1)),n("div",p2,[ye(Ya,{data:l.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),n("div",g2,[m[3]||(m[3]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Ingresos Sostenibles (IS) por Ao")],-1)),n("div",m2,[ye(Ya,{data:i.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])]),n("div",b2,[n("div",y2,[m[4]||(m[4]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Anlisis histrico de los Intensivos en Carbono y Presupuestos Sostenibles (PS-PIC)")],-1)),n("div",A2,[ye(su,{data:c.value,xLabels:v.value,width:1900,height:340,hideHeader:!0,padding:{top:20,right:0,bottom:100,left:100}},null,8,["data","xLabels"])])])]),n("div",w2,[n("div",C2,[m[5]||(m[5]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Presupuestos Intensivos en Carbono (PIC)")],-1)),n("div",_2,[ye(Ya,{data:r.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])]),n("div",k2,[m[6]||(m[6]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Presupuestos Sostenibles (PS)")],-1)),n("div",$2,[ye(Ya,{data:d.value,showFilters:!0,showLegend:!0,hideHeader:!0},null,8,["data"])])])])])]))}},au=Ie(S2,[["__scopeId","data-v-42787392"]]),x2={class:"map-container"},E2={key:0,class:"loading-state"},I2={key:1,class:"error-state"},P2={key:2,class:"map-content"},M2={class:"ranking-panel"},F2={class:"body-ranking-panel"},D2={class:"slider-ranking-panel"},T2={__name:"HistoricalView",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:I,initializeData:$}=s.mapsComposable||zt(),{setChartData:z}=Pa(),{statesDataForSlider:S,selectedStateIFSS:x,handleRangeChange:b,handleFilterChange:k,initialize:P}=gl(s.mapsComposable||zt());return Ia(),be(r,(V,M)=>{if(V&&V!==M){const T=A(V);z(T),a("region-selected",{name:V,data:T})}else!V&&M&&a("region-selected",null)}),be(i,V=>{V&&a("map-error",V)}),Oe(async()=>{await P()}),(V,M)=>(g(),C(ge,null,[M[3]||(M[3]=n("div",{class:"filters-toggles-row"},null,-1)),n("div",x2,[q(l)?(g(),C("div",E2,[...M[1]||(M[1]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):le("",!0),q(i)?(g(),C("div",I2,[n("p",null,"Error: "+Y(q(i)),1),n("button",{onClick:M[0]||(M[0]=(...T)=>q($)&&q($)(...T)),class:"retry-btn"}," Reintentar ")])):le("",!0),!q(l)&&!q(i)?(g(),C("div",P2,[n("div",M2,[M[2]||(M[2]=n("div",{class:"header-ranking-panel"},[n("h2",null,"Ingresos"),n("div",{class:"ranking-hamburger-menu"},[n("img",{src:pl,alt:"hamburger-menu",class:"hamburger-icon"})])],-1)),n("div",F2,[n("div",D2,[ye(au,{statesData:q(S),selectedStateValue:q(x),onRangeChange:q(b),onFilterChange:q(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])])])])])):le("",!0)])],64))}},B2=Ie(T2,[["__scopeId","data-v-21a3f982"]]),R2={key:0,class:"chart-header"},V2={class:"chart-title"},L2={class:"chart-content"},N2=["onMouseenter"],O2={class:"state-label"},z2={class:"bar-chart-area"},j2={class:"grid-lines"},H2={class:"bar-wrapper-horizontal"},Y2={class:"bar-value"},G2={key:0,class:"empty-state"},q2={class:"x-axis"},U2={class:"x-axis-labels"},W2={class:"tick-label"},X2={class:"tooltip-content"},K2={class:"tooltip-info"},Q2={class:"tooltip-label"},J2={class:"tooltip-value"},Z2={class:"tooltip-classification"},eA={__name:"HorizontalRankingChart",props:{variables:{type:Array,required:!0,default:()=>[]},width:{type:String,default:"100%"},height:{type:String,default:"100%"},title:{type:String,default:""},showFilters:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No hay datos para visualizar"},animationDelay:{type:Number,default:800},showAllBars:{type:Boolean,default:!1},initialBarsCount:{type:Number,default:4},valueFormatter:{type:Function,default:null},selectedState:{type:String,default:null}},setup(e){al(S=>({"145fd0f3":v.value}));const t=e,s=L(null),a=L({visible:!1,x:0,y:0,label:"",value:"",color:""}),o=L([]),l=L({}),i=S=>{const x=parseFloat(S)||0;return x>=2.5?"#6ac952":x>=2.3?"#94d351":x>=2?"#bddc50":x>=1.8?"#e6d64f":x>=1.5?"#e6a74c":x>=.7?"#e67849":"#e52845"},r=S=>{const x=parseFloat(S)||0;return x>=2.5?"Muy Alto":x>=2.3?"Alto":x>=2?"Medio Alto":x>=1.8?"Medio":x>=1.5?"Medio Bajo":x>=.7?"Bajo":"Muy Bajo"},d=()=>{o.value=t.variables.map(S=>({key:S.key,label:S.label||S.key,value:S.value||0,colorClass:S.colorClass||"default",color:i(S.value),active:!1})),l.value={},t.variables.forEach(S=>{l.value[S.key]=0})},f=async()=>{await new Promise(x=>setTimeout(x,t.animationDelay));const S=t.showAllBars?o.value.length:Math.min(t.initialBarsCount,o.value.length);for(let x=0;x<S;x++){o.value[x].active=!0,await new Promise(P=>setTimeout(P,50));const b=I(o.value[x].value);l.value[o.value[x].key]=b;const k=t.showAllBars&&S>10?20:200;await new Promise(P=>setTimeout(P,k))}};be(()=>t.variables,()=>{d(),f()},{immediate:!0,deep:!0}),Oe(()=>{f()});const c=K(()=>o.value.filter(S=>S.active)),u=S=>t.selectedState?S.label===t.selectedState||S.key===t.selectedState:!1,v=K(()=>{const S=c.value.length;if(S===0)return"100%";const x=30,b=36,P=(S-1)*3;return`calc((100% - ${x}px - ${b}px - ${P}px) / ${S})`}),h=K(()=>{const S=c.value.map(x=>x.value);return Math.max(...S,1)}),A=K(()=>{const S=h.value,x=S/5,b=[];for(let k=0;k<=5;k++){const P=x*k,V=P/S*100;b.push({value:P,label:P.toFixed(1),position:V})}return b}),m=K(()=>({left:`${a.value.x+15}px`,top:`${a.value.y-60}px`})),p=(S,x)=>{s.value=S.key,a.value={visible:!0,x:x.clientX,y:x.clientY,label:S.label,value:S.value,color:S.color}},y=S=>{a.value.visible&&(a.value.x=S.clientX,a.value.y=S.clientY)},w=()=>{s.value=null,a.value.visible=!1},I=S=>{const x=S/h.value*100;return Math.min(x,100)},$=S=>l.value[S.key]||0,z=S=>t.valueFormatter?t.valueFormatter(S):typeof S=="number"?S.toFixed(1):S;return(S,x)=>(g(),C("div",{class:"horizontal-bar-chart",style:fe({width:e.width,height:e.height})},[e.title?(g(),C("div",R2,[n("h3",V2,Y(e.title),1)])):le("",!0),n("div",L2,[n("div",{class:pe(["bars-container",{"has-hover":s.value!==null||e.selectedState!==null}])},[(g(!0),C(ge,null,_e(c.value,b=>(g(),C("div",{key:b.key,class:pe(["bar-row",{"is-hovered":s.value===b.key||u(b),"is-dimmed":s.value!==null&&s.value!==b.key||e.selectedState!==null&&!u(b)}]),onMouseenter:k=>p(b,k),onMousemove:x[0]||(x[0]=k=>y(k)),onMouseleave:w},[n("div",O2,Y(b.label),1),n("div",z2,[n("div",j2,[(g(!0),C(ge,null,_e(A.value,k=>(g(),C("div",{key:k.value,class:"grid-line",style:fe({left:k.position+"%"})},null,4))),128))]),n("div",H2,[n("div",{class:pe(["bar-horizontal",b.colorClass]),style:fe({width:$(b)+"%",background:b.color})},[n("span",Y2,Y(z(b.value)),1)],6)])])],42,N2))),128)),c.value.length===0?(g(),C("div",G2,[n("p",null,Y(e.emptyMessage),1)])):le("",!0)],2),n("div",q2,[x[1]||(x[1]=n("div",{class:"x-axis-spacer"},null,-1)),n("div",U2,[(g(!0),C(ge,null,_e(A.value,b=>(g(),C("div",{key:b.value,class:"x-axis-tick",style:fe({left:b.position+"%"})},[n("span",W2,Y(b.label),1)],4))),128))])])]),(g(),Re(jt,{to:"body"},[a.value.visible?(g(),C("div",{key:0,class:"tooltip",style:fe(m.value)},[n("div",X2,[n("div",{class:"tooltip-color",style:fe({backgroundColor:a.value.color})},null,4),n("div",K2,[n("div",Q2,Y(a.value.label),1),n("div",J2,"IFS: "+Y(z(a.value.value)),1),n("div",Z2,Y(r(a.value.value)),1)])])],4)):le("",!0)]))],4))}},tA=Ie(eA,[["__scopeId","data-v-a072162e"]]),sA={class:"emisiones-chart-container"},aA={class:"chart-content"},nA=["onMouseenter"],oA={class:"bar-label"},lA={class:"bar-track"},iA={class:"bar-value"},rA={class:"tooltip-body"},cA={class:"tooltip-value"},uA={class:"tooltip-percentage"},dA={__name:"EmisionesBarChart",props:{excelData:{type:Array,default:null},colors:{type:Array,default:()=>["#0F3759","#1E5A8A","#2D7BB8","#5A9BD4","#8BBDE8"]},title:{type:String,default:""}},setup(e){const t=e,s=[{label:"Fuentes Fijas",value:3},{label:"Fuente Area",value:77},{label:"Carreteros",value:101},{label:"No Carreteros",value:5},{label:"Naturales",value:124}],a=K(()=>t.excelData||s),o=K(()=>a.value.length===0?1:Math.max(...a.value.map(h=>h.value))),l=K(()=>a.value.reduce((h,A)=>h+A.value,0)),i=h=>o.value===0?0:h/o.value*100,r=h=>h?new Intl.NumberFormat("es-MX").format(Math.round(h)):"0",d=L({visible:!1,x:0,y:0,label:"",value:0,color:"",percentage:0}),f=(h,A,m)=>{const p=l.value>0?(A.value/l.value*100).toFixed(1):0;d.value={visible:!0,x:m.clientX,y:m.clientY,label:A.label,value:A.value,color:t.colors[h%t.colors.length],percentage:p}},c=h=>{d.value.visible&&(d.value.x=h.clientX,d.value.y=h.clientY)},u=()=>{d.value.visible=!1},v=K(()=>({left:`${d.value.x+15}px`,top:`${d.value.y-60}px`}));return(h,A)=>(g(),C("div",sA,[n("div",aA,[(g(!0),C(ge,null,_e(a.value,(m,p)=>(g(),C("div",{key:p,class:"bar-row",onMouseenter:y=>f(p,m,y),onMousemove:A[0]||(A[0]=y=>c(y)),onMouseleave:u},[n("div",oA,[n("div",{class:"bar-color-dot",style:fe({backgroundColor:e.colors[p%e.colors.length]})},null,4),n("span",null,Y(m.label),1)]),n("div",lA,[n("div",{class:"bar-fill",style:fe({width:i(m.value)+"%",backgroundColor:e.colors[p%e.colors.length]})},null,4)]),n("div",iA,Y(r(m.value)),1)],40,nA))),128))]),(g(),Re(jt,{to:"body"},[d.value.visible?(g(),C("div",{key:0,class:"chart-tooltip",style:fe(v.value)},[n("div",{class:"tooltip-header",style:fe({borderLeftColor:d.value.color})},Y(d.value.label),5),n("div",rA,[n("span",cA,Y(r(d.value.value)),1),A[1]||(A[1]=n("span",{class:"tooltip-unit"},"toneladas",-1))]),n("div",uA,Y(d.value.percentage)+"% del total ",1)],4)):le("",!0)]))]))}},fA=Ie(dA,[["__scopeId","data-v-366f5e5f"]]),vA={class:"ambientales-container"},hA={key:0,class:"global-empty-state"},pA={key:1,class:"card-body"},gA={class:"left-card-container"},mA={class:"incendios-card"},bA={class:"incendios-body"},yA={key:0,class:"loading-state"},AA={key:1,class:"error-state"},wA={class:"bottle-card"},CA={class:"bottle-body"},_A={key:0,class:"loading-state-small"},kA={key:1,class:"error-state-small"},$A={class:"bottle-graph-container"},SA={class:"bottle-values"},xA={class:"bottle-value-item"},EA={class:"bottle-value-number"},IA={class:"right-card-container"},PA={class:"top-right-card-container"},MA={class:"emisiones-card"},FA={class:"emisiones-body"},DA={key:0,class:"loading-state-small"},TA={key:1,class:"error-state-small"},BA={class:"energia-card"},RA={class:"energia-body"},VA={key:0,class:"loading-state-small"},LA={key:1,class:"error-state-small"},NA={class:"gauge-graph"},OA={class:"gauge-number"},zA={class:"bottom-right-card-container"},jA={class:"areas-card"},HA={class:"areas-body"},YA={key:0,class:"loading-state"},GA={key:1,class:"error-state"},qA={__name:"AmbientalesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=L([]),l=L(!1),i=L(null),r=async(V=null,M=null)=>{try{if(l.value=!0,i.value=null,!V){o.value=[],l.value=!1;return}M&&Be(M);const T=Te("incendiosForestales"),j=Ne("incendiosForestales"),F=await a("incendiosForestales",j);if(F.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const U=F.find(Z=>Z[T.categoryColumn]===V);if(!U){o.value=[],l.value=!1;return}const J=T.variables.sort((Z,ne)=>Z.order-ne.order).map(Z=>({key:Z.key,label:Z.label,value:parseFloat(U[Z.column])||0,color:Z.color,colorClass:Z.colorClass||"default",active:!0}));o.value=J}catch(T){console.error(" [Incendios] Error:",T),i.value=T.message}finally{l.value=!1}},d=L(0),f=L(0),c=L(!1),u=L(null),v=async(V=null,M=null)=>{try{if(c.value=!0,u.value=null,!V){d.value=0,f.value=0,c.value=!1;return}M&&Be(M);const T=Te("residuosSolidos"),j=Ne("residuosSolidos"),F=await a("residuosSolidos",j);if(F.length===0)throw new Error("No se obtuvieron datos");const U=F.reduce((Z,ne)=>{const he=parseFloat(ne[T.valueColumn])||0;return he>Z?he:Z},0),J=F.find(Z=>Z[T.categoryColumn]===V);if(J){const Z=parseFloat(J[T.valueColumn])||0;if(d.value=Z,U>0){const ne=Z/U*100*100;f.value=Math.min(ne,100)}else f.value=0;console.log(` [Residuos] ${V}: ${Z.toLocaleString()} kg (${f.value.toFixed(1)}% botellas)`)}else d.value=0,f.value=0}catch(T){console.error(" [Residuos] Error:",T),u.value=T.message}finally{c.value=!1}},h=L([]),A=L(!1),m=L(null),p=async(V=null,M=null)=>{try{if(A.value=!0,m.value=null,!V){h.value=[],A.value=!1;return}M&&Be(M);const T=Te("emisiones"),j=Ne("emisiones"),F=await a("emisiones",j);if(F.length===0)throw new Error("No se obtuvieron datos");const U=F.find(J=>J[T.categoryColumn]===V);U?h.value=T.variables.map(J=>({label:J.label,value:parseFloat(U[J.column])||0})):h.value=[]}catch(T){console.error(" [Emisiones] Error:",T),m.value=T.message}finally{A.value=!1}},y=L(0),w=L(0),I=L(!1),$=L(null),z=async(V=null,M=null)=>{console.log(" [Energa] ========== INICIANDO CARGA =========="),console.log(" [Energa] Entity:",V,"| Year:",M);try{if(I.value=!0,$.value=null,!V){console.log(" [Energa] Sin entidad, saliendo..."),y.value=0,w.value=0,I.value=!1;return}const T=Te("energia");console.log(" [Energa] Mapping:",T);const j="2024";console.log(" [Energa] Sheet name:",j);const F=await a("energia",j);if(console.log(" [Energa] Datos obtenidos:",F.length,"filas"),F.length>0&&(console.log(" [Energa] Primera fila:",F[0]),console.log(" [Energa] Columnas disponibles:",Object.keys(F[0]))),F.length===0)throw new Error("No se obtuvieron datos");const U=F.reduce((Z,ne)=>{const he=parseFloat(ne[T.valueColumn])||0;return he>Z?he:Z},0);console.log(" [Energa] Valor mximo encontrado:",U);const J=F.find(Z=>Z[T.categoryColumn]===V);if(console.log(" [Energa] Buscando entidad:",V),console.log(" [Energa] Fila encontrada:",J),J){const Z=parseFloat(J[T.valueColumn])||0;y.value=Z,U>0?w.value=Z/U*100:w.value=0,console.log(` [Energa] ${V}: ${Z.toLocaleString()} GWh (${w.value.toFixed(1)}%)`)}else console.log(" [Energa]  No se encontr la entidad en los datos"),y.value=0,w.value=0}catch(T){console.error(" [Energa] Error:",T),$.value=T.message}finally{I.value=!1,console.log(" [Energa] ========== CARGA FINALIZADA =========="),console.log(" [Energa] Valor final:",y.value),console.log(" [Energa] Porcentaje final:",w.value)}},S=L([]),x=L(!1),b=L(null),k=async(V=null,M=null)=>{try{if(x.value=!0,b.value=null,!V){S.value=[],x.value=!1;return}M&&Be(M);const T=Te("areasNaturales"),j=Ne("areasNaturales"),F=await a("areasNaturales",j);if(F.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const U=F.find(Z=>Z[T.categoryColumn]===V);if(!U){S.value=[],x.value=!1;return}const J=T.variables.map(Z=>({key:Z.key,label:Z.label,value:parseFloat(U[Z.column])||0,color:Z.color,colorClass:Z.colorClass||"default",active:!1}));S.value=J}catch(T){console.error(" [reas Naturales] Error:",T),b.value=T.message}finally{x.value=!1}},P=V=>V?new Intl.NumberFormat("es-MX").format(V):"0";return be(()=>s.selectedEntity,V=>{console.log(" [AmbientalesView] Entity cambi a:",V),r(V,s.selectedYear),v(V,s.selectedYear),p(V,s.selectedYear),z(V,s.selectedYear),k(V,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,V=>{console.log(" [AmbientalesView] Year cambi a:",V),s.selectedEntity&&(r(s.selectedEntity,V),v(s.selectedEntity,V),p(s.selectedEntity,V),z(s.selectedEntity,V),k(s.selectedEntity,V))},{immediate:!1}),Oe(async()=>{console.log(" [AmbientalesView] Montado"),console.log(" [AmbientalesView] selectedEntity:",s.selectedEntity),console.log(" [AmbientalesView] selectedYear:",s.selectedYear),s.selectedEntity&&await Promise.all([r(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),p(s.selectedEntity,s.selectedYear),z(s.selectedEntity,s.selectedYear),k(s.selectedEntity,s.selectedYear)])}),(V,M)=>(g(),C("div",vA,[e.selectedEntity?(g(),C("div",pA,[n("div",gA,[n("div",mA,[M[4]||(M[4]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Incendios forestales en hectreas</span></div>',1)),n("div",bA,[l.value?(g(),C("div",yA,[...M[3]||(M[3]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):i.value?(g(),C("div",AA,[n("p",null,"Error: "+Y(i.value),1),n("button",{onClick:M[0]||(M[0]=T=>r(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(hl,{key:2,variables:o.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])]),n("div",wA,[M[8]||(M[8]=Se('<div class="bottle-header" data-v-75645f7d><div class="bottle-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M3 6h18" data-v-75645f7d></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-75645f7d></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-75645f7d></path><line x1="10" y1="11" x2="10" y2="17" data-v-75645f7d></line><line x1="14" y1="11" x2="14" y2="17" data-v-75645f7d></line></svg></div><span class="bottle-header-title" data-v-75645f7d>Promedio diario de residuos slidos urbanos recolectados</span></div>',1)),n("div",CA,[c.value?(g(),C("div",_A,[...M[5]||(M[5]=[n("div",{class:"spinner-small"},null,-1)])])):u.value?(g(),C("div",kA,[...M[6]||(M[6]=[n("p",null,"Error cargando datos",-1)])])):(g(),C(ge,{key:2},[n("div",$A,[ye(eu,{value:f.value},null,8,["value"])]),n("div",SA,[n("div",xA,[n("span",EA,Y(P(d.value)),1),M[7]||(M[7]=n("span",{class:"bottle-value-unit"},"kg",-1))])])],64))])])]),n("div",IA,[n("div",PA,[n("div",MA,[M[11]||(M[11]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z" data-v-75645f7d></path><path d="M22 10a3 3 0 0 0-3-3h-2.207a5.502 5.502 0 0 0-10.702.5" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>Emisiones de contaminantes atmosfricos por fuente en toneladas</span></div>',1)),n("div",FA,[A.value?(g(),C("div",DA,[...M[9]||(M[9]=[n("div",{class:"spinner-small"},null,-1)])])):m.value?(g(),C("div",TA,[...M[10]||(M[10]=[n("p",null,"Error cargando datos",-1)])])):(g(),Re(fA,{key:2,excelData:h.value},null,8,["excelData"]))])]),n("div",BA,[M[14]||(M[14]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" data-v-75645f7d></polygon></svg></div><span class="card-header-title" data-v-75645f7d>Consumo de energa elctrica</span></div>',1)),n("div",RA,[I.value?(g(),C("div",VA,[...M[12]||(M[12]=[n("div",{class:"spinner-small"},null,-1)])])):$.value?(g(),C("div",LA,[...M[13]||(M[13]=[n("p",null,"Error cargando datos",-1)])])):(g(),C(ge,{key:2},[n("div",NA,[ye(Zc,{value:w.value},null,8,["value"])]),n("div",OA,Y(P(y.value))+" GWh",1)],64))])])]),n("div",zA,[n("div",jA,[M[16]||(M[16]=Se('<div class="card-header-dark" data-v-75645f7d><div class="card-header-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><path d="M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path><path d="M7 16v6" data-v-75645f7d></path><path d="M13 19v3" data-v-75645f7d></path><path d="M18 10v.2A3 3 0 0 1 16.9 16v0H13v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z" data-v-75645f7d></path></svg></div><span class="card-header-title" data-v-75645f7d>reas naturales protegidas</span></div>',1)),n("div",HA,[x.value?(g(),C("div",YA,[...M[15]||(M[15]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):b.value?(g(),C("div",GA,[n("p",null,"Error: "+Y(b.value),1),n("button",{onClick:M[1]||(M[1]=T=>k(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(tu,{key:2,variables:S.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(g(),C("div",hA,[...M[2]||(M[2]=[Se('<div class="empty-state-content" data-v-75645f7d><div class="empty-state-icon" data-v-75645f7d><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-75645f7d><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-75645f7d></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-75645f7d></line><line x1="16" y1="6" x2="16" y2="22" data-v-75645f7d></line></svg></div><h2 class="empty-state-title" data-v-75645f7d>Selecciona una entidad</h2><p class="empty-state-description" data-v-75645f7d> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores ambientales. </p></div>',1)])]))]))}},UA=Ie(qA,[["__scopeId","data-v-75645f7d"]]),WA={class:"person-chart"},XA={class:"persons-container"},KA={class:"person-svg",viewBox:"0 0 32 44",preserveAspectRatio:"xMidYMid meet"},QA=["id"],JA=["id"],ZA=["id"],ew=["fill"],tw=["fill"],sw=["clip-path"],aw=["y","height","fill"],nw={key:0,cx:"13",cy:"7",r:"2",fill:"rgba(255,255,255,0.35)",class:"shine"},ow={__name:"PersonChart",props:{value:{type:Number,required:!0,validator:e=>e>=0&&e<=100}},setup(e){const t=e,s=L([0,0,0,0,0,0,0,0,0,0]),a=i=>{const r=[];for(let c=0;c<10;c++){const u=c*10,v=(c+1)*10;if(i<=u)r.push(0);else if(i>=v)r.push(100);else{const h=(i-u)/10*100;r.push(h)}}return r},o=i=>{s.value=[0,0,0,0,0,0,0,0,0,0];const r=120;i.forEach((d,f)=>{d>0&&setTimeout(()=>{l(f,d)},r*(f+1))})},l=(i,r)=>{const f=Date.now(),c=s.value[i],u=()=>{const v=Date.now()-f,h=Math.min(v/350,1),A=1-Math.pow(1-h,3);s.value[i]=c+(r-c)*A,s.value=[...s.value],h<1&&requestAnimationFrame(u)};requestAnimationFrame(u)};return be(()=>t.value,i=>{const r=a(i);o(r)},{immediate:!1}),Oe(()=>{setTimeout(()=>{const i=a(t.value);o(i)},200)}),(i,r)=>(g(),C("div",WA,[n("div",XA,[(g(),C(ge,null,_e(10,d=>n("div",{key:d,class:"person-wrapper"},[(g(),C("svg",KA,[n("defs",null,[n("linearGradient",{id:"emptyPersonGradient-"+d,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[...r[0]||(r[0]=[n("stop",{offset:"0%","stop-color":"#e8eaed"},null,-1),n("stop",{offset:"50%","stop-color":"#d4d7dc"},null,-1),n("stop",{offset:"100%","stop-color":"#c8cbd0"},null,-1)])],8,QA),n("linearGradient",{id:"filledPersonGradient-"+d,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[...r[1]||(r[1]=[n("stop",{offset:"0%","stop-color":"#2a5478"},null,-1),n("stop",{offset:"50%","stop-color":"#1e3a5f"},null,-1),n("stop",{offset:"100%","stop-color":"#153d5e"},null,-1)])],8,JA),n("clipPath",{id:"personClip-"+d},[...r[2]||(r[2]=[n("circle",{cx:"16",cy:"10",r:"8"},null,-1),n("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z"},null,-1)])],8,ZA)]),n("circle",{cx:"16",cy:"10",r:"8",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,ew),n("path",{d:"M4 44 L4 34 C4 26 10 22 16 22 C22 22 28 26 28 34 L28 44 Z",fill:"url(#emptyPersonGradient-"+d+")",stroke:"#bfc3c9","stroke-width":"1.5"},null,8,tw),n("g",{"clip-path":"url(#personClip-"+d+")"},[n("rect",{x:"0",y:44-s.value[d-1]/100*44,width:"32",height:s.value[d-1]/100*44,fill:"url(#filledPersonGradient-"+d+")",class:"fill-rect"},null,8,aw)],8,sw),s.value[d-1]>=90?(g(),C("circle",nw)):le("",!0)]))])),64))])]))}},lw=Ie(ow,[["__scopeId","data-v-75983bbd"]]),iw={class:"left-panel"},rw={class:"donut-container"},cw={class:"donut-svg",viewBox:"0 0 100 100"},uw=["stroke-dasharray","stroke-dashoffset"],dw={class:"donut-inner"},fw=["src","alt"],vw={key:1,class:"donut-icon-placeholder"},hw={class:"donut-percent"},pw={class:"right-panel"},gw={class:"main-value-section"},mw={class:"main-label"},bw={class:"main-value-row"},yw={key:0,class:"currency-symbol"},Aw={class:"main-value"},ww={key:1,class:"value-unit"},Cw={class:"info-grid"},_w={class:"info-item"},kw={class:"info-value"},$w={class:"info-item"},Sw={class:"info-value"},xw={__name:"IconPercentageChart",props:{iconPath:{type:String,default:""},value:{type:Number,default:0,validator:e=>e>=0&&e<=100},fillColor:{type:String,default:"#1e3a5f"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},showPercentage:{type:Boolean,default:!0},altText:{type:String,default:"Icono"},animated:{type:Boolean,default:!0},animationDuration:{type:Number,default:1.5},progressiveAnimation:{type:Boolean,default:!0},startDelay:{type:Number,default:300},mainValue:{type:Number,default:0},mainLabel:{type:String,default:"PIB Estatal"},currencySymbol:{type:String,default:"$"},valueUnit:{type:String,default:"MDP"},entity:{type:String,default:""},period:{type:[String,Number],default:""}},setup(e){const t=e,s=L(0),a=L(0),o=L(!1),l=L(!1),i=K(()=>2*Math.PI*46),r=K(()=>{const u=s.value/100;return i.value*(1-u)}),d=K(()=>({width:typeof t.width=="number"?`${t.width}px`:t.width,height:typeof t.height=="number"?`${t.height}px`:t.height})),f=K(()=>t.mainValue?new Intl.NumberFormat("es-MX").format(t.mainValue):"0"),c=u=>{if(!t.progressiveAnimation||!t.animated){s.value=u,a.value=Math.round(u*100)/100;return}o.value=!0;const v=t.animationDuration*1e3,h=v*.33,A=v*.33,m=v*.34,p=Date.now(),y=()=>{const w=Date.now()-p;if(w<h){const I=w/h,$=1-Math.pow(1-I,3);s.value=$*100,a.value=Math.round($*100*100)/100,requestAnimationFrame(y)}else if(w<h+A){const $=(w-h)/A,z=1-Math.pow(1-$,3);s.value=100-z*100,a.value=Math.round((100-z*100)*100)/100,requestAnimationFrame(y)}else if(w<v){const $=(w-h-A)/m,z=1-Math.pow(1-$,3);s.value=z*u,a.value=Math.round(z*u*100)/100,requestAnimationFrame(y)}else s.value=u,a.value=Math.round(u*100)/100,o.value=!1};requestAnimationFrame(y)};return be(()=>t.value,u=>{t.startDelay>0?setTimeout(()=>c(u),t.startDelay):c(u)}),be(()=>t.iconPath,()=>{l.value=!1}),Oe(()=>{t.startDelay>0?setTimeout(()=>c(t.value),t.startDelay):c(t.value)}),(u,v)=>(g(),C("div",{class:"icon-percentage-container",style:fe(d.value)},[n("div",iw,[n("div",rw,[(g(),C("svg",cw,[v[1]||(v[1]=n("circle",{class:"donut-bg",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#e2e8f0","stroke-width":"5"},null,-1)),n("circle",{class:"donut-progress",cx:"50",cy:"50",r:"46",fill:"none",stroke:"#1e3a5f","stroke-width":"5","stroke-linecap":"round","stroke-dasharray":i.value,"stroke-dashoffset":r.value,transform:"rotate(-90 50 50)"},null,8,uw)])),n("div",dw,[e.iconPath&&!l.value?(g(),C("img",{key:0,src:e.iconPath,alt:e.altText,class:"donut-icon",onError:v[0]||(v[0]=h=>l.value=!0)},null,40,fw)):(g(),C("div",vw,[...v[2]||(v[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("path",{d:"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})],-1)])]))])]),n("div",hw,Y(a.value)+"%",1)]),n("div",pw,[n("div",gw,[n("span",mw,Y(e.mainLabel),1),n("div",bw,[e.currencySymbol?(g(),C("span",yw,Y(e.currencySymbol),1)):le("",!0),n("span",Aw,Y(f.value),1),e.valueUnit?(g(),C("span",ww,Y(e.valueUnit),1)):le("",!0)])]),n("div",Cw,[n("div",_w,[v[3]||(v[3]=n("span",{class:"info-label"},"Entidad",-1)),n("span",kw,Y(e.entity),1)]),n("div",$w,[v[4]||(v[4]=n("span",{class:"info-label"},"Periodo",-1)),n("span",Sw,Y(e.period),1)])])])],4))}},Ew=Ie(xw,[["__scopeId","data-v-5b6394c5"]]),Iw={class:"bullet-chart-container"},Pw={key:0,class:"chart-header"},Mw={class:"chart-title"},Fw={class:"bullet-label"},Dw={class:"bullet-bar-container"},Tw={key:1,class:"chart-legend"},Bw={__name:"BulletChart",props:{variables:{type:Array,required:!0,default:()=>[]},title:{type:String,default:""},highlightState:{type:String,default:null},showLegend:{type:Boolean,default:!1},maxValue:{type:Number,default:20}},setup(e){const t=e,s=L(null),a=L(!1),o=K(()=>!t.variables||t.variables.length===0?[]:[...t.variables].sort((c,u)=>u.value-c.value)),l=()=>new Promise(c=>{if(!t.highlightState||!s.value){c();return}ze(()=>{setTimeout(()=>{const u=s.value,v=u==null?void 0:u.querySelector(".bullet-row.highlight");if(v&&u){const h=v.offsetTop,A=v.offsetHeight,m=u.clientHeight,p=h-m/2+A/2;u.scrollTo({top:Math.max(0,p),behavior:"smooth"}),setTimeout(()=>{c()},500)}else c()},100)})}),i=()=>{a.value=!0};be(()=>t.highlightState,async c=>{c&&(a.value=!1,await l(),i())},{immediate:!1}),be(()=>[t.variables,t.highlightState],async([c,u])=>{c&&c.length>0&&(a.value=!1,await ze(),u?(await l(),i()):setTimeout(()=>{i()},200))},{immediate:!0,deep:!0});const r=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),A=u*.05;return a.value?c>=0?{left:"50%",width:`${h}%`,transitionDelay:`${A}s`}:{right:"50%",width:`${h}%`,transitionDelay:`${A}s`}:{left:"50%",width:"0%",transitionDelay:`${A}s`}},d=(c,u)=>{const v=t.maxValue,h=Math.min(Math.abs(c)/v*50,50),A=u*.05;return a.value?c>=0?{left:`${50+h}%`,transform:"translateX(-50%)",transitionDelay:`${A}s`}:{left:`${50-h}%`,transform:"translateX(-50%)",transitionDelay:`${A}s`}:{left:"50%",transform:"translateX(-50%)",transitionDelay:`${A}s`}},f=c=>!c&&c!==0?"0.0":c>=0?`+${c.toFixed(1)}`:c.toFixed(1);return(c,u)=>(g(),C("div",Iw,[e.title?(g(),C("div",Pw,[n("h3",Mw,Y(e.title),1)])):le("",!0),n("div",{class:"chart-body",ref_key:"chartBodyRef",ref:s},[(g(!0),C(ge,null,_e(o.value,(v,h)=>(g(),C("div",{key:v.key||h,class:pe(["bullet-row",{highlight:v.label===e.highlightState}])},[n("div",Fw,Y(v.label),1),n("div",Dw,[u[0]||(u[0]=n("div",{class:"background-line"},null,-1)),u[1]||(u[1]=n("div",{class:"center-marker"},null,-1)),n("div",{class:pe(["value-line",{positive:v.value>=0,negative:v.value<0}]),style:fe(r(v.value,h))},null,6),n("div",{class:pe(["value-dot",{positive:v.value>=0,negative:v.value<0}]),style:fe(d(v.value,h))},null,6)]),n("div",{class:pe(["bullet-value",{positive:v.value>=0,negative:v.value<0}])},Y(f(v.value))+"% ",3)],2))),128))],512),e.showLegend?(g(),C("div",Tw,[...u[2]||(u[2]=[n("div",{class:"legend-item"},[n("div",{class:"legend-dot negative"}),n("span",null,"Decrecimiento")],-1),n("div",{class:"legend-item"},[n("div",{class:"legend-dot positive"}),n("span",null,"Crecimiento")],-1)])])):le("",!0)]))}},Rw=Ie(Bw,[["__scopeId","data-v-e6f596a8"]]),Vw={class:"economicos-container"},Lw={key:0,class:"global-empty-state"},Nw={key:1,class:"card-body"},Ow={class:"left-card-container"},zw={class:"itaee-card"},jw={class:"card-header-dark"},Hw={class:"info-tooltip"},Yw={key:0,class:"tooltip-content"},Gw={class:"itaee-body"},qw={key:0,class:"loading-state"},Uw={key:1,class:"error-state"},Ww={class:"pea-card"},Xw={class:"card-header-dark"},Kw={class:"info-tooltip"},Qw={key:0,class:"tooltip-content"},Jw={class:"pea-body"},Zw={key:0,class:"loading-state-small"},eC={key:1,class:"error-state-small"},tC={class:"person-graph-container"},sC={class:"person-values"},aC={class:"person-value-item"},nC={class:"person-value-number"},oC={class:"right-card-container"},lC={class:"top-right-card-container"},iC={class:"pib-card"},rC={class:"card-header-dark"},cC={class:"info-tooltip"},uC={key:0,class:"tooltip-content"},dC={class:"pib-body"},fC={key:0,class:"loading-state-small"},vC={key:1,class:"error-state-small"},hC={class:"bottom-right-card-container"},pC={class:"ingresos-card"},gC={class:"card-header-dark"},mC={class:"info-tooltip"},bC={key:0,class:"tooltip-content"},yC={class:"ingresos-body"},AC={key:0,class:"loading-state"},wC={key:1,class:"error-state"},CC={__name:"EconomicosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=L(!1),l=L(!1),i=L(!1),r=L(!1),d=M=>{if(typeof M=="number")return M;if(!M||M==="")return 0;let T=String(M).trim();if(T=T.replace(/\s/g,""),T.includes(",")&&T.includes("."))T=T.replace(/\./g,""),T=T.replace(/,/g,".");else if(T.includes(","))T=T.replace(/,/g,".");else if(T.includes(".")){const U=T.split("."),J=U.length>2,Z=U[U.length-1].length===3;(J||U.length===2&&Z)&&(T=T.replace(/\./g,""))}const F=parseFloat(T);return isNaN(F)?0:F},f=L([]),c=L(!1),u=L(null),v=async(M=null,T=null)=>{try{if(c.value=!0,u.value=null,!M){f.value=[],c.value=!1;return}T&&Be(T);const j=Te("ingresoTotal"),F=Ne("ingresoTotal"),U=await a("ingresoTotal",F);if(U.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const J=U.find(ne=>ne[j.categoryColumn]===M);if(!J){f.value=[],c.value=!1;return}const Z=j.variables.sort((ne,he)=>ne.order-he.order).map(ne=>({key:ne.key,label:ne.label,value:d(J[ne.column]),color:ne.color,colorClass:ne.colorClass||"default",active:!0}));f.value=Z}catch(j){console.error(" [Ingreso Total] Error:",j),u.value=j.message}finally{c.value=!1}},h=L(0),A=L(0),m=L(!1),p=L(null),y=async(M=null,T=null)=>{try{if(m.value=!0,p.value=null,!M){h.value=0,A.value=0,m.value=!1;return}T&&Be(T);const j=Te("pea"),F=Ne("pea"),U=await a("pea",F);if(U.length===0)throw new Error("No se obtuvieron datos");const J=U.find(Z=>Z[j.categoryColumn]===M);if(J){h.value=d(J[j.valueColumn]);const Z=U.map(he=>d(he[j.valueColumn])).filter(he=>he>0),ne=Math.max(...Z);A.value=ne>0?h.value/ne*100:0}else h.value=0,A.value=0}catch(j){console.error(" [PEA] Error:",j),p.value=j.message}finally{m.value=!1}},w=L(0),I=L(0),$=L(!1),z=L(null),S=async(M=null,T=null)=>{try{if($.value=!0,z.value=null,!M){w.value=0,I.value=0,$.value=!1;return}T&&Be(T);const j=Te("pib"),F=Ne("pib"),U=await a("pib",F);if(U.length===0)throw new Error("No se obtuvieron datos");const J=U.find(Z=>Z[j.categoryColumn]===M);if(J){w.value=d(J[j.valueColumn]);const ne=U.map(he=>d(he[j.valueColumn])).filter(he=>he>0).reduce((he,we)=>he+we,0);I.value=ne>0?w.value/ne*100:0}else w.value=0,I.value=0}catch(j){console.error(" [PIB] Error:",j),z.value=j.message}finally{$.value=!1}},x=L([]),b=L(!1),k=L(null),P=async(M=null,T=null)=>{try{if(b.value=!0,k.value=null,!M){x.value=[],b.value=!1;return}T&&Be(T);const j=Te("itaee"),F=Ne("itaee"),U=await a("itaee",F);if(U.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const J=j.variables[0],Z=U.map(ne=>{const he=ne[j.categoryColumn],we=ne[J.column],se=d(we);return{key:he,label:he,value:se,active:!0}}).filter(ne=>ne.label&&ne.label.trim()!=="");x.value=Z}catch(j){console.error(" [ITAEE] Error:",j),k.value=j.message}finally{b.value=!1}},V=M=>M?new Intl.NumberFormat("es-MX").format(M):"0";return be(()=>s.selectedEntity,M=>{v(M,s.selectedYear),y(M,s.selectedYear),S(M,s.selectedYear),M?P(M,s.selectedYear):x.value=[]},{immediate:!1}),be(()=>s.selectedYear,M=>{s.selectedEntity&&(v(s.selectedEntity,M),y(s.selectedEntity,M),S(s.selectedEntity,M),P(s.selectedEntity,M))},{immediate:!1}),Oe(async()=>{await Promise.all([v(s.selectedEntity,s.selectedYear),y(s.selectedEntity,s.selectedYear),S(s.selectedEntity,s.selectedYear),P(s.selectedEntity,s.selectedYear)])}),(M,T)=>(g(),C("div",Vw,[e.selectedEntity?(g(),C("div",Nw,[n("div",Ow,[n("div",zw,[n("div",jw,[T[9]||(T[9]=n("div",{class:"card-header-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),T[10]||(T[10]=n("span",{class:"card-header-title"},"Indicador Trimestral de la Actividad Econmica Estatal (ITAEE)",-1)),n("div",Hw,[n("button",{class:"info-btn",onClick:T[0]||(T[0]=j=>r.value=!r.value)},[...T[8]||(T[8]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[r.value?(g(),C("div",Yw," Indicador que mide la evolucin trimestral de la actividad econmica de las entidades federativas. ")):le("",!0)]),_:1})])]),n("div",Gw,[b.value?(g(),C("div",qw,[...T[11]||(T[11]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):k.value?(g(),C("div",Uw,[n("p",null,"Error: "+Y(k.value),1),n("button",{onClick:T[1]||(T[1]=j=>P(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(Rw,{key:2,variables:x.value,title:"",highlightState:e.selectedEntity,showLegend:!1,maxValue:20},null,8,["variables","highlightState"]))])]),n("div",Ww,[n("div",Xw,[T[13]||(T[13]=Se('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-c7eae3ac></path><circle cx="9" cy="7" r="4" data-v-c7eae3ac></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-c7eae3ac></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>Poblacin econmicamente activa</span>',2)),n("div",Kw,[n("button",{class:"info-btn",onClick:T[2]||(T[2]=j=>l.value=!l.value)},[...T[12]||(T[12]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[l.value?(g(),C("div",Qw," Poblacin de 15 aos y ms que trabaja o busca activamente empleo en la entidad. ")):le("",!0)]),_:1})])]),n("div",Jw,[m.value?(g(),C("div",Zw,[...T[14]||(T[14]=[n("div",{class:"spinner-small"},null,-1)])])):p.value?(g(),C("div",eC,[...T[15]||(T[15]=[n("p",null,"Error cargando datos",-1)])])):(g(),C(ge,{key:2},[n("div",tC,[ye(lw,{value:A.value},null,8,["value"])]),n("div",sC,[n("div",aC,[n("span",nC,Y(V(h.value)),1),T[16]||(T[16]=n("span",{class:"person-value-unit"},"Personas",-1))])])],64))])])]),n("div",oC,[n("div",lC,[n("div",iC,[n("div",rC,[T[18]||(T[18]=Se('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><line x1="12" y1="1" x2="12" y2="23" data-v-c7eae3ac></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-c7eae3ac></path></svg></div><span class="card-header-title" data-v-c7eae3ac>PIB Estatal (millones de pesos)</span>',2)),n("div",cC,[n("button",{class:"info-btn",onClick:T[3]||(T[3]=j=>i.value=!i.value)},[...T[17]||(T[17]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[i.value?(g(),C("div",uC," Producto Interno Bruto Estatal (PIBE), valor anual en millones de pesos corrientes. ")):le("",!0)]),_:1})])]),n("div",dC,[$.value?(g(),C("div",fC,[...T[19]||(T[19]=[n("div",{class:"spinner-small"},null,-1)])])):z.value?(g(),C("div",vC,[T[20]||(T[20]=n("p",null,"Error al cargar datos",-1)),n("button",{onClick:T[4]||(T[4]=j=>S(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(Ew,{key:2,iconPath:"/public/icons/pib-icon.png",value:I.value,mainValue:w.value,mainLabel:"PIB Estatal",currencySymbol:"$",valueUnit:"MDP",entity:e.selectedEntity,period:e.selectedYear,animated:!0,animationDuration:1.5,startDelay:300,showPercentage:!0},null,8,["value","mainValue","entity","period"]))])])]),n("div",hC,[n("div",pC,[n("div",gC,[T[22]||(T[22]=Se('<div class="card-header-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><rect x="1" y="4" width="22" height="16" rx="2" ry="2" data-v-c7eae3ac></rect><line x1="1" y1="10" x2="23" y2="10" data-v-c7eae3ac></line></svg></div><span class="card-header-title" data-v-c7eae3ac>Ingresos y Egresos Totales</span>',2)),n("div",mC,[n("button",{class:"info-btn",onClick:T[5]||(T[5]=j=>o.value=!o.value)},[...T[21]||(T[21]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[o.value?(g(),C("div",bC," Comparativa de ingresos y egresos totales de la entidad federativa seleccionada en miles de pesos. ")):le("",!0)]),_:1})])]),n("div",yC,[c.value?(g(),C("div",AC,[...T[23]||(T[23]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):u.value?(g(),C("div",wC,[n("p",null,"Error: "+Y(u.value),1),n("button",{onClick:T[6]||(T[6]=j=>v(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(hl,{key:2,variables:f.value,width:"100%",height:"100%",title:"",showFilters:!0,showLegend:!0,barHeight:"20px",barGap:"1px"},null,8,["variables"]))])])])])])):(g(),C("div",Lw,[...T[7]||(T[7]=[Se('<div class="empty-state-content" data-v-c7eae3ac><div class="empty-state-icon" data-v-c7eae3ac><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-c7eae3ac><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-c7eae3ac></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-c7eae3ac></line><line x1="16" y1="6" x2="16" y2="22" data-v-c7eae3ac></line></svg></div><h2 class="empty-state-title" data-v-c7eae3ac>Selecciona una entidad</h2><p class="empty-state-description" data-v-c7eae3ac> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores econmicos. </p></div>',1)])]))]))}},_C=Ie(CC,[["__scopeId","data-v-c7eae3ac"]]),kC={class:"bars-list"},$C={class:"bar-left"},SC={class:"bar-label"},xC={class:"bar-center"},EC={class:"bar-background"},IC={class:"bar-right"},PC={class:"bar-value"},MC={class:"bar-percentage"},FC={__name:"HorizontalBarsList",props:{data:{type:Array,required:!0,default:()=>[]},showIcons:{type:Boolean,default:!0},formatAsCurrency:{type:Boolean,default:!1}},setup(e){const t=e,s=L(null),a=K(()=>!t.data||t.data.length===0?[]:[...t.data].sort((u,v)=>v.value-u.value)),o=K(()=>a.value.length===0?0:a.value.reduce((u,v)=>u+v.value,0)),l=K(()=>a.value.length===0?100:Math.max(...a.value.map(u=>u.value))),i=u=>o.value===0?0:Math.round(u/o.value*100),r=u=>l.value===0?0:Math.round(u/l.value*100),d=u=>u?t.formatAsCurrency?u>=1e6?`$${(u/1e6).toFixed(1)}M`:u>=1e3?`$${(u/1e3).toFixed(0)}K`:`$${Math.round(u)}`:u<10?u.toFixed(1):Math.round(u).toString():"0",f=u=>{(!u||!u.startsWith("#"))&&(u="#0F3759");const v=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),A=parseInt(u.slice(5,7),16),m=Math.max(0,v-30),p=Math.max(0,h-30),y=Math.max(0,A-30);return`linear-gradient(135deg, rgb(${v}, ${h}, ${A}) 0%, rgb(${m}, ${p}, ${y}) 100%)`},c=u=>({"Tasa de participacin":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),ce("circle",{cx:"9",cy:"7",r:"4"}),ce("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),ce("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]),"Tasa de informalidad laboral":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),ce("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]),"Tasa de desocupacin":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"}),ce("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]),"CONEVAL 2020":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),ce("polyline",{points:"14 2 14 8 20 8"}),ce("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),ce("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]),"PNUD 2022":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"}),ce("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),ce("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]),"Agua y drenaje":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})]),Residuos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polyline",{points:"3 6 5 6 21 6"}),ce("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M12 2v20M2 12h20M7.5 7.5l9 9M16.5 7.5l-9 9"})]),"Cambio Climtico":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})]),Asentamientos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),ce("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),ce("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]),Admsostenible:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),ce("path",{d:"M9 9h6v6H9z"})]),Transporte:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"1",y:"3",width:"15",height:"13"}),ce("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),ce("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),ce("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),ce("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),ce("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),ce("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),ce("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),ce("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})])})[u]||(()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"})]));return(u,v)=>(g(),C("div",{class:"horizontal-bars-container",ref_key:"containerRef",ref:s},[n("div",kC,[(g(!0),C(ge,null,_e(a.value,(h,A)=>(g(),C("div",{key:A,class:"bar-item",style:fe({animationDelay:`${A*.05}s`})},[n("div",$C,[n("div",{class:"bar-icon",style:fe({background:f(h.color)})},[(g(),Re(zr(c(h.label))))],4),n("span",SC,Y(h.label),1)]),n("div",xC,[n("div",EC,[n("div",{class:"bar-fill",style:fe({width:`${r(h.value)}%`,background:h.color})},null,4)])]),n("div",IC,[n("span",PC,Y(d(h.value)),1),n("span",MC,Y(i(h.value))+"%",1)])],4))),128))])],512))}},Gi=Ie(FC,[["__scopeId","data-v-80a58244"]]),DC={class:"person-chart"},TC=["viewBox"],BC=["cy","r","stroke"],RC=["cy","rx","ry"],VC=["transform"],LC={class:"scale-dots-indicator"},NC={class:"dots-container"},OC={__name:"ScalablePerson",props:{value:{type:Number,default:0}},setup(e){const t=e,s=K(()=>{if(t.value===0)return 0;const r=5e4,d=1e7,f=Math.log10(t.value),c=Math.log10(r),u=Math.log10(d),v=(f-c)/(u-c)*100;return Math.max(0,Math.min(100,v))}),a=K(()=>{const r=t.value;return r>=8e6?5:r>=4e6?4:r>=2e6?3:r>=1e6?2:1}),o=K(()=>95),l=K(()=>.9+s.value/100*.4),i=K(()=>o.value-22);return(r,d)=>(g(),C("div",DC,[(g(),C("svg",{viewBox:`0 0 100 ${o.value}`,class:"person-svg"},[d[1]||(d[1]=Se('<defs data-v-c85839ac><linearGradient id="personGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#2d5a87" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><linearGradient id="personGradientHead" x1="0%" y1="0%" x2="100%" y2="100%" data-v-c85839ac><stop offset="0%" stop-color="#1e3a5f" data-v-c85839ac></stop><stop offset="100%" stop-color="#0F3759" data-v-c85839ac></stop></linearGradient><filter id="personShadow" data-v-c85839ac><feDropShadow dx="0" dy="3" stdDeviation="2" flood-opacity="0.25" data-v-c85839ac></feDropShadow></filter></defs>',1)),(g(),C(ge,null,_e(3,(f,c)=>n("circle",{key:"ring-"+c,cx:"50",cy:i.value,r:l.value*(25+c*15),fill:"none",stroke:"rgba(30, 58, 95, "+(.15-c*.04)+")","stroke-width":"1.5",class:"pulse-ring",style:fe({animationDelay:c*.4+"s"})},null,12,BC)),64)),n("ellipse",{cx:50,cy:o.value-2,rx:l.value*15,ry:l.value*4,fill:"rgba(15, 55, 89, 0.15)",class:"ground-shadow"},null,8,RC),n("g",{transform:`translate(50, ${i.value}) scale(${l.value})`,class:"person-figure",filter:"url(#personShadow)"},[...d[0]||(d[0]=[Se('<circle cx="0" cy="-30" r="10" fill="url(#personGradientHead)" class="person-head" data-v-c85839ac></circle><ellipse cx="-3" cy="-33" rx="3" ry="2" fill="rgba(255, 255, 255, 0.25)" data-v-c85839ac></ellipse><rect x="-7" y="-20" width="14" height="24" rx="3" fill="url(#personGradient)" class="person-body" data-v-c85839ac></rect><rect x="-15" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-left" data-v-c85839ac></rect><rect x="7" y="-16" width="8" height="3" rx="1.5" fill="url(#personGradient)" class="person-arm-right" data-v-c85839ac></rect><rect x="-6" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-left" data-v-c85839ac></rect><rect x="2" y="4" width="4" height="15" rx="2" fill="url(#personGradient)" class="person-leg-right" data-v-c85839ac></rect>',7)])],8,VC)],8,TC)),n("div",LC,[n("div",NC,[(g(),C(ge,null,_e(5,f=>n("span",{key:f,class:pe(["dot",{active:f<=a.value}])},null,2)),64))])])]))}},zC=Ie(OC,[["__scopeId","data-v-c85839ac"]]),jC={class:"idh-tree-container"},HC={__name:"IDHGauge",props:{value:{type:Number,default:0},maxValue:{type:Number,default:1}},setup(e){return(t,s)=>(g(),C("div",jC,[...s[0]||(s[0]=[Se('<svg viewBox="0 0 100 100" class="tree-svg" data-v-dc59d38c><defs data-v-dc59d38c><linearGradient id="trunkGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#0F3759" data-v-dc59d38c></stop><stop offset="100%" stop-color="#1a4d7a" data-v-dc59d38c></stop></linearGradient><linearGradient id="leavesGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-dc59d38c><stop offset="0%" stop-color="#1a4d7a" data-v-dc59d38c></stop><stop offset="100%" stop-color="#2d5f8d" data-v-dc59d38c></stop></linearGradient></defs><g class="roots" opacity="0.3" data-v-dc59d38c><path d="M 50 85 Q 42 90 38 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path><path d="M 50 85 Q 58 90 62 95" stroke="#0F3759" stroke-width="1.5" fill="none" stroke-linecap="round" data-v-dc59d38c></path></g><rect x="45" y="60" width="10" height="25" rx="1" fill="url(#trunkGradient)" class="trunk" data-v-dc59d38c></rect><g class="leaves" data-v-dc59d38c><ellipse cx="50" cy="60" rx="24" ry="16" fill="url(#leavesGradient)" class="leaf-layer leaf-bottom" data-v-dc59d38c></ellipse><ellipse cx="50" cy="50" rx="20" ry="14" fill="url(#leavesGradient)" class="leaf-layer leaf-middle" opacity="0.9" data-v-dc59d38c></ellipse><ellipse cx="50" cy="42" rx="15" ry="12" fill="url(#leavesGradient)" class="leaf-layer leaf-top" opacity="0.85" data-v-dc59d38c></ellipse></g><g class="detail-leaves" data-v-dc59d38c><circle cx="38" cy="56" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-1" data-v-dc59d38c></circle><circle cx="62" cy="54" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-2" data-v-dc59d38c></circle><circle cx="46" cy="46" r="2" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-3" data-v-dc59d38c></circle><circle cx="54" cy="48" r="2.5" fill="#3B5A70" opacity="0.6" class="detail-leaf detail-4" data-v-dc59d38c></circle></g><g class="star-top" data-v-dc59d38c><circle cx="50" cy="34" r="3.5" fill="#4E6D82" opacity="0.8" class="star-glow" data-v-dc59d38c></circle><path d="M 50 30 L 50.5 33 L 53.5 33 L 51 35 L 52 38 L 50 36 L 48 38 L 49 35 L 46.5 33 L 49.5 33 Z" fill="white" opacity="0.9" class="star-shape" data-v-dc59d38c></path></g></svg>',1)])]))}},YC=Ie(HC,[["__scopeId","data-v-dc59d38c"]]),GC={class:"sociales-container"},qC={key:0,class:"global-empty-state"},UC={key:1,class:"card-body"},WC={class:"top-row"},XC={class:"desocupacion-section card"},KC={class:"card-header-dark"},QC={class:"info-tooltip"},JC={key:0,class:"tooltip-content"},ZC={class:"card-body-content"},e_={key:0,class:"loading-state"},t_={key:1,class:"error-state"},s_={class:"rezago-section card"},a_={class:"card-header-dark"},n_={class:"info-tooltip"},o_={key:0,class:"tooltip-content"},l_={class:"card-body-content"},i_={key:0,class:"loading-state-small"},r_={key:1,class:"error-state-small"},c_={key:2,class:"indicator-content"},u_={class:"indicator-stats-row"},d_={class:"indicator-stat-card"},f_={class:"stat-info"},v_={class:"stat-value"},h_={class:"indicator-stat-card"},p_={class:"stat-info full-width"},g_={class:"indicator-progress-section"},m_={class:"progress-header"},b_={class:"progress-value-text"},y_={class:"animated-progress-bar"},A_={class:"progress-track"},w_={class:"gini-section card"},C_={class:"card-header-dark"},__={class:"info-tooltip"},k_={key:0,class:"tooltip-content"},$_={class:"card-body-content"},S_={key:0,class:"loading-state"},x_={key:1,class:"error-state"},E_={class:"bottom-row"},I_={class:"marginacion-section card"},P_={class:"card-header-dark"},M_={class:"info-tooltip"},F_={key:0,class:"tooltip-content"},D_={class:"card-body-content"},T_={key:0,class:"loading-state-small"},B_={key:1,class:"error-state-small"},R_={key:2,class:"indicator-content horizontal-layout"},V_={class:"indicator-stats-column"},L_={class:"indicator-stat-card horizontal"},N_={class:"stat-info"},O_={class:"stat-value large"},z_={class:"indicator-stat-card horizontal"},j_={class:"stat-info"},H_={class:"indicator-progress-column"},Y_={class:"circular-progress-container"},G_={class:"circular-progress",viewBox:"0 0 100 100"},q_={class:"circular-progress-text"},U_={class:"progress-number"},W_={class:"idh-section card"},X_={class:"card-header-dark"},K_={class:"info-tooltip"},Q_={key:0,class:"tooltip-content"},J_={class:"card-body-content"},Z_={key:0,class:"loading-state-small"},ek={key:1,class:"error-state-small"},tk={key:2,class:"idh-content"},sk={class:"idh-main-content"},ak={class:"idh-value-display"},nk={class:"idh-big-value"},ok={class:"idh-gauge-container"},lk={class:"poblacion-section card"},ik={class:"card-header-dark"},rk={class:"info-tooltip"},ck={key:0,class:"tooltip-content"},uk={class:"card-body-content"},dk={key:0,class:"loading-state-small"},fk={key:1,class:"error-state-small"},vk={key:2,class:"poblacion-content-new"},hk={class:"poblacion-header"},pk={class:"poblacion-value-large"},gk={class:"poblacion-visual"},mk={__name:"SocialesView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=L(!1),l=L(!1),i=L(!1),r=L(!1),d=L(!1),f=L(!1),c=X=>{if(typeof X=="number")return X;if(!X||X==="")return 0;let D=String(X).trim();D=D.replace(/\s/g,""),D=D.replace(/\./g,""),D=D.replace(/,/g,".");const te=parseFloat(D);return isNaN(te)?0:te},u=X=>{if(!X)return"badge-blue-default";const D=X.toLowerCase();return D.includes("muy bajo")?"badge-blue-lightest":D.includes("bajo")?"badge-blue-light":D.includes("medio")?"badge-blue-medium":D.includes("alto")&&!D.includes("muy")?"badge-blue-dark":D.includes("muy alto")?"badge-blue-darkest":"badge-blue-default"},v=X=>{const D=2*Math.PI*40;return D-X/100*D},h=L([]),A=L(!1),m=L(null),p=async(X=null,D=null)=>{try{if(A.value=!0,m.value=null,!X){h.value=[],A.value=!1;return}D&&Be(D);const te=Te("desocupacion"),O=Ne("desocupacion"),E=await a("desocupacion",O);if(E.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const _=E.find(H=>H[te.categoryColumn]===X);if(!_){h.value=[],A.value=!1;return}const B=te.variables.sort((H,Q)=>H.order-Q.order).map(H=>({key:H.key,label:H.label,value:c(_[H.column]),color:H.color||"#0F3759",colorClass:H.colorClass||"blue",active:!0}));h.value=B}catch(te){console.error(" [Desocupacin] Error:",te),m.value=te.message}finally{A.value=!1}},y=L(0),w=L(""),I=L(0),$=L(!1),z=L(null),S=async(X=null,D=null)=>{try{if($.value=!0,z.value=null,!X){y.value=0,w.value="",I.value=0,$.value=!1;return}D&&Be(D);const te=Te("marginacion"),O=Ne("marginacion"),E=await a("marginacion",O);if(E.length===0)throw new Error("No se obtuvieron datos");const _=E.find(B=>B[te.categoryColumn]===X);_?(y.value=c(_[te.variables[0].column]),w.value=_[te.variables[1].column]||"",I.value=c(_[te.variables[2].column])):(y.value=0,w.value="",I.value=0)}catch(te){console.error(" [Marginacin] Error:",te),z.value=te.message}finally{$.value=!1}},x=L(0),b=L(!1),k=L(null),P=async(X=null,D=null)=>{try{if(b.value=!0,k.value=null,!X){x.value=0,b.value=!1;return}D&&Be(D);const te=Te("idh"),O=Ne("idh"),E=await a("idh",O);if(E.length===0)throw new Error("No se obtuvieron datos");const _=E.find(B=>B[te.categoryColumn]===X);_?x.value=c(_[te.variables[0].column]):x.value=0}catch(te){console.error(" [IDH] Error:",te),k.value=te.message}finally{b.value=!1}},V=L(0),M=L(0),T=L(!1),j=L(null),F=async(X=null,D=null)=>{try{if(T.value=!0,j.value=null,!X){V.value=0,M.value=0,T.value=!1;return}D&&Be(D);const te=Te("poblacion"),O=Ne("poblacion"),E=await a("poblacion",O);if(E.length===0)throw new Error("No se obtuvieron datos");const _=E.find(B=>B[te.categoryColumn]===X);if(_){V.value=c(_[te.variables[0].column]);const B=E.map(Q=>c(Q[te.variables[0].column])).filter(Q=>Q>0),H=Math.max(...B);M.value=H>0?V.value/H*100:0}else V.value=0,M.value=0}catch(te){console.error(" [Poblacin] Error:",te),j.value=te.message}finally{T.value=!1}},U=L(0),J=L(""),Z=L(!1),ne=L(null),he=async(X=null,D=null)=>{try{if(Z.value=!0,ne.value=null,!X){U.value=0,J.value="",Z.value=!1;return}D&&Be(D);const te=Te("rezagoSocial"),O=Ne("rezagoSocial"),E=await a("rezagoSocial",O);if(E.length===0)throw new Error("No se obtuvieron datos");const _=E.find(B=>B[te.categoryColumn]===X);_?(U.value=c(_[te.variables[0].column]),J.value=_[te.variables[1].column]||""):(U.value=0,J.value="")}catch(te){console.error(" [Rezago Social] Error:",te),ne.value=te.message}finally{Z.value=!1}},we=X=>{if(X===0)return 50;if(X<0){const O=50-Math.abs(X)/Math.abs(-13e5)*50;return Math.max(0,O)}else{const O=50+X/27e5*50;return Math.min(100,O)}},se=L([]),ae=L(!1),R=L(null),G=async(X=null,D=null)=>{try{if(ae.value=!0,R.value=null,!X){se.value=[],ae.value=!1;return}D&&Be(D);const te=Te("indiceGini"),O=Ne("indiceGini"),E=await a("indiceGini",O);if(E.length===0)throw new Error("No se obtuvieron datos del Google Sheet");const _=E.find(H=>H[te.categoryColumn]===X);if(!_){se.value=[],ae.value=!1;return}const B=te.variables.sort((H,Q)=>H.order-Q.order).map(H=>({key:H.key,label:H.label,value:c(_[H.column]),color:H.color||"#0F3759",colorClass:H.colorClass||"blue",active:!0}));se.value=B}catch(te){console.error(" [ndice Gini] Error:",te),R.value=te.message}finally{ae.value=!1}},N=X=>X?new Intl.NumberFormat("es-MX").format(X):"0",W=X=>X?X>=1e6?(X/1e6).toFixed(2)+"M":X>=1e3?(X/1e3).toFixed(0)+"K":new Intl.NumberFormat("es-MX").format(X):"0";return be(()=>s.selectedEntity,X=>{p(X,s.selectedYear),S(X,s.selectedYear),P(X,s.selectedYear),F(X,s.selectedYear),he(X,s.selectedYear),G(X,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,X=>{s.selectedEntity&&(p(s.selectedEntity,X),S(s.selectedEntity,X),P(s.selectedEntity,X),F(s.selectedEntity,X),he(s.selectedEntity,X),G(s.selectedEntity,X))},{immediate:!1}),Oe(async()=>{await Promise.all([p(s.selectedEntity,s.selectedYear),S(s.selectedEntity,s.selectedYear),P(s.selectedEntity,s.selectedYear),F(s.selectedEntity,s.selectedYear),he(s.selectedEntity,s.selectedYear),G(s.selectedEntity,s.selectedYear)])}),(X,D)=>(g(),C("div",GC,[e.selectedEntity?(g(),C("div",UC,[n("div",WC,[n("div",XC,[n("div",KC,[D[10]||(D[10]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="12" cy="7" r="4" data-v-ca4b2c59></circle><line x1="8" y1="11" x2="16" y2="11" data-v-ca4b2c59></line></svg></div><span class="card-header-title" data-v-ca4b2c59>Tasas de Desocupacin y Participacin</span>',2)),n("div",QC,[n("button",{class:"info-btn",onClick:D[0]||(D[0]=te=>o.value=!o.value)},[...D[9]||(D[9]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[o.value?(g(),C("div",JC," Indicadores de empleo que muestran la tasa de desocupacin y participacin laboral en la entidad. ")):le("",!0)]),_:1})])]),n("div",ZC,[A.value?(g(),C("div",e_,[...D[11]||(D[11]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):m.value?(g(),C("div",t_,[n("p",null,"Error: "+Y(m.value),1),n("button",{onClick:D[1]||(D[1]=te=>p(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(Gi,{key:2,data:h.value,showIcons:!0},null,8,["data"]))])]),n("div",s_,[n("div",a_,[D[13]||(D[13]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" data-v-ca4b2c59></path><polyline points="9 22 9 12 15 12 15 22" data-v-ca4b2c59></polyline></svg></div><span class="card-header-title" data-v-ca4b2c59>Rezago Social</span>',2)),n("div",n_,[n("button",{class:"info-btn",onClick:D[2]||(D[2]=te=>l.value=!l.value)},[...D[12]||(D[12]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[l.value?(g(),C("div",o_," ndice que mide carencias sociales como educacin, salud, servicios bsicos y vivienda. ")):le("",!0)]),_:1})])]),n("div",l_,[Z.value?(g(),C("div",i_,[...D[14]||(D[14]=[n("div",{class:"spinner-small"},null,-1)])])):ne.value?(g(),C("div",r_,[...D[15]||(D[15]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",c_,[n("div",u_,[n("div",d_,[D[17]||(D[17]=n("div",{class:"stat-icon-wrapper blue-gradient"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})])],-1)),n("div",f_,[D[16]||(D[16]=n("span",{class:"stat-label"},"NDICE",-1)),n("span",v_,Y(N(U.value)),1)])]),n("div",h_,[n("div",p_,[D[18]||(D[18]=n("span",{class:"stat-label"},"GRADO",-1)),n("div",{class:pe(["stat-badge",u(J.value)])},Y(J.value||"Sin datos"),3)])])]),n("div",g_,[n("div",m_,[D[19]||(D[19]=n("span",{class:"progress-title"},"NORMALIZADO",-1)),n("span",b_,Y(we(U.value).toFixed(1))+"%",1)]),n("div",y_,[n("div",A_,[n("div",{class:"progress-fill animated",style:fe({"--target-width":we(U.value)+"%"})},null,4),D[20]||(D[20]=Se('<div class="progress-markers" data-v-ca4b2c59><span class="marker" style="left:0%;" data-v-ca4b2c59>0</span><span class="marker" style="left:25%;" data-v-ca4b2c59>25</span><span class="marker center" style="left:50%;" data-v-ca4b2c59>50</span><span class="marker" style="left:75%;" data-v-ca4b2c59>75</span><span class="marker" style="left:100%;" data-v-ca4b2c59>100</span></div>',1))])])])]))])]),n("div",w_,[n("div",C_,[D[22]||(D[22]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><line x1="18" y1="20" x2="18" y2="10" data-v-ca4b2c59></line><line x1="12" y1="20" x2="12" y2="4" data-v-ca4b2c59></line><line x1="6" y1="20" x2="6" y2="14" data-v-ca4b2c59></line><path d="M2 20h20" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Gini (Desigualdad)</span>',2)),n("div",__,[n("button",{class:"info-btn",onClick:D[3]||(D[3]=te=>i.value=!i.value)},[...D[21]||(D[21]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[i.value?(g(),C("div",k_," Mide la desigualdad en la distribucin del ingreso. 0 = igualdad perfecta, 1 = desigualdad mxima. ")):le("",!0)]),_:1})])]),n("div",$_,[ae.value?(g(),C("div",S_,[...D[23]||(D[23]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):R.value?(g(),C("div",x_,[n("p",null,"Error: "+Y(R.value),1),n("button",{onClick:D[4]||(D[4]=te=>G(e.selectedEntity,e.selectedYear)),class:"retry-btn-small"}," Reintentar ")])):(g(),Re(Gi,{key:2,data:se.value,showIcons:!0},null,8,["data"]))])])]),n("div",E_,[n("div",I_,[n("div",P_,[D[25]||(D[25]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" data-v-ca4b2c59></path><circle cx="12" cy="10" r="3" data-v-ca4b2c59></circle></svg></div><span class="card-header-title" data-v-ca4b2c59>ndice de Marginacin</span>',2)),n("div",M_,[n("button",{class:"info-btn",onClick:D[5]||(D[5]=te=>r.value=!r.value)},[...D[24]||(D[24]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[r.value?(g(),C("div",F_," Medida de dficit y carencias que padece la poblacin en educacin, vivienda e ingresos. ")):le("",!0)]),_:1})])]),n("div",D_,[$.value?(g(),C("div",T_,[...D[26]||(D[26]=[n("div",{class:"spinner-small"},null,-1)])])):z.value?(g(),C("div",B_,[...D[27]||(D[27]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",R_,[n("div",V_,[n("div",L_,[D[29]||(D[29]=n("div",{class:"stat-icon-wrapper blue-gradient"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n("circle",{cx:"12",cy:"10",r:"3"})])],-1)),n("div",N_,[D[28]||(D[28]=n("span",{class:"stat-label"},"NDICE",-1)),n("span",O_,Y(N(y.value)),1)])]),n("div",z_,[n("div",j_,[D[30]||(D[30]=n("span",{class:"stat-label"},"GRADO DE MARGINACIN",-1)),n("div",{class:pe(["stat-badge large",u(w.value)])},Y(w.value||"Sin datos"),3)])])]),n("div",H_,[n("div",Y_,[(g(),C("svg",G_,[D[31]||(D[31]=n("circle",{class:"progress-bg",cx:"50",cy:"50",r:"40"},null,-1)),n("circle",{class:"progress-ring animated",cx:"50",cy:"50",r:"40",style:fe({"--target-offset":v(I.value*100)})},null,4)])),n("div",q_,[n("span",U_,Y((I.value*100).toFixed(0)),1),D[32]||(D[32]=n("span",{class:"progress-percent"},"%",-1))])]),D[33]||(D[33]=n("span",{class:"progress-subtitle"},"Normalizado",-1))])]))])]),n("div",W_,[n("div",X_,[D[35]||(D[35]=n("div",{class:"card-header-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),D[36]||(D[36]=n("span",{class:"card-header-title"},"ndice de Desarrollo Humano (IDH)",-1)),n("div",K_,[n("button",{class:"info-btn",onClick:D[6]||(D[6]=te=>d.value=!d.value)},[...D[34]||(D[34]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[d.value?(g(),C("div",Q_," Indicador que mide el desarrollo humano considerando salud, educacin y nivel de vida. ")):le("",!0)]),_:1})])]),n("div",J_,[b.value?(g(),C("div",Z_,[...D[37]||(D[37]=[n("div",{class:"spinner-small"},null,-1)])])):k.value?(g(),C("div",ek,[...D[38]||(D[38]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",tk,[n("div",sk,[n("div",ak,[n("span",nk,Y(x.value.toFixed(3)),1),D[39]||(D[39]=n("span",{class:"idh-label"},"ndice de Desarrollo Humano",-1))]),n("div",ok,[ye(YC,{value:x.value,maxValue:1},null,8,["value"])])])]))])]),n("div",lk,[n("div",ik,[D[41]||(D[41]=Se('<div class="card-header-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-ca4b2c59></path><circle cx="9" cy="7" r="4" data-v-ca4b2c59></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-ca4b2c59></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-ca4b2c59></path></svg></div><span class="card-header-title" data-v-ca4b2c59>Poblacin Total</span>',2)),n("div",rk,[n("button",{class:"info-btn",onClick:D[7]||(D[7]=te=>f.value=!f.value)},[...D[40]||(D[40]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)])]),ye(pt,{name:"tooltip-fade"},{default:ct(()=>[f.value?(g(),C("div",ck," Nmero total de habitantes en la entidad federativa segn el ltimo censo. ")):le("",!0)]),_:1})])]),n("div",uk,[T.value?(g(),C("div",dk,[...D[42]||(D[42]=[n("div",{class:"spinner-small"},null,-1)])])):j.value?(g(),C("div",fk,[...D[43]||(D[43]=[n("p",null,"Error cargando datos",-1)])])):(g(),C("div",vk,[n("div",hk,[n("span",pk,Y(W(V.value)),1),D[44]||(D[44]=n("span",{class:"poblacion-subtitle"},"Personas",-1))]),n("div",gk,[ye(zC,{value:V.value},null,8,["value"])])]))])])])])):(g(),C("div",qC,[...D[8]||(D[8]=[Se('<div class="empty-state-content" data-v-ca4b2c59><div class="empty-state-icon" data-v-ca4b2c59><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b2c59><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-ca4b2c59></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-ca4b2c59></line><line x1="16" y1="6" x2="16" y2="22" data-v-ca4b2c59></line></svg></div><h2 class="empty-state-title" data-v-ca4b2c59>Selecciona una entidad</h2><p class="empty-state-description" data-v-ca4b2c59> Selecciona una entidad federativa en el filtro superior para visualizar los indicadores sociales. </p></div>',1)])]))]))}},bk=Ie(mk,[["__scopeId","data-v-ca4b2c59"]]),yk={class:"gobernabilidad-container"},Ak={key:0,class:"global-empty-state"},wk={key:1,class:"card-body"},Ck={class:"main-header"},_k={class:"header-left"},kk={class:"header-info"},$k={class:"header-title"},Sk={class:"header-subtitle"},xk={class:"header-right"},Ek={class:"mini-donut"},Ik={width:"32",height:"32",class:"donut-svg"},Pk=["stroke-dashoffset"],Mk={class:"donut-value"},Fk={class:"mini-donut-label"},Dk={class:"top-row"},Tk={class:"section-card"},Bk={class:"section-header"},Rk={class:"section-value"},Vk={key:0,class:"section-content loading-state"},Lk={key:1,class:"section-content satisfaccion-content"},Nk={class:"bars-container"},Ok={class:"bar-column"},zk={class:"bar-value-text federal-color"},jk={class:"bar-track"},Hk={class:"bar-column"},Yk={class:"bar-value-text estatal-color"},Gk={class:"bar-track"},qk={class:"section-card"},Uk={key:0,class:"section-content loading-state"},Wk={key:1,class:"section-content indices-content"},Xk={class:"indice-row"},Kk={class:"indice-content"},Qk={class:"indice-header"},Jk={class:"indice-value"},Zk={class:"indice-bar"},e$={class:"indice-row"},t$={class:"indice-content"},s$={class:"indice-header"},a$={class:"indice-value"},n$={class:"indice-bar"},o$={class:"indice-row"},l$={class:"indice-content"},i$={class:"indice-header"},r$={class:"indice-value"},c$={class:"indice-bar"},u$={class:"section-card"},d$={key:0,class:"section-content loading-state"},f$={key:1,class:"section-content pbrsed-content"},v$={class:"pbrsed-grid"},h$={class:"pbrsed-card"},p$={class:"pbrsed-icon-wrapper"},g$={class:"pbrsed-mini-ring"},m$={width:"16",height:"16",viewBox:"0 0 16 16"},b$=["stroke-dashoffset"],y$={class:"pbrsed-value"},A$={class:"pbrsed-card"},w$={class:"pbrsed-icon-wrapper"},C$=["stroke"],_$={class:"bottom-row"},k$={class:"section-card ici-card"},$$={class:"section-header"},S$={class:"section-value"},x$={key:0,class:"section-content loading-state"},E$={key:1,class:"section-content ici-content"},I$={class:"ici-row"},P$={class:"ici-bar-container"},M$={class:"ici-bar"},F$={class:"ici-bar-value"},D$={class:"ici-row"},T$={class:"ici-bar-container"},B$={class:"ici-bar"},R$={class:"ici-bar-value"},V$={class:"ici-row"},L$={class:"ici-bar-container"},N$={class:"ici-bar"},O$={class:"ici-bar-value"},z$={class:"ici-row"},j$={class:"ici-bar-container"},H$={class:"ici-bar"},Y$={class:"ici-bar-value"},G$={__name:"GobernabilidadView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=j=>{if(typeof j=="number")return j;if(!j||j===""||j==="NA"||j==="ND")return 0;let F=String(j).trim();F=F.replace(/\s/g,""),F=F.replace(/\./g,""),F=F.replace(/,/g,".");const U=parseFloat(F);return isNaN(U)?0:U},l=L(0),i=L(0),r=L(!1),d=K(()=>((l.value+i.value)/2).toFixed(1)),f=async(j,F)=>{try{if(r.value=!0,!j){l.value=0,i.value=0;return}F&&Be(F);const U=Te("satisfaccionFederal"),J=Ne("satisfaccionFederal"),Z=await a("satisfaccionFederal",J),ne=Te("satisfaccionEstatal"),he=Ne("satisfaccionEstatal"),we=await a("satisfaccionEstatal",he),se=Z.find(R=>R[U.categoryColumn]===j),ae=we.find(R=>R[ne.categoryColumn]===j);l.value=se?o(se[U.variables[0].column]):0,i.value=ae?o(ae[ne.variables[0].column]):0}catch(U){console.error(" [Satisfaccin] Error:",U)}finally{r.value=!1}},c=L(0),u=L(0),v=L(0),h=L(!1),A=K(()=>[{label:"IGOPP",value:c.value},{label:"BIPE",value:u.value},{label:"ITDIF",value:v.value}]),m=async(j,F)=>{try{if(h.value=!0,!j){c.value=0,u.value=0,v.value=0;return}F&&Be(F);const U=Te("IGOPP"),J=Ne("IGOPP"),ne=(await a("IGOPP",J)).find(X=>X[U.categoryColumn]===j);c.value=ne?o(ne[U.variables[0].column]):0;const he=Te("BIPE"),we=Ne("BIPE"),ae=(await a("BIPE",we)).find(X=>X[he.categoryColumn]===j);u.value=ae?o(ae[he.variables[0].column]):0;const R=Te("ITDIF"),G=Ne("ITDIF"),W=(await a("ITDIF",G)).find(X=>X[R.categoryColumn]===j);v.value=W?o(W[R.variables[0].column]):0}catch(U){console.error(" [ndices] Error:",U)}finally{h.value=!1}},p=L(0),y=L(0),w=L(0),I=L(0),$=L(!1),z=async(j,F)=>{try{if($.value=!0,!j){p.value=0,y.value=0,w.value=0,I.value=0;return}F&&Be(F);const U=Te("ICI"),J=Ne("ICI"),ne=(await a("ICI",J)).find(he=>he[U.categoryColumn]===j);ne&&(p.value=o(ne[U.variables[0].column]),y.value=o(ne[U.variables[1].column]),w.value=o(ne[U.variables[2].column]),I.value=o(ne[U.variables[3].column]))}catch(U){console.error(" [ICI] Error:",U)}finally{$.value=!1}},S=L(0),x=L("N/A"),b=L(!1),k=K(()=>{const j=x.value.toLowerCase();return j.includes("alto")&&!j.includes("medio")?"diagnostico-alto":j.includes("medio")?"diagnostico-medio":j.includes("bajo")?"diagnostico-bajo":""}),P=K(()=>{const j=x.value.toLowerCase();return j.includes("alto")&&!j.includes("medio")?"diagnostico-bg-alto":j.includes("medio")?"diagnostico-bg-medio":j.includes("bajo")?"diagnostico-bg-bajo":"diagnostico-bg-default"}),V=K(()=>{const j=x.value.toLowerCase();return j.includes("alto")&&!j.includes("medio")?"#059669":j.includes("medio")?"#d97706":j.includes("bajo")?"#dc2626":"#0F3759"}),M=async(j,F)=>{try{if(b.value=!0,!j){S.value=0,x.value="N/A";return}F&&Be(F);const U=Te("PBRSED"),J=Ne("PBRSED"),ne=(await a("PBRSED",J)).find(he=>he[U.categoryColumn]===j);ne&&(S.value=o(ne[U.variables[0].column]),x.value=ne[U.variables[1].column]||"N/A")}catch(U){console.error(" [PBRSED] Error:",U)}finally{b.value=!1}},T=async(j,F)=>{await Promise.all([f(j,F),m(j,F),z(j,F),M(j,F)])};return be(()=>s.selectedEntity,j=>{T(j,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,j=>{s.selectedEntity&&T(s.selectedEntity,j)},{immediate:!1}),Oe(()=>{T(s.selectedEntity,s.selectedYear)}),(j,F)=>(g(),C("div",yk,[e.selectedEntity?(g(),C("div",wk,[n("div",Ck,[n("div",_k,[F[1]||(F[1]=n("div",{class:"header-icon-badge"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[n("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n("polyline",{points:"9 22 9 12 15 12 15 22"})])],-1)),n("div",kk,[n("span",$k,"Gobernabilidad y Transparencia "+Y(e.selectedYear),1),n("span",Sk,Y(e.selectedEntity),1)])]),n("div",xk,[(g(!0),C(ge,null,_e(A.value,(U,J)=>(g(),C("div",{key:J,class:"mini-donut-container"},[n("div",Ek,[(g(),C("svg",Ik,[F[2]||(F[2]=n("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"rgba(255,255,255,0.2)","stroke-width":"2.5"},null,-1)),n("circle",{cx:"16",cy:"16",r:"12",fill:"none",stroke:"white","stroke-width":"2.5","stroke-dasharray":75.4,"stroke-dashoffset":75.4-U.value/100*75.4,"stroke-linecap":"round",class:"progress-ring"},null,8,Pk)])),n("span",Mk,Y(Math.round(U.value)),1)]),n("span",Fk,Y(U.label),1)]))),128))])]),n("div",Dk,[n("div",Tk,[n("div",Bk,[F[3]||(F[3]=Se('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-4b3266d1></path><circle cx="9" cy="7" r="4" data-v-4b3266d1></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-4b3266d1></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>Satisfaccin Ciudadana</span></div>',1)),n("span",Rk,Y(d.value)+"%",1)]),r.value?(g(),C("div",Vk,[...F[4]||(F[4]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",Lk,[n("div",Nk,[n("div",Ok,[n("span",zk,Y(l.value)+"%",1),n("div",jk,[n("div",{class:"bar-fill federal-fill",style:fe({height:l.value+"%"})},null,4)]),F[5]||(F[5]=n("div",{class:"bar-label"},[n("span",{class:"dot federal-dot"}),n("span",null,"Federal")],-1))]),F[7]||(F[7]=n("div",{class:"separator"},[n("div",{class:"sep-line"}),n("span",{class:"sep-text"},"vs"),n("div",{class:"sep-line"})],-1)),n("div",Hk,[n("span",Yk,Y(i.value)+"%",1),n("div",Gk,[n("div",{class:"bar-fill estatal-fill",style:fe({height:i.value+"%"})},null,4)]),F[6]||(F[6]=n("div",{class:"bar-label"},[n("span",{class:"dot estatal-dot"}),n("span",null,"Estatal")],-1))])])]))]),n("div",qk,[F[15]||(F[15]=Se('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><path d="M12 6v6l4 2" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>ndices de Gobierno</span></div></div>',1)),h.value?(g(),C("div",Uk,[...F[8]||(F[8]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",Wk,[n("div",Xk,[F[10]||(F[10]=Se('<div class="indice-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><path d="M3 21h18" data-v-4b3266d1></path><path d="M5 21V7l7-4 7 4v14" data-v-4b3266d1></path><path d="M9 21v-6h6v6" data-v-4b3266d1></path></svg></div>',1)),n("div",Kk,[n("div",Qk,[F[9]||(F[9]=n("span",{class:"indice-label"},"IGOPP",-1)),n("span",Jk,Y(c.value),1)]),n("div",Zk,[n("div",{class:"indice-bar-fill",style:fe({width:c.value+"%"})},null,4)])])]),n("div",e$,[F[12]||(F[12]=n("div",{class:"indice-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),n("path",{d:"M9 12l2 2 4-4"})])],-1)),n("div",t$,[n("div",s$,[F[11]||(F[11]=n("span",{class:"indice-label"},"BIPE",-1)),n("span",a$,Y(u.value),1)]),n("div",n$,[n("div",{class:"indice-bar-fill",style:fe({width:u.value+"%"})},null,4)])])]),n("div",o$,[F[14]||(F[14]=n("div",{class:"indice-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n("polyline",{points:"14 2 14 8 20 8"})])],-1)),n("div",l$,[n("div",i$,[F[13]||(F[13]=n("span",{class:"indice-label"},"ITDIF",-1)),n("span",r$,Y(v.value),1)]),n("div",c$,[n("div",{class:"indice-bar-fill",style:fe({width:Math.min(v.value,100)+"%"})},null,4)])])])]))]),n("div",u$,[F[22]||(F[22]=Se('<div class="section-header" data-v-4b3266d1><div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="12" y1="1" x2="12" y2="23" data-v-4b3266d1></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" data-v-4b3266d1></path></svg></div><span class="section-title" data-v-4b3266d1>PbR-SED</span></div></div>',1)),b.value?(g(),C("div",d$,[...F[16]||(F[16]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",f$,[n("div",v$,[n("div",h$,[n("div",p$,[F[18]||(F[18]=Se('<div class="pbrsed-icon-bg" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div>',1)),n("div",g$,[(g(),C("svg",m$,[F[17]||(F[17]=n("circle",{cx:"8",cy:"8",r:"6",fill:"white",stroke:"#e5e7eb","stroke-width":"1.5"},null,-1)),n("circle",{cx:"8",cy:"8",r:"5",fill:"none",stroke:"#0F3759","stroke-width":"1.5","stroke-dasharray":31.4,"stroke-dashoffset":31.4-S.value/100*31.4,"stroke-linecap":"round",transform:"rotate(-90 8 8)"},null,8,b$)]))])]),n("span",y$,Y(S.value),1),F[19]||(F[19]=n("span",{class:"pbrsed-label"},"PBRSED",-1))]),n("div",A$,[n("div",w$,[n("div",{class:pe(["pbrsed-icon-bg",P.value])},[(g(),C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:V.value,"stroke-width":"2"},[...F[20]||(F[20]=[n("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),n("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"},null,-1),n("path",{d:"M9 14l2 2 4-4"},null,-1)])],8,C$))],2)]),n("span",{class:pe(["pbrsed-value diagnostico-text",k.value])},Y(x.value),3),F[21]||(F[21]=n("span",{class:"pbrsed-label"},"DIAGNSTICO",-1))])])]))])]),n("div",_$,[n("div",k$,[n("div",$$,[F[23]||(F[23]=Se('<div class="section-header-left" data-v-4b3266d1><div class="section-icon-badge" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" data-v-4b3266d1><line x1="18" y1="20" x2="18" y2="10" data-v-4b3266d1></line><line x1="12" y1="20" x2="12" y2="4" data-v-4b3266d1></line><line x1="6" y1="20" x2="6" y2="14" data-v-4b3266d1></line></svg></div><span class="section-title" data-v-4b3266d1>ICI</span></div>',1)),n("span",S$,Y(p.value),1)]),$.value?(g(),C("div",x$,[...F[24]||(F[24]=[n("div",{class:"spinner"},null,-1)])])):(g(),C("div",E$,[n("div",I$,[F[25]||(F[25]=Se('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><rect x="3" y="3" width="18" height="18" rx="2" data-v-4b3266d1></rect><line x1="8" y1="15" x2="8" y2="9" data-v-4b3266d1></line><line x1="12" y1="15" x2="12" y2="7" data-v-4b3266d1></line><line x1="16" y1="15" x2="16" y2="11" data-v-4b3266d1></line></svg></div><span class="ici-label" data-v-4b3266d1>ICI General</span>',2)),n("div",P$,[n("div",M$,[n("div",{class:"ici-bar-fill",style:fe({width:Math.min(p.value,100)+"%"})},[n("span",F$,Y(p.value),1)],4)])])]),n("div",D$,[F[26]||(F[26]=Se('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><line x1="10" y1="6" x2="21" y2="6" data-v-4b3266d1></line><line x1="10" y1="12" x2="21" y2="12" data-v-4b3266d1></line><line x1="10" y1="18" x2="21" y2="18" data-v-4b3266d1></line><path d="M3 6l2 2 4-4" data-v-4b3266d1></path><path d="M3 12l2 2 4-4" data-v-4b3266d1></path><path d="M3 18l2 2 4-4" data-v-4b3266d1></path></svg></div><span class="ici-label" data-v-4b3266d1>Consistencia</span>',2)),n("div",T$,[n("div",B$,[n("div",{class:"ici-bar-fill",style:fe({width:Math.min(y.value,100)+"%"})},[n("span",R$,Y(y.value),1)],4)])])]),n("div",V$,[F[27]||(F[27]=n("div",{class:"ici-icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#0F3759","stroke-width":"1.5"},[n("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])],-1)),F[28]||(F[28]=n("span",{class:"ici-label"},"Proyectos",-1)),n("div",L$,[n("div",N$,[n("div",{class:"ici-bar-fill",style:fe({width:Math.min(w.value,100)+"%"})},[n("span",O$,Y(w.value),1)],4)])])]),n("div",z$,[F[29]||(F[29]=Se('<div class="ici-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0F3759" stroke-width="1.5" data-v-4b3266d1><circle cx="12" cy="12" r="10" data-v-4b3266d1></circle><circle cx="12" cy="12" r="6" data-v-4b3266d1></circle><circle cx="12" cy="12" r="2" data-v-4b3266d1></circle></svg></div><span class="ici-label" data-v-4b3266d1>Indicadores</span>',2)),n("div",j$,[n("div",H$,[n("div",{class:"ici-bar-fill",style:fe({width:Math.min(I.value,100)+"%"})},[n("span",Y$,Y(I.value),1)],4)])])])]))])])])):(g(),C("div",Ak,[...F[0]||(F[0]=[Se('<div class="empty-state-content" data-v-4b3266d1><div class="empty-state-icon" data-v-4b3266d1><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-4b3266d1><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-4b3266d1></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-4b3266d1></line><line x1="16" y1="6" x2="16" y2="22" data-v-4b3266d1></line></svg></div><h2 class="empty-state-title" data-v-4b3266d1>Selecciona una entidad</h2><p class="empty-state-description" data-v-4b3266d1> Selecciona una entidad federativa para ver los indicadores de gobernabilidad. </p></div>',1)])]))]))}},q$=Ie(G$,[["__scopeId","data-v-4b3266d1"]]),U$={class:"sector-finance-container"},W$={class:"section-header"},X$={class:"section-title"},K$={class:"header-stats"},Q$={class:"stat-pill finance"},J$={class:"stat-value"},Z$={class:"stat-pill programs"},eS={class:"stat-value"},tS={class:"sectors-grid"},sS={class:"sector-main"},aS={class:"sector-name-row"},nS={class:"sector-name"},oS={class:"sector-percentage"},lS={class:"bar-track"},iS={class:"sector-values"},rS={class:"value-finance"},cS={class:"value-number"},uS={class:"value-programs"},dS={class:"section-footer"},fS={class:"footer-stat"},vS={class:"footer-value"},hS={class:"footer-stat"},pS={class:"footer-value"},gS={class:"footer-stat"},mS={class:"footer-value"},bS={__name:"SectorFinanceCard",props:{financiamientos:{type:Array,default:()=>[]},programas:{type:Array,default:()=>[]},title:{type:String,default:"Financiamientos y Programas por Sector"}},setup(e){const t=e,s=K(()=>!t.financiamientos||t.financiamientos.length===0?[]:t.financiamientos.map(p=>{const y=t.programas.find(w=>{var I,$;return w.key===p.key||w.label===p.label||((I=w.label)==null?void 0:I.toLowerCase())===(($=p.label)==null?void 0:$.toLowerCase())});return{key:p.key,label:p.label,financiamiento:p.value||0,programas:y?y.value:0,color:p.color||"#0F3759"}}).sort((p,y)=>y.financiamiento-p.financiamiento)),a=K(()=>s.value.reduce((p,y)=>p+y.financiamiento,0)),o=K(()=>s.value.reduce((p,y)=>p+y.programas,0)),l=K(()=>s.value.filter(p=>p.financiamiento>0||p.programas>0).length),i=K(()=>l.value===0?0:a.value/l.value),r=K(()=>s.value.length===0?0:o.value/s.value.length),d=K(()=>s.value.length===0?100:Math.max(...s.value.map(p=>p.financiamiento))),f=p=>d.value===0?0:Math.round(p/d.value*100),c=p=>a.value===0?0:Math.round(p/a.value*100),u=p=>!p||p===0?"$0":p>=1e9?`$${(p/1e9).toFixed(1)}B`:p>=1e6?`$${(p/1e6).toFixed(1)}M`:p>=1e3?`$${(p/1e3).toFixed(0)}K`:`$${Math.round(p).toLocaleString("es-MX")}`,v=p=>((!p||!p.startsWith("#"))&&(p="#0F3759"),`linear-gradient(135deg, ${p} 0%, ${A(p,15)} 100%)`),h=(p,y)=>{if(!p||!p.startsWith("#"))return"#4a90d9";const w=parseInt(p.slice(1),16),I=Math.round(2.55*y),$=Math.min(255,(w>>16)+I),z=Math.min(255,(w>>8&255)+I),S=Math.min(255,(w&255)+I);return`#${(1<<24|$<<16|z<<8|S).toString(16).slice(1)}`},A=(p,y)=>{if(!p||!p.startsWith("#"))return"#0a2540";const w=parseInt(p.slice(1),16),I=Math.round(2.55*y),$=Math.max(0,(w>>16)-I),z=Math.max(0,(w>>8&255)-I),S=Math.max(0,(w&255)-I);return`#${(1<<24|$<<16|z<<8|S).toString(16).slice(1)}`},m=p=>({"Agua y drenaje":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})]),Suelos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),ce("path",{d:"M3 9h18M9 21V9"})]),Residuos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polyline",{points:"3 6 5 6 21 6"}),ce("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]),Energa:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),Atmsfera:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})]),Bioecosistemas:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M7 20l4-16M17 20V4M3 8h4M17 8h4M6 16h4"})]),"Cambio Climtico":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"5"}),ce("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),ce("line",{x1:"12",y1:"21",x2:"12",y2:"23"})]),Asentamientos:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),ce("polyline",{points:"9 22 9 12 15 12 15 22"})]),Eduambiental:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),ce("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]),Admsostenible:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),ce("polyline",{points:"22 4 12 14.01 9 11.01"})]),Transporte:()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("rect",{x:"1",y:"3",width:"15",height:"13"}),ce("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),ce("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),ce("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]),"Otros Programas":()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"1"}),ce("circle",{cx:"19",cy:"12",r:"1"}),ce("circle",{cx:"5",cy:"12",r:"1"})])})[p]||(()=>ce("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[ce("circle",{cx:"12",cy:"12",r:"10"})]));return(p,y)=>(g(),C("div",U$,[n("div",W$,[n("h3",X$,Y(e.title),1),n("div",K$,[n("div",Q$,[y[0]||(y[0]=n("span",{class:"stat-icon"},"",-1)),n("span",J$,Y(u(a.value)),1)]),n("div",Z$,[y[1]||(y[1]=n("span",{class:"stat-icon"},"",-1)),n("span",eS,Y(o.value)+" prog.",1)])])]),n("div",tS,[(g(!0),C(ge,null,_e(s.value,(w,I)=>(g(),C("div",{key:w.key,class:pe(["sector-row",{"has-data":w.financiamiento>0||w.programas>0}]),style:fe({animationDelay:`${I*.03}s`})},[n("div",{class:"sector-icon",style:fe({background:v(w.color)})},[(g(),Re(zr(m(w.label))))],4),n("div",sS,[n("div",aS,[n("span",nS,Y(w.label),1),n("span",oS,Y(c(w.financiamiento))+"%",1)]),n("div",lS,[n("div",{class:"bar-fill",style:fe({width:`${f(w.financiamiento)}%`,background:`linear-gradient(90deg, ${w.color} 0%, ${h(w.color,20)} 100%)`})},null,4)])]),n("div",iS,[n("div",rS,[n("span",cS,Y(u(w.financiamiento)),1),y[2]||(y[2]=n("span",{class:"value-label"},"Financiamiento",-1))]),y[4]||(y[4]=n("div",{class:"value-divider"},null,-1)),n("div",uS,[n("div",{class:pe(["programs-circle",{active:w.programas>0}]),style:fe(w.programas>0?{background:w.color}:{})},Y(w.programas),7),y[3]||(y[3]=n("span",{class:"value-label"},"Prog.",-1))])])],6))),128))]),n("div",dS,[n("div",fS,[n("span",vS,Y(l.value)+"/"+Y(s.value.length),1),y[5]||(y[5]=n("span",{class:"footer-label"},"Sectores",-1))]),y[8]||(y[8]=n("div",{class:"footer-divider"},null,-1)),n("div",hS,[n("span",pS,Y(u(i.value)),1),y[6]||(y[6]=n("span",{class:"footer-label"},"Prom/sector",-1))]),y[9]||(y[9]=n("div",{class:"footer-divider"},null,-1)),n("div",gS,[n("span",mS,Y(r.value.toFixed(1)),1),y[7]||(y[7]=n("span",{class:"footer-label"},"Prog. prom",-1))])])]))}},yS=Ie(bS,[["__scopeId","data-v-bcf9c46f"]]),AS={class:"presupuestos-container"},wS={key:0,class:"global-empty-state"},CS={key:1,class:"card-body"},_S={class:"top-section"},kS={key:0,class:"loading-state-inline"},$S={key:1,class:"error-state-inline"},SS={key:2,class:"presupuesto-compact"},xS={class:"presupuesto-left"},ES={class:"presupuesto-info"},IS={class:"presupuesto-label"},PS={class:"presupuesto-entity"},MS={class:"presupuesto-center"},FS={class:"presupuesto-value"},DS={class:"presupuesto-right"},TS={class:"mini-stat"},BS={class:"mini-stat-value"},RS={class:"mini-stat"},VS={class:"mini-stat-value"},LS={class:"mini-stat"},NS={class:"mini-stat-value"},OS={class:"bottom-section"},zS={class:"combined-section"},jS={key:0,class:"loading-state"},HS={key:1,class:"error-state"},YS={__name:"PresupuestosView",props:{selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["back"],setup(e,{emit:t}){const s=e,{fetchData:a}=Et(),o=x=>{if(typeof x=="number")return x;if(!x||x===""||x==="NA"||x==="ND"||x==="N/A")return 0;let b=String(x).trim();b=b.replace(/\s/g,""),b=b.replace(/\./g,""),b=b.replace(/,/g,".");const k=parseFloat(b);return isNaN(k)?0:k},l=L(0),i=L(!1),r=L(null),d=async(x=null,b=null)=>{try{if(i.value=!0,r.value=null,!x){l.value=0,i.value=!1;return}b&&Be(b);const k=Te("presupuestoEstatal"),P=Ne("presupuestoEstatal"),V=await a("presupuestoEstatal",P);if(V.length===0)throw new Error("No se obtuvieron datos");const M=V.find(T=>T[k.categoryColumn]===x);M?l.value=o(M[k.variables[0].column]):l.value=0}catch(k){r.value=k.message}finally{i.value=!1}},f=L([]),c=L(!1),u=L(null),v=async(x=null,b=null)=>{try{if(c.value=!0,u.value=null,!x){f.value=[],c.value=!1;return}b&&Be(b);const k=Te("financiamientos"),P=Ne("financiamientos"),V=await a("financiamientos",P);if(V.length===0)throw new Error("No se obtuvieron datos");const M=V.find(j=>j[k.categoryColumn]===x);if(!M){f.value=[],c.value=!1;return}const T=k.variables.sort((j,F)=>j.order-F.order).map(j=>({key:j.key,label:j.label,value:o(M[j.column]),color:j.color,colorClass:j.colorClass||"blue",active:!0}));f.value=T}catch(k){u.value=k.message}finally{c.value=!1}},h=L([]),A=L(!1),m=L(null),p=async(x=null,b=null)=>{try{if(A.value=!0,m.value=null,!x){h.value=[],A.value=!1;return}b&&Be(b);const k=Te("programas"),P=Ne("programas"),V=await a("programas",P);if(V.length===0)throw new Error("No se obtuvieron datos");const M=V.find(j=>j[k.categoryColumn]===x);if(!M){h.value=[],A.value=!1;return}const T=k.variables.sort((j,F)=>j.order-F.order).map(j=>({key:j.key,label:j.label,value:o(M[j.column]),color:j.color,colorClass:j.colorClass||"blue",active:!0}));h.value=T}catch(k){m.value=k.message}finally{A.value=!1}},y=K(()=>f.value.filter(x=>x.value>0).length),w=K(()=>h.value.reduce((x,b)=>x+b.value,0)),I=K(()=>f.value.reduce((x,b)=>x+b.value,0)),$=x=>x?x>=1e9?(x/1e9).toFixed(2)+" B":x>=1e6?(x/1e6).toFixed(2)+" M":x>=1e3?(x/1e3).toFixed(2)+" K":new Intl.NumberFormat("es-MX").format(x):"0",z=x=>!x||x===0?"$0":x>=1e9?`$${(x/1e9).toFixed(1)}B`:x>=1e6?`$${(x/1e6).toFixed(1)}M`:x>=1e3?`$${(x/1e3).toFixed(0)}K`:`$${Math.round(x)}`,S=()=>{d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),p(s.selectedEntity,s.selectedYear)};return be(()=>s.selectedEntity,x=>{d(x,s.selectedYear),v(x,s.selectedYear),p(x,s.selectedYear)},{immediate:!1}),be(()=>s.selectedYear,x=>{s.selectedEntity&&(d(s.selectedEntity,x),v(s.selectedEntity,x),p(s.selectedEntity,x))},{immediate:!1}),Oe(async()=>{await Promise.all([d(s.selectedEntity,s.selectedYear),v(s.selectedEntity,s.selectedYear),p(s.selectedEntity,s.selectedYear)])}),(x,b)=>(g(),C("div",AS,[e.selectedEntity?(g(),C("div",CS,[n("div",_S,[i.value?(g(),C("div",kS,[...b[1]||(b[1]=[n("div",{class:"spinner-mini"},null,-1)])])):r.value?(g(),C("div",$S,[...b[2]||(b[2]=[n("span",null,"Error cargando datos",-1)])])):(g(),C("div",SS,[n("div",xS,[b[3]||(b[3]=n("div",{class:"icon-badge"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})])],-1)),n("div",ES,[n("span",IS,"Presupuesto Estatal "+Y(e.selectedYear),1),n("span",PS,Y(e.selectedEntity),1)])]),n("div",MS,[b[4]||(b[4]=n("span",{class:"currency"},"$",-1)),n("span",FS,Y($(l.value)),1),b[5]||(b[5]=n("span",{class:"currency-unit"},"MDP",-1))]),n("div",DS,[n("div",TS,[n("span",BS,Y(y.value),1),b[6]||(b[6]=n("span",{class:"mini-stat-label"},"Sectores",-1))]),n("div",RS,[n("span",VS,Y(w.value),1),b[7]||(b[7]=n("span",{class:"mini-stat-label"},"Programas",-1))]),n("div",LS,[n("span",NS,Y(z(I.value)),1),b[8]||(b[8]=n("span",{class:"mini-stat-label"},"Financ.",-1))])])]))]),n("div",OS,[n("div",zS,[c.value||A.value?(g(),C("div",jS,[...b[9]||(b[9]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):u.value||m.value?(g(),C("div",HS,[n("p",null,"Error: "+Y(u.value||m.value),1),n("button",{onClick:S,class:"retry-btn"},"Reintentar")])):(g(),Re(yS,{key:2,financiamientos:f.value,programas:h.value,title:"Financiamientos y Programas por Sector"},null,8,["financiamientos","programas"]))])])])):(g(),C("div",wS,[...b[0]||(b[0]=[Se('<div class="empty-state-content" data-v-12808adb><div class="empty-state-icon" data-v-12808adb><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#718096" stroke-width="1.5" data-v-12808adb><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" data-v-12808adb></polygon><line x1="8" y1="2" x2="8" y2="18" data-v-12808adb></line><line x1="16" y1="6" x2="16" y2="22" data-v-12808adb></line></svg></div><h2 class="empty-state-title" data-v-12808adb>Selecciona una entidad</h2><p class="empty-state-description" data-v-12808adb> Selecciona una entidad federativa para ver los indicadores de presupuesto. </p></div>',1)])]))]))}},GS=Ie(YS,[["__scopeId","data-v-12808adb"]]),qS={key:0,class:"collapsed-view"},US={key:1,class:"expanded-view"},WS={key:0,class:"buttons-container"},XS={key:1,class:"inner-card"},KS={key:2,class:"inner-card"},QS={key:3,class:"inner-card"},JS={key:4,class:"inner-card"},ZS={key:5,class:"inner-card"},e4={key:6,class:"inner-card"},t4={class:"card-header"},s4={class:"card-header-title"},a4={class:"empty-state"},n4={__name:"QualitativePanel",props:{isExpanded:{type:Boolean,default:!1},selectedEntity:{type:String,default:null},selectedYear:{type:[String,Number],default:null}},emits:["toggle","category-click","years-loaded","panel-closed"],setup(e,{emit:t}){const s=e,a=t,o=L(null),{fetchSheetNames:l}=Et(),u={ambientales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet AMBIENTALES...");const y=(await l("incendiosForestales")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos AMBIENTALES encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos ambientales:",p)}},economicos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet ECONMICOS...");const y=(await l("ingresoTotal")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos ECONMICOS encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos econmicos:",p)}},sociales:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet SOCIALES...");const y=(await l("desocupacion")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos SOCIALES encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos sociales:",p)}},presupuestos:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet PRESUPUESTOS...");const y=(await l("presupuestoEstatal")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos PRESUPUESTOS encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos presupuestos:",p)}},gobernabilidad:async()=>{try{console.log(" [QualitativePanel] Cargando aos de sheet GOBERNABILIDAD...");const y=(await l("satisfaccionFederal")).filter(w=>/^\d{4}$/.test(w)).sort((w,I)=>I-w);console.log(" [QualitativePanel] Aos GOBERNABILIDAD encontrados:",y),a("years-loaded",y)}catch(p){console.error(" [QualitativePanel] Error cargando aos gobernabilidad:",p)}}};be(()=>s.selectedEntity,(p,y)=>{console.log(" [QualitativePanel] Entidad cambi"),console.log("  - Anterior:",y),console.log("  - Nueva:",p),console.log("  - Categora activa:",o.value)},{immediate:!0}),be(()=>s.selectedYear,(p,y)=>{console.log(" [QualitativePanel] Ao cambi"),console.log("  - Anterior:",y),console.log("  - Nuevo:",p),console.log("  - Categora activa:",o.value)},{immediate:!0});const v=()=>{console.log(" [QualitativePanel] Toggle panel"),console.log("  - isExpanded:",s.isExpanded),console.log("  - selectedCategory:",o.value),s.isExpanded&&o.value?(console.log(" Volviendo a men de categoras..."),o.value=null,a("panel-closed")):s.isExpanded&&!o.value?(console.log(" Cerrando panel completamente..."),a("toggle"),a("panel-closed")):(console.log(" Abriendo panel..."),a("toggle"))},h=async p=>{console.log(" [QualitativePanel] Categora seleccionada:",p),console.log(" Entidad actual:",s.selectedEntity),console.log(" Ao actual:",s.selectedYear),o.value=p;const y=u[p];y?(console.log(` Cargando aos para categora: ${p}...`),await y()):console.warn(` No hay cargador de aos definido para: ${p}`)},A=()=>{console.log(" [QualitativePanel] Volviendo al men principal..."),o.value=null,a("panel-closed")},m=p=>({ambientales:"Ambientales",economicos:"Econmicos",sociales:"Sociales",presupuestos:"Presupuestos y financiamiento",gobernabilidad:"Gobernabilidad y transparencia"})[p]||p;return(p,y)=>(g(),C("div",{class:pe(["qualitative-panel",{expanded:e.isExpanded}])},[e.isExpanded?(g(),C("div",US,[n("div",{class:"header-panel"},[y[5]||(y[5]=n("div",{class:"hamburger-menu"},[n("img",{src:vl,alt:"hamburger-menu",class:"hamburger-icon"})],-1)),y[6]||(y[6]=n("h1",{class:"header-title"},"Indicadores Cualitativos",-1)),n("div",{class:"expand-btn",onClick:v},"  ")]),o.value?o.value==="ambientales"?(g(),C("div",XS,[ye(UA,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="economicos"?(g(),C("div",KS,[ye(_C,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="sociales"?(g(),C("div",QS,[ye(bk,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="presupuestos"?(g(),C("div",JS,[ye(GS,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):o.value==="gobernabilidad"?(g(),C("div",ZS,[ye(q$,{selectedEntity:s.selectedEntity,selectedYear:s.selectedYear,onBack:A},null,8,["selectedEntity","selectedYear"])])):(g(),C("div",e4,[n("div",t4,[n("button",{class:"back-btn",onClick:A}," Volver"),n("h1",s4,Y(m(o.value)),1)]),n("div",a4,[y[12]||(y[12]=n("div",{class:"empty-icon"},"",-1)),y[13]||(y[13]=n("h3",null,"Prximamente",-1)),n("p",null,"Los indicadores de "+Y(m(o.value).toLowerCase())+" estarn disponibles pronto.",1)])])):(g(),C("div",WS,[n("div",{class:"qualitative-btn",onClick:y[0]||(y[0]=_t(w=>h("ambientales"),["stop"]))},[...y[7]||(y[7]=[n("span",{class:"title-btn"},"Ambientales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[1]||(y[1]=_t(w=>h("economicos"),["stop"]))},[...y[8]||(y[8]=[n("span",{class:"title-btn"},"Econmicos",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[2]||(y[2]=_t(w=>h("sociales"),["stop"]))},[...y[9]||(y[9]=[n("span",{class:"title-btn"},"Sociales",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[3]||(y[3]=_t(w=>h("presupuestos"),["stop"]))},[...y[10]||(y[10]=[n("span",{class:"title-btn"},"Presupuestos y financiamiento",-1),n("span",{class:"plus-btn"},"+",-1)])]),n("div",{class:"qualitative-btn",onClick:y[4]||(y[4]=_t(w=>h("gobernabilidad"),["stop"]))},[...y[11]||(y[11]=[n("span",{class:"title-btn"},"Gobernabilidad y transparencia",-1),n("span",{class:"plus-btn"},"+",-1)])])]))])):(g(),C("div",qS,[n("div",{class:"expand-btn",onClick:v}," + ")]))],2))}},o4=Ie(n4,[["__scopeId","data-v-e2a5a907"]]);function l4(){const e=L([]),t=L(!1),s=L(null),a=L([]),o=L(null),{fetchData:l}=Et(),i=u=>{const v=Te("rankingCuantitativo");if(!u||!u.key)return console.log(" Usando columna por defecto: IFSS"),v.columnsByVariable.IFSS;const h=v.columnsByVariable[u.key];return h?(console.log(` Usando columna: ${h} para variable: ${u.key}`),h):(console.warn(` No se encontr columna para variable: ${u.key}, usando IFSS`),v.columnsByVariable.IFSS)},r=(u,v)=>{const A=Te("rankingCuantitativo").stateColumn,p=u.map(y=>{const w=y[A],I=y[v];let $=I;return typeof I=="string"&&($=I.replace(/^["']+|["']+$/g,"").trim(),$===""||$==='""'||$==='"""'?$="0":$.includes(",")&&($=$.replace(/\./g,"").replace(",","."))),{key:w,label:w,value:parseFloat($)||0,colorClass:"blue",color:null}}).filter(y=>y.label&&y.label.trim()!=="").sort((y,w)=>w.value-y.value);return console.log(` Ranking transformado: ${p.length} estados`),console.log(` Ejemplo de valores: ${p.slice(0,3).map(y=>`${y.label}: ${y.value}`).join(", ")}`),p},d=async(u=null)=>{t.value=!0,s.value=null;try{console.log(" Cargando ranking de estados..."),console.log(" Variable seleccionada:",u);const v=Ne("datosCuantitativos");console.log(` Cargando ranking desde hoja: "${v}"`);const h=await l("datosCuantitativos",v);if(!h||h.length===0){console.warn(" No se encontraron datos en el sheet"),e.value=[];return}a.value=h,o.value=u;const A=i(u),m=r(h,A);e.value=m,console.log(` Ranking cargado: ${m.length} estados`)}catch(v){console.error(" Error cargando ranking:",v),s.value=v.message,e.value=[]}finally{t.value=!1}};return{rankingData:e,loading:t,error:s,currentVariable:o,loadAllStatesRanking:d,updateRankingByVariable:u=>{if(!a.value||a.value.length===0){console.warn(" No hay datos cargados, cargando..."),d(u);return}try{console.log(" Actualizando ranking por variable:",u),o.value=u;const v=i(u),h=r(a.value,v);e.value=h,console.log(` Ranking actualizado: ${h.length} estados`)}catch(v){console.error(" Error actualizando ranking:",v),s.value=v.message}},reset:()=>{e.value=[],a.value=[],o.value=null,s.value=null}}}function i4(){const e=L({}),t=L([]),s=L(!1),a=L(null),{fetchData:o}=Et(),l=(u,v)=>{if(console.log(" [processIFSData] Iniciando procesamiento manual..."),!u||u.length===0)throw new Error("No hay datos para procesar");const h=v.yearColumn,A=v.variableColumns[0],m=A.column,p=A.label;console.log(` Buscando columna de aos: "${h}"`),console.log(` Buscando columna de IFS: "${m}"`);const y=[],w=[];u.length>0&&(console.log(" [DEBUG] Claves disponibles en primera fila:",Object.keys(u[0])),console.log(" [DEBUG] Primera fila completa:",JSON.stringify(u[0],null,2)));for(let $=0;$<u.length;$++){const z=u[$];$<3&&(console.log(` [DEBUG] Fila ${$} completa:`,JSON.stringify(z,null,2)),console.log(` [DEBUG] Fila ${$} - Claves:`,Object.keys(z)));const S=z[h];if(console.log(` [DEBUG] Fila ${$} - Buscando key "${h}", encontrado:`,S,`(tipo: ${typeof S})`),!S){console.warn(` Fila ${$} no tiene ao, saltando...`);continue}const x=z[m];if(console.log(` Fila ${$}: Ao=${S}, IFS=${x}`),x!=null&&x!==""){const b=parseFloat(x);isNaN(b)?console.warn(` Valor IFS invlido en ao ${S}: "${x}"`):(y.push(S.toString()),w.push(b))}else console.warn(` Ao ${S} no tiene valor IFS`)}if(console.log(" Procesamiento completado:"),console.log(" Aos extrados:",y),console.log(" Valores IFS:",w),y.length===0||w.length===0)throw new Error("No se encontraron datos vlidos en las columnas especificadas");return{chartData:{[p]:w},years:y}},i=async()=>{try{console.log(`
 ===== [useStackedAreaData] INICIANDO CARGA =====`),s.value=!0,a.value=null;const u=Te("ifssStackedArea"),v=Ne("indicadores");console.log(" Mapping ifssStackedArea:",JSON.stringify(u,null,2)),console.log(" Nombre de hoja (sheet principal):",v),console.log(" Sheet ID que se usar: VITE_GOOGLE_SHEET_ID (principal)"),console.log(" Solicitando datos desde sheet principal...");const h=await o("indicadores",v);if(console.log(` Datos crudos recibidos: ${h.length} filas`),h.length>0&&(console.log(" Encabezados disponibles:",Object.keys(h[0])),console.log(" Primera fila completa:",h[0]),console.log(" Segunda fila completa:",h[1])),!h||h.length===0)throw new Error("No se obtuvieron datos de Google Sheets");const A=l(h,u);console.log(" Datos procesados exitosamente"),console.log(" Chart Data final:",A.chartData),console.log(" Years final:",A.years),e.value=A.chartData,t.value=A.years,console.log(` ===== CARGA COMPLETADA EXITOSAMENTE =====
`)}catch(u){console.error(" ===== ERROR EN CARGA ====="),console.error("Error completo:",u),console.error("Stack:",u.stack),a.value=u.message,console.warn(" Usando datos de fallback para IFS"),e.value={IFS:[45.2,48.7,52.1,55.8,59.3]},t.value=["2020","2021","2022","2023","2024"]}finally{s.value=!1}},r=K(()=>Object.keys(e.value).length>0&&t.value.length>0),d=K(()=>Object.keys(e.value).length),f=K(()=>t.value.length);return{chartData:e,years:t,loading:s,error:a,hasData:r,seriesCount:d,yearsCount:f,title:"Anlisis histrico del ranking de Indice de Finanzas Sostenibles (IFS)",loadIFSSData:i}}const r4={class:"filters-toggles-row"},c4={class:"filters-column"},u4={class:"map-container"},d4={key:0,class:"loading-state"},f4={key:1,class:"error-state"},v4={key:2,class:"map-content"},h4={key:0,class:"charts-section"},p4={class:"charts-container"},g4={class:"ranking-chart-section",style:{height:"100%",display:"flex","flex-direction":"column"}},m4={key:0,class:"chart-card linear-chart-card"},b4={key:1,class:"chart-card linear-chart-card"},y4={class:"chart-card-body"},A4={class:"ranking-error"},w4={key:2,class:"chart-card linear-chart-card"},C4={class:"chart-card-header"},_4={class:"card-title"},k4={class:"chart-card-body"},$4={key:3,class:"ranking-loading"},S4={key:4,class:"ranking-error"},x4={key:6,class:"charts-empty-state"},E4={class:"body-ranking-panel"},I4={__name:"HomePage",props:{title:{type:String,default:"Mapa de Mxico"},geoDataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/mexicoStates.json"},dataUrl:{type:String,default:()=>"/PlataformaFinanzasSostenibles/sustainabilityData.json"},legendTitle:{type:String,default:"Valor IFSS"},mapsComposable:{type:Object,default:null}},emits:["region-selected","map-error"],setup(e,{emit:t}){const s=e,a=t,{geoData:o,loading:l,error:i,selectedState:r,hoveredState:d,mapConfig:f,generalStats:c,topPerformingStates:u,nationalIFSS:v,getStateColor:h,getStateInfo:A,getIFSSLabel:m,handleStateClick:p,handleStateHover:y,handleStateLeave:w,resetSelection:I,initializeData:$}=s.mapsComposable||zt(),{setChartData:z}=Pa(),{statesDataForSlider:S,selectedStateIFSS:x,handleRangeChange:b,handleFilterChange:k,initialize:P}=gl(s.mapsComposable||zt()),{rankingData:V,loading:M,error:T,loadAllStatesRanking:j,updateRankingByVariable:F}=l4(),{chartData:U,years:J,loading:Z,error:ne,title:he,loadIFSSData:we}=i4();Ia();const se=L(""),ae=L(null),R=L(""),G=L(0),{fetchData:N,fetchSheetNames:W}=Et(),X=L(null),D=L([]),te=L([]),O=L({entity:"",year:null,variable:""});be(R,(de,$e)=>{console.log(" [HomePage] selectedEntity cambi"),console.log("  - Anterior:",$e),console.log("  - Nuevo:",de)},{immediate:!0});const E=L([]),_=L(!1),B=L(null),H=L(!1);K(()=>!D.value||D.value.length===0?null:D.value.find(de=>de!=null&&de!=="")||null);const Q=K(()=>{const de=R.value===null,$e=ae.value===null,tt=se.value===null,ks=de&&$e&&tt;return console.log(" [areAllFiltersOnTodas]:",{entity:R.value,entityIsTodas:de,year:ae.value,yearIsTodos:$e,variable:se.value,variableIsTodas:tt,result:ks}),ks}),ee=K(()=>R.value===""||se.value===""),re=K(()=>se.value!==null&&se.value!==""),ie=K(()=>H.value?!1:Q.value),ue=K(()=>H.value?!1:Q.value),oe=K(()=>H.value?!1:Q.value),me=K(()=>ee.value),ve=K(()=>me.value?!1:!r.value&&Q.value),Ae=K(()=>me.value?!1:r.value||ve.value),Ce=async()=>{try{_.value=!0,B.value=null;const de=Te("chartsPresupuestos"),$e=Ne("chartsPresupuestos"),tt=await N("chartsPresupuestos",$e),ks=de.stateColumn,ru=[...new Set(tt.map($s=>$s[ks]))].filter($s=>$s&&$s.trim()!=="").sort();E.value=ru.map($s=>({name:$s,value:null}))}catch(de){console.error(" Error cargando entidades:",de),B.value=de.message}finally{_.value=!1}},Ee=async()=>{try{console.log(" [HomePage] Obteniendo aos de sheet cuantitativos...");const $e=(await W("datosCuantitativos")).filter(tt=>/^\d{4}$/.test(tt)).sort((tt,ks)=>ks-tt);return console.log(" [HomePage] Aos de cuantitativos:",$e),te.value=[...$e],D.value=[...$e],$e}catch(de){return console.error(" [HomePage] Error obteniendo aos:",de),[]}},Fe=de=>{if(console.log(" [HomePage] handleEntityChange llamado con:",de),R.value=de,de===""){I();return}if(de===null){I(),!H.value&&!Q.value&&(se.value&&se.value!==""&&se.value!==null?F(se.value):se.value===null&&ae.value!==null&&j(null));return}p(de),console.log(" [HomePage] Mapa actualizado con:",de)},Pe=async de=>{console.log(" [HomePage] handleYearChange llamado con:",de),ae.value=de,de&&Be(de),Q.value&&await we()},Ze=de=>{console.log(" [HomePage] handleVariableChange llamado con:",de),se.value=de,de!==""&&!r.value&&!Q.value&&(de===null?j(null):F(de))},et=de=>{console.log(" Filtros aplicados:",de)},yt=async de=>{if(console.log(" [HomePage] Click en estado:",de),!de){I(),R.value="",a("region-selected",null),H.value||(se.value&&se.value!==""&&se.value!==null?F(se.value):Q.value||j(null));return}if(p(de),R.value=de,await ze(),r.value===de){const $e=A(de);a("region-selected",{name:de,data:$e}),console.log(" [HomePage] Estado seleccionado y sincronizado:",de)}else a("region-selected",null)},At=de=>{console.log(" [HomePage] Vista cambiada a:",de),X.value=de},ds=async()=>{console.log(" [HomePage] Cambiando a vista IFS Regional"),X.value="regional",r.value&&I(),R.value=null,ae.value=null,se.value=null,await ze(),await we(),console.log(' [HomePage] Vista IFS Regional activada con filtros en "Todas..."')},Ma=async()=>{console.log(" [HomePage] Click en Plataforma de Finanzas Sostenibles")},ot=()=>{console.log(" Toggling panel cualitativo:",!H.value),H.value=!H.value},wt=async de=>{if(console.log(" [HomePage] Aos recibidos de ambientales:",de),de&&de.length>0){D.value=de;const $e=de[0];ae.value=$e,Be($e),G.value++,await ze(),console.log(" Filtro actualizado con aos de ambientales")}},Fa=async()=>{if(console.log(" [HomePage] Panel cualitativo cerrado, reseteando filtros a DEFAULT..."),R.value=null,se.value=null,D.value=[...te.value],te.value.length>0){const de=te.value[0];ae.value=de,Be(de),console.log(" Ao restaurado a DEFAULT:",de)}G.value++,await ze(),I(),await j(null),X.value=null,console.log(" Filtros reseteados a DEFAULT")},Da=de=>{(de.target.classList.contains("map-svg-container")||de.target.tagName==="svg"||de.target.classList.contains("map-background"))&&(I(),a("region-selected",null))},lu=async()=>{if(console.log(" [HomePage] Click en overlay, cambiando a DEFAULT..."),R.value=null,se.value=null,D.value.length>0){const de=D.value[0];ae.value=de,Be(de)}I(),a("region-selected",null),await j(null),X.value=null,G.value++,await ze(),console.log(" Cambiado a DEFAULT")};K(()=>!r.value);const iu=K(()=>{const de=ae.value?` - ${ae.value}`:"";return!se.value||!se.value.key?`Ranking IFSS por Estado${de}`:`Ranking ${{PS:"Presupuestos Sostenibles (PS)",IIC:"Ingresos Intensivos en Carbono (IIC)",PIC:"Presupuestos Intensivos en Carbono (PIC)",IS:"Ingresos Sostenibles (IS)"}[se.value.key]||"IFSS"} por Estado${de}`});return be(Q,async(de,$e)=>{console.log(" [areAllFiltersOnTodas] cambi de",$e,"a",de),de&&!$e&&(console.log(' [HomePage] Filtros en "Todas...", cargando LinearChart'),await we())}),be(se,de=>{de!==""&&(Q.value||r.value||(de===null?j(null):F(de)))}),be(ae,async(de,$e)=>{de!==$e&&(await Ce(),Q.value||(se.value!==""&&se.value!==null?await F(se.value):se.value===null&&await j(null)))}),be(r,(de,$e)=>{if(console.log(" [HomePage] Watch selectedState:",{newState:de,oldState:$e}),de&&de!==$e){R.value!==de&&(R.value=de,console.log(" [HomePage] selectedEntity sincronizado con mapa:",de));const tt=A(de);z(tt),a("region-selected",{name:de,data:tt})}else!de&&$e&&(H.value||(R.value=""),a("region-selected",null),!H.value&&!Q.value&&(se.value&&se.value!==""&&se.value!==null?F(se.value):j(null)))}),be(i,de=>{de&&a("map-error",de)}),Oe(async()=>{if(console.log(`
 ===== INICIALIZANDO HomePage =====`),await Ee(),await Ce(),await P(),R.value=null,se.value=null,D.value.length>0){const de=D.value[0];ae.value=de,Be(de),console.log(" Ao inicial establecido:",de)}await j(null),O.value={entity:null,year:ae.value,variable:null},console.log(" Estado inicial de filtros (DEFAULT):",O.value),console.log(" Aos iniciales guardados:",te.value),console.log(" Vista inicial: ninguna activa (null)"),console.log(" HomePage inicializado"),console.log("   areAllFiltersOnTodas:",Q.value),console.log(`
`)}),(de,$e)=>(g(),C(ge,null,[n("div",r4,[n("div",c4,[(g(),Re(Vn,{key:G.value,entities:E.value,loading:_.value,selectedState:q(r),isLocked:oe.value,availableYears:D.value,initialEntity:R.value,initialYear:ae.value,initialVariable:se.value,onEntityChange:Fe,onYearChange:Pe,onVariableChange:Ze,onFiltersChange:et},null,8,["entities","loading","selectedState","isLocked","availableYears","initialEntity","initialYear","initialVariable"]))])]),n("div",u4,[q(l)?(g(),C("div",d4,[...$e[3]||($e[3]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando datos del mapa...",-1)])])):le("",!0),q(i)?(g(),C("div",f4,[n("p",null,"Error: "+Y(q(i)),1),n("button",{onClick:$e[0]||($e[0]=(...tt)=>q($)&&q($)(...tt)),class:"retry-btn"}," Reintentar ")])):le("",!0),!q(l)&&!q(i)?(g(),C("div",v4,[n("div",{class:pe(["map-and-charts-wrapper",{"no-gap":H.value}]),onClick:Da},[ye(Xc,{geoData:q(o),selectedState:q(r),hoveredState:q(d),mapConfig:q(f),nationalIFSS:q(v),getStateColor:q(h),getStateInfo:q(A),getIFSSLabel:q(m),"show-info-card":!H.value,"show-navigation":!H.value,"active-view":X.value,onStateClick:yt,onStateHover:q(y),onStateLeave:q(w),onNavigateRegional:ds,onNavigateFederal:Ma,onViewChange:At},null,8,["geoData","selectedState","hoveredState","mapConfig","nationalIFSS","getStateColor","getStateInfo","getIFSSLabel","show-info-card","show-navigation","active-view","onStateHover","onStateLeave"]),ye(pt,{name:"overlay-fade"},{default:ct(()=>[ue.value?(g(),C("div",{key:0,class:"map-overlay-filter",onClick:_t(lu,["stop"])},[...$e[4]||($e[4]=[n("div",{class:"overlay-message"},[n("h2",{class:"overlay-text"}," Haz click en cualquier entidad del mapa para regresar a los resultados subnacionales ")],-1)])])):le("",!0)]),_:1}),ye(o4,{isExpanded:H.value,selectedEntity:R.value,selectedYear:ae.value,onToggle:ot,onYearsLoaded:wt,onPanelClosed:Fa},null,8,["isExpanded","selectedEntity","selectedYear"]),H.value?le("",!0):(g(),C("div",h4,[n("div",p4,[n("div",g4,[ie.value&&q(Z)?(g(),C("div",m4,[...$e[5]||($e[5]=[Se('<div class="chart-card-header" data-v-364d5e69><h4 class="card-title" data-v-364d5e69>Evolucin IFS</h4></div><div class="chart-card-body" data-v-364d5e69><div class="ranking-loading" data-v-364d5e69><div class="spinner-small" data-v-364d5e69></div><p data-v-364d5e69>Cargando evolucin IFS...</p></div></div>',2)])])):ie.value&&q(ne)?(g(),C("div",b4,[$e[6]||($e[6]=n("div",{class:"chart-card-header"},[n("h4",{class:"card-title"},"Evolucin IFS")],-1)),n("div",y4,[n("div",A4,[n("p",null,"Error: "+Y(q(ne)),1),n("button",{onClick:$e[1]||($e[1]=(...tt)=>q(we)&&q(we)(...tt)),class:"retry-btn-small"}," Reintentar ")])])])):ie.value&&q(U)&&Object.keys(q(U)).length>0?(g(),C("div",w4,[n("div",C4,[n("h4",_4,Y(q(he)),1)]),n("div",k4,[ye(su,{data:q(U),xLabels:q(J),showCurrencySymbol:!1,width:940,height:440,hideHeader:!0,initialVisibleVariables:["IFS"],padding:{top:20,right:70,bottom:100,left:60}},null,8,["data","xLabels"])])])):q(M)?(g(),C("div",$4,[...$e[7]||($e[7]=[n("div",{class:"spinner-small"},null,-1),n("p",null,"Cargando datos...",-1)])])):q(T)?(g(),C("div",S4,[n("p",null,"Error: "+Y(q(T)),1),n("button",{onClick:$e[2]||($e[2]=tt=>q(j)(se.value)),class:"retry-btn-small"}," Reintentar ")])):q(V).length>0?(g(),Re(tA,{key:5,variables:q(V),title:iu.value,showAllBars:!0,animationDelay:0,selectedState:q(r)},null,8,["variables","title","selectedState"])):(g(),C("div",x4,[...$e[8]||($e[8]=[n("div",{class:"empty-state-icon"},"",-1),n("h4",null,"Ranking IFSS",-1),n("p",null,"No hay datos de ranking disponibles",-1)])]))])])]))],2),Ae.value&&!H.value?(g(),C("div",{key:0,class:pe(["ranking-panel",{"historical-view":ve.value,"variable-view":re.value&&!ve.value}])},[$e[9]||($e[9]=n("div",{class:"header-ranking-panel"},[n("div",{class:"ranking-hamburger-menu"},[n("img",{src:pl,alt:"hamburger-menu",class:"hamburger-icon"})])],-1)),n("div",E4,[ve.value?(g(),Re(au,{key:0,statesData:q(S),selectedStateValue:q(x),onRangeChange:q(b),onFilterChange:q(k)},null,8,["statesData","selectedStateValue","onRangeChange","onFilterChange"])):(g(),Re(Jc,{key:1,selectedState:q(r),selectedYear:ae.value,selectedVariable:se.value,ifssData:q(A)(q(r))},null,8,["selectedState","selectedYear","selectedVariable","ifssData"]))])],2)):le("",!0)])):le("",!0)])],64))}},P4=Ie(I4,[["__scopeId","data-v-364d5e69"]]),M4={style:{padding:"40px","font-family":"monospace"}},F4={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},D4={key:0},T4={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},B4={key:0,style:{color:"red","font-weight":"bold"}},R4={key:1,style:{color:"red","font-weight":"bold"}},V4={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},L4={key:0,style:{color:"orange"}},N4={key:1,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},O4={key:2},z4={style:{background:"white",padding:"15px","border-radius":"5px"}},j4={style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto"}},H4={style:{border:"2px solid #ddd",padding:"20px",margin:"20px 0",background:"#f9f9f9"}},Y4={key:0},G4={key:0,style:{color:"red",padding:"15px",background:"#fee","border-radius":"5px"}},q4={style:{background:"white",padding:"10px"}},U4={key:1},W4={style:{background:"white",padding:"15px","border-radius":"5px"}},X4={key:0,style:{border:"2px solid #28a745",padding:"20px",margin:"20px 0",background:"#d4edda"}},K4={__name:"TestRanking",setup(e){const t=L(null),s=L(null),a=L(null),o=L(!1),l=L(null),{fetchData:i}=Et(),r=async()=>{o.value=!0,l.value=null,t.value=null,s.value=null,a.value=null;try{if(console.log("=== PASO 1: Variables de entorno ==="),t.value={provider:"googlesheets",apiKeyExists:!0,sheetIdExists:!0},console.log("Variables:",t.value),!t.value.apiKeyExists||!t.value.sheetIdExists){l.value="Faltan variables de entorno en el archivo .env",o.value=!1;return}console.log("=== PASO 2: Obteniendo datos ===");const d=await i("datosCuantitativos","2024");if(!d||d.length===0){l.value="El sheet est vaco o no se pudo conectar",o.value=!1;return}s.value={rowCount:d.length,columns:Object.keys(d[0]),firstRow:d[0]},console.log("Datos obtenidos:",s.value),console.log("=== PASO 3: Transformando datos ===");const f="Entidad Federativa",c="IFSS";console.log(`Buscando columnas: "${f}" y "${c}"`);const h=d.map(A=>{const m=A[f],p=A[c];console.log(`Fila: ${m} = ${p}`);const y=typeof p=="string"?p.replace(/[,.]/g,""):p,w=parseFloat(y)||0;return{key:(m==null?void 0:m.toLowerCase().replace(/\s+/g,"_"))||"unknown",label:m||"Desconocido",value:w,color:w>=2?"#22c55e":w>=1.5?"#fb923c":"#ef4444"}}).filter(A=>A.label!=="Desconocido"&&A.value>0).sort((A,m)=>m.value-A.value);a.value={count:h.length,top5:h.slice(0,5).map(A=>({estado:A.label,ifss:A.value}))},console.log("Transformacin completa:",a.value)}catch(d){console.error("Error en debug:",d),l.value=d.message}finally{o.value=!1}};return(d,f)=>{var c;return g(),C("div",M4,[f[19]||(f[19]=n("h1",null," Debug Ranking IFSS",-1)),n("button",{onClick:r,style:{padding:"15px 30px",background:"#0F3759",color:"white",border:"none","border-radius":"8px",cursor:"pointer","font-size":"16px",margin:"20px 0"}},"  Ejecutar Debug "),n("div",F4,[f[0]||(f[0]=n("h2",null," PASO 1: Variables de Entorno",-1)),t.value?(g(),C("div",D4,[n("pre",T4,Y(t.value),1),t.value.apiKeyExists?le("",!0):(g(),C("p",B4,"  FALTA API KEY - Revisa tu archivo .env ")),t.value.sheetIdExists?le("",!0):(g(),C("p",R4,"  FALTA SHEET ID - Revisa tu archivo .env "))])):le("",!0)]),n("div",V4,[f[5]||(f[5]=n("h2",null," PASO 2: Datos del Google Sheet",-1)),o.value?(g(),C("div",L4," Cargando...")):le("",!0),l.value?(g(),C("div",N4,[f[1]||(f[1]=n("strong",null," ERROR:",-1)),Lt(" "+Y(l.value),1)])):le("",!0),s.value?(g(),C("div",O4,[n("p",null,[f[2]||(f[2]=n("strong",null,"Filas obtenidas:",-1)),Lt(" "+Y(s.value.rowCount),1)]),f[3]||(f[3]=n("p",null,[n("strong",null,"Columnas detectadas:")],-1)),n("pre",z4,Y(s.value.columns),1),f[4]||(f[4]=n("p",null,[n("strong",null,"Primera fila:")],-1)),n("pre",j4,Y(s.value.firstRow),1)])):le("",!0)]),n("div",H4,[f[17]||(f[17]=n("h2",null," PASO 3: Datos Transformados",-1)),a.value?(g(),C("div",Y4,[n("p",null,[f[6]||(f[6]=n("strong",null,"Estados transformados:",-1)),Lt(" "+Y(a.value.count),1)]),a.value.count===0?(g(),C("div",G4,[f[7]||(f[7]=n("strong",null," PROBLEMA:",-1)),f[8]||(f[8]=Lt(" Los datos se transformaron pero resultaron en 0 estados. ",-1)),f[9]||(f[9]=n("br",null,null,-1)),f[10]||(f[10]=Lt("Esto significa que los nombres de columnas no coinciden. ",-1)),f[11]||(f[11]=n("br",null,null,-1)),f[12]||(f[12]=n("br",null,null,-1)),f[13]||(f[13]=n("strong",null,"Columnas que estamos buscando:",-1)),f[14]||(f[14]=n("ul",null,[n("li",null,"Entidad Federativa"),n("li",null,"IFSS")],-1)),f[15]||(f[15]=n("strong",null,"Columnas que encontramos:",-1)),n("pre",q4,Y((c=s.value)==null?void 0:c.columns),1)])):le("",!0),a.value.count>0?(g(),C("div",U4,[f[16]||(f[16]=n("p",null,[n("strong",null," Top 5 estados:")],-1)),n("pre",W4,Y(a.value.top5),1)])):le("",!0)])):le("",!0)]),a.value&&a.value.count>0?(g(),C("div",X4,[...f[18]||(f[18]=[n("h2",null," PASO 4: Grfica",-1),n("p",null,"Los datos estn listos. Usa el componente as:",-1),n("pre",{style:{background:"white",padding:"15px","border-radius":"5px","overflow-x":"auto","font-size":"12px"}},`<script setup>
import { useStateRanking } from '@/composables/useStateRanking'
import HorizontalRankingChart from '@/modules/charts/components/HorizontalRankingChart.vue'

const { rankingData, loadAllStatesRanking } = useStateRanking()
onMounted(() => loadAllStatesRanking())
<\/script>

<template>
  <HorizontalRankingChart
    :variables="rankingData"
    :showLabels="true"
    :showValues="true"
    :showAllBars="true"
    :valueFormatter="(v) => v.toFixed(1)"
  />
</template>`,-1)])])):le("",!0)])}}},Q4=[{path:"/",redirect:"/finanzas/home"},{path:"/finanzas/home",name:"HomePage",component:P4,meta:{title:"Plataforma de Finanzas Sostenibles"}},{path:"/finanzas/cualitativos",name:"FinanzasCualitativos",component:jg,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/cualitativos/item",name:"FinanzasCualitativosItem",component:Um,meta:{title:"Cualitativos - Finanzas Sostenibles"}},{path:"/finanzas/ranking",name:"RankingView",component:Pb,meta:{title:"RankingView - Finanzas Sostenibles"}},{path:"/finanzas/historicos",name:"HistoricalView",component:B2,meta:{title:"HistoricalView - Finanzas Sostenibles"}},{path:"/finanzas/testRanking",name:"TestRanking",component:K4,meta:{title:"Home- Finanzas Sostenibles"}}],nu=Bv({history:uv("/PlataformaFinanzasSostenibles/"),routes:Q4});nu.beforeEach((e,t,s)=>{e.meta.title&&(document.title=e.meta.title),s()});const ou=Mf(qv);ou.use(nu);ou.mount("#app");
